function Lw(i,t){for(var n=0;n<t.length;n++){const g=t[n];if(typeof g!="string"&&!Array.isArray(g)){for(const T in g)if(T!=="default"&&!(T in i)){const A=Object.getOwnPropertyDescriptor(g,T);A&&Object.defineProperty(i,T,A.get?A:{enumerable:!0,get:()=>g[T]})}}}return Object.freeze(Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const T of document.querySelectorAll('link[rel="modulepreload"]'))g(T);new MutationObserver(T=>{for(const A of T)if(A.type==="childList")for(const h of A.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&g(h)}).observe(document,{childList:!0,subtree:!0});function n(T){const A={};return T.integrity&&(A.integrity=T.integrity),T.referrerPolicy&&(A.referrerPolicy=T.referrerPolicy),T.crossOrigin==="use-credentials"?A.credentials="include":T.crossOrigin==="anonymous"?A.credentials="omit":A.credentials="same-origin",A}function g(T){if(T.ep)return;T.ep=!0;const A=n(T);fetch(T.href,A)}})();var Fw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Yv(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Oy={exports:{}},Wu={},Ny={exports:{}},Mt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ul=Symbol.for("react.element"),Dw=Symbol.for("react.portal"),Ow=Symbol.for("react.fragment"),Nw=Symbol.for("react.strict_mode"),Bw=Symbol.for("react.profiler"),Gw=Symbol.for("react.provider"),Uw=Symbol.for("react.context"),bw=Symbol.for("react.forward_ref"),Vw=Symbol.for("react.suspense"),zw=Symbol.for("react.memo"),Xw=Symbol.for("react.lazy"),vg=Symbol.iterator;function Ww(i){return i===null||typeof i!="object"?null:(i=vg&&i[vg]||i["@@iterator"],typeof i=="function"?i:null)}var By={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Gy=Object.assign,Uy={};function ma(i,t,n){this.props=i,this.context=t,this.refs=Uy,this.updater=n||By}ma.prototype.isReactComponent={};ma.prototype.setState=function(i,t){if(typeof i!="object"&&typeof i!="function"&&i!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,i,t,"setState")};ma.prototype.forceUpdate=function(i){this.updater.enqueueForceUpdate(this,i,"forceUpdate")};function by(){}by.prototype=ma.prototype;function Hv(i,t,n){this.props=i,this.context=t,this.refs=Uy,this.updater=n||By}var $v=Hv.prototype=new by;$v.constructor=Hv;Gy($v,ma.prototype);$v.isPureReactComponent=!0;var pg=Array.isArray,Vy=Object.prototype.hasOwnProperty,kv={current:null},zy={key:!0,ref:!0,__self:!0,__source:!0};function Xy(i,t,n){var g,T={},A=null,h=null;if(t!=null)for(g in t.ref!==void 0&&(h=t.ref),t.key!==void 0&&(A=""+t.key),t)Vy.call(t,g)&&!zy.hasOwnProperty(g)&&(T[g]=t[g]);var S=arguments.length-2;if(S===1)T.children=n;else if(1<S){for(var e=Array(S),u=0;u<S;u++)e[u]=arguments[u+2];T.children=e}if(i&&i.defaultProps)for(g in S=i.defaultProps,S)T[g]===void 0&&(T[g]=S[g]);return{$$typeof:ul,type:i,key:A,ref:h,props:T,_owner:kv.current}}function Yw(i,t){return{$$typeof:ul,type:i.type,key:t,ref:i.ref,props:i.props,_owner:i._owner}}function jv(i){return typeof i=="object"&&i!==null&&i.$$typeof===ul}function Hw(i){var t={"=":"=0",":":"=2"};return"$"+i.replace(/[=:]/g,function(n){return t[n]})}var mg=/\/+/g;function qf(i,t){return typeof i=="object"&&i!==null&&i.key!=null?Hw(""+i.key):t.toString(36)}function ph(i,t,n,g,T){var A=typeof i;(A==="undefined"||A==="boolean")&&(i=null);var h=!1;if(i===null)h=!0;else switch(A){case"string":case"number":h=!0;break;case"object":switch(i.$$typeof){case ul:case Dw:h=!0}}if(h)return h=i,T=T(h),i=g===""?"."+qf(h,0):g,pg(T)?(n="",i!=null&&(n=i.replace(mg,"$&/")+"/"),ph(T,t,n,"",function(u){return u})):T!=null&&(jv(T)&&(T=Yw(T,n+(!T.key||h&&h.key===T.key?"":(""+T.key).replace(mg,"$&/")+"/")+i)),t.push(T)),1;if(h=0,g=g===""?".":g+":",pg(i))for(var S=0;S<i.length;S++){A=i[S];var e=g+qf(A,S);h+=ph(A,t,n,e,T)}else if(e=Ww(i),typeof e=="function")for(i=e.call(i),S=0;!(A=i.next()).done;)A=A.value,e=g+qf(A,S++),h+=ph(A,t,n,e,T);else if(A==="object")throw t=String(i),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return h}function Vl(i,t,n){if(i==null)return i;var g=[],T=0;return ph(i,g,"","",function(A){return t.call(n,A,T++)}),g}function $w(i){if(i._status===-1){var t=i._result;t=t(),t.then(function(n){(i._status===0||i._status===-1)&&(i._status=1,i._result=n)},function(n){(i._status===0||i._status===-1)&&(i._status=2,i._result=n)}),i._status===-1&&(i._status=0,i._result=t)}if(i._status===1)return i._result.default;throw i._result}var je={current:null},mh={transition:null},kw={ReactCurrentDispatcher:je,ReactCurrentBatchConfig:mh,ReactCurrentOwner:kv};function Wy(){throw Error("act(...) is not supported in production builds of React.")}Mt.Children={map:Vl,forEach:function(i,t,n){Vl(i,function(){t.apply(this,arguments)},n)},count:function(i){var t=0;return Vl(i,function(){t++}),t},toArray:function(i){return Vl(i,function(t){return t})||[]},only:function(i){if(!jv(i))throw Error("React.Children.only expected to receive a single React element child.");return i}};Mt.Component=ma;Mt.Fragment=Ow;Mt.Profiler=Bw;Mt.PureComponent=Hv;Mt.StrictMode=Nw;Mt.Suspense=Vw;Mt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=kw;Mt.act=Wy;Mt.cloneElement=function(i,t,n){if(i==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+i+".");var g=Gy({},i.props),T=i.key,A=i.ref,h=i._owner;if(t!=null){if(t.ref!==void 0&&(A=t.ref,h=kv.current),t.key!==void 0&&(T=""+t.key),i.type&&i.type.defaultProps)var S=i.type.defaultProps;for(e in t)Vy.call(t,e)&&!zy.hasOwnProperty(e)&&(g[e]=t[e]===void 0&&S!==void 0?S[e]:t[e])}var e=arguments.length-2;if(e===1)g.children=n;else if(1<e){S=Array(e);for(var u=0;u<e;u++)S[u]=arguments[u+2];g.children=S}return{$$typeof:ul,type:i.type,key:T,ref:A,props:g,_owner:h}};Mt.createContext=function(i){return i={$$typeof:Uw,_currentValue:i,_currentValue2:i,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},i.Provider={$$typeof:Gw,_context:i},i.Consumer=i};Mt.createElement=Xy;Mt.createFactory=function(i){var t=Xy.bind(null,i);return t.type=i,t};Mt.createRef=function(){return{current:null}};Mt.forwardRef=function(i){return{$$typeof:bw,render:i}};Mt.isValidElement=jv;Mt.lazy=function(i){return{$$typeof:Xw,_payload:{_status:-1,_result:i},_init:$w}};Mt.memo=function(i,t){return{$$typeof:zw,type:i,compare:t===void 0?null:t}};Mt.startTransition=function(i){var t=mh.transition;mh.transition={};try{i()}finally{mh.transition=t}};Mt.unstable_act=Wy;Mt.useCallback=function(i,t){return je.current.useCallback(i,t)};Mt.useContext=function(i){return je.current.useContext(i)};Mt.useDebugValue=function(){};Mt.useDeferredValue=function(i){return je.current.useDeferredValue(i)};Mt.useEffect=function(i,t){return je.current.useEffect(i,t)};Mt.useId=function(){return je.current.useId()};Mt.useImperativeHandle=function(i,t,n){return je.current.useImperativeHandle(i,t,n)};Mt.useInsertionEffect=function(i,t){return je.current.useInsertionEffect(i,t)};Mt.useLayoutEffect=function(i,t){return je.current.useLayoutEffect(i,t)};Mt.useMemo=function(i,t){return je.current.useMemo(i,t)};Mt.useReducer=function(i,t,n){return je.current.useReducer(i,t,n)};Mt.useRef=function(i){return je.current.useRef(i)};Mt.useState=function(i){return je.current.useState(i)};Mt.useSyncExternalStore=function(i,t,n){return je.current.useSyncExternalStore(i,t,n)};Mt.useTransition=function(){return je.current.useTransition()};Mt.version="18.3.1";Ny.exports=Mt;var tt=Ny.exports;const Yy=Yv(tt),jw=Lw({__proto__:null,default:Yy},[tt]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kw=tt,Qw=Symbol.for("react.element"),Jw=Symbol.for("react.fragment"),Zw=Object.prototype.hasOwnProperty,qw=Kw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,_w={key:!0,ref:!0,__self:!0,__source:!0};function Hy(i,t,n){var g,T={},A=null,h=null;n!==void 0&&(A=""+n),t.key!==void 0&&(A=""+t.key),t.ref!==void 0&&(h=t.ref);for(g in t)Zw.call(t,g)&&!_w.hasOwnProperty(g)&&(T[g]=t[g]);if(i&&i.defaultProps)for(g in t=i.defaultProps,t)T[g]===void 0&&(T[g]=t[g]);return{$$typeof:Qw,type:i,key:A,ref:h,props:T,_owner:qw.current}}Wu.Fragment=Jw;Wu.jsx=Hy;Wu.jsxs=Hy;Oy.exports=Wu;var K=Oy.exports,$y={exports:{}},di={},ky={exports:{}},jy={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(i){function t(N,b){var V=N.length;N.push(b);t:for(;0<V;){var Y=V-1>>>1,W=N[Y];if(0<T(W,b))N[Y]=b,N[V]=W,V=Y;else break t}}function n(N){return N.length===0?null:N[0]}function g(N){if(N.length===0)return null;var b=N[0],V=N.pop();if(V!==b){N[0]=V;t:for(var Y=0,W=N.length,U=W>>>1;Y<U;){var z=2*(Y+1)-1,B=N[z],X=z+1,G=N[X];if(0>T(B,V))X<W&&0>T(G,B)?(N[Y]=G,N[X]=V,Y=X):(N[Y]=B,N[z]=V,Y=z);else if(X<W&&0>T(G,V))N[Y]=G,N[X]=V,Y=X;else break t}}return b}function T(N,b){var V=N.sortIndex-b.sortIndex;return V!==0?V:N.id-b.id}if(typeof performance=="object"&&typeof performance.now=="function"){var A=performance;i.unstable_now=function(){return A.now()}}else{var h=Date,S=h.now();i.unstable_now=function(){return h.now()-S}}var e=[],u=[],y=1,f=null,l=3,o=!1,s=!1,a=!1,c=typeof setTimeout=="function"?setTimeout:null,r=typeof clearTimeout=="function"?clearTimeout:null,d=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(N){for(var b=n(u);b!==null;){if(b.callback===null)g(u);else if(b.startTime<=N)g(u),b.sortIndex=b.expirationTime,t(e,b);else break;b=n(u)}}function p(N){if(a=!1,v(N),!s)if(n(e)!==null)s=!0,F(m);else{var b=n(u);b!==null&&O(p,b.startTime-N)}}function m(N,b){s=!1,a&&(a=!1,r(w),w=-1),o=!0;var V=l;try{for(v(b),f=n(e);f!==null&&(!(f.expirationTime>b)||N&&!R());){var Y=f.callback;if(typeof Y=="function"){f.callback=null,l=f.priorityLevel;var W=Y(f.expirationTime<=b);b=i.unstable_now(),typeof W=="function"?f.callback=W:f===n(e)&&g(e),v(b)}else g(e);f=n(e)}if(f!==null)var U=!0;else{var z=n(u);z!==null&&O(p,z.startTime-b),U=!1}return U}finally{f=null,l=V,o=!1}}var x=!1,E=null,w=-1,C=5,P=-1;function R(){return!(i.unstable_now()-P<C)}function M(){if(E!==null){var N=i.unstable_now();P=N;var b=!0;try{b=E(!0,N)}finally{b?I():(x=!1,E=null)}}else x=!1}var I;if(typeof d=="function")I=function(){d(M)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,L=D.port2;D.port1.onmessage=M,I=function(){L.postMessage(null)}}else I=function(){c(M,0)};function F(N){E=N,x||(x=!0,I())}function O(N,b){w=c(function(){N(i.unstable_now())},b)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(N){N.callback=null},i.unstable_continueExecution=function(){s||o||(s=!0,F(m))},i.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<N?Math.floor(1e3/N):5},i.unstable_getCurrentPriorityLevel=function(){return l},i.unstable_getFirstCallbackNode=function(){return n(e)},i.unstable_next=function(N){switch(l){case 1:case 2:case 3:var b=3;break;default:b=l}var V=l;l=b;try{return N()}finally{l=V}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(N,b){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var V=l;l=N;try{return b()}finally{l=V}},i.unstable_scheduleCallback=function(N,b,V){var Y=i.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?Y+V:Y):V=Y,N){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=V+W,N={id:y++,callback:b,priorityLevel:N,startTime:V,expirationTime:W,sortIndex:-1},V>Y?(N.sortIndex=V,t(u,N),n(e)===null&&N===n(u)&&(a?(r(w),w=-1):a=!0,O(p,V-Y))):(N.sortIndex=W,t(e,N),s||o||(s=!0,F(m))),N},i.unstable_shouldYield=R,i.unstable_wrapCallback=function(N){var b=l;return function(){var V=l;l=b;try{return N.apply(this,arguments)}finally{l=V}}}})(jy);ky.exports=jy;var tA=ky.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eA=tt,hi=tA;function at(i){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+i,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+i+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ky=new Set,Po={};function sr(i,t){Qr(i,t),Qr(i+"Capture",t)}function Qr(i,t){for(Po[i]=t,i=0;i<t.length;i++)Ky.add(t[i])}var dn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),tc=Object.prototype.hasOwnProperty,iA=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,gg={},xg={};function nA(i){return tc.call(xg,i)?!0:tc.call(gg,i)?!1:iA.test(i)?xg[i]=!0:(gg[i]=!0,!1)}function sA(i,t,n,g){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return g?!1:n!==null?!n.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function rA(i,t,n,g){if(t===null||typeof t>"u"||sA(i,t,n,g))return!0;if(g)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ke(i,t,n,g,T,A,h){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=g,this.attributeNamespace=T,this.mustUseProperty=n,this.propertyName=i,this.type=t,this.sanitizeURL=A,this.removeEmptyString=h}var Me={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){Me[i]=new Ke(i,0,!1,i,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var t=i[0];Me[t]=new Ke(t,1,!1,i[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(i){Me[i]=new Ke(i,2,!1,i.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){Me[i]=new Ke(i,2,!1,i,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){Me[i]=new Ke(i,3,!1,i.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(i){Me[i]=new Ke(i,3,!0,i,null,!1,!1)});["capture","download"].forEach(function(i){Me[i]=new Ke(i,4,!1,i,null,!1,!1)});["cols","rows","size","span"].forEach(function(i){Me[i]=new Ke(i,6,!1,i,null,!1,!1)});["rowSpan","start"].forEach(function(i){Me[i]=new Ke(i,5,!1,i.toLowerCase(),null,!1,!1)});var Kv=/[\-:]([a-z])/g;function Qv(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var t=i.replace(Kv,Qv);Me[t]=new Ke(t,1,!1,i,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var t=i.replace(Kv,Qv);Me[t]=new Ke(t,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(i){var t=i.replace(Kv,Qv);Me[t]=new Ke(t,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(i){Me[i]=new Ke(i,1,!1,i.toLowerCase(),null,!1,!1)});Me.xlinkHref=new Ke("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(i){Me[i]=new Ke(i,1,!1,i.toLowerCase(),null,!0,!0)});function Jv(i,t,n,g){var T=Me.hasOwnProperty(t)?Me[t]:null;(T!==null?T.type!==0:g||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(rA(t,n,T,g)&&(n=null),g||T===null?nA(t)&&(n===null?i.removeAttribute(t):i.setAttribute(t,""+n)):T.mustUseProperty?i[T.propertyName]=n===null?T.type===3?!1:"":n:(t=T.attributeName,g=T.attributeNamespace,n===null?i.removeAttribute(t):(T=T.type,n=T===3||T===4&&n===!0?"":""+n,g?i.setAttributeNS(g,t,n):i.setAttribute(t,n))))}var xn=eA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,zl=Symbol.for("react.element"),Cr=Symbol.for("react.portal"),wr=Symbol.for("react.fragment"),Zv=Symbol.for("react.strict_mode"),ec=Symbol.for("react.profiler"),Qy=Symbol.for("react.provider"),Jy=Symbol.for("react.context"),qv=Symbol.for("react.forward_ref"),ic=Symbol.for("react.suspense"),nc=Symbol.for("react.suspense_list"),_v=Symbol.for("react.memo"),An=Symbol.for("react.lazy"),Zy=Symbol.for("react.offscreen"),yg=Symbol.iterator;function Na(i){return i===null||typeof i!="object"?null:(i=yg&&i[yg]||i["@@iterator"],typeof i=="function"?i:null)}var qt=Object.assign,_f;function Za(i){if(_f===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);_f=t&&t[1]||""}return`
`+_f+i}var td=!1;function ed(i,t){if(!i||td)return"";td=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var g=u}Reflect.construct(i,[],t)}else{try{t.call()}catch(u){g=u}i.call(t.prototype)}else{try{throw Error()}catch(u){g=u}i()}}catch(u){if(u&&g&&typeof u.stack=="string"){for(var T=u.stack.split(`
`),A=g.stack.split(`
`),h=T.length-1,S=A.length-1;1<=h&&0<=S&&T[h]!==A[S];)S--;for(;1<=h&&0<=S;h--,S--)if(T[h]!==A[S]){if(h!==1||S!==1)do if(h--,S--,0>S||T[h]!==A[S]){var e=`
`+T[h].replace(" at new "," at ");return i.displayName&&e.includes("<anonymous>")&&(e=e.replace("<anonymous>",i.displayName)),e}while(1<=h&&0<=S);break}}}finally{td=!1,Error.prepareStackTrace=n}return(i=i?i.displayName||i.name:"")?Za(i):""}function aA(i){switch(i.tag){case 5:return Za(i.type);case 16:return Za("Lazy");case 13:return Za("Suspense");case 19:return Za("SuspenseList");case 0:case 2:case 15:return i=ed(i.type,!1),i;case 11:return i=ed(i.type.render,!1),i;case 1:return i=ed(i.type,!0),i;default:return""}}function sc(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case wr:return"Fragment";case Cr:return"Portal";case ec:return"Profiler";case Zv:return"StrictMode";case ic:return"Suspense";case nc:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case Jy:return(i.displayName||"Context")+".Consumer";case Qy:return(i._context.displayName||"Context")+".Provider";case qv:var t=i.render;return i=i.displayName,i||(i=t.displayName||t.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case _v:return t=i.displayName||null,t!==null?t:sc(i.type)||"Memo";case An:t=i._payload,i=i._init;try{return sc(i(t))}catch{}}return null}function oA(i){var t=i.type;switch(i.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=t.render,i=i.displayName||i.name||"",t.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return sc(t);case 8:return t===Zv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Jn(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function qy(i){var t=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function lA(i){var t=qy(i)?"checked":"value",n=Object.getOwnPropertyDescriptor(i.constructor.prototype,t),g=""+i[t];if(!i.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var T=n.get,A=n.set;return Object.defineProperty(i,t,{configurable:!0,get:function(){return T.call(this)},set:function(h){g=""+h,A.call(this,h)}}),Object.defineProperty(i,t,{enumerable:n.enumerable}),{getValue:function(){return g},setValue:function(h){g=""+h},stopTracking:function(){i._valueTracker=null,delete i[t]}}}}function Xl(i){i._valueTracker||(i._valueTracker=lA(i))}function _y(i){if(!i)return!1;var t=i._valueTracker;if(!t)return!0;var n=t.getValue(),g="";return i&&(g=qy(i)?i.checked?"true":"false":i.value),i=g,i!==n?(t.setValue(i),!0):!1}function Vh(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function rc(i,t){var n=t.checked;return qt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??i._wrapperState.initialChecked})}function Tg(i,t){var n=t.defaultValue==null?"":t.defaultValue,g=t.checked!=null?t.checked:t.defaultChecked;n=Jn(t.value!=null?t.value:n),i._wrapperState={initialChecked:g,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function t1(i,t){t=t.checked,t!=null&&Jv(i,"checked",t,!1)}function ac(i,t){t1(i,t);var n=Jn(t.value),g=t.type;if(n!=null)g==="number"?(n===0&&i.value===""||i.value!=n)&&(i.value=""+n):i.value!==""+n&&(i.value=""+n);else if(g==="submit"||g==="reset"){i.removeAttribute("value");return}t.hasOwnProperty("value")?oc(i,t.type,n):t.hasOwnProperty("defaultValue")&&oc(i,t.type,Jn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(i.defaultChecked=!!t.defaultChecked)}function Sg(i,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var g=t.type;if(!(g!=="submit"&&g!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+i._wrapperState.initialValue,n||t===i.value||(i.value=t),i.defaultValue=t}n=i.name,n!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,n!==""&&(i.name=n)}function oc(i,t,n){(t!=="number"||Vh(i.ownerDocument)!==i)&&(n==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+n&&(i.defaultValue=""+n))}var qa=Array.isArray;function Gr(i,t,n,g){if(i=i.options,t){t={};for(var T=0;T<n.length;T++)t["$"+n[T]]=!0;for(n=0;n<i.length;n++)T=t.hasOwnProperty("$"+i[n].value),i[n].selected!==T&&(i[n].selected=T),T&&g&&(i[n].defaultSelected=!0)}else{for(n=""+Jn(n),t=null,T=0;T<i.length;T++){if(i[T].value===n){i[T].selected=!0,g&&(i[T].defaultSelected=!0);return}t!==null||i[T].disabled||(t=i[T])}t!==null&&(t.selected=!0)}}function lc(i,t){if(t.dangerouslySetInnerHTML!=null)throw Error(at(91));return qt({},t,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function Eg(i,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(at(92));if(qa(n)){if(1<n.length)throw Error(at(93));n=n[0]}t=n}t==null&&(t=""),n=t}i._wrapperState={initialValue:Jn(n)}}function e1(i,t){var n=Jn(t.value),g=Jn(t.defaultValue);n!=null&&(n=""+n,n!==i.value&&(i.value=n),t.defaultValue==null&&i.defaultValue!==n&&(i.defaultValue=n)),g!=null&&(i.defaultValue=""+g)}function Cg(i){var t=i.textContent;t===i._wrapperState.initialValue&&t!==""&&t!==null&&(i.value=t)}function i1(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function hc(i,t){return i==null||i==="http://www.w3.org/1999/xhtml"?i1(t):i==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var Wl,n1=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,g,T){MSApp.execUnsafeLocalFunction(function(){return i(t,n,g,T)})}:i}(function(i,t){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=t;else{for(Wl=Wl||document.createElement("div"),Wl.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Wl.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;t.firstChild;)i.appendChild(t.firstChild)}});function Ro(i,t){if(t){var n=i.firstChild;if(n&&n===i.lastChild&&n.nodeType===3){n.nodeValue=t;return}}i.textContent=t}var ho={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},hA=["Webkit","ms","Moz","O"];Object.keys(ho).forEach(function(i){hA.forEach(function(t){t=t+i.charAt(0).toUpperCase()+i.substring(1),ho[t]=ho[i]})});function s1(i,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||ho.hasOwnProperty(i)&&ho[i]?(""+t).trim():t+"px"}function r1(i,t){i=i.style;for(var n in t)if(t.hasOwnProperty(n)){var g=n.indexOf("--")===0,T=s1(n,t[n],g);n==="float"&&(n="cssFloat"),g?i.setProperty(n,T):i[n]=T}}var uA=qt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function uc(i,t){if(t){if(uA[i]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(at(137,i));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(at(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(at(61))}if(t.style!=null&&typeof t.style!="object")throw Error(at(62))}}function fc(i,t){if(i.indexOf("-")===-1)return typeof t.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var dc=null;function tp(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var cc=null,Ur=null,br=null;function wg(i){if(i=cl(i)){if(typeof cc!="function")throw Error(at(280));var t=i.stateNode;t&&(t=ju(t),cc(i.stateNode,i.type,t))}}function a1(i){Ur?br?br.push(i):br=[i]:Ur=i}function o1(){if(Ur){var i=Ur,t=br;if(br=Ur=null,wg(i),t)for(i=0;i<t.length;i++)wg(t[i])}}function l1(i,t){return i(t)}function h1(){}var id=!1;function u1(i,t,n){if(id)return i(t,n);id=!0;try{return l1(i,t,n)}finally{id=!1,(Ur!==null||br!==null)&&(h1(),o1())}}function Mo(i,t){var n=i.stateNode;if(n===null)return null;var g=ju(n);if(g===null)return null;n=g[t];t:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(i=i.type,g=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!g;break t;default:i=!1}if(i)return null;if(n&&typeof n!="function")throw Error(at(231,t,typeof n));return n}var vc=!1;if(dn)try{var Ba={};Object.defineProperty(Ba,"passive",{get:function(){vc=!0}}),window.addEventListener("test",Ba,Ba),window.removeEventListener("test",Ba,Ba)}catch{vc=!1}function fA(i,t,n,g,T,A,h,S,e){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(y){this.onError(y)}}var uo=!1,zh=null,Xh=!1,pc=null,dA={onError:function(i){uo=!0,zh=i}};function cA(i,t,n,g,T,A,h,S,e){uo=!1,zh=null,fA.apply(dA,arguments)}function vA(i,t,n,g,T,A,h,S,e){if(cA.apply(this,arguments),uo){if(uo){var u=zh;uo=!1,zh=null}else throw Error(at(198));Xh||(Xh=!0,pc=u)}}function rr(i){var t=i,n=i;if(i.alternate)for(;t.return;)t=t.return;else{i=t;do t=i,t.flags&4098&&(n=t.return),i=t.return;while(i)}return t.tag===3?n:null}function f1(i){if(i.tag===13){var t=i.memoizedState;if(t===null&&(i=i.alternate,i!==null&&(t=i.memoizedState)),t!==null)return t.dehydrated}return null}function Ag(i){if(rr(i)!==i)throw Error(at(188))}function pA(i){var t=i.alternate;if(!t){if(t=rr(i),t===null)throw Error(at(188));return t!==i?null:i}for(var n=i,g=t;;){var T=n.return;if(T===null)break;var A=T.alternate;if(A===null){if(g=T.return,g!==null){n=g;continue}break}if(T.child===A.child){for(A=T.child;A;){if(A===n)return Ag(T),i;if(A===g)return Ag(T),t;A=A.sibling}throw Error(at(188))}if(n.return!==g.return)n=T,g=A;else{for(var h=!1,S=T.child;S;){if(S===n){h=!0,n=T,g=A;break}if(S===g){h=!0,g=T,n=A;break}S=S.sibling}if(!h){for(S=A.child;S;){if(S===n){h=!0,n=A,g=T;break}if(S===g){h=!0,g=A,n=T;break}S=S.sibling}if(!h)throw Error(at(189))}}if(n.alternate!==g)throw Error(at(190))}if(n.tag!==3)throw Error(at(188));return n.stateNode.current===n?i:t}function d1(i){return i=pA(i),i!==null?c1(i):null}function c1(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var t=c1(i);if(t!==null)return t;i=i.sibling}return null}var v1=hi.unstable_scheduleCallback,Pg=hi.unstable_cancelCallback,mA=hi.unstable_shouldYield,gA=hi.unstable_requestPaint,ae=hi.unstable_now,xA=hi.unstable_getCurrentPriorityLevel,ep=hi.unstable_ImmediatePriority,p1=hi.unstable_UserBlockingPriority,Wh=hi.unstable_NormalPriority,yA=hi.unstable_LowPriority,m1=hi.unstable_IdlePriority,Yu=null,ki=null;function TA(i){if(ki&&typeof ki.onCommitFiberRoot=="function")try{ki.onCommitFiberRoot(Yu,i,void 0,(i.current.flags&128)===128)}catch{}}var Li=Math.clz32?Math.clz32:CA,SA=Math.log,EA=Math.LN2;function CA(i){return i>>>=0,i===0?32:31-(SA(i)/EA|0)|0}var Yl=64,Hl=4194304;function _a(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function Yh(i,t){var n=i.pendingLanes;if(n===0)return 0;var g=0,T=i.suspendedLanes,A=i.pingedLanes,h=n&268435455;if(h!==0){var S=h&~T;S!==0?g=_a(S):(A&=h,A!==0&&(g=_a(A)))}else h=n&~T,h!==0?g=_a(h):A!==0&&(g=_a(A));if(g===0)return 0;if(t!==0&&t!==g&&!(t&T)&&(T=g&-g,A=t&-t,T>=A||T===16&&(A&4194240)!==0))return t;if(g&4&&(g|=n&16),t=i.entangledLanes,t!==0)for(i=i.entanglements,t&=g;0<t;)n=31-Li(t),T=1<<n,g|=i[n],t&=~T;return g}function wA(i,t){switch(i){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function AA(i,t){for(var n=i.suspendedLanes,g=i.pingedLanes,T=i.expirationTimes,A=i.pendingLanes;0<A;){var h=31-Li(A),S=1<<h,e=T[h];e===-1?(!(S&n)||S&g)&&(T[h]=wA(S,t)):e<=t&&(i.expiredLanes|=S),A&=~S}}function mc(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function g1(){var i=Yl;return Yl<<=1,!(Yl&4194240)&&(Yl=64),i}function nd(i){for(var t=[],n=0;31>n;n++)t.push(i);return t}function fl(i,t,n){i.pendingLanes|=t,t!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,t=31-Li(t),i[t]=n}function PA(i,t){var n=i.pendingLanes&~t;i.pendingLanes=t,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=t,i.mutableReadLanes&=t,i.entangledLanes&=t,t=i.entanglements;var g=i.eventTimes;for(i=i.expirationTimes;0<n;){var T=31-Li(n),A=1<<T;t[T]=0,g[T]=-1,i[T]=-1,n&=~A}}function ip(i,t){var n=i.entangledLanes|=t;for(i=i.entanglements;n;){var g=31-Li(n),T=1<<g;T&t|i[g]&t&&(i[g]|=t),n&=~T}}var Ut=0;function x1(i){return i&=-i,1<i?4<i?i&268435455?16:536870912:4:1}var y1,np,T1,S1,E1,gc=!1,$l=[],Un=null,bn=null,Vn=null,Io=new Map,Lo=new Map,Rn=[],RA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Rg(i,t){switch(i){case"focusin":case"focusout":Un=null;break;case"dragenter":case"dragleave":bn=null;break;case"mouseover":case"mouseout":Vn=null;break;case"pointerover":case"pointerout":Io.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Lo.delete(t.pointerId)}}function Ga(i,t,n,g,T,A){return i===null||i.nativeEvent!==A?(i={blockedOn:t,domEventName:n,eventSystemFlags:g,nativeEvent:A,targetContainers:[T]},t!==null&&(t=cl(t),t!==null&&np(t)),i):(i.eventSystemFlags|=g,t=i.targetContainers,T!==null&&t.indexOf(T)===-1&&t.push(T),i)}function MA(i,t,n,g,T){switch(t){case"focusin":return Un=Ga(Un,i,t,n,g,T),!0;case"dragenter":return bn=Ga(bn,i,t,n,g,T),!0;case"mouseover":return Vn=Ga(Vn,i,t,n,g,T),!0;case"pointerover":var A=T.pointerId;return Io.set(A,Ga(Io.get(A)||null,i,t,n,g,T)),!0;case"gotpointercapture":return A=T.pointerId,Lo.set(A,Ga(Lo.get(A)||null,i,t,n,g,T)),!0}return!1}function C1(i){var t=Ms(i.target);if(t!==null){var n=rr(t);if(n!==null){if(t=n.tag,t===13){if(t=f1(n),t!==null){i.blockedOn=t,E1(i.priority,function(){T1(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){i.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}i.blockedOn=null}function gh(i){if(i.blockedOn!==null)return!1;for(var t=i.targetContainers;0<t.length;){var n=xc(i.domEventName,i.eventSystemFlags,t[0],i.nativeEvent);if(n===null){n=i.nativeEvent;var g=new n.constructor(n.type,n);dc=g,n.target.dispatchEvent(g),dc=null}else return t=cl(n),t!==null&&np(t),i.blockedOn=n,!1;t.shift()}return!0}function Mg(i,t,n){gh(i)&&n.delete(t)}function IA(){gc=!1,Un!==null&&gh(Un)&&(Un=null),bn!==null&&gh(bn)&&(bn=null),Vn!==null&&gh(Vn)&&(Vn=null),Io.forEach(Mg),Lo.forEach(Mg)}function Ua(i,t){i.blockedOn===t&&(i.blockedOn=null,gc||(gc=!0,hi.unstable_scheduleCallback(hi.unstable_NormalPriority,IA)))}function Fo(i){function t(T){return Ua(T,i)}if(0<$l.length){Ua($l[0],i);for(var n=1;n<$l.length;n++){var g=$l[n];g.blockedOn===i&&(g.blockedOn=null)}}for(Un!==null&&Ua(Un,i),bn!==null&&Ua(bn,i),Vn!==null&&Ua(Vn,i),Io.forEach(t),Lo.forEach(t),n=0;n<Rn.length;n++)g=Rn[n],g.blockedOn===i&&(g.blockedOn=null);for(;0<Rn.length&&(n=Rn[0],n.blockedOn===null);)C1(n),n.blockedOn===null&&Rn.shift()}var Vr=xn.ReactCurrentBatchConfig,Hh=!0;function LA(i,t,n,g){var T=Ut,A=Vr.transition;Vr.transition=null;try{Ut=1,sp(i,t,n,g)}finally{Ut=T,Vr.transition=A}}function FA(i,t,n,g){var T=Ut,A=Vr.transition;Vr.transition=null;try{Ut=4,sp(i,t,n,g)}finally{Ut=T,Vr.transition=A}}function sp(i,t,n,g){if(Hh){var T=xc(i,t,n,g);if(T===null)cd(i,t,g,$h,n),Rg(i,g);else if(MA(T,i,t,n,g))g.stopPropagation();else if(Rg(i,g),t&4&&-1<RA.indexOf(i)){for(;T!==null;){var A=cl(T);if(A!==null&&y1(A),A=xc(i,t,n,g),A===null&&cd(i,t,g,$h,n),A===T)break;T=A}T!==null&&g.stopPropagation()}else cd(i,t,g,null,n)}}var $h=null;function xc(i,t,n,g){if($h=null,i=tp(g),i=Ms(i),i!==null)if(t=rr(i),t===null)i=null;else if(n=t.tag,n===13){if(i=f1(t),i!==null)return i;i=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;i=null}else t!==i&&(i=null);return $h=i,null}function w1(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(xA()){case ep:return 1;case p1:return 4;case Wh:case yA:return 16;case m1:return 536870912;default:return 16}default:return 16}}var On=null,rp=null,xh=null;function A1(){if(xh)return xh;var i,t=rp,n=t.length,g,T="value"in On?On.value:On.textContent,A=T.length;for(i=0;i<n&&t[i]===T[i];i++);var h=n-i;for(g=1;g<=h&&t[n-g]===T[A-g];g++);return xh=T.slice(i,1<g?1-g:void 0)}function yh(i){var t=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&t===13&&(i=13)):i=t,i===10&&(i=13),32<=i||i===13?i:0}function kl(){return!0}function Ig(){return!1}function ci(i){function t(n,g,T,A,h){this._reactName=n,this._targetInst=T,this.type=g,this.nativeEvent=A,this.target=h,this.currentTarget=null;for(var S in i)i.hasOwnProperty(S)&&(n=i[S],this[S]=n?n(A):A[S]);return this.isDefaultPrevented=(A.defaultPrevented!=null?A.defaultPrevented:A.returnValue===!1)?kl:Ig,this.isPropagationStopped=Ig,this}return qt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=kl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=kl)},persist:function(){},isPersistent:kl}),t}var ga={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ap=ci(ga),dl=qt({},ga,{view:0,detail:0}),DA=ci(dl),sd,rd,ba,Hu=qt({},dl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:op,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==ba&&(ba&&i.type==="mousemove"?(sd=i.screenX-ba.screenX,rd=i.screenY-ba.screenY):rd=sd=0,ba=i),sd)},movementY:function(i){return"movementY"in i?i.movementY:rd}}),Lg=ci(Hu),OA=qt({},Hu,{dataTransfer:0}),NA=ci(OA),BA=qt({},dl,{relatedTarget:0}),ad=ci(BA),GA=qt({},ga,{animationName:0,elapsedTime:0,pseudoElement:0}),UA=ci(GA),bA=qt({},ga,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),VA=ci(bA),zA=qt({},ga,{data:0}),Fg=ci(zA),XA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},WA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},YA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function HA(i){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(i):(i=YA[i])?!!t[i]:!1}function op(){return HA}var $A=qt({},dl,{key:function(i){if(i.key){var t=XA[i.key]||i.key;if(t!=="Unidentified")return t}return i.type==="keypress"?(i=yh(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?WA[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:op,charCode:function(i){return i.type==="keypress"?yh(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?yh(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),kA=ci($A),jA=qt({},Hu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Dg=ci(jA),KA=qt({},dl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:op}),QA=ci(KA),JA=qt({},ga,{propertyName:0,elapsedTime:0,pseudoElement:0}),ZA=ci(JA),qA=qt({},Hu,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),_A=ci(qA),tP=[9,13,27,32],lp=dn&&"CompositionEvent"in window,fo=null;dn&&"documentMode"in document&&(fo=document.documentMode);var eP=dn&&"TextEvent"in window&&!fo,P1=dn&&(!lp||fo&&8<fo&&11>=fo),Og=String.fromCharCode(32),Ng=!1;function R1(i,t){switch(i){case"keyup":return tP.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function M1(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Ar=!1;function iP(i,t){switch(i){case"compositionend":return M1(t);case"keypress":return t.which!==32?null:(Ng=!0,Og);case"textInput":return i=t.data,i===Og&&Ng?null:i;default:return null}}function nP(i,t){if(Ar)return i==="compositionend"||!lp&&R1(i,t)?(i=A1(),xh=rp=On=null,Ar=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return P1&&t.locale!=="ko"?null:t.data;default:return null}}var sP={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bg(i){var t=i&&i.nodeName&&i.nodeName.toLowerCase();return t==="input"?!!sP[i.type]:t==="textarea"}function I1(i,t,n,g){a1(g),t=kh(t,"onChange"),0<t.length&&(n=new ap("onChange","change",null,n,g),i.push({event:n,listeners:t}))}var co=null,Do=null;function rP(i){z1(i,0)}function $u(i){var t=Mr(i);if(_y(t))return i}function aP(i,t){if(i==="change")return t}var L1=!1;if(dn){var od;if(dn){var ld="oninput"in document;if(!ld){var Gg=document.createElement("div");Gg.setAttribute("oninput","return;"),ld=typeof Gg.oninput=="function"}od=ld}else od=!1;L1=od&&(!document.documentMode||9<document.documentMode)}function Ug(){co&&(co.detachEvent("onpropertychange",F1),Do=co=null)}function F1(i){if(i.propertyName==="value"&&$u(Do)){var t=[];I1(t,Do,i,tp(i)),u1(rP,t)}}function oP(i,t,n){i==="focusin"?(Ug(),co=t,Do=n,co.attachEvent("onpropertychange",F1)):i==="focusout"&&Ug()}function lP(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return $u(Do)}function hP(i,t){if(i==="click")return $u(t)}function uP(i,t){if(i==="input"||i==="change")return $u(t)}function fP(i,t){return i===t&&(i!==0||1/i===1/t)||i!==i&&t!==t}var Di=typeof Object.is=="function"?Object.is:fP;function Oo(i,t){if(Di(i,t))return!0;if(typeof i!="object"||i===null||typeof t!="object"||t===null)return!1;var n=Object.keys(i),g=Object.keys(t);if(n.length!==g.length)return!1;for(g=0;g<n.length;g++){var T=n[g];if(!tc.call(t,T)||!Di(i[T],t[T]))return!1}return!0}function bg(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Vg(i,t){var n=bg(i);i=0;for(var g;n;){if(n.nodeType===3){if(g=i+n.textContent.length,i<=t&&g>=t)return{node:n,offset:t-i};i=g}t:{for(;n;){if(n.nextSibling){n=n.nextSibling;break t}n=n.parentNode}n=void 0}n=bg(n)}}function D1(i,t){return i&&t?i===t?!0:i&&i.nodeType===3?!1:t&&t.nodeType===3?D1(i,t.parentNode):"contains"in i?i.contains(t):i.compareDocumentPosition?!!(i.compareDocumentPosition(t)&16):!1:!1}function O1(){for(var i=window,t=Vh();t instanceof i.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)i=t.contentWindow;else break;t=Vh(i.document)}return t}function hp(i){var t=i&&i.nodeName&&i.nodeName.toLowerCase();return t&&(t==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||t==="textarea"||i.contentEditable==="true")}function dP(i){var t=O1(),n=i.focusedElem,g=i.selectionRange;if(t!==n&&n&&n.ownerDocument&&D1(n.ownerDocument.documentElement,n)){if(g!==null&&hp(n)){if(t=g.start,i=g.end,i===void 0&&(i=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(i,n.value.length);else if(i=(t=n.ownerDocument||document)&&t.defaultView||window,i.getSelection){i=i.getSelection();var T=n.textContent.length,A=Math.min(g.start,T);g=g.end===void 0?A:Math.min(g.end,T),!i.extend&&A>g&&(T=g,g=A,A=T),T=Vg(n,A);var h=Vg(n,g);T&&h&&(i.rangeCount!==1||i.anchorNode!==T.node||i.anchorOffset!==T.offset||i.focusNode!==h.node||i.focusOffset!==h.offset)&&(t=t.createRange(),t.setStart(T.node,T.offset),i.removeAllRanges(),A>g?(i.addRange(t),i.extend(h.node,h.offset)):(t.setEnd(h.node,h.offset),i.addRange(t)))}}for(t=[],i=n;i=i.parentNode;)i.nodeType===1&&t.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)i=t[n],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var cP=dn&&"documentMode"in document&&11>=document.documentMode,Pr=null,yc=null,vo=null,Tc=!1;function zg(i,t,n){var g=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Tc||Pr==null||Pr!==Vh(g)||(g=Pr,"selectionStart"in g&&hp(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),vo&&Oo(vo,g)||(vo=g,g=kh(yc,"onSelect"),0<g.length&&(t=new ap("onSelect","select",null,t,n),i.push({event:t,listeners:g}),t.target=Pr)))}function jl(i,t){var n={};return n[i.toLowerCase()]=t.toLowerCase(),n["Webkit"+i]="webkit"+t,n["Moz"+i]="moz"+t,n}var Rr={animationend:jl("Animation","AnimationEnd"),animationiteration:jl("Animation","AnimationIteration"),animationstart:jl("Animation","AnimationStart"),transitionend:jl("Transition","TransitionEnd")},hd={},N1={};dn&&(N1=document.createElement("div").style,"AnimationEvent"in window||(delete Rr.animationend.animation,delete Rr.animationiteration.animation,delete Rr.animationstart.animation),"TransitionEvent"in window||delete Rr.transitionend.transition);function ku(i){if(hd[i])return hd[i];if(!Rr[i])return i;var t=Rr[i],n;for(n in t)if(t.hasOwnProperty(n)&&n in N1)return hd[i]=t[n];return i}var B1=ku("animationend"),G1=ku("animationiteration"),U1=ku("animationstart"),b1=ku("transitionend"),V1=new Map,Xg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ss(i,t){V1.set(i,t),sr(t,[i])}for(var ud=0;ud<Xg.length;ud++){var fd=Xg[ud],vP=fd.toLowerCase(),pP=fd[0].toUpperCase()+fd.slice(1);ss(vP,"on"+pP)}ss(B1,"onAnimationEnd");ss(G1,"onAnimationIteration");ss(U1,"onAnimationStart");ss("dblclick","onDoubleClick");ss("focusin","onFocus");ss("focusout","onBlur");ss(b1,"onTransitionEnd");Qr("onMouseEnter",["mouseout","mouseover"]);Qr("onMouseLeave",["mouseout","mouseover"]);Qr("onPointerEnter",["pointerout","pointerover"]);Qr("onPointerLeave",["pointerout","pointerover"]);sr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));sr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));sr("onBeforeInput",["compositionend","keypress","textInput","paste"]);sr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));sr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));sr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var to="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mP=new Set("cancel close invalid load scroll toggle".split(" ").concat(to));function Wg(i,t,n){var g=i.type||"unknown-event";i.currentTarget=n,vA(g,t,void 0,i),i.currentTarget=null}function z1(i,t){t=(t&4)!==0;for(var n=0;n<i.length;n++){var g=i[n],T=g.event;g=g.listeners;t:{var A=void 0;if(t)for(var h=g.length-1;0<=h;h--){var S=g[h],e=S.instance,u=S.currentTarget;if(S=S.listener,e!==A&&T.isPropagationStopped())break t;Wg(T,S,u),A=e}else for(h=0;h<g.length;h++){if(S=g[h],e=S.instance,u=S.currentTarget,S=S.listener,e!==A&&T.isPropagationStopped())break t;Wg(T,S,u),A=e}}}if(Xh)throw i=pc,Xh=!1,pc=null,i}function Xt(i,t){var n=t[Ac];n===void 0&&(n=t[Ac]=new Set);var g=i+"__bubble";n.has(g)||(X1(t,i,2,!1),n.add(g))}function dd(i,t,n){var g=0;t&&(g|=4),X1(n,i,g,t)}var Kl="_reactListening"+Math.random().toString(36).slice(2);function No(i){if(!i[Kl]){i[Kl]=!0,Ky.forEach(function(n){n!=="selectionchange"&&(mP.has(n)||dd(n,!1,i),dd(n,!0,i))});var t=i.nodeType===9?i:i.ownerDocument;t===null||t[Kl]||(t[Kl]=!0,dd("selectionchange",!1,t))}}function X1(i,t,n,g){switch(w1(t)){case 1:var T=LA;break;case 4:T=FA;break;default:T=sp}n=T.bind(null,t,n,i),T=void 0,!vc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(T=!0),g?T!==void 0?i.addEventListener(t,n,{capture:!0,passive:T}):i.addEventListener(t,n,!0):T!==void 0?i.addEventListener(t,n,{passive:T}):i.addEventListener(t,n,!1)}function cd(i,t,n,g,T){var A=g;if(!(t&1)&&!(t&2)&&g!==null)t:for(;;){if(g===null)return;var h=g.tag;if(h===3||h===4){var S=g.stateNode.containerInfo;if(S===T||S.nodeType===8&&S.parentNode===T)break;if(h===4)for(h=g.return;h!==null;){var e=h.tag;if((e===3||e===4)&&(e=h.stateNode.containerInfo,e===T||e.nodeType===8&&e.parentNode===T))return;h=h.return}for(;S!==null;){if(h=Ms(S),h===null)return;if(e=h.tag,e===5||e===6){g=A=h;continue t}S=S.parentNode}}g=g.return}u1(function(){var u=A,y=tp(n),f=[];t:{var l=V1.get(i);if(l!==void 0){var o=ap,s=i;switch(i){case"keypress":if(yh(n)===0)break t;case"keydown":case"keyup":o=kA;break;case"focusin":s="focus",o=ad;break;case"focusout":s="blur",o=ad;break;case"beforeblur":case"afterblur":o=ad;break;case"click":if(n.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":o=Lg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":o=NA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":o=QA;break;case B1:case G1:case U1:o=UA;break;case b1:o=ZA;break;case"scroll":o=DA;break;case"wheel":o=_A;break;case"copy":case"cut":case"paste":o=VA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":o=Dg}var a=(t&4)!==0,c=!a&&i==="scroll",r=a?l!==null?l+"Capture":null:l;a=[];for(var d=u,v;d!==null;){v=d;var p=v.stateNode;if(v.tag===5&&p!==null&&(v=p,r!==null&&(p=Mo(d,r),p!=null&&a.push(Bo(d,p,v)))),c)break;d=d.return}0<a.length&&(l=new o(l,s,null,n,y),f.push({event:l,listeners:a}))}}if(!(t&7)){t:{if(l=i==="mouseover"||i==="pointerover",o=i==="mouseout"||i==="pointerout",l&&n!==dc&&(s=n.relatedTarget||n.fromElement)&&(Ms(s)||s[cn]))break t;if((o||l)&&(l=y.window===y?y:(l=y.ownerDocument)?l.defaultView||l.parentWindow:window,o?(s=n.relatedTarget||n.toElement,o=u,s=s?Ms(s):null,s!==null&&(c=rr(s),s!==c||s.tag!==5&&s.tag!==6)&&(s=null)):(o=null,s=u),o!==s)){if(a=Lg,p="onMouseLeave",r="onMouseEnter",d="mouse",(i==="pointerout"||i==="pointerover")&&(a=Dg,p="onPointerLeave",r="onPointerEnter",d="pointer"),c=o==null?l:Mr(o),v=s==null?l:Mr(s),l=new a(p,d+"leave",o,n,y),l.target=c,l.relatedTarget=v,p=null,Ms(y)===u&&(a=new a(r,d+"enter",s,n,y),a.target=v,a.relatedTarget=c,p=a),c=p,o&&s)e:{for(a=o,r=s,d=0,v=a;v;v=vr(v))d++;for(v=0,p=r;p;p=vr(p))v++;for(;0<d-v;)a=vr(a),d--;for(;0<v-d;)r=vr(r),v--;for(;d--;){if(a===r||r!==null&&a===r.alternate)break e;a=vr(a),r=vr(r)}a=null}else a=null;o!==null&&Yg(f,l,o,a,!1),s!==null&&c!==null&&Yg(f,c,s,a,!0)}}t:{if(l=u?Mr(u):window,o=l.nodeName&&l.nodeName.toLowerCase(),o==="select"||o==="input"&&l.type==="file")var m=aP;else if(Bg(l))if(L1)m=uP;else{m=lP;var x=oP}else(o=l.nodeName)&&o.toLowerCase()==="input"&&(l.type==="checkbox"||l.type==="radio")&&(m=hP);if(m&&(m=m(i,u))){I1(f,m,n,y);break t}x&&x(i,l,u),i==="focusout"&&(x=l._wrapperState)&&x.controlled&&l.type==="number"&&oc(l,"number",l.value)}switch(x=u?Mr(u):window,i){case"focusin":(Bg(x)||x.contentEditable==="true")&&(Pr=x,yc=u,vo=null);break;case"focusout":vo=yc=Pr=null;break;case"mousedown":Tc=!0;break;case"contextmenu":case"mouseup":case"dragend":Tc=!1,zg(f,n,y);break;case"selectionchange":if(cP)break;case"keydown":case"keyup":zg(f,n,y)}var E;if(lp)t:{switch(i){case"compositionstart":var w="onCompositionStart";break t;case"compositionend":w="onCompositionEnd";break t;case"compositionupdate":w="onCompositionUpdate";break t}w=void 0}else Ar?R1(i,n)&&(w="onCompositionEnd"):i==="keydown"&&n.keyCode===229&&(w="onCompositionStart");w&&(P1&&n.locale!=="ko"&&(Ar||w!=="onCompositionStart"?w==="onCompositionEnd"&&Ar&&(E=A1()):(On=y,rp="value"in On?On.value:On.textContent,Ar=!0)),x=kh(u,w),0<x.length&&(w=new Fg(w,i,null,n,y),f.push({event:w,listeners:x}),E?w.data=E:(E=M1(n),E!==null&&(w.data=E)))),(E=eP?iP(i,n):nP(i,n))&&(u=kh(u,"onBeforeInput"),0<u.length&&(y=new Fg("onBeforeInput","beforeinput",null,n,y),f.push({event:y,listeners:u}),y.data=E))}z1(f,t)})}function Bo(i,t,n){return{instance:i,listener:t,currentTarget:n}}function kh(i,t){for(var n=t+"Capture",g=[];i!==null;){var T=i,A=T.stateNode;T.tag===5&&A!==null&&(T=A,A=Mo(i,n),A!=null&&g.unshift(Bo(i,A,T)),A=Mo(i,t),A!=null&&g.push(Bo(i,A,T))),i=i.return}return g}function vr(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function Yg(i,t,n,g,T){for(var A=t._reactName,h=[];n!==null&&n!==g;){var S=n,e=S.alternate,u=S.stateNode;if(e!==null&&e===g)break;S.tag===5&&u!==null&&(S=u,T?(e=Mo(n,A),e!=null&&h.unshift(Bo(n,e,S))):T||(e=Mo(n,A),e!=null&&h.push(Bo(n,e,S)))),n=n.return}h.length!==0&&i.push({event:t,listeners:h})}var gP=/\r\n?/g,xP=/\u0000|\uFFFD/g;function Hg(i){return(typeof i=="string"?i:""+i).replace(gP,`
`).replace(xP,"")}function Ql(i,t,n){if(t=Hg(t),Hg(i)!==t&&n)throw Error(at(425))}function jh(){}var Sc=null,Ec=null;function Cc(i,t){return i==="textarea"||i==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var wc=typeof setTimeout=="function"?setTimeout:void 0,yP=typeof clearTimeout=="function"?clearTimeout:void 0,$g=typeof Promise=="function"?Promise:void 0,TP=typeof queueMicrotask=="function"?queueMicrotask:typeof $g<"u"?function(i){return $g.resolve(null).then(i).catch(SP)}:wc;function SP(i){setTimeout(function(){throw i})}function vd(i,t){var n=t,g=0;do{var T=n.nextSibling;if(i.removeChild(n),T&&T.nodeType===8)if(n=T.data,n==="/$"){if(g===0){i.removeChild(T),Fo(t);return}g--}else n!=="$"&&n!=="$?"&&n!=="$!"||g++;n=T}while(n);Fo(t)}function zn(i){for(;i!=null;i=i.nextSibling){var t=i.nodeType;if(t===1||t===3)break;if(t===8){if(t=i.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return i}function kg(i){i=i.previousSibling;for(var t=0;i;){if(i.nodeType===8){var n=i.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return i;t--}else n==="/$"&&t++}i=i.previousSibling}return null}var xa=Math.random().toString(36).slice(2),zi="__reactFiber$"+xa,Go="__reactProps$"+xa,cn="__reactContainer$"+xa,Ac="__reactEvents$"+xa,EP="__reactListeners$"+xa,CP="__reactHandles$"+xa;function Ms(i){var t=i[zi];if(t)return t;for(var n=i.parentNode;n;){if(t=n[cn]||n[zi]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(i=kg(i);i!==null;){if(n=i[zi])return n;i=kg(i)}return t}i=n,n=i.parentNode}return null}function cl(i){return i=i[zi]||i[cn],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function Mr(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(at(33))}function ju(i){return i[Go]||null}var Pc=[],Ir=-1;function rs(i){return{current:i}}function Yt(i){0>Ir||(i.current=Pc[Ir],Pc[Ir]=null,Ir--)}function zt(i,t){Ir++,Pc[Ir]=i.current,i.current=t}var Zn={},Ve=rs(Zn),ti=rs(!1),zs=Zn;function Jr(i,t){var n=i.type.contextTypes;if(!n)return Zn;var g=i.stateNode;if(g&&g.__reactInternalMemoizedUnmaskedChildContext===t)return g.__reactInternalMemoizedMaskedChildContext;var T={},A;for(A in n)T[A]=t[A];return g&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=t,i.__reactInternalMemoizedMaskedChildContext=T),T}function ei(i){return i=i.childContextTypes,i!=null}function Kh(){Yt(ti),Yt(Ve)}function jg(i,t,n){if(Ve.current!==Zn)throw Error(at(168));zt(Ve,t),zt(ti,n)}function W1(i,t,n){var g=i.stateNode;if(t=t.childContextTypes,typeof g.getChildContext!="function")return n;g=g.getChildContext();for(var T in g)if(!(T in t))throw Error(at(108,oA(i)||"Unknown",T));return qt({},n,g)}function Qh(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||Zn,zs=Ve.current,zt(Ve,i),zt(ti,ti.current),!0}function Kg(i,t,n){var g=i.stateNode;if(!g)throw Error(at(169));n?(i=W1(i,t,zs),g.__reactInternalMemoizedMergedChildContext=i,Yt(ti),Yt(Ve),zt(Ve,i)):Yt(ti),zt(ti,n)}var tn=null,Ku=!1,pd=!1;function Y1(i){tn===null?tn=[i]:tn.push(i)}function wP(i){Ku=!0,Y1(i)}function as(){if(!pd&&tn!==null){pd=!0;var i=0,t=Ut;try{var n=tn;for(Ut=1;i<n.length;i++){var g=n[i];do g=g(!0);while(g!==null)}tn=null,Ku=!1}catch(T){throw tn!==null&&(tn=tn.slice(i+1)),v1(ep,as),T}finally{Ut=t,pd=!1}}return null}var Lr=[],Fr=0,Jh=null,Zh=0,pi=[],mi=0,Xs=null,nn=1,sn="";function Ts(i,t){Lr[Fr++]=Zh,Lr[Fr++]=Jh,Jh=i,Zh=t}function H1(i,t,n){pi[mi++]=nn,pi[mi++]=sn,pi[mi++]=Xs,Xs=i;var g=nn;i=sn;var T=32-Li(g)-1;g&=~(1<<T),n+=1;var A=32-Li(t)+T;if(30<A){var h=T-T%5;A=(g&(1<<h)-1).toString(32),g>>=h,T-=h,nn=1<<32-Li(t)+T|n<<T|g,sn=A+i}else nn=1<<A|n<<T|g,sn=i}function up(i){i.return!==null&&(Ts(i,1),H1(i,1,0))}function fp(i){for(;i===Jh;)Jh=Lr[--Fr],Lr[Fr]=null,Zh=Lr[--Fr],Lr[Fr]=null;for(;i===Xs;)Xs=pi[--mi],pi[mi]=null,sn=pi[--mi],pi[mi]=null,nn=pi[--mi],pi[mi]=null}var oi=null,ri=null,jt=!1,Ii=null;function $1(i,t){var n=xi(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=i,t=i.deletions,t===null?(i.deletions=[n],i.flags|=16):t.push(n)}function Qg(i,t){switch(i.tag){case 5:var n=i.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(i.stateNode=t,oi=i,ri=zn(t.firstChild),!0):!1;case 6:return t=i.pendingProps===""||t.nodeType!==3?null:t,t!==null?(i.stateNode=t,oi=i,ri=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Xs!==null?{id:nn,overflow:sn}:null,i.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=xi(18,null,null,0),n.stateNode=t,n.return=i,i.child=n,oi=i,ri=null,!0):!1;default:return!1}}function Rc(i){return(i.mode&1)!==0&&(i.flags&128)===0}function Mc(i){if(jt){var t=ri;if(t){var n=t;if(!Qg(i,t)){if(Rc(i))throw Error(at(418));t=zn(n.nextSibling);var g=oi;t&&Qg(i,t)?$1(g,n):(i.flags=i.flags&-4097|2,jt=!1,oi=i)}}else{if(Rc(i))throw Error(at(418));i.flags=i.flags&-4097|2,jt=!1,oi=i}}}function Jg(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;oi=i}function Jl(i){if(i!==oi)return!1;if(!jt)return Jg(i),jt=!0,!1;var t;if((t=i.tag!==3)&&!(t=i.tag!==5)&&(t=i.type,t=t!=="head"&&t!=="body"&&!Cc(i.type,i.memoizedProps)),t&&(t=ri)){if(Rc(i))throw k1(),Error(at(418));for(;t;)$1(i,t),t=zn(t.nextSibling)}if(Jg(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(at(317));t:{for(i=i.nextSibling,t=0;i;){if(i.nodeType===8){var n=i.data;if(n==="/$"){if(t===0){ri=zn(i.nextSibling);break t}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}i=i.nextSibling}ri=null}}else ri=oi?zn(i.stateNode.nextSibling):null;return!0}function k1(){for(var i=ri;i;)i=zn(i.nextSibling)}function Zr(){ri=oi=null,jt=!1}function dp(i){Ii===null?Ii=[i]:Ii.push(i)}var AP=xn.ReactCurrentBatchConfig;function Va(i,t,n){if(i=n.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(at(309));var g=n.stateNode}if(!g)throw Error(at(147,i));var T=g,A=""+i;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===A?t.ref:(t=function(h){var S=T.refs;h===null?delete S[A]:S[A]=h},t._stringRef=A,t)}if(typeof i!="string")throw Error(at(284));if(!n._owner)throw Error(at(290,i))}return i}function Zl(i,t){throw i=Object.prototype.toString.call(t),Error(at(31,i==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":i))}function Zg(i){var t=i._init;return t(i._payload)}function j1(i){function t(r,d){if(i){var v=r.deletions;v===null?(r.deletions=[d],r.flags|=16):v.push(d)}}function n(r,d){if(!i)return null;for(;d!==null;)t(r,d),d=d.sibling;return null}function g(r,d){for(r=new Map;d!==null;)d.key!==null?r.set(d.key,d):r.set(d.index,d),d=d.sibling;return r}function T(r,d){return r=Hn(r,d),r.index=0,r.sibling=null,r}function A(r,d,v){return r.index=v,i?(v=r.alternate,v!==null?(v=v.index,v<d?(r.flags|=2,d):v):(r.flags|=2,d)):(r.flags|=1048576,d)}function h(r){return i&&r.alternate===null&&(r.flags|=2),r}function S(r,d,v,p){return d===null||d.tag!==6?(d=Ed(v,r.mode,p),d.return=r,d):(d=T(d,v),d.return=r,d)}function e(r,d,v,p){var m=v.type;return m===wr?y(r,d,v.props.children,p,v.key):d!==null&&(d.elementType===m||typeof m=="object"&&m!==null&&m.$$typeof===An&&Zg(m)===d.type)?(p=T(d,v.props),p.ref=Va(r,d,v),p.return=r,p):(p=Ph(v.type,v.key,v.props,null,r.mode,p),p.ref=Va(r,d,v),p.return=r,p)}function u(r,d,v,p){return d===null||d.tag!==4||d.stateNode.containerInfo!==v.containerInfo||d.stateNode.implementation!==v.implementation?(d=Cd(v,r.mode,p),d.return=r,d):(d=T(d,v.children||[]),d.return=r,d)}function y(r,d,v,p,m){return d===null||d.tag!==7?(d=Gs(v,r.mode,p,m),d.return=r,d):(d=T(d,v),d.return=r,d)}function f(r,d,v){if(typeof d=="string"&&d!==""||typeof d=="number")return d=Ed(""+d,r.mode,v),d.return=r,d;if(typeof d=="object"&&d!==null){switch(d.$$typeof){case zl:return v=Ph(d.type,d.key,d.props,null,r.mode,v),v.ref=Va(r,null,d),v.return=r,v;case Cr:return d=Cd(d,r.mode,v),d.return=r,d;case An:var p=d._init;return f(r,p(d._payload),v)}if(qa(d)||Na(d))return d=Gs(d,r.mode,v,null),d.return=r,d;Zl(r,d)}return null}function l(r,d,v,p){var m=d!==null?d.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return m!==null?null:S(r,d,""+v,p);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case zl:return v.key===m?e(r,d,v,p):null;case Cr:return v.key===m?u(r,d,v,p):null;case An:return m=v._init,l(r,d,m(v._payload),p)}if(qa(v)||Na(v))return m!==null?null:y(r,d,v,p,null);Zl(r,v)}return null}function o(r,d,v,p,m){if(typeof p=="string"&&p!==""||typeof p=="number")return r=r.get(v)||null,S(d,r,""+p,m);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case zl:return r=r.get(p.key===null?v:p.key)||null,e(d,r,p,m);case Cr:return r=r.get(p.key===null?v:p.key)||null,u(d,r,p,m);case An:var x=p._init;return o(r,d,v,x(p._payload),m)}if(qa(p)||Na(p))return r=r.get(v)||null,y(d,r,p,m,null);Zl(d,p)}return null}function s(r,d,v,p){for(var m=null,x=null,E=d,w=d=0,C=null;E!==null&&w<v.length;w++){E.index>w?(C=E,E=null):C=E.sibling;var P=l(r,E,v[w],p);if(P===null){E===null&&(E=C);break}i&&E&&P.alternate===null&&t(r,E),d=A(P,d,w),x===null?m=P:x.sibling=P,x=P,E=C}if(w===v.length)return n(r,E),jt&&Ts(r,w),m;if(E===null){for(;w<v.length;w++)E=f(r,v[w],p),E!==null&&(d=A(E,d,w),x===null?m=E:x.sibling=E,x=E);return jt&&Ts(r,w),m}for(E=g(r,E);w<v.length;w++)C=o(E,r,w,v[w],p),C!==null&&(i&&C.alternate!==null&&E.delete(C.key===null?w:C.key),d=A(C,d,w),x===null?m=C:x.sibling=C,x=C);return i&&E.forEach(function(R){return t(r,R)}),jt&&Ts(r,w),m}function a(r,d,v,p){var m=Na(v);if(typeof m!="function")throw Error(at(150));if(v=m.call(v),v==null)throw Error(at(151));for(var x=m=null,E=d,w=d=0,C=null,P=v.next();E!==null&&!P.done;w++,P=v.next()){E.index>w?(C=E,E=null):C=E.sibling;var R=l(r,E,P.value,p);if(R===null){E===null&&(E=C);break}i&&E&&R.alternate===null&&t(r,E),d=A(R,d,w),x===null?m=R:x.sibling=R,x=R,E=C}if(P.done)return n(r,E),jt&&Ts(r,w),m;if(E===null){for(;!P.done;w++,P=v.next())P=f(r,P.value,p),P!==null&&(d=A(P,d,w),x===null?m=P:x.sibling=P,x=P);return jt&&Ts(r,w),m}for(E=g(r,E);!P.done;w++,P=v.next())P=o(E,r,w,P.value,p),P!==null&&(i&&P.alternate!==null&&E.delete(P.key===null?w:P.key),d=A(P,d,w),x===null?m=P:x.sibling=P,x=P);return i&&E.forEach(function(M){return t(r,M)}),jt&&Ts(r,w),m}function c(r,d,v,p){if(typeof v=="object"&&v!==null&&v.type===wr&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case zl:t:{for(var m=v.key,x=d;x!==null;){if(x.key===m){if(m=v.type,m===wr){if(x.tag===7){n(r,x.sibling),d=T(x,v.props.children),d.return=r,r=d;break t}}else if(x.elementType===m||typeof m=="object"&&m!==null&&m.$$typeof===An&&Zg(m)===x.type){n(r,x.sibling),d=T(x,v.props),d.ref=Va(r,x,v),d.return=r,r=d;break t}n(r,x);break}else t(r,x);x=x.sibling}v.type===wr?(d=Gs(v.props.children,r.mode,p,v.key),d.return=r,r=d):(p=Ph(v.type,v.key,v.props,null,r.mode,p),p.ref=Va(r,d,v),p.return=r,r=p)}return h(r);case Cr:t:{for(x=v.key;d!==null;){if(d.key===x)if(d.tag===4&&d.stateNode.containerInfo===v.containerInfo&&d.stateNode.implementation===v.implementation){n(r,d.sibling),d=T(d,v.children||[]),d.return=r,r=d;break t}else{n(r,d);break}else t(r,d);d=d.sibling}d=Cd(v,r.mode,p),d.return=r,r=d}return h(r);case An:return x=v._init,c(r,d,x(v._payload),p)}if(qa(v))return s(r,d,v,p);if(Na(v))return a(r,d,v,p);Zl(r,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,d!==null&&d.tag===6?(n(r,d.sibling),d=T(d,v),d.return=r,r=d):(n(r,d),d=Ed(v,r.mode,p),d.return=r,r=d),h(r)):n(r,d)}return c}var qr=j1(!0),K1=j1(!1),qh=rs(null),_h=null,Dr=null,cp=null;function vp(){cp=Dr=_h=null}function pp(i){var t=qh.current;Yt(qh),i._currentValue=t}function Ic(i,t,n){for(;i!==null;){var g=i.alternate;if((i.childLanes&t)!==t?(i.childLanes|=t,g!==null&&(g.childLanes|=t)):g!==null&&(g.childLanes&t)!==t&&(g.childLanes|=t),i===n)break;i=i.return}}function zr(i,t){_h=i,cp=Dr=null,i=i.dependencies,i!==null&&i.firstContext!==null&&(i.lanes&t&&(qe=!0),i.firstContext=null)}function Ci(i){var t=i._currentValue;if(cp!==i)if(i={context:i,memoizedValue:t,next:null},Dr===null){if(_h===null)throw Error(at(308));Dr=i,_h.dependencies={lanes:0,firstContext:i}}else Dr=Dr.next=i;return t}var Is=null;function mp(i){Is===null?Is=[i]:Is.push(i)}function Q1(i,t,n,g){var T=t.interleaved;return T===null?(n.next=n,mp(t)):(n.next=T.next,T.next=n),t.interleaved=n,vn(i,g)}function vn(i,t){i.lanes|=t;var n=i.alternate;for(n!==null&&(n.lanes|=t),n=i,i=i.return;i!==null;)i.childLanes|=t,n=i.alternate,n!==null&&(n.childLanes|=t),n=i,i=i.return;return n.tag===3?n.stateNode:null}var Pn=!1;function gp(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function J1(i,t){i=i.updateQueue,t.updateQueue===i&&(t.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function un(i,t){return{eventTime:i,lane:t,tag:0,payload:null,callback:null,next:null}}function Xn(i,t,n){var g=i.updateQueue;if(g===null)return null;if(g=g.shared,Ot&2){var T=g.pending;return T===null?t.next=t:(t.next=T.next,T.next=t),g.pending=t,vn(i,n)}return T=g.interleaved,T===null?(t.next=t,mp(g)):(t.next=T.next,T.next=t),g.interleaved=t,vn(i,n)}function Th(i,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var g=t.lanes;g&=i.pendingLanes,n|=g,t.lanes=n,ip(i,n)}}function qg(i,t){var n=i.updateQueue,g=i.alternate;if(g!==null&&(g=g.updateQueue,n===g)){var T=null,A=null;if(n=n.firstBaseUpdate,n!==null){do{var h={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};A===null?T=A=h:A=A.next=h,n=n.next}while(n!==null);A===null?T=A=t:A=A.next=t}else T=A=t;n={baseState:g.baseState,firstBaseUpdate:T,lastBaseUpdate:A,shared:g.shared,effects:g.effects},i.updateQueue=n;return}i=n.lastBaseUpdate,i===null?n.firstBaseUpdate=t:i.next=t,n.lastBaseUpdate=t}function tu(i,t,n,g){var T=i.updateQueue;Pn=!1;var A=T.firstBaseUpdate,h=T.lastBaseUpdate,S=T.shared.pending;if(S!==null){T.shared.pending=null;var e=S,u=e.next;e.next=null,h===null?A=u:h.next=u,h=e;var y=i.alternate;y!==null&&(y=y.updateQueue,S=y.lastBaseUpdate,S!==h&&(S===null?y.firstBaseUpdate=u:S.next=u,y.lastBaseUpdate=e))}if(A!==null){var f=T.baseState;h=0,y=u=e=null,S=A;do{var l=S.lane,o=S.eventTime;if((g&l)===l){y!==null&&(y=y.next={eventTime:o,lane:0,tag:S.tag,payload:S.payload,callback:S.callback,next:null});t:{var s=i,a=S;switch(l=t,o=n,a.tag){case 1:if(s=a.payload,typeof s=="function"){f=s.call(o,f,l);break t}f=s;break t;case 3:s.flags=s.flags&-65537|128;case 0:if(s=a.payload,l=typeof s=="function"?s.call(o,f,l):s,l==null)break t;f=qt({},f,l);break t;case 2:Pn=!0}}S.callback!==null&&S.lane!==0&&(i.flags|=64,l=T.effects,l===null?T.effects=[S]:l.push(S))}else o={eventTime:o,lane:l,tag:S.tag,payload:S.payload,callback:S.callback,next:null},y===null?(u=y=o,e=f):y=y.next=o,h|=l;if(S=S.next,S===null){if(S=T.shared.pending,S===null)break;l=S,S=l.next,l.next=null,T.lastBaseUpdate=l,T.shared.pending=null}}while(1);if(y===null&&(e=f),T.baseState=e,T.firstBaseUpdate=u,T.lastBaseUpdate=y,t=T.shared.interleaved,t!==null){T=t;do h|=T.lane,T=T.next;while(T!==t)}else A===null&&(T.shared.lanes=0);Ys|=h,i.lanes=h,i.memoizedState=f}}function _g(i,t,n){if(i=t.effects,t.effects=null,i!==null)for(t=0;t<i.length;t++){var g=i[t],T=g.callback;if(T!==null){if(g.callback=null,g=n,typeof T!="function")throw Error(at(191,T));T.call(g)}}}var vl={},ji=rs(vl),Uo=rs(vl),bo=rs(vl);function Ls(i){if(i===vl)throw Error(at(174));return i}function xp(i,t){switch(zt(bo,t),zt(Uo,i),zt(ji,vl),i=t.nodeType,i){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:hc(null,"");break;default:i=i===8?t.parentNode:t,t=i.namespaceURI||null,i=i.tagName,t=hc(t,i)}Yt(ji),zt(ji,t)}function _r(){Yt(ji),Yt(Uo),Yt(bo)}function Z1(i){Ls(bo.current);var t=Ls(ji.current),n=hc(t,i.type);t!==n&&(zt(Uo,i),zt(ji,n))}function yp(i){Uo.current===i&&(Yt(ji),Yt(Uo))}var Qt=rs(0);function eu(i){for(var t=i;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break;for(;t.sibling===null;){if(t.return===null||t.return===i)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var md=[];function Tp(){for(var i=0;i<md.length;i++)md[i]._workInProgressVersionPrimary=null;md.length=0}var Sh=xn.ReactCurrentDispatcher,gd=xn.ReactCurrentBatchConfig,Ws=0,Jt=null,de=null,me=null,iu=!1,po=!1,Vo=0,PP=0;function Fe(){throw Error(at(321))}function Sp(i,t){if(t===null)return!1;for(var n=0;n<t.length&&n<i.length;n++)if(!Di(i[n],t[n]))return!1;return!0}function Ep(i,t,n,g,T,A){if(Ws=A,Jt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Sh.current=i===null||i.memoizedState===null?LP:FP,i=n(g,T),po){A=0;do{if(po=!1,Vo=0,25<=A)throw Error(at(301));A+=1,me=de=null,t.updateQueue=null,Sh.current=DP,i=n(g,T)}while(po)}if(Sh.current=nu,t=de!==null&&de.next!==null,Ws=0,me=de=Jt=null,iu=!1,t)throw Error(at(300));return i}function Cp(){var i=Vo!==0;return Vo=0,i}function Vi(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return me===null?Jt.memoizedState=me=i:me=me.next=i,me}function wi(){if(de===null){var i=Jt.alternate;i=i!==null?i.memoizedState:null}else i=de.next;var t=me===null?Jt.memoizedState:me.next;if(t!==null)me=t,de=i;else{if(i===null)throw Error(at(310));de=i,i={memoizedState:de.memoizedState,baseState:de.baseState,baseQueue:de.baseQueue,queue:de.queue,next:null},me===null?Jt.memoizedState=me=i:me=me.next=i}return me}function zo(i,t){return typeof t=="function"?t(i):t}function xd(i){var t=wi(),n=t.queue;if(n===null)throw Error(at(311));n.lastRenderedReducer=i;var g=de,T=g.baseQueue,A=n.pending;if(A!==null){if(T!==null){var h=T.next;T.next=A.next,A.next=h}g.baseQueue=T=A,n.pending=null}if(T!==null){A=T.next,g=g.baseState;var S=h=null,e=null,u=A;do{var y=u.lane;if((Ws&y)===y)e!==null&&(e=e.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),g=u.hasEagerState?u.eagerState:i(g,u.action);else{var f={lane:y,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};e===null?(S=e=f,h=g):e=e.next=f,Jt.lanes|=y,Ys|=y}u=u.next}while(u!==null&&u!==A);e===null?h=g:e.next=S,Di(g,t.memoizedState)||(qe=!0),t.memoizedState=g,t.baseState=h,t.baseQueue=e,n.lastRenderedState=g}if(i=n.interleaved,i!==null){T=i;do A=T.lane,Jt.lanes|=A,Ys|=A,T=T.next;while(T!==i)}else T===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function yd(i){var t=wi(),n=t.queue;if(n===null)throw Error(at(311));n.lastRenderedReducer=i;var g=n.dispatch,T=n.pending,A=t.memoizedState;if(T!==null){n.pending=null;var h=T=T.next;do A=i(A,h.action),h=h.next;while(h!==T);Di(A,t.memoizedState)||(qe=!0),t.memoizedState=A,t.baseQueue===null&&(t.baseState=A),n.lastRenderedState=A}return[A,g]}function q1(){}function _1(i,t){var n=Jt,g=wi(),T=t(),A=!Di(g.memoizedState,T);if(A&&(g.memoizedState=T,qe=!0),g=g.queue,wp(iT.bind(null,n,g,i),[i]),g.getSnapshot!==t||A||me!==null&&me.memoizedState.tag&1){if(n.flags|=2048,Xo(9,eT.bind(null,n,g,T,t),void 0,null),xe===null)throw Error(at(349));Ws&30||tT(n,t,T)}return T}function tT(i,t,n){i.flags|=16384,i={getSnapshot:t,value:n},t=Jt.updateQueue,t===null?(t={lastEffect:null,stores:null},Jt.updateQueue=t,t.stores=[i]):(n=t.stores,n===null?t.stores=[i]:n.push(i))}function eT(i,t,n,g){t.value=n,t.getSnapshot=g,nT(t)&&sT(i)}function iT(i,t,n){return n(function(){nT(t)&&sT(i)})}function nT(i){var t=i.getSnapshot;i=i.value;try{var n=t();return!Di(i,n)}catch{return!0}}function sT(i){var t=vn(i,1);t!==null&&Fi(t,i,1,-1)}function t0(i){var t=Vi();return typeof i=="function"&&(i=i()),t.memoizedState=t.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:zo,lastRenderedState:i},t.queue=i,i=i.dispatch=IP.bind(null,Jt,i),[t.memoizedState,i]}function Xo(i,t,n,g){return i={tag:i,create:t,destroy:n,deps:g,next:null},t=Jt.updateQueue,t===null?(t={lastEffect:null,stores:null},Jt.updateQueue=t,t.lastEffect=i.next=i):(n=t.lastEffect,n===null?t.lastEffect=i.next=i:(g=n.next,n.next=i,i.next=g,t.lastEffect=i)),i}function rT(){return wi().memoizedState}function Eh(i,t,n,g){var T=Vi();Jt.flags|=i,T.memoizedState=Xo(1|t,n,void 0,g===void 0?null:g)}function Qu(i,t,n,g){var T=wi();g=g===void 0?null:g;var A=void 0;if(de!==null){var h=de.memoizedState;if(A=h.destroy,g!==null&&Sp(g,h.deps)){T.memoizedState=Xo(t,n,A,g);return}}Jt.flags|=i,T.memoizedState=Xo(1|t,n,A,g)}function e0(i,t){return Eh(8390656,8,i,t)}function wp(i,t){return Qu(2048,8,i,t)}function aT(i,t){return Qu(4,2,i,t)}function oT(i,t){return Qu(4,4,i,t)}function lT(i,t){if(typeof t=="function")return i=i(),t(i),function(){t(null)};if(t!=null)return i=i(),t.current=i,function(){t.current=null}}function hT(i,t,n){return n=n!=null?n.concat([i]):null,Qu(4,4,lT.bind(null,t,i),n)}function Ap(){}function uT(i,t){var n=wi();t=t===void 0?null:t;var g=n.memoizedState;return g!==null&&t!==null&&Sp(t,g[1])?g[0]:(n.memoizedState=[i,t],i)}function fT(i,t){var n=wi();t=t===void 0?null:t;var g=n.memoizedState;return g!==null&&t!==null&&Sp(t,g[1])?g[0]:(i=i(),n.memoizedState=[i,t],i)}function dT(i,t,n){return Ws&21?(Di(n,t)||(n=g1(),Jt.lanes|=n,Ys|=n,i.baseState=!0),t):(i.baseState&&(i.baseState=!1,qe=!0),i.memoizedState=n)}function RP(i,t){var n=Ut;Ut=n!==0&&4>n?n:4,i(!0);var g=gd.transition;gd.transition={};try{i(!1),t()}finally{Ut=n,gd.transition=g}}function cT(){return wi().memoizedState}function MP(i,t,n){var g=Yn(i);if(n={lane:g,action:n,hasEagerState:!1,eagerState:null,next:null},vT(i))pT(t,n);else if(n=Q1(i,t,n,g),n!==null){var T=He();Fi(n,i,g,T),mT(n,t,g)}}function IP(i,t,n){var g=Yn(i),T={lane:g,action:n,hasEagerState:!1,eagerState:null,next:null};if(vT(i))pT(t,T);else{var A=i.alternate;if(i.lanes===0&&(A===null||A.lanes===0)&&(A=t.lastRenderedReducer,A!==null))try{var h=t.lastRenderedState,S=A(h,n);if(T.hasEagerState=!0,T.eagerState=S,Di(S,h)){var e=t.interleaved;e===null?(T.next=T,mp(t)):(T.next=e.next,e.next=T),t.interleaved=T;return}}catch{}finally{}n=Q1(i,t,T,g),n!==null&&(T=He(),Fi(n,i,g,T),mT(n,t,g))}}function vT(i){var t=i.alternate;return i===Jt||t!==null&&t===Jt}function pT(i,t){po=iu=!0;var n=i.pending;n===null?t.next=t:(t.next=n.next,n.next=t),i.pending=t}function mT(i,t,n){if(n&4194240){var g=t.lanes;g&=i.pendingLanes,n|=g,t.lanes=n,ip(i,n)}}var nu={readContext:Ci,useCallback:Fe,useContext:Fe,useEffect:Fe,useImperativeHandle:Fe,useInsertionEffect:Fe,useLayoutEffect:Fe,useMemo:Fe,useReducer:Fe,useRef:Fe,useState:Fe,useDebugValue:Fe,useDeferredValue:Fe,useTransition:Fe,useMutableSource:Fe,useSyncExternalStore:Fe,useId:Fe,unstable_isNewReconciler:!1},LP={readContext:Ci,useCallback:function(i,t){return Vi().memoizedState=[i,t===void 0?null:t],i},useContext:Ci,useEffect:e0,useImperativeHandle:function(i,t,n){return n=n!=null?n.concat([i]):null,Eh(4194308,4,lT.bind(null,t,i),n)},useLayoutEffect:function(i,t){return Eh(4194308,4,i,t)},useInsertionEffect:function(i,t){return Eh(4,2,i,t)},useMemo:function(i,t){var n=Vi();return t=t===void 0?null:t,i=i(),n.memoizedState=[i,t],i},useReducer:function(i,t,n){var g=Vi();return t=n!==void 0?n(t):t,g.memoizedState=g.baseState=t,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:t},g.queue=i,i=i.dispatch=MP.bind(null,Jt,i),[g.memoizedState,i]},useRef:function(i){var t=Vi();return i={current:i},t.memoizedState=i},useState:t0,useDebugValue:Ap,useDeferredValue:function(i){return Vi().memoizedState=i},useTransition:function(){var i=t0(!1),t=i[0];return i=RP.bind(null,i[1]),Vi().memoizedState=i,[t,i]},useMutableSource:function(){},useSyncExternalStore:function(i,t,n){var g=Jt,T=Vi();if(jt){if(n===void 0)throw Error(at(407));n=n()}else{if(n=t(),xe===null)throw Error(at(349));Ws&30||tT(g,t,n)}T.memoizedState=n;var A={value:n,getSnapshot:t};return T.queue=A,e0(iT.bind(null,g,A,i),[i]),g.flags|=2048,Xo(9,eT.bind(null,g,A,n,t),void 0,null),n},useId:function(){var i=Vi(),t=xe.identifierPrefix;if(jt){var n=sn,g=nn;n=(g&~(1<<32-Li(g)-1)).toString(32)+n,t=":"+t+"R"+n,n=Vo++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=PP++,t=":"+t+"r"+n.toString(32)+":";return i.memoizedState=t},unstable_isNewReconciler:!1},FP={readContext:Ci,useCallback:uT,useContext:Ci,useEffect:wp,useImperativeHandle:hT,useInsertionEffect:aT,useLayoutEffect:oT,useMemo:fT,useReducer:xd,useRef:rT,useState:function(){return xd(zo)},useDebugValue:Ap,useDeferredValue:function(i){var t=wi();return dT(t,de.memoizedState,i)},useTransition:function(){var i=xd(zo)[0],t=wi().memoizedState;return[i,t]},useMutableSource:q1,useSyncExternalStore:_1,useId:cT,unstable_isNewReconciler:!1},DP={readContext:Ci,useCallback:uT,useContext:Ci,useEffect:wp,useImperativeHandle:hT,useInsertionEffect:aT,useLayoutEffect:oT,useMemo:fT,useReducer:yd,useRef:rT,useState:function(){return yd(zo)},useDebugValue:Ap,useDeferredValue:function(i){var t=wi();return de===null?t.memoizedState=i:dT(t,de.memoizedState,i)},useTransition:function(){var i=yd(zo)[0],t=wi().memoizedState;return[i,t]},useMutableSource:q1,useSyncExternalStore:_1,useId:cT,unstable_isNewReconciler:!1};function Ri(i,t){if(i&&i.defaultProps){t=qt({},t),i=i.defaultProps;for(var n in i)t[n]===void 0&&(t[n]=i[n]);return t}return t}function Lc(i,t,n,g){t=i.memoizedState,n=n(g,t),n=n==null?t:qt({},t,n),i.memoizedState=n,i.lanes===0&&(i.updateQueue.baseState=n)}var Ju={isMounted:function(i){return(i=i._reactInternals)?rr(i)===i:!1},enqueueSetState:function(i,t,n){i=i._reactInternals;var g=He(),T=Yn(i),A=un(g,T);A.payload=t,n!=null&&(A.callback=n),t=Xn(i,A,T),t!==null&&(Fi(t,i,T,g),Th(t,i,T))},enqueueReplaceState:function(i,t,n){i=i._reactInternals;var g=He(),T=Yn(i),A=un(g,T);A.tag=1,A.payload=t,n!=null&&(A.callback=n),t=Xn(i,A,T),t!==null&&(Fi(t,i,T,g),Th(t,i,T))},enqueueForceUpdate:function(i,t){i=i._reactInternals;var n=He(),g=Yn(i),T=un(n,g);T.tag=2,t!=null&&(T.callback=t),t=Xn(i,T,g),t!==null&&(Fi(t,i,g,n),Th(t,i,g))}};function i0(i,t,n,g,T,A,h){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(g,A,h):t.prototype&&t.prototype.isPureReactComponent?!Oo(n,g)||!Oo(T,A):!0}function gT(i,t,n){var g=!1,T=Zn,A=t.contextType;return typeof A=="object"&&A!==null?A=Ci(A):(T=ei(t)?zs:Ve.current,g=t.contextTypes,A=(g=g!=null)?Jr(i,T):Zn),t=new t(n,A),i.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ju,i.stateNode=t,t._reactInternals=i,g&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=T,i.__reactInternalMemoizedMaskedChildContext=A),t}function n0(i,t,n,g){i=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,g),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,g),t.state!==i&&Ju.enqueueReplaceState(t,t.state,null)}function Fc(i,t,n,g){var T=i.stateNode;T.props=n,T.state=i.memoizedState,T.refs={},gp(i);var A=t.contextType;typeof A=="object"&&A!==null?T.context=Ci(A):(A=ei(t)?zs:Ve.current,T.context=Jr(i,A)),T.state=i.memoizedState,A=t.getDerivedStateFromProps,typeof A=="function"&&(Lc(i,t,A,n),T.state=i.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof T.getSnapshotBeforeUpdate=="function"||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(t=T.state,typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount(),t!==T.state&&Ju.enqueueReplaceState(T,T.state,null),tu(i,n,T,g),T.state=i.memoizedState),typeof T.componentDidMount=="function"&&(i.flags|=4194308)}function ta(i,t){try{var n="",g=t;do n+=aA(g),g=g.return;while(g);var T=n}catch(A){T=`
Error generating stack: `+A.message+`
`+A.stack}return{value:i,source:t,stack:T,digest:null}}function Td(i,t,n){return{value:i,source:null,stack:n??null,digest:t??null}}function Dc(i,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var OP=typeof WeakMap=="function"?WeakMap:Map;function xT(i,t,n){n=un(-1,n),n.tag=3,n.payload={element:null};var g=t.value;return n.callback=function(){ru||(ru=!0,Wc=g),Dc(i,t)},n}function yT(i,t,n){n=un(-1,n),n.tag=3;var g=i.type.getDerivedStateFromError;if(typeof g=="function"){var T=t.value;n.payload=function(){return g(T)},n.callback=function(){Dc(i,t)}}var A=i.stateNode;return A!==null&&typeof A.componentDidCatch=="function"&&(n.callback=function(){Dc(i,t),typeof g!="function"&&(Wn===null?Wn=new Set([this]):Wn.add(this));var h=t.stack;this.componentDidCatch(t.value,{componentStack:h!==null?h:""})}),n}function s0(i,t,n){var g=i.pingCache;if(g===null){g=i.pingCache=new OP;var T=new Set;g.set(t,T)}else T=g.get(t),T===void 0&&(T=new Set,g.set(t,T));T.has(n)||(T.add(n),i=jP.bind(null,i,t,n),t.then(i,i))}function r0(i){do{var t;if((t=i.tag===13)&&(t=i.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return i;i=i.return}while(i!==null);return null}function a0(i,t,n,g,T){return i.mode&1?(i.flags|=65536,i.lanes=T,i):(i===t?i.flags|=65536:(i.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=un(-1,1),t.tag=2,Xn(n,t,1))),n.lanes|=1),i)}var NP=xn.ReactCurrentOwner,qe=!1;function ze(i,t,n,g){t.child=i===null?K1(t,null,n,g):qr(t,i.child,n,g)}function o0(i,t,n,g,T){n=n.render;var A=t.ref;return zr(t,T),g=Ep(i,t,n,g,A,T),n=Cp(),i!==null&&!qe?(t.updateQueue=i.updateQueue,t.flags&=-2053,i.lanes&=~T,pn(i,t,T)):(jt&&n&&up(t),t.flags|=1,ze(i,t,g,T),t.child)}function l0(i,t,n,g,T){if(i===null){var A=n.type;return typeof A=="function"&&!Op(A)&&A.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=A,TT(i,t,A,g,T)):(i=Ph(n.type,null,g,t,t.mode,T),i.ref=t.ref,i.return=t,t.child=i)}if(A=i.child,!(i.lanes&T)){var h=A.memoizedProps;if(n=n.compare,n=n!==null?n:Oo,n(h,g)&&i.ref===t.ref)return pn(i,t,T)}return t.flags|=1,i=Hn(A,g),i.ref=t.ref,i.return=t,t.child=i}function TT(i,t,n,g,T){if(i!==null){var A=i.memoizedProps;if(Oo(A,g)&&i.ref===t.ref)if(qe=!1,t.pendingProps=g=A,(i.lanes&T)!==0)i.flags&131072&&(qe=!0);else return t.lanes=i.lanes,pn(i,t,T)}return Oc(i,t,n,g,T)}function ST(i,t,n){var g=t.pendingProps,T=g.children,A=i!==null?i.memoizedState:null;if(g.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},zt(Nr,si),si|=n;else{if(!(n&1073741824))return i=A!==null?A.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:i,cachePool:null,transitions:null},t.updateQueue=null,zt(Nr,si),si|=i,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},g=A!==null?A.baseLanes:n,zt(Nr,si),si|=g}else A!==null?(g=A.baseLanes|n,t.memoizedState=null):g=n,zt(Nr,si),si|=g;return ze(i,t,T,n),t.child}function ET(i,t){var n=t.ref;(i===null&&n!==null||i!==null&&i.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Oc(i,t,n,g,T){var A=ei(n)?zs:Ve.current;return A=Jr(t,A),zr(t,T),n=Ep(i,t,n,g,A,T),g=Cp(),i!==null&&!qe?(t.updateQueue=i.updateQueue,t.flags&=-2053,i.lanes&=~T,pn(i,t,T)):(jt&&g&&up(t),t.flags|=1,ze(i,t,n,T),t.child)}function h0(i,t,n,g,T){if(ei(n)){var A=!0;Qh(t)}else A=!1;if(zr(t,T),t.stateNode===null)Ch(i,t),gT(t,n,g),Fc(t,n,g,T),g=!0;else if(i===null){var h=t.stateNode,S=t.memoizedProps;h.props=S;var e=h.context,u=n.contextType;typeof u=="object"&&u!==null?u=Ci(u):(u=ei(n)?zs:Ve.current,u=Jr(t,u));var y=n.getDerivedStateFromProps,f=typeof y=="function"||typeof h.getSnapshotBeforeUpdate=="function";f||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(S!==g||e!==u)&&n0(t,h,g,u),Pn=!1;var l=t.memoizedState;h.state=l,tu(t,g,h,T),e=t.memoizedState,S!==g||l!==e||ti.current||Pn?(typeof y=="function"&&(Lc(t,n,y,g),e=t.memoizedState),(S=Pn||i0(t,n,S,g,l,e,u))?(f||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(t.flags|=4194308)):(typeof h.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=g,t.memoizedState=e),h.props=g,h.state=e,h.context=u,g=S):(typeof h.componentDidMount=="function"&&(t.flags|=4194308),g=!1)}else{h=t.stateNode,J1(i,t),S=t.memoizedProps,u=t.type===t.elementType?S:Ri(t.type,S),h.props=u,f=t.pendingProps,l=h.context,e=n.contextType,typeof e=="object"&&e!==null?e=Ci(e):(e=ei(n)?zs:Ve.current,e=Jr(t,e));var o=n.getDerivedStateFromProps;(y=typeof o=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(S!==f||l!==e)&&n0(t,h,g,e),Pn=!1,l=t.memoizedState,h.state=l,tu(t,g,h,T);var s=t.memoizedState;S!==f||l!==s||ti.current||Pn?(typeof o=="function"&&(Lc(t,n,o,g),s=t.memoizedState),(u=Pn||i0(t,n,u,g,l,s,e)||!1)?(y||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(g,s,e),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(g,s,e)),typeof h.componentDidUpdate=="function"&&(t.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof h.componentDidUpdate!="function"||S===i.memoizedProps&&l===i.memoizedState||(t.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||S===i.memoizedProps&&l===i.memoizedState||(t.flags|=1024),t.memoizedProps=g,t.memoizedState=s),h.props=g,h.state=s,h.context=e,g=u):(typeof h.componentDidUpdate!="function"||S===i.memoizedProps&&l===i.memoizedState||(t.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||S===i.memoizedProps&&l===i.memoizedState||(t.flags|=1024),g=!1)}return Nc(i,t,n,g,A,T)}function Nc(i,t,n,g,T,A){ET(i,t);var h=(t.flags&128)!==0;if(!g&&!h)return T&&Kg(t,n,!1),pn(i,t,A);g=t.stateNode,NP.current=t;var S=h&&typeof n.getDerivedStateFromError!="function"?null:g.render();return t.flags|=1,i!==null&&h?(t.child=qr(t,i.child,null,A),t.child=qr(t,null,S,A)):ze(i,t,S,A),t.memoizedState=g.state,T&&Kg(t,n,!0),t.child}function CT(i){var t=i.stateNode;t.pendingContext?jg(i,t.pendingContext,t.pendingContext!==t.context):t.context&&jg(i,t.context,!1),xp(i,t.containerInfo)}function u0(i,t,n,g,T){return Zr(),dp(T),t.flags|=256,ze(i,t,n,g),t.child}var Bc={dehydrated:null,treeContext:null,retryLane:0};function Gc(i){return{baseLanes:i,cachePool:null,transitions:null}}function wT(i,t,n){var g=t.pendingProps,T=Qt.current,A=!1,h=(t.flags&128)!==0,S;if((S=h)||(S=i!==null&&i.memoizedState===null?!1:(T&2)!==0),S?(A=!0,t.flags&=-129):(i===null||i.memoizedState!==null)&&(T|=1),zt(Qt,T&1),i===null)return Mc(t),i=t.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?(t.mode&1?i.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(h=g.children,i=g.fallback,A?(g=t.mode,A=t.child,h={mode:"hidden",children:h},!(g&1)&&A!==null?(A.childLanes=0,A.pendingProps=h):A=_u(h,g,0,null),i=Gs(i,g,n,null),A.return=t,i.return=t,A.sibling=i,t.child=A,t.child.memoizedState=Gc(n),t.memoizedState=Bc,i):Pp(t,h));if(T=i.memoizedState,T!==null&&(S=T.dehydrated,S!==null))return BP(i,t,h,g,S,T,n);if(A){A=g.fallback,h=t.mode,T=i.child,S=T.sibling;var e={mode:"hidden",children:g.children};return!(h&1)&&t.child!==T?(g=t.child,g.childLanes=0,g.pendingProps=e,t.deletions=null):(g=Hn(T,e),g.subtreeFlags=T.subtreeFlags&14680064),S!==null?A=Hn(S,A):(A=Gs(A,h,n,null),A.flags|=2),A.return=t,g.return=t,g.sibling=A,t.child=g,g=A,A=t.child,h=i.child.memoizedState,h=h===null?Gc(n):{baseLanes:h.baseLanes|n,cachePool:null,transitions:h.transitions},A.memoizedState=h,A.childLanes=i.childLanes&~n,t.memoizedState=Bc,g}return A=i.child,i=A.sibling,g=Hn(A,{mode:"visible",children:g.children}),!(t.mode&1)&&(g.lanes=n),g.return=t,g.sibling=null,i!==null&&(n=t.deletions,n===null?(t.deletions=[i],t.flags|=16):n.push(i)),t.child=g,t.memoizedState=null,g}function Pp(i,t){return t=_u({mode:"visible",children:t},i.mode,0,null),t.return=i,i.child=t}function ql(i,t,n,g){return g!==null&&dp(g),qr(t,i.child,null,n),i=Pp(t,t.pendingProps.children),i.flags|=2,t.memoizedState=null,i}function BP(i,t,n,g,T,A,h){if(n)return t.flags&256?(t.flags&=-257,g=Td(Error(at(422))),ql(i,t,h,g)):t.memoizedState!==null?(t.child=i.child,t.flags|=128,null):(A=g.fallback,T=t.mode,g=_u({mode:"visible",children:g.children},T,0,null),A=Gs(A,T,h,null),A.flags|=2,g.return=t,A.return=t,g.sibling=A,t.child=g,t.mode&1&&qr(t,i.child,null,h),t.child.memoizedState=Gc(h),t.memoizedState=Bc,A);if(!(t.mode&1))return ql(i,t,h,null);if(T.data==="$!"){if(g=T.nextSibling&&T.nextSibling.dataset,g)var S=g.dgst;return g=S,A=Error(at(419)),g=Td(A,g,void 0),ql(i,t,h,g)}if(S=(h&i.childLanes)!==0,qe||S){if(g=xe,g!==null){switch(h&-h){case 4:T=2;break;case 16:T=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:T=32;break;case 536870912:T=268435456;break;default:T=0}T=T&(g.suspendedLanes|h)?0:T,T!==0&&T!==A.retryLane&&(A.retryLane=T,vn(i,T),Fi(g,i,T,-1))}return Dp(),g=Td(Error(at(421))),ql(i,t,h,g)}return T.data==="$?"?(t.flags|=128,t.child=i.child,t=KP.bind(null,i),T._reactRetry=t,null):(i=A.treeContext,ri=zn(T.nextSibling),oi=t,jt=!0,Ii=null,i!==null&&(pi[mi++]=nn,pi[mi++]=sn,pi[mi++]=Xs,nn=i.id,sn=i.overflow,Xs=t),t=Pp(t,g.children),t.flags|=4096,t)}function f0(i,t,n){i.lanes|=t;var g=i.alternate;g!==null&&(g.lanes|=t),Ic(i.return,t,n)}function Sd(i,t,n,g,T){var A=i.memoizedState;A===null?i.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:g,tail:n,tailMode:T}:(A.isBackwards=t,A.rendering=null,A.renderingStartTime=0,A.last=g,A.tail=n,A.tailMode=T)}function AT(i,t,n){var g=t.pendingProps,T=g.revealOrder,A=g.tail;if(ze(i,t,g.children,n),g=Qt.current,g&2)g=g&1|2,t.flags|=128;else{if(i!==null&&i.flags&128)t:for(i=t.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&f0(i,n,t);else if(i.tag===19)f0(i,n,t);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break t;for(;i.sibling===null;){if(i.return===null||i.return===t)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}g&=1}if(zt(Qt,g),!(t.mode&1))t.memoizedState=null;else switch(T){case"forwards":for(n=t.child,T=null;n!==null;)i=n.alternate,i!==null&&eu(i)===null&&(T=n),n=n.sibling;n=T,n===null?(T=t.child,t.child=null):(T=n.sibling,n.sibling=null),Sd(t,!1,T,n,A);break;case"backwards":for(n=null,T=t.child,t.child=null;T!==null;){if(i=T.alternate,i!==null&&eu(i)===null){t.child=T;break}i=T.sibling,T.sibling=n,n=T,T=i}Sd(t,!0,n,null,A);break;case"together":Sd(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ch(i,t){!(t.mode&1)&&i!==null&&(i.alternate=null,t.alternate=null,t.flags|=2)}function pn(i,t,n){if(i!==null&&(t.dependencies=i.dependencies),Ys|=t.lanes,!(n&t.childLanes))return null;if(i!==null&&t.child!==i.child)throw Error(at(153));if(t.child!==null){for(i=t.child,n=Hn(i,i.pendingProps),t.child=n,n.return=t;i.sibling!==null;)i=i.sibling,n=n.sibling=Hn(i,i.pendingProps),n.return=t;n.sibling=null}return t.child}function GP(i,t,n){switch(t.tag){case 3:CT(t),Zr();break;case 5:Z1(t);break;case 1:ei(t.type)&&Qh(t);break;case 4:xp(t,t.stateNode.containerInfo);break;case 10:var g=t.type._context,T=t.memoizedProps.value;zt(qh,g._currentValue),g._currentValue=T;break;case 13:if(g=t.memoizedState,g!==null)return g.dehydrated!==null?(zt(Qt,Qt.current&1),t.flags|=128,null):n&t.child.childLanes?wT(i,t,n):(zt(Qt,Qt.current&1),i=pn(i,t,n),i!==null?i.sibling:null);zt(Qt,Qt.current&1);break;case 19:if(g=(n&t.childLanes)!==0,i.flags&128){if(g)return AT(i,t,n);t.flags|=128}if(T=t.memoizedState,T!==null&&(T.rendering=null,T.tail=null,T.lastEffect=null),zt(Qt,Qt.current),g)break;return null;case 22:case 23:return t.lanes=0,ST(i,t,n)}return pn(i,t,n)}var PT,Uc,RT,MT;PT=function(i,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)i.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Uc=function(){};RT=function(i,t,n,g){var T=i.memoizedProps;if(T!==g){i=t.stateNode,Ls(ji.current);var A=null;switch(n){case"input":T=rc(i,T),g=rc(i,g),A=[];break;case"select":T=qt({},T,{value:void 0}),g=qt({},g,{value:void 0}),A=[];break;case"textarea":T=lc(i,T),g=lc(i,g),A=[];break;default:typeof T.onClick!="function"&&typeof g.onClick=="function"&&(i.onclick=jh)}uc(n,g);var h;n=null;for(u in T)if(!g.hasOwnProperty(u)&&T.hasOwnProperty(u)&&T[u]!=null)if(u==="style"){var S=T[u];for(h in S)S.hasOwnProperty(h)&&(n||(n={}),n[h]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Po.hasOwnProperty(u)?A||(A=[]):(A=A||[]).push(u,null));for(u in g){var e=g[u];if(S=T!=null?T[u]:void 0,g.hasOwnProperty(u)&&e!==S&&(e!=null||S!=null))if(u==="style")if(S){for(h in S)!S.hasOwnProperty(h)||e&&e.hasOwnProperty(h)||(n||(n={}),n[h]="");for(h in e)e.hasOwnProperty(h)&&S[h]!==e[h]&&(n||(n={}),n[h]=e[h])}else n||(A||(A=[]),A.push(u,n)),n=e;else u==="dangerouslySetInnerHTML"?(e=e?e.__html:void 0,S=S?S.__html:void 0,e!=null&&S!==e&&(A=A||[]).push(u,e)):u==="children"?typeof e!="string"&&typeof e!="number"||(A=A||[]).push(u,""+e):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Po.hasOwnProperty(u)?(e!=null&&u==="onScroll"&&Xt("scroll",i),A||S===e||(A=[])):(A=A||[]).push(u,e))}n&&(A=A||[]).push("style",n);var u=A;(t.updateQueue=u)&&(t.flags|=4)}};MT=function(i,t,n,g){n!==g&&(t.flags|=4)};function za(i,t){if(!jt)switch(i.tailMode){case"hidden":t=i.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?i.tail=null:n.sibling=null;break;case"collapsed":n=i.tail;for(var g=null;n!==null;)n.alternate!==null&&(g=n),n=n.sibling;g===null?t||i.tail===null?i.tail=null:i.tail.sibling=null:g.sibling=null}}function De(i){var t=i.alternate!==null&&i.alternate.child===i.child,n=0,g=0;if(t)for(var T=i.child;T!==null;)n|=T.lanes|T.childLanes,g|=T.subtreeFlags&14680064,g|=T.flags&14680064,T.return=i,T=T.sibling;else for(T=i.child;T!==null;)n|=T.lanes|T.childLanes,g|=T.subtreeFlags,g|=T.flags,T.return=i,T=T.sibling;return i.subtreeFlags|=g,i.childLanes=n,t}function UP(i,t,n){var g=t.pendingProps;switch(fp(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return De(t),null;case 1:return ei(t.type)&&Kh(),De(t),null;case 3:return g=t.stateNode,_r(),Yt(ti),Yt(Ve),Tp(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(i===null||i.child===null)&&(Jl(t)?t.flags|=4:i===null||i.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ii!==null&&($c(Ii),Ii=null))),Uc(i,t),De(t),null;case 5:yp(t);var T=Ls(bo.current);if(n=t.type,i!==null&&t.stateNode!=null)RT(i,t,n,g,T),i.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!g){if(t.stateNode===null)throw Error(at(166));return De(t),null}if(i=Ls(ji.current),Jl(t)){g=t.stateNode,n=t.type;var A=t.memoizedProps;switch(g[zi]=t,g[Go]=A,i=(t.mode&1)!==0,n){case"dialog":Xt("cancel",g),Xt("close",g);break;case"iframe":case"object":case"embed":Xt("load",g);break;case"video":case"audio":for(T=0;T<to.length;T++)Xt(to[T],g);break;case"source":Xt("error",g);break;case"img":case"image":case"link":Xt("error",g),Xt("load",g);break;case"details":Xt("toggle",g);break;case"input":Tg(g,A),Xt("invalid",g);break;case"select":g._wrapperState={wasMultiple:!!A.multiple},Xt("invalid",g);break;case"textarea":Eg(g,A),Xt("invalid",g)}uc(n,A),T=null;for(var h in A)if(A.hasOwnProperty(h)){var S=A[h];h==="children"?typeof S=="string"?g.textContent!==S&&(A.suppressHydrationWarning!==!0&&Ql(g.textContent,S,i),T=["children",S]):typeof S=="number"&&g.textContent!==""+S&&(A.suppressHydrationWarning!==!0&&Ql(g.textContent,S,i),T=["children",""+S]):Po.hasOwnProperty(h)&&S!=null&&h==="onScroll"&&Xt("scroll",g)}switch(n){case"input":Xl(g),Sg(g,A,!0);break;case"textarea":Xl(g),Cg(g);break;case"select":case"option":break;default:typeof A.onClick=="function"&&(g.onclick=jh)}g=T,t.updateQueue=g,g!==null&&(t.flags|=4)}else{h=T.nodeType===9?T:T.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=i1(n)),i==="http://www.w3.org/1999/xhtml"?n==="script"?(i=h.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof g.is=="string"?i=h.createElement(n,{is:g.is}):(i=h.createElement(n),n==="select"&&(h=i,g.multiple?h.multiple=!0:g.size&&(h.size=g.size))):i=h.createElementNS(i,n),i[zi]=t,i[Go]=g,PT(i,t,!1,!1),t.stateNode=i;t:{switch(h=fc(n,g),n){case"dialog":Xt("cancel",i),Xt("close",i),T=g;break;case"iframe":case"object":case"embed":Xt("load",i),T=g;break;case"video":case"audio":for(T=0;T<to.length;T++)Xt(to[T],i);T=g;break;case"source":Xt("error",i),T=g;break;case"img":case"image":case"link":Xt("error",i),Xt("load",i),T=g;break;case"details":Xt("toggle",i),T=g;break;case"input":Tg(i,g),T=rc(i,g),Xt("invalid",i);break;case"option":T=g;break;case"select":i._wrapperState={wasMultiple:!!g.multiple},T=qt({},g,{value:void 0}),Xt("invalid",i);break;case"textarea":Eg(i,g),T=lc(i,g),Xt("invalid",i);break;default:T=g}uc(n,T),S=T;for(A in S)if(S.hasOwnProperty(A)){var e=S[A];A==="style"?r1(i,e):A==="dangerouslySetInnerHTML"?(e=e?e.__html:void 0,e!=null&&n1(i,e)):A==="children"?typeof e=="string"?(n!=="textarea"||e!=="")&&Ro(i,e):typeof e=="number"&&Ro(i,""+e):A!=="suppressContentEditableWarning"&&A!=="suppressHydrationWarning"&&A!=="autoFocus"&&(Po.hasOwnProperty(A)?e!=null&&A==="onScroll"&&Xt("scroll",i):e!=null&&Jv(i,A,e,h))}switch(n){case"input":Xl(i),Sg(i,g,!1);break;case"textarea":Xl(i),Cg(i);break;case"option":g.value!=null&&i.setAttribute("value",""+Jn(g.value));break;case"select":i.multiple=!!g.multiple,A=g.value,A!=null?Gr(i,!!g.multiple,A,!1):g.defaultValue!=null&&Gr(i,!!g.multiple,g.defaultValue,!0);break;default:typeof T.onClick=="function"&&(i.onclick=jh)}switch(n){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break t;case"img":g=!0;break t;default:g=!1}}g&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return De(t),null;case 6:if(i&&t.stateNode!=null)MT(i,t,i.memoizedProps,g);else{if(typeof g!="string"&&t.stateNode===null)throw Error(at(166));if(n=Ls(bo.current),Ls(ji.current),Jl(t)){if(g=t.stateNode,n=t.memoizedProps,g[zi]=t,(A=g.nodeValue!==n)&&(i=oi,i!==null))switch(i.tag){case 3:Ql(g.nodeValue,n,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&Ql(g.nodeValue,n,(i.mode&1)!==0)}A&&(t.flags|=4)}else g=(n.nodeType===9?n:n.ownerDocument).createTextNode(g),g[zi]=t,t.stateNode=g}return De(t),null;case 13:if(Yt(Qt),g=t.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(jt&&ri!==null&&t.mode&1&&!(t.flags&128))k1(),Zr(),t.flags|=98560,A=!1;else if(A=Jl(t),g!==null&&g.dehydrated!==null){if(i===null){if(!A)throw Error(at(318));if(A=t.memoizedState,A=A!==null?A.dehydrated:null,!A)throw Error(at(317));A[zi]=t}else Zr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;De(t),A=!1}else Ii!==null&&($c(Ii),Ii=null),A=!0;if(!A)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(g=g!==null,g!==(i!==null&&i.memoizedState!==null)&&g&&(t.child.flags|=8192,t.mode&1&&(i===null||Qt.current&1?ce===0&&(ce=3):Dp())),t.updateQueue!==null&&(t.flags|=4),De(t),null);case 4:return _r(),Uc(i,t),i===null&&No(t.stateNode.containerInfo),De(t),null;case 10:return pp(t.type._context),De(t),null;case 17:return ei(t.type)&&Kh(),De(t),null;case 19:if(Yt(Qt),A=t.memoizedState,A===null)return De(t),null;if(g=(t.flags&128)!==0,h=A.rendering,h===null)if(g)za(A,!1);else{if(ce!==0||i!==null&&i.flags&128)for(i=t.child;i!==null;){if(h=eu(i),h!==null){for(t.flags|=128,za(A,!1),g=h.updateQueue,g!==null&&(t.updateQueue=g,t.flags|=4),t.subtreeFlags=0,g=n,n=t.child;n!==null;)A=n,i=g,A.flags&=14680066,h=A.alternate,h===null?(A.childLanes=0,A.lanes=i,A.child=null,A.subtreeFlags=0,A.memoizedProps=null,A.memoizedState=null,A.updateQueue=null,A.dependencies=null,A.stateNode=null):(A.childLanes=h.childLanes,A.lanes=h.lanes,A.child=h.child,A.subtreeFlags=0,A.deletions=null,A.memoizedProps=h.memoizedProps,A.memoizedState=h.memoizedState,A.updateQueue=h.updateQueue,A.type=h.type,i=h.dependencies,A.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),n=n.sibling;return zt(Qt,Qt.current&1|2),t.child}i=i.sibling}A.tail!==null&&ae()>ea&&(t.flags|=128,g=!0,za(A,!1),t.lanes=4194304)}else{if(!g)if(i=eu(h),i!==null){if(t.flags|=128,g=!0,n=i.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),za(A,!0),A.tail===null&&A.tailMode==="hidden"&&!h.alternate&&!jt)return De(t),null}else 2*ae()-A.renderingStartTime>ea&&n!==1073741824&&(t.flags|=128,g=!0,za(A,!1),t.lanes=4194304);A.isBackwards?(h.sibling=t.child,t.child=h):(n=A.last,n!==null?n.sibling=h:t.child=h,A.last=h)}return A.tail!==null?(t=A.tail,A.rendering=t,A.tail=t.sibling,A.renderingStartTime=ae(),t.sibling=null,n=Qt.current,zt(Qt,g?n&1|2:n&1),t):(De(t),null);case 22:case 23:return Fp(),g=t.memoizedState!==null,i!==null&&i.memoizedState!==null!==g&&(t.flags|=8192),g&&t.mode&1?si&1073741824&&(De(t),t.subtreeFlags&6&&(t.flags|=8192)):De(t),null;case 24:return null;case 25:return null}throw Error(at(156,t.tag))}function bP(i,t){switch(fp(t),t.tag){case 1:return ei(t.type)&&Kh(),i=t.flags,i&65536?(t.flags=i&-65537|128,t):null;case 3:return _r(),Yt(ti),Yt(Ve),Tp(),i=t.flags,i&65536&&!(i&128)?(t.flags=i&-65537|128,t):null;case 5:return yp(t),null;case 13:if(Yt(Qt),i=t.memoizedState,i!==null&&i.dehydrated!==null){if(t.alternate===null)throw Error(at(340));Zr()}return i=t.flags,i&65536?(t.flags=i&-65537|128,t):null;case 19:return Yt(Qt),null;case 4:return _r(),null;case 10:return pp(t.type._context),null;case 22:case 23:return Fp(),null;case 24:return null;default:return null}}var _l=!1,Ne=!1,VP=typeof WeakSet=="function"?WeakSet:Set,vt=null;function Or(i,t){var n=i.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(g){te(i,t,g)}else n.current=null}function bc(i,t,n){try{n()}catch(g){te(i,t,g)}}var d0=!1;function zP(i,t){if(Sc=Hh,i=O1(),hp(i)){if("selectionStart"in i)var n={start:i.selectionStart,end:i.selectionEnd};else t:{n=(n=i.ownerDocument)&&n.defaultView||window;var g=n.getSelection&&n.getSelection();if(g&&g.rangeCount!==0){n=g.anchorNode;var T=g.anchorOffset,A=g.focusNode;g=g.focusOffset;try{n.nodeType,A.nodeType}catch{n=null;break t}var h=0,S=-1,e=-1,u=0,y=0,f=i,l=null;e:for(;;){for(var o;f!==n||T!==0&&f.nodeType!==3||(S=h+T),f!==A||g!==0&&f.nodeType!==3||(e=h+g),f.nodeType===3&&(h+=f.nodeValue.length),(o=f.firstChild)!==null;)l=f,f=o;for(;;){if(f===i)break e;if(l===n&&++u===T&&(S=h),l===A&&++y===g&&(e=h),(o=f.nextSibling)!==null)break;f=l,l=f.parentNode}f=o}n=S===-1||e===-1?null:{start:S,end:e}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ec={focusedElem:i,selectionRange:n},Hh=!1,vt=t;vt!==null;)if(t=vt,i=t.child,(t.subtreeFlags&1028)!==0&&i!==null)i.return=t,vt=i;else for(;vt!==null;){t=vt;try{var s=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(s!==null){var a=s.memoizedProps,c=s.memoizedState,r=t.stateNode,d=r.getSnapshotBeforeUpdate(t.elementType===t.type?a:Ri(t.type,a),c);r.__reactInternalSnapshotBeforeUpdate=d}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(at(163))}}catch(p){te(t,t.return,p)}if(i=t.sibling,i!==null){i.return=t.return,vt=i;break}vt=t.return}return s=d0,d0=!1,s}function mo(i,t,n){var g=t.updateQueue;if(g=g!==null?g.lastEffect:null,g!==null){var T=g=g.next;do{if((T.tag&i)===i){var A=T.destroy;T.destroy=void 0,A!==void 0&&bc(t,n,A)}T=T.next}while(T!==g)}}function Zu(i,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&i)===i){var g=n.create;n.destroy=g()}n=n.next}while(n!==t)}}function Vc(i){var t=i.ref;if(t!==null){var n=i.stateNode;switch(i.tag){case 5:i=n;break;default:i=n}typeof t=="function"?t(i):t.current=i}}function IT(i){var t=i.alternate;t!==null&&(i.alternate=null,IT(t)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(t=i.stateNode,t!==null&&(delete t[zi],delete t[Go],delete t[Ac],delete t[EP],delete t[CP])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function LT(i){return i.tag===5||i.tag===3||i.tag===4}function c0(i){t:for(;;){for(;i.sibling===null;){if(i.return===null||LT(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function zc(i,t,n){var g=i.tag;if(g===5||g===6)i=i.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(i,t):n.insertBefore(i,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(i,n)):(t=n,t.appendChild(i)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=jh));else if(g!==4&&(i=i.child,i!==null))for(zc(i,t,n),i=i.sibling;i!==null;)zc(i,t,n),i=i.sibling}function Xc(i,t,n){var g=i.tag;if(g===5||g===6)i=i.stateNode,t?n.insertBefore(i,t):n.appendChild(i);else if(g!==4&&(i=i.child,i!==null))for(Xc(i,t,n),i=i.sibling;i!==null;)Xc(i,t,n),i=i.sibling}var Ee=null,Mi=!1;function Sn(i,t,n){for(n=n.child;n!==null;)FT(i,t,n),n=n.sibling}function FT(i,t,n){if(ki&&typeof ki.onCommitFiberUnmount=="function")try{ki.onCommitFiberUnmount(Yu,n)}catch{}switch(n.tag){case 5:Ne||Or(n,t);case 6:var g=Ee,T=Mi;Ee=null,Sn(i,t,n),Ee=g,Mi=T,Ee!==null&&(Mi?(i=Ee,n=n.stateNode,i.nodeType===8?i.parentNode.removeChild(n):i.removeChild(n)):Ee.removeChild(n.stateNode));break;case 18:Ee!==null&&(Mi?(i=Ee,n=n.stateNode,i.nodeType===8?vd(i.parentNode,n):i.nodeType===1&&vd(i,n),Fo(i)):vd(Ee,n.stateNode));break;case 4:g=Ee,T=Mi,Ee=n.stateNode.containerInfo,Mi=!0,Sn(i,t,n),Ee=g,Mi=T;break;case 0:case 11:case 14:case 15:if(!Ne&&(g=n.updateQueue,g!==null&&(g=g.lastEffect,g!==null))){T=g=g.next;do{var A=T,h=A.destroy;A=A.tag,h!==void 0&&(A&2||A&4)&&bc(n,t,h),T=T.next}while(T!==g)}Sn(i,t,n);break;case 1:if(!Ne&&(Or(n,t),g=n.stateNode,typeof g.componentWillUnmount=="function"))try{g.props=n.memoizedProps,g.state=n.memoizedState,g.componentWillUnmount()}catch(S){te(n,t,S)}Sn(i,t,n);break;case 21:Sn(i,t,n);break;case 22:n.mode&1?(Ne=(g=Ne)||n.memoizedState!==null,Sn(i,t,n),Ne=g):Sn(i,t,n);break;default:Sn(i,t,n)}}function v0(i){var t=i.updateQueue;if(t!==null){i.updateQueue=null;var n=i.stateNode;n===null&&(n=i.stateNode=new VP),t.forEach(function(g){var T=QP.bind(null,i,g);n.has(g)||(n.add(g),g.then(T,T))})}}function Pi(i,t){var n=t.deletions;if(n!==null)for(var g=0;g<n.length;g++){var T=n[g];try{var A=i,h=t,S=h;t:for(;S!==null;){switch(S.tag){case 5:Ee=S.stateNode,Mi=!1;break t;case 3:Ee=S.stateNode.containerInfo,Mi=!0;break t;case 4:Ee=S.stateNode.containerInfo,Mi=!0;break t}S=S.return}if(Ee===null)throw Error(at(160));FT(A,h,T),Ee=null,Mi=!1;var e=T.alternate;e!==null&&(e.return=null),T.return=null}catch(u){te(T,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)DT(t,i),t=t.sibling}function DT(i,t){var n=i.alternate,g=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(Pi(t,i),bi(i),g&4){try{mo(3,i,i.return),Zu(3,i)}catch(a){te(i,i.return,a)}try{mo(5,i,i.return)}catch(a){te(i,i.return,a)}}break;case 1:Pi(t,i),bi(i),g&512&&n!==null&&Or(n,n.return);break;case 5:if(Pi(t,i),bi(i),g&512&&n!==null&&Or(n,n.return),i.flags&32){var T=i.stateNode;try{Ro(T,"")}catch(a){te(i,i.return,a)}}if(g&4&&(T=i.stateNode,T!=null)){var A=i.memoizedProps,h=n!==null?n.memoizedProps:A,S=i.type,e=i.updateQueue;if(i.updateQueue=null,e!==null)try{S==="input"&&A.type==="radio"&&A.name!=null&&t1(T,A),fc(S,h);var u=fc(S,A);for(h=0;h<e.length;h+=2){var y=e[h],f=e[h+1];y==="style"?r1(T,f):y==="dangerouslySetInnerHTML"?n1(T,f):y==="children"?Ro(T,f):Jv(T,y,f,u)}switch(S){case"input":ac(T,A);break;case"textarea":e1(T,A);break;case"select":var l=T._wrapperState.wasMultiple;T._wrapperState.wasMultiple=!!A.multiple;var o=A.value;o!=null?Gr(T,!!A.multiple,o,!1):l!==!!A.multiple&&(A.defaultValue!=null?Gr(T,!!A.multiple,A.defaultValue,!0):Gr(T,!!A.multiple,A.multiple?[]:"",!1))}T[Go]=A}catch(a){te(i,i.return,a)}}break;case 6:if(Pi(t,i),bi(i),g&4){if(i.stateNode===null)throw Error(at(162));T=i.stateNode,A=i.memoizedProps;try{T.nodeValue=A}catch(a){te(i,i.return,a)}}break;case 3:if(Pi(t,i),bi(i),g&4&&n!==null&&n.memoizedState.isDehydrated)try{Fo(t.containerInfo)}catch(a){te(i,i.return,a)}break;case 4:Pi(t,i),bi(i);break;case 13:Pi(t,i),bi(i),T=i.child,T.flags&8192&&(A=T.memoizedState!==null,T.stateNode.isHidden=A,!A||T.alternate!==null&&T.alternate.memoizedState!==null||(Ip=ae())),g&4&&v0(i);break;case 22:if(y=n!==null&&n.memoizedState!==null,i.mode&1?(Ne=(u=Ne)||y,Pi(t,i),Ne=u):Pi(t,i),bi(i),g&8192){if(u=i.memoizedState!==null,(i.stateNode.isHidden=u)&&!y&&i.mode&1)for(vt=i,y=i.child;y!==null;){for(f=vt=y;vt!==null;){switch(l=vt,o=l.child,l.tag){case 0:case 11:case 14:case 15:mo(4,l,l.return);break;case 1:Or(l,l.return);var s=l.stateNode;if(typeof s.componentWillUnmount=="function"){g=l,n=l.return;try{t=g,s.props=t.memoizedProps,s.state=t.memoizedState,s.componentWillUnmount()}catch(a){te(g,n,a)}}break;case 5:Or(l,l.return);break;case 22:if(l.memoizedState!==null){m0(f);continue}}o!==null?(o.return=l,vt=o):m0(f)}y=y.sibling}t:for(y=null,f=i;;){if(f.tag===5){if(y===null){y=f;try{T=f.stateNode,u?(A=T.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none"):(S=f.stateNode,e=f.memoizedProps.style,h=e!=null&&e.hasOwnProperty("display")?e.display:null,S.style.display=s1("display",h))}catch(a){te(i,i.return,a)}}}else if(f.tag===6){if(y===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(a){te(i,i.return,a)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===i)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===i)break t;for(;f.sibling===null;){if(f.return===null||f.return===i)break t;y===f&&(y=null),f=f.return}y===f&&(y=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Pi(t,i),bi(i),g&4&&v0(i);break;case 21:break;default:Pi(t,i),bi(i)}}function bi(i){var t=i.flags;if(t&2){try{t:{for(var n=i.return;n!==null;){if(LT(n)){var g=n;break t}n=n.return}throw Error(at(160))}switch(g.tag){case 5:var T=g.stateNode;g.flags&32&&(Ro(T,""),g.flags&=-33);var A=c0(i);Xc(i,A,T);break;case 3:case 4:var h=g.stateNode.containerInfo,S=c0(i);zc(i,S,h);break;default:throw Error(at(161))}}catch(e){te(i,i.return,e)}i.flags&=-3}t&4096&&(i.flags&=-4097)}function XP(i,t,n){vt=i,OT(i)}function OT(i,t,n){for(var g=(i.mode&1)!==0;vt!==null;){var T=vt,A=T.child;if(T.tag===22&&g){var h=T.memoizedState!==null||_l;if(!h){var S=T.alternate,e=S!==null&&S.memoizedState!==null||Ne;S=_l;var u=Ne;if(_l=h,(Ne=e)&&!u)for(vt=T;vt!==null;)h=vt,e=h.child,h.tag===22&&h.memoizedState!==null?g0(T):e!==null?(e.return=h,vt=e):g0(T);for(;A!==null;)vt=A,OT(A),A=A.sibling;vt=T,_l=S,Ne=u}p0(i)}else T.subtreeFlags&8772&&A!==null?(A.return=T,vt=A):p0(i)}}function p0(i){for(;vt!==null;){var t=vt;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ne||Zu(5,t);break;case 1:var g=t.stateNode;if(t.flags&4&&!Ne)if(n===null)g.componentDidMount();else{var T=t.elementType===t.type?n.memoizedProps:Ri(t.type,n.memoizedProps);g.componentDidUpdate(T,n.memoizedState,g.__reactInternalSnapshotBeforeUpdate)}var A=t.updateQueue;A!==null&&_g(t,A,g);break;case 3:var h=t.updateQueue;if(h!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}_g(t,h,n)}break;case 5:var S=t.stateNode;if(n===null&&t.flags&4){n=S;var e=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":e.autoFocus&&n.focus();break;case"img":e.src&&(n.src=e.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var y=u.memoizedState;if(y!==null){var f=y.dehydrated;f!==null&&Fo(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(at(163))}Ne||t.flags&512&&Vc(t)}catch(l){te(t,t.return,l)}}if(t===i){vt=null;break}if(n=t.sibling,n!==null){n.return=t.return,vt=n;break}vt=t.return}}function m0(i){for(;vt!==null;){var t=vt;if(t===i){vt=null;break}var n=t.sibling;if(n!==null){n.return=t.return,vt=n;break}vt=t.return}}function g0(i){for(;vt!==null;){var t=vt;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Zu(4,t)}catch(e){te(t,n,e)}break;case 1:var g=t.stateNode;if(typeof g.componentDidMount=="function"){var T=t.return;try{g.componentDidMount()}catch(e){te(t,T,e)}}var A=t.return;try{Vc(t)}catch(e){te(t,A,e)}break;case 5:var h=t.return;try{Vc(t)}catch(e){te(t,h,e)}}}catch(e){te(t,t.return,e)}if(t===i){vt=null;break}var S=t.sibling;if(S!==null){S.return=t.return,vt=S;break}vt=t.return}}var WP=Math.ceil,su=xn.ReactCurrentDispatcher,Rp=xn.ReactCurrentOwner,Ti=xn.ReactCurrentBatchConfig,Ot=0,xe=null,he=null,Pe=0,si=0,Nr=rs(0),ce=0,Wo=null,Ys=0,qu=0,Mp=0,go=null,Je=null,Ip=0,ea=1/0,_i=null,ru=!1,Wc=null,Wn=null,th=!1,Nn=null,au=0,xo=0,Yc=null,wh=-1,Ah=0;function He(){return Ot&6?ae():wh!==-1?wh:wh=ae()}function Yn(i){return i.mode&1?Ot&2&&Pe!==0?Pe&-Pe:AP.transition!==null?(Ah===0&&(Ah=g1()),Ah):(i=Ut,i!==0||(i=window.event,i=i===void 0?16:w1(i.type)),i):1}function Fi(i,t,n,g){if(50<xo)throw xo=0,Yc=null,Error(at(185));fl(i,n,g),(!(Ot&2)||i!==xe)&&(i===xe&&(!(Ot&2)&&(qu|=n),ce===4&&Mn(i,Pe)),ii(i,g),n===1&&Ot===0&&!(t.mode&1)&&(ea=ae()+500,Ku&&as()))}function ii(i,t){var n=i.callbackNode;AA(i,t);var g=Yh(i,i===xe?Pe:0);if(g===0)n!==null&&Pg(n),i.callbackNode=null,i.callbackPriority=0;else if(t=g&-g,i.callbackPriority!==t){if(n!=null&&Pg(n),t===1)i.tag===0?wP(x0.bind(null,i)):Y1(x0.bind(null,i)),TP(function(){!(Ot&6)&&as()}),n=null;else{switch(x1(g)){case 1:n=ep;break;case 4:n=p1;break;case 16:n=Wh;break;case 536870912:n=m1;break;default:n=Wh}n=XT(n,NT.bind(null,i))}i.callbackPriority=t,i.callbackNode=n}}function NT(i,t){if(wh=-1,Ah=0,Ot&6)throw Error(at(327));var n=i.callbackNode;if(Xr()&&i.callbackNode!==n)return null;var g=Yh(i,i===xe?Pe:0);if(g===0)return null;if(g&30||g&i.expiredLanes||t)t=ou(i,g);else{t=g;var T=Ot;Ot|=2;var A=GT();(xe!==i||Pe!==t)&&(_i=null,ea=ae()+500,Bs(i,t));do try{$P();break}catch(S){BT(i,S)}while(1);vp(),su.current=A,Ot=T,he!==null?t=0:(xe=null,Pe=0,t=ce)}if(t!==0){if(t===2&&(T=mc(i),T!==0&&(g=T,t=Hc(i,T))),t===1)throw n=Wo,Bs(i,0),Mn(i,g),ii(i,ae()),n;if(t===6)Mn(i,g);else{if(T=i.current.alternate,!(g&30)&&!YP(T)&&(t=ou(i,g),t===2&&(A=mc(i),A!==0&&(g=A,t=Hc(i,A))),t===1))throw n=Wo,Bs(i,0),Mn(i,g),ii(i,ae()),n;switch(i.finishedWork=T,i.finishedLanes=g,t){case 0:case 1:throw Error(at(345));case 2:Ss(i,Je,_i);break;case 3:if(Mn(i,g),(g&130023424)===g&&(t=Ip+500-ae(),10<t)){if(Yh(i,0)!==0)break;if(T=i.suspendedLanes,(T&g)!==g){He(),i.pingedLanes|=i.suspendedLanes&T;break}i.timeoutHandle=wc(Ss.bind(null,i,Je,_i),t);break}Ss(i,Je,_i);break;case 4:if(Mn(i,g),(g&4194240)===g)break;for(t=i.eventTimes,T=-1;0<g;){var h=31-Li(g);A=1<<h,h=t[h],h>T&&(T=h),g&=~A}if(g=T,g=ae()-g,g=(120>g?120:480>g?480:1080>g?1080:1920>g?1920:3e3>g?3e3:4320>g?4320:1960*WP(g/1960))-g,10<g){i.timeoutHandle=wc(Ss.bind(null,i,Je,_i),g);break}Ss(i,Je,_i);break;case 5:Ss(i,Je,_i);break;default:throw Error(at(329))}}}return ii(i,ae()),i.callbackNode===n?NT.bind(null,i):null}function Hc(i,t){var n=go;return i.current.memoizedState.isDehydrated&&(Bs(i,t).flags|=256),i=ou(i,t),i!==2&&(t=Je,Je=n,t!==null&&$c(t)),i}function $c(i){Je===null?Je=i:Je.push.apply(Je,i)}function YP(i){for(var t=i;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var g=0;g<n.length;g++){var T=n[g],A=T.getSnapshot;T=T.value;try{if(!Di(A(),T))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===i)break;for(;t.sibling===null;){if(t.return===null||t.return===i)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Mn(i,t){for(t&=~Mp,t&=~qu,i.suspendedLanes|=t,i.pingedLanes&=~t,i=i.expirationTimes;0<t;){var n=31-Li(t),g=1<<n;i[n]=-1,t&=~g}}function x0(i){if(Ot&6)throw Error(at(327));Xr();var t=Yh(i,0);if(!(t&1))return ii(i,ae()),null;var n=ou(i,t);if(i.tag!==0&&n===2){var g=mc(i);g!==0&&(t=g,n=Hc(i,g))}if(n===1)throw n=Wo,Bs(i,0),Mn(i,t),ii(i,ae()),n;if(n===6)throw Error(at(345));return i.finishedWork=i.current.alternate,i.finishedLanes=t,Ss(i,Je,_i),ii(i,ae()),null}function Lp(i,t){var n=Ot;Ot|=1;try{return i(t)}finally{Ot=n,Ot===0&&(ea=ae()+500,Ku&&as())}}function Hs(i){Nn!==null&&Nn.tag===0&&!(Ot&6)&&Xr();var t=Ot;Ot|=1;var n=Ti.transition,g=Ut;try{if(Ti.transition=null,Ut=1,i)return i()}finally{Ut=g,Ti.transition=n,Ot=t,!(Ot&6)&&as()}}function Fp(){si=Nr.current,Yt(Nr)}function Bs(i,t){i.finishedWork=null,i.finishedLanes=0;var n=i.timeoutHandle;if(n!==-1&&(i.timeoutHandle=-1,yP(n)),he!==null)for(n=he.return;n!==null;){var g=n;switch(fp(g),g.tag){case 1:g=g.type.childContextTypes,g!=null&&Kh();break;case 3:_r(),Yt(ti),Yt(Ve),Tp();break;case 5:yp(g);break;case 4:_r();break;case 13:Yt(Qt);break;case 19:Yt(Qt);break;case 10:pp(g.type._context);break;case 22:case 23:Fp()}n=n.return}if(xe=i,he=i=Hn(i.current,null),Pe=si=t,ce=0,Wo=null,Mp=qu=Ys=0,Je=go=null,Is!==null){for(t=0;t<Is.length;t++)if(n=Is[t],g=n.interleaved,g!==null){n.interleaved=null;var T=g.next,A=n.pending;if(A!==null){var h=A.next;A.next=T,g.next=h}n.pending=g}Is=null}return i}function BT(i,t){do{var n=he;try{if(vp(),Sh.current=nu,iu){for(var g=Jt.memoizedState;g!==null;){var T=g.queue;T!==null&&(T.pending=null),g=g.next}iu=!1}if(Ws=0,me=de=Jt=null,po=!1,Vo=0,Rp.current=null,n===null||n.return===null){ce=1,Wo=t,he=null;break}t:{var A=i,h=n.return,S=n,e=t;if(t=Pe,S.flags|=32768,e!==null&&typeof e=="object"&&typeof e.then=="function"){var u=e,y=S,f=y.tag;if(!(y.mode&1)&&(f===0||f===11||f===15)){var l=y.alternate;l?(y.updateQueue=l.updateQueue,y.memoizedState=l.memoizedState,y.lanes=l.lanes):(y.updateQueue=null,y.memoizedState=null)}var o=r0(h);if(o!==null){o.flags&=-257,a0(o,h,S,A,t),o.mode&1&&s0(A,u,t),t=o,e=u;var s=t.updateQueue;if(s===null){var a=new Set;a.add(e),t.updateQueue=a}else s.add(e);break t}else{if(!(t&1)){s0(A,u,t),Dp();break t}e=Error(at(426))}}else if(jt&&S.mode&1){var c=r0(h);if(c!==null){!(c.flags&65536)&&(c.flags|=256),a0(c,h,S,A,t),dp(ta(e,S));break t}}A=e=ta(e,S),ce!==4&&(ce=2),go===null?go=[A]:go.push(A),A=h;do{switch(A.tag){case 3:A.flags|=65536,t&=-t,A.lanes|=t;var r=xT(A,e,t);qg(A,r);break t;case 1:S=e;var d=A.type,v=A.stateNode;if(!(A.flags&128)&&(typeof d.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Wn===null||!Wn.has(v)))){A.flags|=65536,t&=-t,A.lanes|=t;var p=yT(A,S,t);qg(A,p);break t}}A=A.return}while(A!==null)}bT(n)}catch(m){t=m,he===n&&n!==null&&(he=n=n.return);continue}break}while(1)}function GT(){var i=su.current;return su.current=nu,i===null?nu:i}function Dp(){(ce===0||ce===3||ce===2)&&(ce=4),xe===null||!(Ys&268435455)&&!(qu&268435455)||Mn(xe,Pe)}function ou(i,t){var n=Ot;Ot|=2;var g=GT();(xe!==i||Pe!==t)&&(_i=null,Bs(i,t));do try{HP();break}catch(T){BT(i,T)}while(1);if(vp(),Ot=n,su.current=g,he!==null)throw Error(at(261));return xe=null,Pe=0,ce}function HP(){for(;he!==null;)UT(he)}function $P(){for(;he!==null&&!mA();)UT(he)}function UT(i){var t=zT(i.alternate,i,si);i.memoizedProps=i.pendingProps,t===null?bT(i):he=t,Rp.current=null}function bT(i){var t=i;do{var n=t.alternate;if(i=t.return,t.flags&32768){if(n=bP(n,t),n!==null){n.flags&=32767,he=n;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{ce=6,he=null;return}}else if(n=UP(n,t,si),n!==null){he=n;return}if(t=t.sibling,t!==null){he=t;return}he=t=i}while(t!==null);ce===0&&(ce=5)}function Ss(i,t,n){var g=Ut,T=Ti.transition;try{Ti.transition=null,Ut=1,kP(i,t,n,g)}finally{Ti.transition=T,Ut=g}return null}function kP(i,t,n,g){do Xr();while(Nn!==null);if(Ot&6)throw Error(at(327));n=i.finishedWork;var T=i.finishedLanes;if(n===null)return null;if(i.finishedWork=null,i.finishedLanes=0,n===i.current)throw Error(at(177));i.callbackNode=null,i.callbackPriority=0;var A=n.lanes|n.childLanes;if(PA(i,A),i===xe&&(he=xe=null,Pe=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||th||(th=!0,XT(Wh,function(){return Xr(),null})),A=(n.flags&15990)!==0,n.subtreeFlags&15990||A){A=Ti.transition,Ti.transition=null;var h=Ut;Ut=1;var S=Ot;Ot|=4,Rp.current=null,zP(i,n),DT(n,i),dP(Ec),Hh=!!Sc,Ec=Sc=null,i.current=n,XP(n),gA(),Ot=S,Ut=h,Ti.transition=A}else i.current=n;if(th&&(th=!1,Nn=i,au=T),A=i.pendingLanes,A===0&&(Wn=null),TA(n.stateNode),ii(i,ae()),t!==null)for(g=i.onRecoverableError,n=0;n<t.length;n++)T=t[n],g(T.value,{componentStack:T.stack,digest:T.digest});if(ru)throw ru=!1,i=Wc,Wc=null,i;return au&1&&i.tag!==0&&Xr(),A=i.pendingLanes,A&1?i===Yc?xo++:(xo=0,Yc=i):xo=0,as(),null}function Xr(){if(Nn!==null){var i=x1(au),t=Ti.transition,n=Ut;try{if(Ti.transition=null,Ut=16>i?16:i,Nn===null)var g=!1;else{if(i=Nn,Nn=null,au=0,Ot&6)throw Error(at(331));var T=Ot;for(Ot|=4,vt=i.current;vt!==null;){var A=vt,h=A.child;if(vt.flags&16){var S=A.deletions;if(S!==null){for(var e=0;e<S.length;e++){var u=S[e];for(vt=u;vt!==null;){var y=vt;switch(y.tag){case 0:case 11:case 15:mo(8,y,A)}var f=y.child;if(f!==null)f.return=y,vt=f;else for(;vt!==null;){y=vt;var l=y.sibling,o=y.return;if(IT(y),y===u){vt=null;break}if(l!==null){l.return=o,vt=l;break}vt=o}}}var s=A.alternate;if(s!==null){var a=s.child;if(a!==null){s.child=null;do{var c=a.sibling;a.sibling=null,a=c}while(a!==null)}}vt=A}}if(A.subtreeFlags&2064&&h!==null)h.return=A,vt=h;else t:for(;vt!==null;){if(A=vt,A.flags&2048)switch(A.tag){case 0:case 11:case 15:mo(9,A,A.return)}var r=A.sibling;if(r!==null){r.return=A.return,vt=r;break t}vt=A.return}}var d=i.current;for(vt=d;vt!==null;){h=vt;var v=h.child;if(h.subtreeFlags&2064&&v!==null)v.return=h,vt=v;else t:for(h=d;vt!==null;){if(S=vt,S.flags&2048)try{switch(S.tag){case 0:case 11:case 15:Zu(9,S)}}catch(m){te(S,S.return,m)}if(S===h){vt=null;break t}var p=S.sibling;if(p!==null){p.return=S.return,vt=p;break t}vt=S.return}}if(Ot=T,as(),ki&&typeof ki.onPostCommitFiberRoot=="function")try{ki.onPostCommitFiberRoot(Yu,i)}catch{}g=!0}return g}finally{Ut=n,Ti.transition=t}}return!1}function y0(i,t,n){t=ta(n,t),t=xT(i,t,1),i=Xn(i,t,1),t=He(),i!==null&&(fl(i,1,t),ii(i,t))}function te(i,t,n){if(i.tag===3)y0(i,i,n);else for(;t!==null;){if(t.tag===3){y0(t,i,n);break}else if(t.tag===1){var g=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(Wn===null||!Wn.has(g))){i=ta(n,i),i=yT(t,i,1),t=Xn(t,i,1),i=He(),t!==null&&(fl(t,1,i),ii(t,i));break}}t=t.return}}function jP(i,t,n){var g=i.pingCache;g!==null&&g.delete(t),t=He(),i.pingedLanes|=i.suspendedLanes&n,xe===i&&(Pe&n)===n&&(ce===4||ce===3&&(Pe&130023424)===Pe&&500>ae()-Ip?Bs(i,0):Mp|=n),ii(i,t)}function VT(i,t){t===0&&(i.mode&1?(t=Hl,Hl<<=1,!(Hl&130023424)&&(Hl=4194304)):t=1);var n=He();i=vn(i,t),i!==null&&(fl(i,t,n),ii(i,n))}function KP(i){var t=i.memoizedState,n=0;t!==null&&(n=t.retryLane),VT(i,n)}function QP(i,t){var n=0;switch(i.tag){case 13:var g=i.stateNode,T=i.memoizedState;T!==null&&(n=T.retryLane);break;case 19:g=i.stateNode;break;default:throw Error(at(314))}g!==null&&g.delete(t),VT(i,n)}var zT;zT=function(i,t,n){if(i!==null)if(i.memoizedProps!==t.pendingProps||ti.current)qe=!0;else{if(!(i.lanes&n)&&!(t.flags&128))return qe=!1,GP(i,t,n);qe=!!(i.flags&131072)}else qe=!1,jt&&t.flags&1048576&&H1(t,Zh,t.index);switch(t.lanes=0,t.tag){case 2:var g=t.type;Ch(i,t),i=t.pendingProps;var T=Jr(t,Ve.current);zr(t,n),T=Ep(null,t,g,i,T,n);var A=Cp();return t.flags|=1,typeof T=="object"&&T!==null&&typeof T.render=="function"&&T.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ei(g)?(A=!0,Qh(t)):A=!1,t.memoizedState=T.state!==null&&T.state!==void 0?T.state:null,gp(t),T.updater=Ju,t.stateNode=T,T._reactInternals=t,Fc(t,g,i,n),t=Nc(null,t,g,!0,A,n)):(t.tag=0,jt&&A&&up(t),ze(null,t,T,n),t=t.child),t;case 16:g=t.elementType;t:{switch(Ch(i,t),i=t.pendingProps,T=g._init,g=T(g._payload),t.type=g,T=t.tag=ZP(g),i=Ri(g,i),T){case 0:t=Oc(null,t,g,i,n);break t;case 1:t=h0(null,t,g,i,n);break t;case 11:t=o0(null,t,g,i,n);break t;case 14:t=l0(null,t,g,Ri(g.type,i),n);break t}throw Error(at(306,g,""))}return t;case 0:return g=t.type,T=t.pendingProps,T=t.elementType===g?T:Ri(g,T),Oc(i,t,g,T,n);case 1:return g=t.type,T=t.pendingProps,T=t.elementType===g?T:Ri(g,T),h0(i,t,g,T,n);case 3:t:{if(CT(t),i===null)throw Error(at(387));g=t.pendingProps,A=t.memoizedState,T=A.element,J1(i,t),tu(t,g,null,n);var h=t.memoizedState;if(g=h.element,A.isDehydrated)if(A={element:g,isDehydrated:!1,cache:h.cache,pendingSuspenseBoundaries:h.pendingSuspenseBoundaries,transitions:h.transitions},t.updateQueue.baseState=A,t.memoizedState=A,t.flags&256){T=ta(Error(at(423)),t),t=u0(i,t,g,n,T);break t}else if(g!==T){T=ta(Error(at(424)),t),t=u0(i,t,g,n,T);break t}else for(ri=zn(t.stateNode.containerInfo.firstChild),oi=t,jt=!0,Ii=null,n=K1(t,null,g,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Zr(),g===T){t=pn(i,t,n);break t}ze(i,t,g,n)}t=t.child}return t;case 5:return Z1(t),i===null&&Mc(t),g=t.type,T=t.pendingProps,A=i!==null?i.memoizedProps:null,h=T.children,Cc(g,T)?h=null:A!==null&&Cc(g,A)&&(t.flags|=32),ET(i,t),ze(i,t,h,n),t.child;case 6:return i===null&&Mc(t),null;case 13:return wT(i,t,n);case 4:return xp(t,t.stateNode.containerInfo),g=t.pendingProps,i===null?t.child=qr(t,null,g,n):ze(i,t,g,n),t.child;case 11:return g=t.type,T=t.pendingProps,T=t.elementType===g?T:Ri(g,T),o0(i,t,g,T,n);case 7:return ze(i,t,t.pendingProps,n),t.child;case 8:return ze(i,t,t.pendingProps.children,n),t.child;case 12:return ze(i,t,t.pendingProps.children,n),t.child;case 10:t:{if(g=t.type._context,T=t.pendingProps,A=t.memoizedProps,h=T.value,zt(qh,g._currentValue),g._currentValue=h,A!==null)if(Di(A.value,h)){if(A.children===T.children&&!ti.current){t=pn(i,t,n);break t}}else for(A=t.child,A!==null&&(A.return=t);A!==null;){var S=A.dependencies;if(S!==null){h=A.child;for(var e=S.firstContext;e!==null;){if(e.context===g){if(A.tag===1){e=un(-1,n&-n),e.tag=2;var u=A.updateQueue;if(u!==null){u=u.shared;var y=u.pending;y===null?e.next=e:(e.next=y.next,y.next=e),u.pending=e}}A.lanes|=n,e=A.alternate,e!==null&&(e.lanes|=n),Ic(A.return,n,t),S.lanes|=n;break}e=e.next}}else if(A.tag===10)h=A.type===t.type?null:A.child;else if(A.tag===18){if(h=A.return,h===null)throw Error(at(341));h.lanes|=n,S=h.alternate,S!==null&&(S.lanes|=n),Ic(h,n,t),h=A.sibling}else h=A.child;if(h!==null)h.return=A;else for(h=A;h!==null;){if(h===t){h=null;break}if(A=h.sibling,A!==null){A.return=h.return,h=A;break}h=h.return}A=h}ze(i,t,T.children,n),t=t.child}return t;case 9:return T=t.type,g=t.pendingProps.children,zr(t,n),T=Ci(T),g=g(T),t.flags|=1,ze(i,t,g,n),t.child;case 14:return g=t.type,T=Ri(g,t.pendingProps),T=Ri(g.type,T),l0(i,t,g,T,n);case 15:return TT(i,t,t.type,t.pendingProps,n);case 17:return g=t.type,T=t.pendingProps,T=t.elementType===g?T:Ri(g,T),Ch(i,t),t.tag=1,ei(g)?(i=!0,Qh(t)):i=!1,zr(t,n),gT(t,g,T),Fc(t,g,T,n),Nc(null,t,g,!0,i,n);case 19:return AT(i,t,n);case 22:return ST(i,t,n)}throw Error(at(156,t.tag))};function XT(i,t){return v1(i,t)}function JP(i,t,n,g){this.tag=i,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xi(i,t,n,g){return new JP(i,t,n,g)}function Op(i){return i=i.prototype,!(!i||!i.isReactComponent)}function ZP(i){if(typeof i=="function")return Op(i)?1:0;if(i!=null){if(i=i.$$typeof,i===qv)return 11;if(i===_v)return 14}return 2}function Hn(i,t){var n=i.alternate;return n===null?(n=xi(i.tag,t,i.key,i.mode),n.elementType=i.elementType,n.type=i.type,n.stateNode=i.stateNode,n.alternate=i,i.alternate=n):(n.pendingProps=t,n.type=i.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=i.flags&14680064,n.childLanes=i.childLanes,n.lanes=i.lanes,n.child=i.child,n.memoizedProps=i.memoizedProps,n.memoizedState=i.memoizedState,n.updateQueue=i.updateQueue,t=i.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=i.sibling,n.index=i.index,n.ref=i.ref,n}function Ph(i,t,n,g,T,A){var h=2;if(g=i,typeof i=="function")Op(i)&&(h=1);else if(typeof i=="string")h=5;else t:switch(i){case wr:return Gs(n.children,T,A,t);case Zv:h=8,T|=8;break;case ec:return i=xi(12,n,t,T|2),i.elementType=ec,i.lanes=A,i;case ic:return i=xi(13,n,t,T),i.elementType=ic,i.lanes=A,i;case nc:return i=xi(19,n,t,T),i.elementType=nc,i.lanes=A,i;case Zy:return _u(n,T,A,t);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case Qy:h=10;break t;case Jy:h=9;break t;case qv:h=11;break t;case _v:h=14;break t;case An:h=16,g=null;break t}throw Error(at(130,i==null?i:typeof i,""))}return t=xi(h,n,t,T),t.elementType=i,t.type=g,t.lanes=A,t}function Gs(i,t,n,g){return i=xi(7,i,g,t),i.lanes=n,i}function _u(i,t,n,g){return i=xi(22,i,g,t),i.elementType=Zy,i.lanes=n,i.stateNode={isHidden:!1},i}function Ed(i,t,n){return i=xi(6,i,null,t),i.lanes=n,i}function Cd(i,t,n){return t=xi(4,i.children!==null?i.children:[],i.key,t),t.lanes=n,t.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},t}function qP(i,t,n,g,T){this.tag=t,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=nd(0),this.expirationTimes=nd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=nd(0),this.identifierPrefix=g,this.onRecoverableError=T,this.mutableSourceEagerHydrationData=null}function Np(i,t,n,g,T,A,h,S,e){return i=new qP(i,t,n,S,e),t===1?(t=1,A===!0&&(t|=8)):t=0,A=xi(3,null,null,t),i.current=A,A.stateNode=i,A.memoizedState={element:g,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},gp(A),i}function _P(i,t,n){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Cr,key:g==null?null:""+g,children:i,containerInfo:t,implementation:n}}function WT(i){if(!i)return Zn;i=i._reactInternals;t:{if(rr(i)!==i||i.tag!==1)throw Error(at(170));var t=i;do{switch(t.tag){case 3:t=t.stateNode.context;break t;case 1:if(ei(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break t}}t=t.return}while(t!==null);throw Error(at(171))}if(i.tag===1){var n=i.type;if(ei(n))return W1(i,n,t)}return t}function YT(i,t,n,g,T,A,h,S,e){return i=Np(n,g,!0,i,T,A,h,S,e),i.context=WT(null),n=i.current,g=He(),T=Yn(n),A=un(g,T),A.callback=t??null,Xn(n,A,T),i.current.lanes=T,fl(i,T,g),ii(i,g),i}function tf(i,t,n,g){var T=t.current,A=He(),h=Yn(T);return n=WT(n),t.context===null?t.context=n:t.pendingContext=n,t=un(A,h),t.payload={element:i},g=g===void 0?null:g,g!==null&&(t.callback=g),i=Xn(T,t,h),i!==null&&(Fi(i,T,h,A),Th(i,T,h)),h}function lu(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function T0(i,t){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var n=i.retryLane;i.retryLane=n!==0&&n<t?n:t}}function Bp(i,t){T0(i,t),(i=i.alternate)&&T0(i,t)}function t3(){return null}var HT=typeof reportError=="function"?reportError:function(i){console.error(i)};function Gp(i){this._internalRoot=i}ef.prototype.render=Gp.prototype.render=function(i){var t=this._internalRoot;if(t===null)throw Error(at(409));tf(i,t,null,null)};ef.prototype.unmount=Gp.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var t=i.containerInfo;Hs(function(){tf(null,i,null,null)}),t[cn]=null}};function ef(i){this._internalRoot=i}ef.prototype.unstable_scheduleHydration=function(i){if(i){var t=S1();i={blockedOn:null,target:i,priority:t};for(var n=0;n<Rn.length&&t!==0&&t<Rn[n].priority;n++);Rn.splice(n,0,i),n===0&&C1(i)}};function Up(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function nf(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function S0(){}function e3(i,t,n,g,T){if(T){if(typeof g=="function"){var A=g;g=function(){var u=lu(h);A.call(u)}}var h=YT(t,g,i,0,null,!1,!1,"",S0);return i._reactRootContainer=h,i[cn]=h.current,No(i.nodeType===8?i.parentNode:i),Hs(),h}for(;T=i.lastChild;)i.removeChild(T);if(typeof g=="function"){var S=g;g=function(){var u=lu(e);S.call(u)}}var e=Np(i,0,!1,null,null,!1,!1,"",S0);return i._reactRootContainer=e,i[cn]=e.current,No(i.nodeType===8?i.parentNode:i),Hs(function(){tf(t,e,n,g)}),e}function sf(i,t,n,g,T){var A=n._reactRootContainer;if(A){var h=A;if(typeof T=="function"){var S=T;T=function(){var e=lu(h);S.call(e)}}tf(t,h,i,T)}else h=e3(n,t,i,T,g);return lu(h)}y1=function(i){switch(i.tag){case 3:var t=i.stateNode;if(t.current.memoizedState.isDehydrated){var n=_a(t.pendingLanes);n!==0&&(ip(t,n|1),ii(t,ae()),!(Ot&6)&&(ea=ae()+500,as()))}break;case 13:Hs(function(){var g=vn(i,1);if(g!==null){var T=He();Fi(g,i,1,T)}}),Bp(i,1)}};np=function(i){if(i.tag===13){var t=vn(i,134217728);if(t!==null){var n=He();Fi(t,i,134217728,n)}Bp(i,134217728)}};T1=function(i){if(i.tag===13){var t=Yn(i),n=vn(i,t);if(n!==null){var g=He();Fi(n,i,t,g)}Bp(i,t)}};S1=function(){return Ut};E1=function(i,t){var n=Ut;try{return Ut=i,t()}finally{Ut=n}};cc=function(i,t,n){switch(t){case"input":if(ac(i,n),t=n.name,n.type==="radio"&&t!=null){for(n=i;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var g=n[t];if(g!==i&&g.form===i.form){var T=ju(g);if(!T)throw Error(at(90));_y(g),ac(g,T)}}}break;case"textarea":e1(i,n);break;case"select":t=n.value,t!=null&&Gr(i,!!n.multiple,t,!1)}};l1=Lp;h1=Hs;var i3={usingClientEntryPoint:!1,Events:[cl,Mr,ju,a1,o1,Lp]},Xa={findFiberByHostInstance:Ms,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},n3={bundleType:Xa.bundleType,version:Xa.version,rendererPackageName:Xa.rendererPackageName,rendererConfig:Xa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:xn.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=d1(i),i===null?null:i.stateNode},findFiberByHostInstance:Xa.findFiberByHostInstance||t3,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var eh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!eh.isDisabled&&eh.supportsFiber)try{Yu=eh.inject(n3),ki=eh}catch{}}di.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=i3;di.createPortal=function(i,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Up(t))throw Error(at(200));return _P(i,t,null,n)};di.createRoot=function(i,t){if(!Up(i))throw Error(at(299));var n=!1,g="",T=HT;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(g=t.identifierPrefix),t.onRecoverableError!==void 0&&(T=t.onRecoverableError)),t=Np(i,1,!1,null,null,n,!1,g,T),i[cn]=t.current,No(i.nodeType===8?i.parentNode:i),new Gp(t)};di.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var t=i._reactInternals;if(t===void 0)throw typeof i.render=="function"?Error(at(188)):(i=Object.keys(i).join(","),Error(at(268,i)));return i=d1(t),i=i===null?null:i.stateNode,i};di.flushSync=function(i){return Hs(i)};di.hydrate=function(i,t,n){if(!nf(t))throw Error(at(200));return sf(null,i,t,!0,n)};di.hydrateRoot=function(i,t,n){if(!Up(i))throw Error(at(405));var g=n!=null&&n.hydratedSources||null,T=!1,A="",h=HT;if(n!=null&&(n.unstable_strictMode===!0&&(T=!0),n.identifierPrefix!==void 0&&(A=n.identifierPrefix),n.onRecoverableError!==void 0&&(h=n.onRecoverableError)),t=YT(t,null,i,1,n??null,T,!1,A,h),i[cn]=t.current,No(i),g)for(i=0;i<g.length;i++)n=g[i],T=n._getVersion,T=T(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,T]:t.mutableSourceEagerHydrationData.push(n,T);return new ef(t)};di.render=function(i,t,n){if(!nf(t))throw Error(at(200));return sf(null,i,t,!1,n)};di.unmountComponentAtNode=function(i){if(!nf(i))throw Error(at(40));return i._reactRootContainer?(Hs(function(){sf(null,null,i,!1,function(){i._reactRootContainer=null,i[cn]=null})}),!0):!1};di.unstable_batchedUpdates=Lp;di.unstable_renderSubtreeIntoContainer=function(i,t,n,g){if(!nf(n))throw Error(at(200));if(i==null||i._reactInternals===void 0)throw Error(at(38));return sf(i,t,n,!1,g)};di.version="18.3.1-next-f1338f8080-20240426";function $T(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE($T)}catch(i){console.error(i)}}$T(),$y.exports=di;var s3=$y.exports,kT,E0=s3;kT=E0.createRoot,E0.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Yo(){return Yo=Object.assign?Object.assign.bind():function(i){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var g in n)Object.prototype.hasOwnProperty.call(n,g)&&(i[g]=n[g])}return i},Yo.apply(this,arguments)}var Bn;(function(i){i.Pop="POP",i.Push="PUSH",i.Replace="REPLACE"})(Bn||(Bn={}));const C0="popstate";function r3(i){i===void 0&&(i={});function t(g,T){let{pathname:A,search:h,hash:S}=g.location;return kc("",{pathname:A,search:h,hash:S},T.state&&T.state.usr||null,T.state&&T.state.key||"default")}function n(g,T){return typeof T=="string"?T:hu(T)}return o3(t,n,null,i)}function ne(i,t){if(i===!1||i===null||typeof i>"u")throw new Error(t)}function jT(i,t){if(!i){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function a3(){return Math.random().toString(36).substr(2,8)}function w0(i,t){return{usr:i.state,key:i.key,idx:t}}function kc(i,t,n,g){return n===void 0&&(n=null),Yo({pathname:typeof i=="string"?i:i.pathname,search:"",hash:""},typeof t=="string"?ya(t):t,{state:n,key:t&&t.key||g||a3()})}function hu(i){let{pathname:t="/",search:n="",hash:g=""}=i;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),g&&g!=="#"&&(t+=g.charAt(0)==="#"?g:"#"+g),t}function ya(i){let t={};if(i){let n=i.indexOf("#");n>=0&&(t.hash=i.substr(n),i=i.substr(0,n));let g=i.indexOf("?");g>=0&&(t.search=i.substr(g),i=i.substr(0,g)),i&&(t.pathname=i)}return t}function o3(i,t,n,g){g===void 0&&(g={});let{window:T=document.defaultView,v5Compat:A=!1}=g,h=T.history,S=Bn.Pop,e=null,u=y();u==null&&(u=0,h.replaceState(Yo({},h.state,{idx:u}),""));function y(){return(h.state||{idx:null}).idx}function f(){S=Bn.Pop;let c=y(),r=c==null?null:c-u;u=c,e&&e({action:S,location:a.location,delta:r})}function l(c,r){S=Bn.Push;let d=kc(a.location,c,r);n&&n(d,c),u=y()+1;let v=w0(d,u),p=a.createHref(d);try{h.pushState(v,"",p)}catch(m){if(m instanceof DOMException&&m.name==="DataCloneError")throw m;T.location.assign(p)}A&&e&&e({action:S,location:a.location,delta:1})}function o(c,r){S=Bn.Replace;let d=kc(a.location,c,r);n&&n(d,c),u=y();let v=w0(d,u),p=a.createHref(d);h.replaceState(v,"",p),A&&e&&e({action:S,location:a.location,delta:0})}function s(c){let r=T.location.origin!=="null"?T.location.origin:T.location.href,d=typeof c=="string"?c:hu(c);return d=d.replace(/ $/,"%20"),ne(r,"No window.location.(origin|href) available to create URL for href: "+d),new URL(d,r)}let a={get action(){return S},get location(){return i(T,h)},listen(c){if(e)throw new Error("A history only accepts one active listener");return T.addEventListener(C0,f),e=c,()=>{T.removeEventListener(C0,f),e=null}},createHref(c){return t(T,c)},createURL:s,encodeLocation(c){let r=s(c);return{pathname:r.pathname,search:r.search,hash:r.hash}},push:l,replace:o,go(c){return h.go(c)}};return a}var A0;(function(i){i.data="data",i.deferred="deferred",i.redirect="redirect",i.error="error"})(A0||(A0={}));function l3(i,t,n){return n===void 0&&(n="/"),h3(i,t,n,!1)}function h3(i,t,n,g){let T=typeof t=="string"?ya(t):t,A=ia(T.pathname||"/",n);if(A==null)return null;let h=KT(i);u3(h);let S=null;for(let e=0;S==null&&e<h.length;++e){let u=S3(A);S=y3(h[e],u,g)}return S}function KT(i,t,n,g){t===void 0&&(t=[]),n===void 0&&(n=[]),g===void 0&&(g="");let T=(A,h,S)=>{let e={relativePath:S===void 0?A.path||"":S,caseSensitive:A.caseSensitive===!0,childrenIndex:h,route:A};e.relativePath.startsWith("/")&&(ne(e.relativePath.startsWith(g),'Absolute route path "'+e.relativePath+'" nested under path '+('"'+g+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),e.relativePath=e.relativePath.slice(g.length));let u=$n([g,e.relativePath]),y=n.concat(e);A.children&&A.children.length>0&&(ne(A.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),KT(A.children,t,y,u)),!(A.path==null&&!A.index)&&t.push({path:u,score:g3(u,A.index),routesMeta:y})};return i.forEach((A,h)=>{var S;if(A.path===""||!((S=A.path)!=null&&S.includes("?")))T(A,h);else for(let e of QT(A.path))T(A,h,e)}),t}function QT(i){let t=i.split("/");if(t.length===0)return[];let[n,...g]=t,T=n.endsWith("?"),A=n.replace(/\?$/,"");if(g.length===0)return T?[A,""]:[A];let h=QT(g.join("/")),S=[];return S.push(...h.map(e=>e===""?A:[A,e].join("/"))),T&&S.push(...h),S.map(e=>i.startsWith("/")&&e===""?"/":e)}function u3(i){i.sort((t,n)=>t.score!==n.score?n.score-t.score:x3(t.routesMeta.map(g=>g.childrenIndex),n.routesMeta.map(g=>g.childrenIndex)))}const f3=/^:[\w-]+$/,d3=3,c3=2,v3=1,p3=10,m3=-2,P0=i=>i==="*";function g3(i,t){let n=i.split("/"),g=n.length;return n.some(P0)&&(g+=m3),t&&(g+=c3),n.filter(T=>!P0(T)).reduce((T,A)=>T+(f3.test(A)?d3:A===""?v3:p3),g)}function x3(i,t){return i.length===t.length&&i.slice(0,-1).every((g,T)=>g===t[T])?i[i.length-1]-t[t.length-1]:0}function y3(i,t,n){n===void 0&&(n=!1);let{routesMeta:g}=i,T={},A="/",h=[];for(let S=0;S<g.length;++S){let e=g[S],u=S===g.length-1,y=A==="/"?t:t.slice(A.length)||"/",f=uu({path:e.relativePath,caseSensitive:e.caseSensitive,end:u},y),l=e.route;if(!f&&u&&n&&!g[g.length-1].route.index&&(f=uu({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},y)),!f)return null;Object.assign(T,f.params),h.push({params:T,pathname:$n([A,f.pathname]),pathnameBase:A3($n([A,f.pathnameBase])),route:l}),f.pathnameBase!=="/"&&(A=$n([A,f.pathnameBase]))}return h}function uu(i,t){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,g]=T3(i.path,i.caseSensitive,i.end),T=t.match(n);if(!T)return null;let A=T[0],h=A.replace(/(.)\/+$/,"$1"),S=T.slice(1);return{params:g.reduce((u,y,f)=>{let{paramName:l,isOptional:o}=y;if(l==="*"){let a=S[f]||"";h=A.slice(0,A.length-a.length).replace(/(.)\/+$/,"$1")}const s=S[f];return o&&!s?u[l]=void 0:u[l]=(s||"").replace(/%2F/g,"/"),u},{}),pathname:A,pathnameBase:h,pattern:i}}function T3(i,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),jT(i==="*"||!i.endsWith("*")||i.endsWith("/*"),'Route path "'+i+'" will be treated as if it were '+('"'+i.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+i.replace(/\*$/,"/*")+'".'));let g=[],T="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,S,e)=>(g.push({paramName:S,isOptional:e!=null}),e?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(g.push({paramName:"*"}),T+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?T+="\\/*$":i!==""&&i!=="/"&&(T+="(?:(?=\\/|$))"),[new RegExp(T,t?void 0:"i"),g]}function S3(i){try{return i.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return jT(!1,'The URL path "'+i+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),i}}function ia(i,t){if(t==="/")return i;if(!i.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,g=i.charAt(n);return g&&g!=="/"?null:i.slice(n)||"/"}function E3(i,t){t===void 0&&(t="/");let{pathname:n,search:g="",hash:T=""}=typeof i=="string"?ya(i):i;return{pathname:n?n.startsWith("/")?n:C3(n,t):t,search:P3(g),hash:R3(T)}}function C3(i,t){let n=t.replace(/\/+$/,"").split("/");return i.split("/").forEach(T=>{T===".."?n.length>1&&n.pop():T!=="."&&n.push(T)}),n.length>1?n.join("/"):"/"}function wd(i,t,n,g){return"Cannot include a '"+i+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(g)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function w3(i){return i.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function JT(i,t){let n=w3(i);return t?n.map((g,T)=>T===n.length-1?g.pathname:g.pathnameBase):n.map(g=>g.pathnameBase)}function ZT(i,t,n,g){g===void 0&&(g=!1);let T;typeof i=="string"?T=ya(i):(T=Yo({},i),ne(!T.pathname||!T.pathname.includes("?"),wd("?","pathname","search",T)),ne(!T.pathname||!T.pathname.includes("#"),wd("#","pathname","hash",T)),ne(!T.search||!T.search.includes("#"),wd("#","search","hash",T)));let A=i===""||T.pathname==="",h=A?"/":T.pathname,S;if(h==null)S=n;else{let f=t.length-1;if(!g&&h.startsWith("..")){let l=h.split("/");for(;l[0]==="..";)l.shift(),f-=1;T.pathname=l.join("/")}S=f>=0?t[f]:"/"}let e=E3(T,S),u=h&&h!=="/"&&h.endsWith("/"),y=(A||h===".")&&n.endsWith("/");return!e.pathname.endsWith("/")&&(u||y)&&(e.pathname+="/"),e}const $n=i=>i.join("/").replace(/\/\/+/g,"/"),A3=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),P3=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,R3=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function M3(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}const qT=["post","put","patch","delete"];new Set(qT);const I3=["get",...qT];new Set(I3);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ho(){return Ho=Object.assign?Object.assign.bind():function(i){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var g in n)Object.prototype.hasOwnProperty.call(n,g)&&(i[g]=n[g])}return i},Ho.apply(this,arguments)}const rf=tt.createContext(null),_T=tt.createContext(null),os=tt.createContext(null),af=tt.createContext(null),ar=tt.createContext({outlet:null,matches:[],isDataRoute:!1}),tS=tt.createContext(null);function L3(i,t){let{relative:n}=t===void 0?{}:t;pl()||ne(!1);let{basename:g,navigator:T}=tt.useContext(os),{hash:A,pathname:h,search:S}=of(i,{relative:n}),e=h;return g!=="/"&&(e=h==="/"?g:$n([g,h])),T.createHref({pathname:e,search:S,hash:A})}function pl(){return tt.useContext(af)!=null}function Ta(){return pl()||ne(!1),tt.useContext(af).location}function eS(i){tt.useContext(os).static||tt.useLayoutEffect(i)}function F3(){let{isDataRoute:i}=tt.useContext(ar);return i?H3():D3()}function D3(){pl()||ne(!1);let i=tt.useContext(rf),{basename:t,future:n,navigator:g}=tt.useContext(os),{matches:T}=tt.useContext(ar),{pathname:A}=Ta(),h=JSON.stringify(JT(T,n.v7_relativeSplatPath)),S=tt.useRef(!1);return eS(()=>{S.current=!0}),tt.useCallback(function(u,y){if(y===void 0&&(y={}),!S.current)return;if(typeof u=="number"){g.go(u);return}let f=ZT(u,JSON.parse(h),A,y.relative==="path");i==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:$n([t,f.pathname])),(y.replace?g.replace:g.push)(f,y.state,y)},[t,g,h,A,i])}function of(i,t){let{relative:n}=t===void 0?{}:t,{future:g}=tt.useContext(os),{matches:T}=tt.useContext(ar),{pathname:A}=Ta(),h=JSON.stringify(JT(T,g.v7_relativeSplatPath));return tt.useMemo(()=>ZT(i,JSON.parse(h),A,n==="path"),[i,h,A,n])}function O3(i,t){return N3(i,t)}function N3(i,t,n,g){pl()||ne(!1);let{navigator:T}=tt.useContext(os),{matches:A}=tt.useContext(ar),h=A[A.length-1],S=h?h.params:{};h&&h.pathname;let e=h?h.pathnameBase:"/";h&&h.route;let u=Ta(),y;if(t){var f;let c=typeof t=="string"?ya(t):t;e==="/"||(f=c.pathname)!=null&&f.startsWith(e)||ne(!1),y=c}else y=u;let l=y.pathname||"/",o=l;if(e!=="/"){let c=e.replace(/^\//,"").split("/");o="/"+l.replace(/^\//,"").split("/").slice(c.length).join("/")}let s=l3(i,{pathname:o}),a=V3(s&&s.map(c=>Object.assign({},c,{params:Object.assign({},S,c.params),pathname:$n([e,T.encodeLocation?T.encodeLocation(c.pathname).pathname:c.pathname]),pathnameBase:c.pathnameBase==="/"?e:$n([e,T.encodeLocation?T.encodeLocation(c.pathnameBase).pathname:c.pathnameBase])})),A,n,g);return t&&a?tt.createElement(af.Provider,{value:{location:Ho({pathname:"/",search:"",hash:"",state:null,key:"default"},y),navigationType:Bn.Pop}},a):a}function B3(){let i=Y3(),t=M3(i)?i.status+" "+i.statusText:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,T={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},A=null;return tt.createElement(tt.Fragment,null,tt.createElement("h2",null,"Unexpected Application Error!"),tt.createElement("h3",{style:{fontStyle:"italic"}},t),n?tt.createElement("pre",{style:T},n):null,A)}const G3=tt.createElement(B3,null);class U3 extends tt.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?tt.createElement(ar.Provider,{value:this.props.routeContext},tt.createElement(tS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function b3(i){let{routeContext:t,match:n,children:g}=i,T=tt.useContext(rf);return T&&T.static&&T.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(T.staticContext._deepestRenderedBoundaryId=n.route.id),tt.createElement(ar.Provider,{value:t},g)}function V3(i,t,n,g){var T;if(t===void 0&&(t=[]),n===void 0&&(n=null),g===void 0&&(g=null),i==null){var A;if(!n)return null;if(n.errors)i=n.matches;else if((A=g)!=null&&A.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let h=i,S=(T=n)==null?void 0:T.errors;if(S!=null){let y=h.findIndex(f=>f.route.id&&(S==null?void 0:S[f.route.id])!==void 0);y>=0||ne(!1),h=h.slice(0,Math.min(h.length,y+1))}let e=!1,u=-1;if(n&&g&&g.v7_partialHydration)for(let y=0;y<h.length;y++){let f=h[y];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=y),f.route.id){let{loaderData:l,errors:o}=n,s=f.route.loader&&l[f.route.id]===void 0&&(!o||o[f.route.id]===void 0);if(f.route.lazy||s){e=!0,u>=0?h=h.slice(0,u+1):h=[h[0]];break}}}return h.reduceRight((y,f,l)=>{let o,s=!1,a=null,c=null;n&&(o=S&&f.route.id?S[f.route.id]:void 0,a=f.route.errorElement||G3,e&&(u<0&&l===0?($3("route-fallback",!1),s=!0,c=null):u===l&&(s=!0,c=f.route.hydrateFallbackElement||null)));let r=t.concat(h.slice(0,l+1)),d=()=>{let v;return o?v=a:s?v=c:f.route.Component?v=tt.createElement(f.route.Component,null):f.route.element?v=f.route.element:v=y,tt.createElement(b3,{match:f,routeContext:{outlet:y,matches:r,isDataRoute:n!=null},children:v})};return n&&(f.route.ErrorBoundary||f.route.errorElement||l===0)?tt.createElement(U3,{location:n.location,revalidation:n.revalidation,component:a,error:o,children:d(),routeContext:{outlet:null,matches:r,isDataRoute:!0}}):d()},null)}var iS=function(i){return i.UseBlocker="useBlocker",i.UseRevalidator="useRevalidator",i.UseNavigateStable="useNavigate",i}(iS||{}),fu=function(i){return i.UseBlocker="useBlocker",i.UseLoaderData="useLoaderData",i.UseActionData="useActionData",i.UseRouteError="useRouteError",i.UseNavigation="useNavigation",i.UseRouteLoaderData="useRouteLoaderData",i.UseMatches="useMatches",i.UseRevalidator="useRevalidator",i.UseNavigateStable="useNavigate",i.UseRouteId="useRouteId",i}(fu||{});function z3(i){let t=tt.useContext(rf);return t||ne(!1),t}function X3(i){let t=tt.useContext(_T);return t||ne(!1),t}function W3(i){let t=tt.useContext(ar);return t||ne(!1),t}function nS(i){let t=W3(),n=t.matches[t.matches.length-1];return n.route.id||ne(!1),n.route.id}function Y3(){var i;let t=tt.useContext(tS),n=X3(fu.UseRouteError),g=nS(fu.UseRouteError);return t!==void 0?t:(i=n.errors)==null?void 0:i[g]}function H3(){let{router:i}=z3(iS.UseNavigateStable),t=nS(fu.UseNavigateStable),n=tt.useRef(!1);return eS(()=>{n.current=!0}),tt.useCallback(function(T,A){A===void 0&&(A={}),n.current&&(typeof T=="number"?i.navigate(T):i.navigate(T,Ho({fromRouteId:t},A)))},[i,t])}const R0={};function $3(i,t,n){!t&&!R0[i]&&(R0[i]=!0)}function k3(i,t){i==null||i.v7_startTransition,(i==null?void 0:i.v7_relativeSplatPath)===void 0&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}function vi(i){ne(!1)}function j3(i){let{basename:t="/",children:n=null,location:g,navigationType:T=Bn.Pop,navigator:A,static:h=!1,future:S}=i;pl()&&ne(!1);let e=t.replace(/^\/*/,"/"),u=tt.useMemo(()=>({basename:e,navigator:A,static:h,future:Ho({v7_relativeSplatPath:!1},S)}),[e,S,A,h]);typeof g=="string"&&(g=ya(g));let{pathname:y="/",search:f="",hash:l="",state:o=null,key:s="default"}=g,a=tt.useMemo(()=>{let c=ia(y,e);return c==null?null:{location:{pathname:c,search:f,hash:l,state:o,key:s},navigationType:T}},[e,y,f,l,o,s,T]);return a==null?null:tt.createElement(os.Provider,{value:u},tt.createElement(af.Provider,{children:n,value:a}))}function K3(i){let{children:t,location:n}=i;return O3(jc(t),n)}new Promise(()=>{});function jc(i,t){t===void 0&&(t=[]);let n=[];return tt.Children.forEach(i,(g,T)=>{if(!tt.isValidElement(g))return;let A=[...t,T];if(g.type===tt.Fragment){n.push.apply(n,jc(g.props.children,A));return}g.type!==vi&&ne(!1),!g.props.index||!g.props.children||ne(!1);let h={id:g.props.id||A.join("-"),caseSensitive:g.props.caseSensitive,element:g.props.element,Component:g.props.Component,index:g.props.index,path:g.props.path,loader:g.props.loader,action:g.props.action,errorElement:g.props.errorElement,ErrorBoundary:g.props.ErrorBoundary,hasErrorBoundary:g.props.ErrorBoundary!=null||g.props.errorElement!=null,shouldRevalidate:g.props.shouldRevalidate,handle:g.props.handle,lazy:g.props.lazy};g.props.children&&(h.children=jc(g.props.children,A)),n.push(h)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function du(){return du=Object.assign?Object.assign.bind():function(i){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var g in n)Object.prototype.hasOwnProperty.call(n,g)&&(i[g]=n[g])}return i},du.apply(this,arguments)}function sS(i,t){if(i==null)return{};var n={},g=Object.keys(i),T,A;for(A=0;A<g.length;A++)T=g[A],!(t.indexOf(T)>=0)&&(n[T]=i[T]);return n}function Q3(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function J3(i,t){return i.button===0&&(!t||t==="_self")&&!Q3(i)}const Z3=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],q3=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],_3="6";try{window.__reactRouterVersion=_3}catch{}const t4=tt.createContext({isTransitioning:!1}),e4="startTransition",M0=jw[e4];function i4(i){let{basename:t,children:n,future:g,window:T}=i,A=tt.useRef();A.current==null&&(A.current=r3({window:T,v5Compat:!0}));let h=A.current,[S,e]=tt.useState({action:h.action,location:h.location}),{v7_startTransition:u}=g||{},y=tt.useCallback(f=>{u&&M0?M0(()=>e(f)):e(f)},[e,u]);return tt.useLayoutEffect(()=>h.listen(y),[h,y]),tt.useEffect(()=>k3(g),[g]),tt.createElement(j3,{basename:t,children:n,location:S.location,navigationType:S.action,navigator:h,future:g})}const n4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",s4=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,fn=tt.forwardRef(function(t,n){let{onClick:g,relative:T,reloadDocument:A,replace:h,state:S,target:e,to:u,preventScrollReset:y,viewTransition:f}=t,l=sS(t,Z3),{basename:o}=tt.useContext(os),s,a=!1;if(typeof u=="string"&&s4.test(u)&&(s=u,n4))try{let v=new URL(window.location.href),p=u.startsWith("//")?new URL(v.protocol+u):new URL(u),m=ia(p.pathname,o);p.origin===v.origin&&m!=null?u=m+p.search+p.hash:a=!0}catch{}let c=L3(u,{relative:T}),r=a4(u,{replace:h,state:S,target:e,preventScrollReset:y,relative:T,viewTransition:f});function d(v){g&&g(v),v.defaultPrevented||r(v)}return tt.createElement("a",du({},l,{href:s||c,onClick:a||A?g:d,ref:n,target:e}))}),pr=tt.forwardRef(function(t,n){let{"aria-current":g="page",caseSensitive:T=!1,className:A="",end:h=!1,style:S,to:e,viewTransition:u,children:y}=t,f=sS(t,q3),l=of(e,{relative:f.relative}),o=Ta(),s=tt.useContext(_T),{navigator:a,basename:c}=tt.useContext(os),r=s!=null&&o4(l)&&u===!0,d=a.encodeLocation?a.encodeLocation(l).pathname:l.pathname,v=o.pathname,p=s&&s.navigation&&s.navigation.location?s.navigation.location.pathname:null;T||(v=v.toLowerCase(),p=p?p.toLowerCase():null,d=d.toLowerCase()),p&&c&&(p=ia(p,c)||p);const m=d!=="/"&&d.endsWith("/")?d.length-1:d.length;let x=v===d||!h&&v.startsWith(d)&&v.charAt(m)==="/",E=p!=null&&(p===d||!h&&p.startsWith(d)&&p.charAt(d.length)==="/"),w={isActive:x,isPending:E,isTransitioning:r},C=x?g:void 0,P;typeof A=="function"?P=A(w):P=[A,x?"active":null,E?"pending":null,r?"transitioning":null].filter(Boolean).join(" ");let R=typeof S=="function"?S(w):S;return tt.createElement(fn,du({},f,{"aria-current":C,className:P,ref:n,style:R,to:e,viewTransition:u}),typeof y=="function"?y(w):y)});var Kc;(function(i){i.UseScrollRestoration="useScrollRestoration",i.UseSubmit="useSubmit",i.UseSubmitFetcher="useSubmitFetcher",i.UseFetcher="useFetcher",i.useViewTransitionState="useViewTransitionState"})(Kc||(Kc={}));var I0;(function(i){i.UseFetcher="useFetcher",i.UseFetchers="useFetchers",i.UseScrollRestoration="useScrollRestoration"})(I0||(I0={}));function r4(i){let t=tt.useContext(rf);return t||ne(!1),t}function a4(i,t){let{target:n,replace:g,state:T,preventScrollReset:A,relative:h,viewTransition:S}=t===void 0?{}:t,e=F3(),u=Ta(),y=of(i,{relative:h});return tt.useCallback(f=>{if(J3(f,n)){f.preventDefault();let l=g!==void 0?g:hu(u)===hu(y);e(i,{replace:l,state:T,preventScrollReset:A,relative:h,viewTransition:S})}},[u,e,y,g,T,n,i,A,h,S])}function o4(i,t){t===void 0&&(t={});let n=tt.useContext(t4);n==null&&ne(!1);let{basename:g}=r4(Kc.useViewTransitionState),T=of(i,{relative:t.relative});if(!n.isTransitioning)return!1;let A=ia(n.currentLocation.pathname,g)||n.currentLocation.pathname,h=ia(n.nextLocation.pathname,g)||n.nextLocation.pathname;return uu(T.pathname,h)!=null||uu(T.pathname,A)!=null}var l4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const h4=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),u4=(i,t)=>{const n=tt.forwardRef(({color:g="currentColor",size:T=24,strokeWidth:A=2,absoluteStrokeWidth:h,children:S,...e},u)=>tt.createElement("svg",{ref:u,...l4,width:T,height:T,stroke:g,strokeWidth:h?Number(A)*24/Number(T):A,className:`lucide lucide-${h4(i)}`,...e},[...t.map(([y,f])=>tt.createElement(y,f)),...(Array.isArray(S)?S:[S])||[]]));return n.displayName=`${i}`,n};var Sa=u4;const f4=Sa("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]),L0=Sa("Gamepad2",[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]]),d4=Sa("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),c4=Sa("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z",key:"3xmgem"}]]),v4=Sa("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),p4=Sa("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rS=function(i){const t=[];let n=0;for(let g=0;g<i.length;g++){let T=i.charCodeAt(g);T<128?t[n++]=T:T<2048?(t[n++]=T>>6|192,t[n++]=T&63|128):(T&64512)===55296&&g+1<i.length&&(i.charCodeAt(g+1)&64512)===56320?(T=65536+((T&1023)<<10)+(i.charCodeAt(++g)&1023),t[n++]=T>>18|240,t[n++]=T>>12&63|128,t[n++]=T>>6&63|128,t[n++]=T&63|128):(t[n++]=T>>12|224,t[n++]=T>>6&63|128,t[n++]=T&63|128)}return t},m4=function(i){const t=[];let n=0,g=0;for(;n<i.length;){const T=i[n++];if(T<128)t[g++]=String.fromCharCode(T);else if(T>191&&T<224){const A=i[n++];t[g++]=String.fromCharCode((T&31)<<6|A&63)}else if(T>239&&T<365){const A=i[n++],h=i[n++],S=i[n++],e=((T&7)<<18|(A&63)<<12|(h&63)<<6|S&63)-65536;t[g++]=String.fromCharCode(55296+(e>>10)),t[g++]=String.fromCharCode(56320+(e&1023))}else{const A=i[n++],h=i[n++];t[g++]=String.fromCharCode((T&15)<<12|(A&63)<<6|h&63)}}return t.join("")},aS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,t){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,g=[];for(let T=0;T<i.length;T+=3){const A=i[T],h=T+1<i.length,S=h?i[T+1]:0,e=T+2<i.length,u=e?i[T+2]:0,y=A>>2,f=(A&3)<<4|S>>4;let l=(S&15)<<2|u>>6,o=u&63;e||(o=64,h||(l=64)),g.push(n[y],n[f],n[l],n[o])}return g.join("")},encodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(i):this.encodeByteArray(rS(i),t)},decodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(i):m4(this.decodeStringToByteArray(i,t))},decodeStringToByteArray(i,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,g=[];for(let T=0;T<i.length;){const A=n[i.charAt(T++)],S=T<i.length?n[i.charAt(T)]:0;++T;const u=T<i.length?n[i.charAt(T)]:64;++T;const f=T<i.length?n[i.charAt(T)]:64;if(++T,A==null||S==null||u==null||f==null)throw new g4;const l=A<<2|S>>4;if(g.push(l),u!==64){const o=S<<4&240|u>>2;if(g.push(o),f!==64){const s=u<<6&192|f;g.push(s)}}}return g},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class g4 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const x4=function(i){const t=rS(i);return aS.encodeByteArray(t,!0)},cu=function(i){return x4(i).replace(/\./g,"")},oS=function(i){try{return aS.decodeString(i,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y4(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T4=()=>y4().__FIREBASE_DEFAULTS__,S4=()=>{if(typeof process>"u"||typeof process.env>"u")return;const i={}.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},E4=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=i&&oS(i[1]);return t&&JSON.parse(t)},lf=()=>{try{return T4()||S4()||E4()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},lS=i=>{var t,n;return(n=(t=lf())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[i]},C4=i=>{const t=lS(i);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const g=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),g]:[t.substring(0,n),g]},hS=()=>{var i;return(i=lf())===null||i===void 0?void 0:i.config},uS=i=>{var t;return(t=lf())===null||t===void 0?void 0:t[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w4{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,g)=>{n?this.reject(n):this.resolve(g),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,g))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A4(i,t){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},g=t||"demo-project",T=i.iat||0,A=i.sub||i.user_id;if(!A)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${g}`,aud:g,iat:T,exp:T+3600,auth_time:T,sub:A,user_id:A,firebase:{sign_in_provider:"custom",identities:{}}},i),S="";return[cu(JSON.stringify(n)),cu(JSON.stringify(h)),S].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ve(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function P4(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ve())}function R4(){var i;const t=(i=lf())===null||i===void 0?void 0:i.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function bp(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function M4(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function I4(){const i=ve();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function L4(){return!R4()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function hf(){try{return typeof indexedDB=="object"}catch{return!1}}function Vp(){return new Promise((i,t)=>{try{let n=!0;const g="validate-browser-context-for-indexeddb-analytics-module",T=self.indexedDB.open(g);T.onsuccess=()=>{T.result.close(),n||self.indexedDB.deleteDatabase(g),i(!0)},T.onupgradeneeded=()=>{n=!1},T.onerror=()=>{var A;t(((A=T.error)===null||A===void 0?void 0:A.message)||"")}}catch(n){t(n)}})}function fS(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F4="FirebaseError";class Ui extends Error{constructor(t,n,g){super(n),this.code=t,this.customData=g,this.name=F4,Object.setPrototypeOf(this,Ui.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,or.prototype.create)}}class or{constructor(t,n,g){this.service=t,this.serviceName=n,this.errors=g}create(t,...n){const g=n[0]||{},T=`${this.service}/${t}`,A=this.errors[t],h=A?D4(A,g):"Error",S=`${this.serviceName}: ${h} (${T}).`;return new Ui(T,S,g)}}function D4(i,t){return i.replace(O4,(n,g)=>{const T=t[g];return T!=null?String(T):`<${g}?>`})}const O4=/\{\$([^}]+)}/g;function N4(i){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}function $o(i,t){if(i===t)return!0;const n=Object.keys(i),g=Object.keys(t);for(const T of n){if(!g.includes(T))return!1;const A=i[T],h=t[T];if(F0(A)&&F0(h)){if(!$o(A,h))return!1}else if(A!==h)return!1}for(const T of g)if(!n.includes(T))return!1;return!0}function F0(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ml(i){const t=[];for(const[n,g]of Object.entries(i))Array.isArray(g)?g.forEach(T=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(T))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(g));return t.length?"&"+t.join("&"):""}function eo(i){const t={};return i.replace(/^\?/,"").split("&").forEach(g=>{if(g){const[T,A]=g.split("=");t[decodeURIComponent(T)]=decodeURIComponent(A)}}),t}function io(i){const t=i.indexOf("?");if(!t)return"";const n=i.indexOf("#",t);return i.substring(t,n>0?n:void 0)}function B4(i,t){const n=new G4(i,t);return n.subscribe.bind(n)}class G4{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(g=>{this.error(g)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,g){let T;if(t===void 0&&n===void 0&&g===void 0)throw new Error("Missing Observer.");U4(t,["next","error","complete"])?T=t:T={next:t,error:n,complete:g},T.next===void 0&&(T.next=Ad),T.error===void 0&&(T.error=Ad),T.complete===void 0&&(T.complete=Ad);const A=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?T.error(this.finalError):T.complete()}catch{}}),this.observers.push(T),A}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(g){typeof console<"u"&&console.error&&console.error(g)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function U4(i,t){if(typeof i!="object"||i===null)return!1;for(const n of t)if(n in i&&typeof i[n]=="function")return!0;return!1}function Ad(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b4=1e3,V4=2,z4=4*60*60*1e3,X4=.5;function D0(i,t=b4,n=V4){const g=t*Math.pow(n,i),T=Math.round(X4*g*(Math.random()-.5)*2);return Math.min(z4,g+T)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oe(i){return i&&i._delegate?i._delegate:i}class Oi{constructor(t,n,g){this.name=t,this.instanceFactory=n,this.type=g,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Es="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W4{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const g=new w4;if(this.instancesDeferred.set(n,g),this.isInitialized(n)||this.shouldAutoInitialize())try{const T=this.getOrInitializeService({instanceIdentifier:n});T&&g.resolve(T)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const g=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),T=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(g)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:g})}catch(A){if(T)return null;throw A}else{if(T)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(H4(t))try{this.getOrInitializeService({instanceIdentifier:Es})}catch{}for(const[n,g]of this.instancesDeferred.entries()){const T=this.normalizeInstanceIdentifier(n);try{const A=this.getOrInitializeService({instanceIdentifier:T});g.resolve(A)}catch{}}}}clearInstance(t=Es){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Es){return this.instances.has(t)}getOptions(t=Es){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,g=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(g))throw Error(`${this.name}(${g}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const T=this.getOrInitializeService({instanceIdentifier:g,options:n});for(const[A,h]of this.instancesDeferred.entries()){const S=this.normalizeInstanceIdentifier(A);g===S&&h.resolve(T)}return T}onInit(t,n){var g;const T=this.normalizeInstanceIdentifier(n),A=(g=this.onInitCallbacks.get(T))!==null&&g!==void 0?g:new Set;A.add(t),this.onInitCallbacks.set(T,A);const h=this.instances.get(T);return h&&t(h,T),()=>{A.delete(t)}}invokeOnInitCallbacks(t,n){const g=this.onInitCallbacks.get(n);if(g)for(const T of g)try{T(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let g=this.instances.get(t);if(!g&&this.component&&(g=this.component.instanceFactory(this.container,{instanceIdentifier:Y4(t),options:n}),this.instances.set(t,g),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(g,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,g)}catch{}return g||null}normalizeInstanceIdentifier(t=Es){return this.component?this.component.multipleInstances?t:Es:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Y4(i){return i===Es?void 0:i}function H4(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $4{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new W4(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dt;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Dt||(Dt={}));const k4={debug:Dt.DEBUG,verbose:Dt.VERBOSE,info:Dt.INFO,warn:Dt.WARN,error:Dt.ERROR,silent:Dt.SILENT},j4=Dt.INFO,K4={[Dt.DEBUG]:"log",[Dt.VERBOSE]:"log",[Dt.INFO]:"info",[Dt.WARN]:"warn",[Dt.ERROR]:"error"},Q4=(i,t,...n)=>{if(t<i.logLevel)return;const g=new Date().toISOString(),T=K4[t];if(T)console[T](`[${g}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class uf{constructor(t){this.name=t,this._logLevel=j4,this._logHandler=Q4,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Dt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?k4[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Dt.DEBUG,...t),this._logHandler(this,Dt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Dt.VERBOSE,...t),this._logHandler(this,Dt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Dt.INFO,...t),this._logHandler(this,Dt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Dt.WARN,...t),this._logHandler(this,Dt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Dt.ERROR,...t),this._logHandler(this,Dt.ERROR,...t)}}const J4=(i,t)=>t.some(n=>i instanceof n);let O0,N0;function Z4(){return O0||(O0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function q4(){return N0||(N0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const dS=new WeakMap,Qc=new WeakMap,cS=new WeakMap,Pd=new WeakMap,zp=new WeakMap;function _4(i){const t=new Promise((n,g)=>{const T=()=>{i.removeEventListener("success",A),i.removeEventListener("error",h)},A=()=>{n(kn(i.result)),T()},h=()=>{g(i.error),T()};i.addEventListener("success",A),i.addEventListener("error",h)});return t.then(n=>{n instanceof IDBCursor&&dS.set(n,i)}).catch(()=>{}),zp.set(t,i),t}function tR(i){if(Qc.has(i))return;const t=new Promise((n,g)=>{const T=()=>{i.removeEventListener("complete",A),i.removeEventListener("error",h),i.removeEventListener("abort",h)},A=()=>{n(),T()},h=()=>{g(i.error||new DOMException("AbortError","AbortError")),T()};i.addEventListener("complete",A),i.addEventListener("error",h),i.addEventListener("abort",h)});Qc.set(i,t)}let Jc={get(i,t,n){if(i instanceof IDBTransaction){if(t==="done")return Qc.get(i);if(t==="objectStoreNames")return i.objectStoreNames||cS.get(i);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return kn(i[t])},set(i,t,n){return i[t]=n,!0},has(i,t){return i instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in i}};function eR(i){Jc=i(Jc)}function iR(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const g=i.call(Rd(this),t,...n);return cS.set(g,t.sort?t.sort():[t]),kn(g)}:q4().includes(i)?function(...t){return i.apply(Rd(this),t),kn(dS.get(this))}:function(...t){return kn(i.apply(Rd(this),t))}}function nR(i){return typeof i=="function"?iR(i):(i instanceof IDBTransaction&&tR(i),J4(i,Z4())?new Proxy(i,Jc):i)}function kn(i){if(i instanceof IDBRequest)return _4(i);if(Pd.has(i))return Pd.get(i);const t=nR(i);return t!==i&&(Pd.set(i,t),zp.set(t,i)),t}const Rd=i=>zp.get(i);function sR(i,t,{blocked:n,upgrade:g,blocking:T,terminated:A}={}){const h=indexedDB.open(i,t),S=kn(h);return g&&h.addEventListener("upgradeneeded",e=>{g(kn(h.result),e.oldVersion,e.newVersion,kn(h.transaction),e)}),n&&h.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),S.then(e=>{A&&e.addEventListener("close",()=>A()),T&&e.addEventListener("versionchange",u=>T(u.oldVersion,u.newVersion,u))}).catch(()=>{}),S}const rR=["get","getKey","getAll","getAllKeys","count"],aR=["put","add","delete","clear"],Md=new Map;function B0(i,t){if(!(i instanceof IDBDatabase&&!(t in i)&&typeof t=="string"))return;if(Md.get(t))return Md.get(t);const n=t.replace(/FromIndex$/,""),g=t!==n,T=aR.includes(n);if(!(n in(g?IDBIndex:IDBObjectStore).prototype)||!(T||rR.includes(n)))return;const A=async function(h,...S){const e=this.transaction(h,T?"readwrite":"readonly");let u=e.store;return g&&(u=u.index(S.shift())),(await Promise.all([u[n](...S),T&&e.done]))[0]};return Md.set(t,A),A}eR(i=>({...i,get:(t,n,g)=>B0(t,n)||i.get(t,n,g),has:(t,n)=>!!B0(t,n)||i.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(lR(n)){const g=n.getImmediate();return`${g.library}/${g.version}`}else return null}).filter(n=>n).join(" ")}}function lR(i){const t=i.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Zc="@firebase/app",G0="0.9.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $s=new uf("@firebase/app"),hR="@firebase/app-compat",uR="@firebase/analytics-compat",fR="@firebase/analytics",dR="@firebase/app-check-compat",cR="@firebase/app-check",vR="@firebase/auth",pR="@firebase/auth-compat",mR="@firebase/database",gR="@firebase/database-compat",xR="@firebase/functions",yR="@firebase/functions-compat",TR="@firebase/installations",SR="@firebase/installations-compat",ER="@firebase/messaging",CR="@firebase/messaging-compat",wR="@firebase/performance",AR="@firebase/performance-compat",PR="@firebase/remote-config",RR="@firebase/remote-config-compat",MR="@firebase/storage",IR="@firebase/storage-compat",LR="@firebase/firestore",FR="@firebase/firestore-compat",DR="firebase",OR="9.23.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qc="[DEFAULT]",NR={[Zc]:"fire-core",[hR]:"fire-core-compat",[fR]:"fire-analytics",[uR]:"fire-analytics-compat",[cR]:"fire-app-check",[dR]:"fire-app-check-compat",[vR]:"fire-auth",[pR]:"fire-auth-compat",[mR]:"fire-rtdb",[gR]:"fire-rtdb-compat",[xR]:"fire-fn",[yR]:"fire-fn-compat",[TR]:"fire-iid",[SR]:"fire-iid-compat",[ER]:"fire-fcm",[CR]:"fire-fcm-compat",[wR]:"fire-perf",[AR]:"fire-perf-compat",[PR]:"fire-rc",[RR]:"fire-rc-compat",[MR]:"fire-gcs",[IR]:"fire-gcs-compat",[LR]:"fire-fst",[FR]:"fire-fst-compat","fire-js":"fire-js",[DR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vu=new Map,_c=new Map;function BR(i,t){try{i.container.addComponent(t)}catch(n){$s.debug(`Component ${t.name} failed to register with FirebaseApp ${i.name}`,n)}}function Zi(i){const t=i.name;if(_c.has(t))return $s.debug(`There were multiple attempts to register component ${t}.`),!1;_c.set(t,i);for(const n of vu.values())BR(n,i);return!0}function lr(i,t){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},jn=new or("app","Firebase",GR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UR{constructor(t,n,g){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=g,this.container.addComponent(new Oi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw jn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ea=OR;function vS(i,t={}){let n=i;typeof t!="object"&&(t={name:t});const g=Object.assign({name:qc,automaticDataCollectionEnabled:!1},t),T=g.name;if(typeof T!="string"||!T)throw jn.create("bad-app-name",{appName:String(T)});if(n||(n=hS()),!n)throw jn.create("no-options");const A=vu.get(T);if(A){if($o(n,A.options)&&$o(g,A.config))return A;throw jn.create("duplicate-app",{appName:T})}const h=new $4(T);for(const e of _c.values())h.addComponent(e);const S=new UR(n,g,h);return vu.set(T,S),S}function Xp(i=qc){const t=vu.get(i);if(!t&&i===qc&&hS())return vS();if(!t)throw jn.create("no-app",{appName:i});return t}function Si(i,t,n){var g;let T=(g=NR[i])!==null&&g!==void 0?g:i;n&&(T+=`-${n}`);const A=T.match(/\s|\//),h=t.match(/\s|\//);if(A||h){const S=[`Unable to register library "${T}" with version "${t}":`];A&&S.push(`library name "${T}" contains illegal characters (whitespace or "/")`),A&&h&&S.push("and"),h&&S.push(`version name "${t}" contains illegal characters (whitespace or "/")`),$s.warn(S.join(" "));return}Zi(new Oi(`${T}-version`,()=>({library:T,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bR="firebase-heartbeat-database",VR=1,ko="firebase-heartbeat-store";let Id=null;function pS(){return Id||(Id=sR(bR,VR,{upgrade:(i,t)=>{switch(t){case 0:i.createObjectStore(ko)}}}).catch(i=>{throw jn.create("idb-open",{originalErrorMessage:i.message})})),Id}async function zR(i){try{return await(await pS()).transaction(ko).objectStore(ko).get(mS(i))}catch(t){if(t instanceof Ui)$s.warn(t.message);else{const n=jn.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});$s.warn(n.message)}}}async function U0(i,t){try{const g=(await pS()).transaction(ko,"readwrite");await g.objectStore(ko).put(t,mS(i)),await g.done}catch(n){if(n instanceof Ui)$s.warn(n.message);else{const g=jn.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});$s.warn(g.message)}}}function mS(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XR=1024,WR=30*24*60*60*1e3;class YR{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new $R(n),this._heartbeatsCachePromise=this._storage.read().then(g=>(this._heartbeatsCache=g,g))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),g=b0();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===g||this._heartbeatsCache.heartbeats.some(T=>T.date===g)))return this._heartbeatsCache.heartbeats.push({date:g,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(T=>{const A=new Date(T.date).valueOf();return Date.now()-A<=WR}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const t=b0(),{heartbeatsToSend:n,unsentEntries:g}=HR(this._heartbeatsCache.heartbeats),T=cu(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,g.length>0?(this._heartbeatsCache.heartbeats=g,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),T}}function b0(){return new Date().toISOString().substring(0,10)}function HR(i,t=XR){const n=[];let g=i.slice();for(const T of i){const A=n.find(h=>h.agent===T.agent);if(A){if(A.dates.push(T.date),V0(n)>t){A.dates.pop();break}}else if(n.push({agent:T.agent,dates:[T.date]}),V0(n)>t){n.pop();break}g=g.slice(1)}return{heartbeatsToSend:n,unsentEntries:g}}class $R{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return hf()?Vp().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await zR(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const T=await this.read();return U0(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:T.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const T=await this.read();return U0(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:T.lastSentHeartbeatDate,heartbeats:[...T.heartbeats,...t.heartbeats]})}else return}}function V0(i){return cu(JSON.stringify({version:2,heartbeats:i})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kR(i){Zi(new Oi("platform-logger",t=>new oR(t),"PRIVATE")),Zi(new Oi("heartbeat",t=>new YR(t),"PRIVATE")),Si(Zc,G0,i),Si(Zc,G0,"esm2017"),Si("fire-js","")}kR("");var jR="firebase",KR="9.23.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Si(jR,KR,"app");function Wp(i,t){var n={};for(var g in i)Object.prototype.hasOwnProperty.call(i,g)&&t.indexOf(g)<0&&(n[g]=i[g]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var T=0,g=Object.getOwnPropertySymbols(i);T<g.length;T++)t.indexOf(g[T])<0&&Object.prototype.propertyIsEnumerable.call(i,g[T])&&(n[g[T]]=i[g[T]]);return n}function gS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const QR=gS,xS=new or("auth","Firebase",gS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pu=new uf("@firebase/auth");function JR(i,...t){pu.logLevel<=Dt.WARN&&pu.warn(`Auth (${Ea}): ${i}`,...t)}function Rh(i,...t){pu.logLevel<=Dt.ERROR&&pu.error(`Auth (${Ea}): ${i}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ai(i,...t){throw Yp(i,...t)}function Ki(i,...t){return Yp(i,...t)}function yS(i,t,n){const g=Object.assign(Object.assign({},QR()),{[t]:n});return new or("auth","Firebase",g).create(t,{appName:i.name})}function ZR(i,t,n){const g=n;if(!(t instanceof g))throw g.name!==t.constructor.name&&Ai(i,"argument-error"),yS(i,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Yp(i,...t){if(typeof i!="string"){const n=t[0],g=[...t.slice(1)];return g[0]&&(g[0].appName=i.name),i._errorFactory.create(n,...g)}return xS.create(i,...t)}function St(i,t,...n){if(!i)throw Yp(t,...n)}function rn(i){const t="INTERNAL ASSERTION FAILED: "+i;throw Rh(t),new Error(t)}function mn(i,t){i||rn(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tv(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.href)||""}function qR(){return z0()==="http:"||z0()==="https:"}function z0(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _R(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(qR()||bp()||"connection"in navigator)?navigator.onLine:!0}function tM(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl{constructor(t,n){this.shortDelay=t,this.longDelay=n,mn(n>t,"Short delay should be less than long delay!"),this.isMobile=P4()||M4()}get(){return _R()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hp(i,t){mn(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TS{static initialize(t,n,g){this.fetchImpl=t,n&&(this.headersImpl=n),g&&(this.responseImpl=g)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;rn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;rn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;rn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eM={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iM=new gl(3e4,6e4);function Ca(i,t){return i.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:i.tenantId}):t}async function wa(i,t,n,g,T={}){return SS(i,T,async()=>{let A={},h={};g&&(t==="GET"?h=g:A={body:JSON.stringify(g)});const S=ml(Object.assign({key:i.config.apiKey},h)).slice(1),e=await i._getAdditionalHeaders();return e["Content-Type"]="application/json",i.languageCode&&(e["X-Firebase-Locale"]=i.languageCode),TS.fetch()(ES(i,i.config.apiHost,n,S),Object.assign({method:t,headers:e,referrerPolicy:"no-referrer"},A))})}async function SS(i,t,n){i._canInitEmulator=!1;const g=Object.assign(Object.assign({},eM),t);try{const T=new nM(i),A=await Promise.race([n(),T.promise]);T.clearNetworkTimeout();const h=await A.json();if("needConfirmation"in h)throw ih(i,"account-exists-with-different-credential",h);if(A.ok&&!("errorMessage"in h))return h;{const S=A.ok?h.errorMessage:h.error.message,[e,u]=S.split(" : ");if(e==="FEDERATED_USER_ID_ALREADY_LINKED")throw ih(i,"credential-already-in-use",h);if(e==="EMAIL_EXISTS")throw ih(i,"email-already-in-use",h);if(e==="USER_DISABLED")throw ih(i,"user-disabled",h);const y=g[e]||e.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw yS(i,y,u);Ai(i,y)}}catch(T){if(T instanceof Ui)throw T;Ai(i,"network-request-failed",{message:String(T)})}}async function xl(i,t,n,g,T={}){const A=await wa(i,t,n,g,T);return"mfaPendingCredential"in A&&Ai(i,"multi-factor-auth-required",{_serverResponse:A}),A}function ES(i,t,n,g){const T=`${t}${n}?${g}`;return i.config.emulator?Hp(i.config,T):`${i.config.apiScheme}://${T}`}class nM{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,g)=>{this.timer=setTimeout(()=>g(Ki(this.auth,"network-request-failed")),iM.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ih(i,t,n){const g={appName:i.name};n.email&&(g.email=n.email),n.phoneNumber&&(g.phoneNumber=n.phoneNumber);const T=Ki(i,t,g);return T.customData._tokenResponse=n,T}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sM(i,t){return wa(i,"POST","/v1/accounts:delete",t)}async function rM(i,t){return wa(i,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yo(i){if(i)try{const t=new Date(Number(i));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function aM(i,t=!1){const n=oe(i),g=await n.getIdToken(t),T=$p(g);St(T&&T.exp&&T.auth_time&&T.iat,n.auth,"internal-error");const A=typeof T.firebase=="object"?T.firebase:void 0,h=A==null?void 0:A.sign_in_provider;return{claims:T,token:g,authTime:yo(Ld(T.auth_time)),issuedAtTime:yo(Ld(T.iat)),expirationTime:yo(Ld(T.exp)),signInProvider:h||null,signInSecondFactor:(A==null?void 0:A.sign_in_second_factor)||null}}function Ld(i){return Number(i)*1e3}function $p(i){const[t,n,g]=i.split(".");if(t===void 0||n===void 0||g===void 0)return Rh("JWT malformed, contained fewer than 3 sections"),null;try{const T=oS(n);return T?JSON.parse(T):(Rh("Failed to decode base64 JWT payload"),null)}catch(T){return Rh("Caught error parsing JWT payload as JSON",T==null?void 0:T.toString()),null}}function oM(i){const t=$p(i);return St(t,"internal-error"),St(typeof t.exp<"u","internal-error"),St(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jo(i,t,n=!1){if(n)return t;try{return await t}catch(g){throw g instanceof Ui&&lM(g)&&i.auth.currentUser===i&&await i.auth.signOut(),g}}function lM({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hM{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const g=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),g}else{this.errorBackoff=3e4;const T=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,T)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=yo(this.lastLoginAt),this.creationTime=yo(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mu(i){var t;const n=i.auth,g=await i.getIdToken(),T=await jo(i,rM(n,{idToken:g}));St(T==null?void 0:T.users.length,n,"internal-error");const A=T.users[0];i._notifyReloadListener(A);const h=!((t=A.providerUserInfo)===null||t===void 0)&&t.length?dM(A.providerUserInfo):[],S=fM(i.providerData,h),e=i.isAnonymous,u=!(i.email&&A.passwordHash)&&!(S!=null&&S.length),y=e?u:!1,f={uid:A.localId,displayName:A.displayName||null,photoURL:A.photoUrl||null,email:A.email||null,emailVerified:A.emailVerified||!1,phoneNumber:A.phoneNumber||null,tenantId:A.tenantId||null,providerData:S,metadata:new CS(A.createdAt,A.lastLoginAt),isAnonymous:y};Object.assign(i,f)}async function uM(i){const t=oe(i);await mu(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function fM(i,t){return[...i.filter(g=>!t.some(T=>T.providerId===g.providerId)),...t]}function dM(i){return i.map(t=>{var{providerId:n}=t,g=Wp(t,["providerId"]);return{providerId:n,uid:g.rawId||"",displayName:g.displayName||null,email:g.email||null,phoneNumber:g.phoneNumber||null,photoURL:g.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cM(i,t){const n=await SS(i,{},async()=>{const g=ml({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:T,apiKey:A}=i.config,h=ES(i,T,"/v1/token",`key=${A}`),S=await i._getAdditionalHeaders();return S["Content-Type"]="application/x-www-form-urlencoded",TS.fetch()(h,{method:"POST",headers:S,body:g})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){St(t.idToken,"internal-error"),St(typeof t.idToken<"u","internal-error"),St(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):oM(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}async getToken(t,n=!1){return St(!this.accessToken||this.refreshToken,t,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:g,refreshToken:T,expiresIn:A}=await cM(t,n);this.updateTokensAndExpiration(g,T,Number(A))}updateTokensAndExpiration(t,n,g){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+g*1e3}static fromJSON(t,n){const{refreshToken:g,accessToken:T,expirationTime:A}=n,h=new Ko;return g&&(St(typeof g=="string","internal-error",{appName:t}),h.refreshToken=g),T&&(St(typeof T=="string","internal-error",{appName:t}),h.accessToken=T),A&&(St(typeof A=="number","internal-error",{appName:t}),h.expirationTime=A),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ko,this.toJSON())}_performRefresh(){return rn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function En(i,t){St(typeof i=="string"||typeof i>"u","internal-error",{appName:t})}class Us{constructor(t){var{uid:n,auth:g,stsTokenManager:T}=t,A=Wp(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new hM(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=g,this.stsTokenManager=T,this.accessToken=T.accessToken,this.displayName=A.displayName||null,this.email=A.email||null,this.emailVerified=A.emailVerified||!1,this.phoneNumber=A.phoneNumber||null,this.photoURL=A.photoURL||null,this.isAnonymous=A.isAnonymous||!1,this.tenantId=A.tenantId||null,this.providerData=A.providerData?[...A.providerData]:[],this.metadata=new CS(A.createdAt||void 0,A.lastLoginAt||void 0)}async getIdToken(t){const n=await jo(this,this.stsTokenManager.getToken(this.auth,t));return St(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return aM(this,t)}reload(){return uM(this)}_assign(t){this!==t&&(St(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Us(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){St(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let g=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),g=!0),n&&await mu(this),await this.auth._persistUserIfCurrent(this),g&&this.auth._notifyListenersIfCurrent(this)}async delete(){const t=await this.getIdToken();return await jo(this,sM(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var g,T,A,h,S,e,u,y;const f=(g=n.displayName)!==null&&g!==void 0?g:void 0,l=(T=n.email)!==null&&T!==void 0?T:void 0,o=(A=n.phoneNumber)!==null&&A!==void 0?A:void 0,s=(h=n.photoURL)!==null&&h!==void 0?h:void 0,a=(S=n.tenantId)!==null&&S!==void 0?S:void 0,c=(e=n._redirectEventId)!==null&&e!==void 0?e:void 0,r=(u=n.createdAt)!==null&&u!==void 0?u:void 0,d=(y=n.lastLoginAt)!==null&&y!==void 0?y:void 0,{uid:v,emailVerified:p,isAnonymous:m,providerData:x,stsTokenManager:E}=n;St(v&&E,t,"internal-error");const w=Ko.fromJSON(this.name,E);St(typeof v=="string",t,"internal-error"),En(f,t.name),En(l,t.name),St(typeof p=="boolean",t,"internal-error"),St(typeof m=="boolean",t,"internal-error"),En(o,t.name),En(s,t.name),En(a,t.name),En(c,t.name),En(r,t.name),En(d,t.name);const C=new Us({uid:v,auth:t,email:l,emailVerified:p,displayName:f,isAnonymous:m,photoURL:s,phoneNumber:o,tenantId:a,stsTokenManager:w,createdAt:r,lastLoginAt:d});return x&&Array.isArray(x)&&(C.providerData=x.map(P=>Object.assign({},P))),c&&(C._redirectEventId=c),C}static async _fromIdTokenResponse(t,n,g=!1){const T=new Ko;T.updateFromServerResponse(n);const A=new Us({uid:n.localId,auth:t,stsTokenManager:T,isAnonymous:g});return await mu(A),A}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X0=new Map;function an(i){mn(i instanceof Function,"Expected a class definition");let t=X0.get(i);return t?(mn(t instanceof i,"Instance stored in cache mismatched with class"),t):(t=new i,X0.set(i,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}wS.type="NONE";const W0=wS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mh(i,t,n){return`firebase:${i}:${t}:${n}`}class Wr{constructor(t,n,g){this.persistence=t,this.auth=n,this.userKey=g;const{config:T,name:A}=this.auth;this.fullUserKey=Mh(this.userKey,T.apiKey,A),this.fullPersistenceKey=Mh("persistence",T.apiKey,A),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?Us._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,g="authUser"){if(!n.length)return new Wr(an(W0),t,g);const T=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let A=T[0]||an(W0);const h=Mh(g,t.config.apiKey,t.name);let S=null;for(const u of n)try{const y=await u._get(h);if(y){const f=Us._fromJSON(t,y);u!==A&&(S=f),A=u;break}}catch{}const e=T.filter(u=>u._shouldAllowMigration);return!A._shouldAllowMigration||!e.length?new Wr(A,t,g):(A=e[0],S&&await A._set(h,S.toJSON()),await Promise.all(n.map(async u=>{if(u!==A)try{await u._remove(h)}catch{}})),new Wr(A,t,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y0(i){const t=i.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(RS(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(AS(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(IS(t))return"Blackberry";if(LS(t))return"Webos";if(kp(t))return"Safari";if((t.includes("chrome/")||PS(t))&&!t.includes("edge/"))return"Chrome";if(MS(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,g=i.match(n);if((g==null?void 0:g.length)===2)return g[1]}return"Other"}function AS(i=ve()){return/firefox\//i.test(i)}function kp(i=ve()){const t=i.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function PS(i=ve()){return/crios\//i.test(i)}function RS(i=ve()){return/iemobile/i.test(i)}function MS(i=ve()){return/android/i.test(i)}function IS(i=ve()){return/blackberry/i.test(i)}function LS(i=ve()){return/webos/i.test(i)}function ff(i=ve()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function vM(i=ve()){var t;return ff(i)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function pM(){return I4()&&document.documentMode===10}function FS(i=ve()){return ff(i)||MS(i)||LS(i)||IS(i)||/windows phone/i.test(i)||RS(i)}function mM(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DS(i,t=[]){let n;switch(i){case"Browser":n=Y0(ve());break;case"Worker":n=`${Y0(ve())}-${i}`;break;default:n=i}const g=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ea}/${g}`}async function OS(i,t){return wa(i,"GET","/v2/recaptchaConfig",Ca(i,t))}function H0(i){return i!==void 0&&i.enterprise!==void 0}class NS{constructor(t){if(this.siteKey="",this.emailPasswordEnabled=!1,t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.emailPasswordEnabled=t.recaptchaEnforcementState.some(n=>n.provider==="EMAIL_PASSWORD_PROVIDER"&&n.enforcementState!=="OFF")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gM(){var i,t;return(t=(i=document.getElementsByTagName("head"))===null||i===void 0?void 0:i[0])!==null&&t!==void 0?t:document}function BS(i){return new Promise((t,n)=>{const g=document.createElement("script");g.setAttribute("src",i),g.onload=t,g.onerror=T=>{const A=Ki("internal-error");A.customData=T,n(A)},g.type="text/javascript",g.charset="UTF-8",gM().appendChild(g)})}function xM(i){return`__${i}${Math.floor(Math.random()*1e6)}`}const yM="https://www.google.com/recaptcha/enterprise.js?render=",TM="recaptcha-enterprise",SM="NO_RECAPTCHA";class GS{constructor(t){this.type=TM,this.auth=hr(t)}async verify(t="verify",n=!1){async function g(A){if(!n){if(A.tenantId==null&&A._agentRecaptchaConfig!=null)return A._agentRecaptchaConfig.siteKey;if(A.tenantId!=null&&A._tenantRecaptchaConfigs[A.tenantId]!==void 0)return A._tenantRecaptchaConfigs[A.tenantId].siteKey}return new Promise(async(h,S)=>{OS(A,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(e=>{if(e.recaptchaKey===void 0)S(new Error("recaptcha Enterprise site key undefined"));else{const u=new NS(e);return A.tenantId==null?A._agentRecaptchaConfig=u:A._tenantRecaptchaConfigs[A.tenantId]=u,h(u.siteKey)}}).catch(e=>{S(e)})})}function T(A,h,S){const e=window.grecaptcha;H0(e)?e.enterprise.ready(()=>{e.enterprise.execute(A,{action:t}).then(u=>{h(u)}).catch(()=>{h(SM)})}):S(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((A,h)=>{g(this.auth).then(S=>{if(!n&&H0(window.grecaptcha))T(S,A,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}BS(yM+S).then(()=>{T(S,A,h)}).catch(e=>{h(e)})}}).catch(S=>{h(S)})})}}async function gu(i,t,n,g=!1){const T=new GS(i);let A;try{A=await T.verify(n)}catch{A=await T.verify(n,!0)}const h=Object.assign({},t);return g?Object.assign(h,{captchaResp:A}):Object.assign(h,{captchaResponse:A}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EM{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const g=A=>new Promise((h,S)=>{try{const e=t(A);h(e)}catch(e){S(e)}});g.onAbort=n,this.queue.push(g);const T=this.queue.length-1;return()=>{this.queue[T]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const g of this.queue)await g(t),g.onAbort&&n.push(g.onAbort)}catch(g){n.reverse();for(const T of n)try{T()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:g==null?void 0:g.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CM{constructor(t,n,g,T){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=g,this.config=T,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new $0(this),this.idTokenSubscription=new $0(this),this.beforeStateQueue=new EM(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=xS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=T.sdkClientVersion}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=an(n)),this._initializationPromise=this.queue(async()=>{var g,T;if(!this._deleted&&(this.persistenceManager=await Wr.create(this,t),!this._deleted)){if(!((g=this._popupRedirectResolver)===null||g===void 0)&&g._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((T=this.currentUser)===null||T===void 0?void 0:T.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUser(t){var n;const g=await this.assertedPersistence.getCurrentUser();let T=g,A=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,S=T==null?void 0:T._redirectEventId,e=await this.tryRedirectSignIn(t);(!h||h===S)&&(e!=null&&e.user)&&(T=e.user,A=!0)}if(!T)return this.directlySetCurrentUser(null);if(!T._redirectEventId){if(A)try{await this.beforeStateQueue.runMiddleware(T)}catch(h){T=g,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return T?this.reloadAndSetCurrentUserOrClear(T):this.directlySetCurrentUser(null)}return St(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===T._redirectEventId?this.directlySetCurrentUser(T):this.reloadAndSetCurrentUserOrClear(T)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await mu(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=tM()}async _delete(){this._deleted=!0}async updateCurrentUser(t){const n=t?oe(t):null;return n&&St(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&St(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(t){return this.queue(async()=>{await this.assertedPersistence.setPersistence(an(t))})}async initializeRecaptchaConfig(){const t=await OS(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),n=new NS(t);this.tenantId==null?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new GS(this).verify()}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new or("auth","Firebase",t())}onAuthStateChanged(t,n,g){return this.registerStateListener(this.authStateSubscription,t,n,g)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,g){return this.registerStateListener(this.idTokenSubscription,t,n,g)}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const g=await this.getOrInitRedirectPersistenceManager(n);return t===null?g.removeCurrentUser():g.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&an(t)||this._popupRedirectResolver;St(n,this,"argument-error"),this.redirectPersistenceManager=await Wr.create(this,[an(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,g;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((g=this.redirectUser)===null||g===void 0?void 0:g._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const g=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==g&&(this.lastNotifiedUid=g,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,g,T){if(this._deleted)return()=>{};const A=typeof n=="function"?n:n.next.bind(n),h=this._isInitialized?Promise.resolve():this._initializationPromise;return St(h,this,"internal-error"),h.then(()=>A(this.currentUser)),typeof n=="function"?t.addObserver(n,g,T):t.addObserver(n)}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return St(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=DS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const g=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());g&&(n["X-Firebase-Client"]=g);const T=await this._getAppCheckToken();return T&&(n["X-Firebase-AppCheck"]=T),n}async _getAppCheckToken(){var t;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&JR(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function hr(i){return oe(i)}class $0{constructor(t){this.auth=t,this.observer=null,this.addObserver=B4(n=>this.observer=n)}get next(){return St(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wM(i,t){const n=lr(i,"auth");if(n.isInitialized()){const T=n.getImmediate(),A=n.getOptions();if($o(A,t??{}))return T;Ai(T,"already-initialized")}return n.initialize({options:t})}function AM(i,t){const n=(t==null?void 0:t.persistence)||[],g=(Array.isArray(n)?n:[n]).map(an);t!=null&&t.errorMap&&i._updateErrorMap(t.errorMap),i._initializeWithPersistence(g,t==null?void 0:t.popupRedirectResolver)}function PM(i,t,n){const g=hr(i);St(g._canInitEmulator,g,"emulator-config-failed"),St(/^https?:\/\//.test(t),g,"invalid-emulator-scheme");const T=!!(n!=null&&n.disableWarnings),A=US(t),{host:h,port:S}=RM(t),e=S===null?"":`:${S}`;g.config.emulator={url:`${A}//${h}${e}/`},g.settings.appVerificationDisabledForTesting=!0,g.emulatorConfig=Object.freeze({host:h,port:S,protocol:A.replace(":",""),options:Object.freeze({disableWarnings:T})}),T||MM()}function US(i){const t=i.indexOf(":");return t<0?"":i.substr(0,t+1)}function RM(i){const t=US(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(t.length));if(!n)return{host:"",port:null};const g=n[2].split("@").pop()||"",T=/^(\[[^\]]+\])(:|$)/.exec(g);if(T){const A=T[1];return{host:A,port:k0(g.substr(A.length+1))}}else{const[A,h]=g.split(":");return{host:A,port:k0(h)}}}function k0(i){if(!i)return null;const t=Number(i);return isNaN(t)?null:t}function MM(){function i(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jp{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return rn("not implemented")}_getIdTokenResponse(t){return rn("not implemented")}_linkToIdToken(t,n){return rn("not implemented")}_getReauthenticationResolver(t){return rn("not implemented")}}async function IM(i,t){return wa(i,"POST","/v1/accounts:update",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fd(i,t){return xl(i,"POST","/v1/accounts:signInWithPassword",Ca(i,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LM(i,t){return xl(i,"POST","/v1/accounts:signInWithEmailLink",Ca(i,t))}async function FM(i,t){return xl(i,"POST","/v1/accounts:signInWithEmailLink",Ca(i,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo extends jp{constructor(t,n,g,T=null){super("password",g),this._email=t,this._password=n,this._tenantId=T}static _fromEmailAndPassword(t,n){return new Qo(t,n,"password")}static _fromEmailAndCode(t,n,g=null){return new Qo(t,n,"emailLink",g)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){var n;switch(this.signInMethod){case"password":const g={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(!((n=t._getRecaptchaConfig())===null||n===void 0)&&n.emailPasswordEnabled){const T=await gu(t,g,"signInWithPassword");return Fd(t,T)}else return Fd(t,g).catch(async T=>{if(T.code==="auth/missing-recaptcha-token"){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const A=await gu(t,g,"signInWithPassword");return Fd(t,A)}else return Promise.reject(T)});case"emailLink":return LM(t,{email:this._email,oobCode:this._password});default:Ai(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":return IM(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return FM(t,{idToken:n,email:this._email,oobCode:this._password});default:Ai(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yr(i,t){return xl(i,"POST","/v1/accounts:signInWithIdp",Ca(i,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DM="http://localhost";class ks extends jp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new ks(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Ai("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:g,signInMethod:T}=n,A=Wp(n,["providerId","signInMethod"]);if(!g||!T)return null;const h=new ks(g,T);return h.idToken=A.idToken||void 0,h.accessToken=A.accessToken||void 0,h.secret=A.secret,h.nonce=A.nonce,h.pendingToken=A.pendingToken||null,h}_getIdTokenResponse(t){const n=this.buildRequest();return Yr(t,n)}_linkToIdToken(t,n){const g=this.buildRequest();return g.idToken=n,Yr(t,g)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Yr(t,n)}buildRequest(){const t={requestUri:DM,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=ml(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OM(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function NM(i){const t=eo(io(i)).link,n=t?eo(io(t)).deep_link_id:null,g=eo(io(i)).deep_link_id;return(g?eo(io(g)).link:null)||g||n||t||i}class Kp{constructor(t){var n,g,T,A,h,S;const e=eo(io(t)),u=(n=e.apiKey)!==null&&n!==void 0?n:null,y=(g=e.oobCode)!==null&&g!==void 0?g:null,f=OM((T=e.mode)!==null&&T!==void 0?T:null);St(u&&y&&f,"argument-error"),this.apiKey=u,this.operation=f,this.code=y,this.continueUrl=(A=e.continueUrl)!==null&&A!==void 0?A:null,this.languageCode=(h=e.languageCode)!==null&&h!==void 0?h:null,this.tenantId=(S=e.tenantId)!==null&&S!==void 0?S:null}static parseLink(t){const n=NM(t);try{return new Kp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(){this.providerId=Aa.PROVIDER_ID}static credential(t,n){return Qo._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const g=Kp.parseLink(n);return St(g,"argument-error"),Qo._fromEmailAndCode(t,g.code,g.tenantId)}}Aa.PROVIDER_ID="password";Aa.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Aa.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qp{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl extends Qp{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In extends yl{constructor(){super("facebook.com")}static credential(t){return ks._fromParams({providerId:In.PROVIDER_ID,signInMethod:In.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return In.credentialFromTaggedObject(t)}static credentialFromError(t){return In.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return In.credential(t.oauthAccessToken)}catch{return null}}}In.FACEBOOK_SIGN_IN_METHOD="facebook.com";In.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en extends yl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return ks._fromParams({providerId:en.PROVIDER_ID,signInMethod:en.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return en.credentialFromTaggedObject(t)}static credentialFromError(t){return en.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:g}=t;if(!n&&!g)return null;try{return en.credential(n,g)}catch{return null}}}en.GOOGLE_SIGN_IN_METHOD="google.com";en.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln extends yl{constructor(){super("github.com")}static credential(t){return ks._fromParams({providerId:Ln.PROVIDER_ID,signInMethod:Ln.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ln.credentialFromTaggedObject(t)}static credentialFromError(t){return Ln.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ln.credential(t.oauthAccessToken)}catch{return null}}}Ln.GITHUB_SIGN_IN_METHOD="github.com";Ln.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn extends yl{constructor(){super("twitter.com")}static credential(t,n){return ks._fromParams({providerId:Fn.PROVIDER_ID,signInMethod:Fn.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Fn.credentialFromTaggedObject(t)}static credentialFromError(t){return Fn.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:g}=t;if(!n||!g)return null;try{return Fn.credential(n,g)}catch{return null}}}Fn.TWITTER_SIGN_IN_METHOD="twitter.com";Fn.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dd(i,t){return xl(i,"POST","/v1/accounts:signUp",Ca(i,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,g,T=!1){const A=await Us._fromIdTokenResponse(t,g,T),h=j0(g);return new js({user:A,providerId:h,_tokenResponse:g,operationType:n})}static async _forOperation(t,n,g){await t._updateTokensIfNecessary(g,!0);const T=j0(g);return new js({user:t,providerId:T,_tokenResponse:g,operationType:n})}}function j0(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xu extends Ui{constructor(t,n,g,T){var A;super(n.code,n.message),this.operationType=g,this.user=T,Object.setPrototypeOf(this,xu.prototype),this.customData={appName:t.name,tenantId:(A=t.tenantId)!==null&&A!==void 0?A:void 0,_serverResponse:n.customData._serverResponse,operationType:g}}static _fromErrorAndOperation(t,n,g,T){return new xu(t,n,g,T)}}function bS(i,t,n,g){return(t==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(A=>{throw A.code==="auth/multi-factor-auth-required"?xu._fromErrorAndOperation(i,A,t,g):A})}async function BM(i,t,n=!1){const g=await jo(i,t._linkToIdToken(i.auth,await i.getIdToken()),n);return js._forOperation(i,"link",g)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GM(i,t,n=!1){const{auth:g}=i,T="reauthenticate";try{const A=await jo(i,bS(g,T,t,i),n);St(A.idToken,g,"internal-error");const h=$p(A.idToken);St(h,g,"internal-error");const{sub:S}=h;return St(i.uid===S,g,"user-mismatch"),js._forOperation(i,T,A)}catch(A){throw(A==null?void 0:A.code)==="auth/user-not-found"&&Ai(g,"user-mismatch"),A}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VS(i,t,n=!1){const g="signIn",T=await bS(i,g,t),A=await js._fromIdTokenResponse(i,g,T);return n||await i._updateCurrentUser(A.user),A}async function UM(i,t){return VS(hr(i),t)}async function bM(i,t,n){var g;const T=hr(i),A={returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"};let h;if(!((g=T._getRecaptchaConfig())===null||g===void 0)&&g.emailPasswordEnabled){const u=await gu(T,A,"signUpPassword");h=Dd(T,u)}else h=Dd(T,A).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const y=await gu(T,A,"signUpPassword");return Dd(T,y)}else return Promise.reject(u)});const S=await h.catch(u=>Promise.reject(u)),e=await js._fromIdTokenResponse(T,"signIn",S);return await T._updateCurrentUser(e.user),e}function VM(i,t,n){return UM(oe(i),Aa.credential(t,n))}function zM(i,t,n,g){return oe(i).onIdTokenChanged(t,n,g)}function XM(i,t,n){return oe(i).beforeAuthStateChanged(t,n)}function WM(i,t,n,g){return oe(i).onAuthStateChanged(t,n,g)}function YM(i){return oe(i).signOut()}const yu="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(yu,"1"),this.storage.removeItem(yu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HM(){const i=ve();return kp(i)||ff(i)}const $M=1e3,kM=10;class XS extends zS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=HM()&&mM(),this.fallbackToPolling=FS(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const g=this.storage.getItem(n),T=this.localCache[n];g!==T&&t(n,T,g)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((h,S,e)=>{this.notifyListeners(h,e)});return}const g=t.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const h=this.storage.getItem(g);if(t.newValue!==h)t.newValue!==null?this.storage.setItem(g,t.newValue):this.storage.removeItem(g);else if(this.localCache[g]===t.newValue&&!n)return}const T=()=>{const h=this.storage.getItem(g);!n&&this.localCache[g]===h||this.notifyListeners(g,h)},A=this.storage.getItem(g);pM()&&A!==t.newValue&&t.newValue!==t.oldValue?setTimeout(T,kM):T()}notifyListeners(t,n){this.localCache[t]=n;const g=this.listeners[t];if(g)for(const T of Array.from(g))T(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,g)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:g}),!0)})},$M)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}XS.type="LOCAL";const jM=XS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WS extends zS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}WS.type="SESSION";const YS=WS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KM(i){return Promise.all(i.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(T=>T.isListeningto(t));if(n)return n;const g=new df(t);return this.receivers.push(g),g}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:g,eventType:T,data:A}=n.data,h=this.handlersMap[T];if(!(h!=null&&h.size))return;n.ports[0].postMessage({status:"ack",eventId:g,eventType:T});const S=Array.from(h).map(async u=>u(n.origin,A)),e=await KM(S);n.ports[0].postMessage({status:"done",eventId:g,eventType:T,response:e})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}df.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jp(i="",t=10){let n="";for(let g=0;g<t;g++)n+=Math.floor(Math.random()*10);return i+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QM{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,g=50){const T=typeof MessageChannel<"u"?new MessageChannel:null;if(!T)throw new Error("connection_unavailable");let A,h;return new Promise((S,e)=>{const u=Jp("",20);T.port1.start();const y=setTimeout(()=>{e(new Error("unsupported_event"))},g);h={messageChannel:T,onMessage(f){const l=f;if(l.data.eventId===u)switch(l.data.status){case"ack":clearTimeout(y),A=setTimeout(()=>{e(new Error("timeout"))},3e3);break;case"done":clearTimeout(A),S(l.data.response);break;default:clearTimeout(y),clearTimeout(A),e(new Error("invalid_response"));break}}},this.handlers.add(h),T.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:t,eventId:u,data:n},[T.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qi(){return window}function JM(i){Qi().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HS(){return typeof Qi().WorkerGlobalScope<"u"&&typeof Qi().importScripts=="function"}async function ZM(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function qM(){var i;return((i=navigator==null?void 0:navigator.serviceWorker)===null||i===void 0?void 0:i.controller)||null}function _M(){return HS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $S="firebaseLocalStorageDb",t9=1,Tu="firebaseLocalStorage",kS="fbase_key";class Tl{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function cf(i,t){return i.transaction([Tu],t?"readwrite":"readonly").objectStore(Tu)}function e9(){const i=indexedDB.deleteDatabase($S);return new Tl(i).toPromise()}function ev(){const i=indexedDB.open($S,t9);return new Promise((t,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const g=i.result;try{g.createObjectStore(Tu,{keyPath:kS})}catch(T){n(T)}}),i.addEventListener("success",async()=>{const g=i.result;g.objectStoreNames.contains(Tu)?t(g):(g.close(),await e9(),t(await ev()))})})}async function K0(i,t,n){const g=cf(i,!0).put({[kS]:t,value:n});return new Tl(g).toPromise()}async function i9(i,t){const n=cf(i,!1).get(t),g=await new Tl(n).toPromise();return g===void 0?null:g.value}function Q0(i,t){const n=cf(i,!0).delete(t);return new Tl(n).toPromise()}const n9=800,s9=3;class jS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ev(),this.db)}async _withRetries(t){let n=0;for(;;)try{const g=await this._openDb();return await t(g)}catch(g){if(n++>s9)throw g;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return HS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=df._getInstance(_M()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await ZM(),!this.activeServiceWorker)return;this.sender=new QM(this.activeServiceWorker);const g=await this.sender._send("ping",{},800);g&&!((t=g[0])===null||t===void 0)&&t.fulfilled&&!((n=g[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||qM()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await ev();return await K0(t,yu,"1"),await Q0(t,yu),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(g=>K0(g,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(g=>i9(g,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Q0(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(T=>{const A=cf(T,!1).getAll();return new Tl(A).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],g=new Set;for(const{fbase_key:T,value:A}of t)g.add(T),JSON.stringify(this.localCache[T])!==JSON.stringify(A)&&(this.notifyListeners(T,A),n.push(T));for(const T of Object.keys(this.localCache))this.localCache[T]&&!g.has(T)&&(this.notifyListeners(T,null),n.push(T));return n}notifyListeners(t,n){this.localCache[t]=n;const g=this.listeners[t];if(g)for(const T of Array.from(g))T(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),n9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}jS.type="LOCAL";const r9=jS;new gl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KS(i,t){return t?an(t):(St(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zp extends jp{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Yr(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Yr(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Yr(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function a9(i){return VS(i.auth,new Zp(i),i.bypassAuthState)}function o9(i){const{auth:t,user:n}=i;return St(n,t,"internal-error"),GM(n,new Zp(i),i.bypassAuthState)}async function l9(i){const{auth:t,user:n}=i;return St(n,t,"internal-error"),BM(n,new Zp(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{constructor(t,n,g,T,A=!1){this.auth=t,this.resolver=g,this.user=T,this.bypassAuthState=A,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(g){this.reject(g)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:g,postBody:T,tenantId:A,error:h,type:S}=t;if(h){this.reject(h);return}const e={auth:this.auth,requestUri:n,sessionId:g,tenantId:A||void 0,postBody:T||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(S)(e))}catch(u){this.reject(u)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return a9;case"linkViaPopup":case"linkViaRedirect":return l9;case"reauthViaPopup":case"reauthViaRedirect":return o9;default:Ai(this.auth,"internal-error")}}resolve(t){mn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){mn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h9=new gl(2e3,1e4);async function u9(i,t,n){const g=hr(i);ZR(i,t,Qp);const T=KS(g,n);return new Fs(g,"signInViaPopup",t,T).executeNotNull()}class Fs extends QS{constructor(t,n,g,T,A){super(t,n,T,A),this.provider=g,this.authWindow=null,this.pollId=null,Fs.currentPopupAction&&Fs.currentPopupAction.cancel(),Fs.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return St(t,this.auth,"internal-error"),t}async onExecution(){mn(this.filter.length===1,"Popup operations only handle one event");const t=Jp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ki(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Ki(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Fs.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,g;if(!((g=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||g===void 0)&&g.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ki(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,h9.get())};t()}}Fs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f9="pendingRedirect",Ih=new Map;class d9 extends QS{constructor(t,n,g=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,g),this.eventId=null}async execute(){let t=Ih.get(this.auth._key());if(!t){try{const g=await c9(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(g)}catch(n){t=()=>Promise.reject(n)}Ih.set(this.auth._key(),t)}return this.bypassAuthState||Ih.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function c9(i,t){const n=m9(t),g=p9(i);if(!await g._isAvailable())return!1;const T=await g._get(n)==="true";return await g._remove(n),T}function v9(i,t){Ih.set(i._key(),t)}function p9(i){return an(i._redirectPersistence)}function m9(i){return Mh(f9,i.config.apiKey,i.name)}async function g9(i,t,n=!1){const g=hr(i),T=KS(g,t),h=await new d9(g,T,n).execute();return h&&!n&&(delete h.user._redirectEventId,await g._persistUserIfCurrent(h.user),await g._setRedirectUser(null,t)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x9=10*60*1e3;class y9{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(g=>{this.isEventForConsumer(t,g)&&(n=!0,this.sendToConsumer(t,g),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!T9(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var g;if(t.error&&!JS(t)){const T=((g=t.error.code)===null||g===void 0?void 0:g.split("auth/")[1])||"internal-error";n.onError(Ki(this.auth,T))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const g=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&g}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=x9&&this.cachedEventUids.clear(),this.cachedEventUids.has(J0(t))}saveEventToCache(t){this.cachedEventUids.add(J0(t)),this.lastProcessedEventTime=Date.now()}}function J0(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(t=>t).join("-")}function JS({type:i,error:t}){return i==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function T9(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return JS(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S9(i,t={}){return wa(i,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E9=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,C9=/^https?/;async function w9(i){if(i.config.emulator)return;const{authorizedDomains:t}=await S9(i);for(const n of t)try{if(A9(n))return}catch{}Ai(i,"unauthorized-domain")}function A9(i){const t=tv(),{protocol:n,hostname:g}=new URL(t);if(i.startsWith("chrome-extension://")){const h=new URL(i);return h.hostname===""&&g===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&h.hostname===g}if(!C9.test(n))return!1;if(E9.test(i))return g===i;const T=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+T+"|"+T+")$","i").test(g)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P9=new gl(3e4,6e4);function Z0(){const i=Qi().___jsl;if(i!=null&&i.H){for(const t of Object.keys(i.H))if(i.H[t].r=i.H[t].r||[],i.H[t].L=i.H[t].L||[],i.H[t].r=[...i.H[t].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function R9(i){return new Promise((t,n)=>{var g,T,A;function h(){Z0(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Z0(),n(Ki(i,"network-request-failed"))},timeout:P9.get()})}if(!((T=(g=Qi().gapi)===null||g===void 0?void 0:g.iframes)===null||T===void 0)&&T.Iframe)t(gapi.iframes.getContext());else if(!((A=Qi().gapi)===null||A===void 0)&&A.load)h();else{const S=xM("iframefcb");return Qi()[S]=()=>{gapi.load?h():n(Ki(i,"network-request-failed"))},BS(`https://apis.google.com/js/api.js?onload=${S}`).catch(e=>n(e))}}).catch(t=>{throw Lh=null,t})}let Lh=null;function M9(i){return Lh=Lh||R9(i),Lh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I9=new gl(5e3,15e3),L9="__/auth/iframe",F9="emulator/auth/iframe",D9={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},O9=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function N9(i){const t=i.config;St(t.authDomain,i,"auth-domain-config-required");const n=t.emulator?Hp(t,F9):`https://${i.config.authDomain}/${L9}`,g={apiKey:t.apiKey,appName:i.name,v:Ea},T=O9.get(i.config.apiHost);T&&(g.eid=T);const A=i._getFrameworks();return A.length&&(g.fw=A.join(",")),`${n}?${ml(g).slice(1)}`}async function B9(i){const t=await M9(i),n=Qi().gapi;return St(n,i,"internal-error"),t.open({where:document.body,url:N9(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:D9,dontclear:!0},g=>new Promise(async(T,A)=>{await g.restyle({setHideOnLeave:!1});const h=Ki(i,"network-request-failed"),S=Qi().setTimeout(()=>{A(h)},I9.get());function e(){Qi().clearTimeout(S),T(g)}g.ping(e).then(e,()=>{A(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G9={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},U9=500,b9=600,V9="_blank",z9="http://localhost";class q0{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function X9(i,t,n,g=U9,T=b9){const A=Math.max((window.screen.availHeight-T)/2,0).toString(),h=Math.max((window.screen.availWidth-g)/2,0).toString();let S="";const e=Object.assign(Object.assign({},G9),{width:g.toString(),height:T.toString(),top:A,left:h}),u=ve().toLowerCase();n&&(S=PS(u)?V9:n),AS(u)&&(t=t||z9,e.scrollbars="yes");const y=Object.entries(e).reduce((l,[o,s])=>`${l}${o}=${s},`,"");if(vM(u)&&S!=="_self")return W9(t||"",S),new q0(null);const f=window.open(t||"",S,y);St(f,i,"popup-blocked");try{f.focus()}catch{}return new q0(f)}function W9(i,t){const n=document.createElement("a");n.href=i,n.target=t;const g=document.createEvent("MouseEvent");g.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(g)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y9="__/auth/handler",H9="emulator/auth/handler",$9=encodeURIComponent("fac");async function _0(i,t,n,g,T,A){St(i.config.authDomain,i,"auth-domain-config-required"),St(i.config.apiKey,i,"invalid-api-key");const h={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:g,v:Ea,eventId:T};if(t instanceof Qp){t.setDefaultLanguage(i.languageCode),h.providerId=t.providerId||"",N4(t.getCustomParameters())||(h.customParameters=JSON.stringify(t.getCustomParameters()));for(const[y,f]of Object.entries(A||{}))h[y]=f}if(t instanceof yl){const y=t.getScopes().filter(f=>f!=="");y.length>0&&(h.scopes=y.join(","))}i.tenantId&&(h.tid=i.tenantId);const S=h;for(const y of Object.keys(S))S[y]===void 0&&delete S[y];const e=await i._getAppCheckToken(),u=e?`#${$9}=${encodeURIComponent(e)}`:"";return`${k9(i)}?${ml(S).slice(1)}${u}`}function k9({config:i}){return i.emulator?Hp(i,H9):`https://${i.authDomain}/${Y9}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Od="webStorageSupport";class j9{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=YS,this._completeRedirectFn=g9,this._overrideRedirectResult=v9}async _openPopup(t,n,g,T){var A;mn((A=this.eventManagers[t._key()])===null||A===void 0?void 0:A.manager,"_initialize() not called before _openPopup()");const h=await _0(t,n,g,tv(),T);return X9(t,h,Jp())}async _openRedirect(t,n,g,T){await this._originValidation(t);const A=await _0(t,n,g,tv(),T);return JM(A),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:T,promise:A}=this.eventManagers[n];return T?Promise.resolve(T):(mn(A,"If manager is not set, promise should be"),A)}const g=this.initAndGetManager(t);return this.eventManagers[n]={promise:g},g.catch(()=>{delete this.eventManagers[n]}),g}async initAndGetManager(t){const n=await B9(t),g=new y9(t);return n.register("authEvent",T=>(St(T==null?void 0:T.authEvent,t,"invalid-auth-event"),{status:g.onEvent(T.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:g},this.iframes[t._key()]=n,g}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Od,{type:Od},T=>{var A;const h=(A=T==null?void 0:T[0])===null||A===void 0?void 0:A[Od];h!==void 0&&n(!!h),Ai(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=w9(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return FS()||kp()||ff()}}const K9=j9;var tx="@firebase/auth",ex="0.23.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q9{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(g=>{t((g==null?void 0:g.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){St(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J9(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function Z9(i){Zi(new Oi("auth",(t,{options:n})=>{const g=t.getProvider("app").getImmediate(),T=t.getProvider("heartbeat"),A=t.getProvider("app-check-internal"),{apiKey:h,authDomain:S}=g.options;St(h&&!h.includes(":"),"invalid-api-key",{appName:g.name});const e={apiKey:h,authDomain:S,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:DS(i)},u=new CM(g,T,A,e);return AM(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,g)=>{t.getProvider("auth-internal").initialize()})),Zi(new Oi("auth-internal",t=>{const n=hr(t.getProvider("auth").getImmediate());return(g=>new Q9(g))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Si(tx,ex,J9(i)),Si(tx,ex,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q9=5*60,_9=uS("authIdTokenMaxAge")||q9;let ix=null;const tI=i=>async t=>{const n=t&&await t.getIdTokenResult(),g=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(g&&g>_9)return;const T=n==null?void 0:n.token;ix!==T&&(ix=T,await fetch(i,{method:T?"POST":"DELETE",headers:T?{Authorization:`Bearer ${T}`}:{}}))};function eI(i=Xp()){const t=lr(i,"auth");if(t.isInitialized())return t.getImmediate();const n=wM(i,{popupRedirectResolver:K9,persistence:[r9,jM,YS]}),g=uS("authTokenSyncURL");if(g){const A=tI(g);XM(n,A,()=>A(n.currentUser)),zM(n,h=>A(h))}const T=lS("auth");return T&&PM(n,`http://${T}`),n}Z9("Browser");var iI=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ft,qp=qp||{},Et=iI||self;function vf(i){var t=typeof i;return t=t!="object"?t:i?Array.isArray(i)?"array":t:"null",t=="array"||t=="object"&&typeof i.length=="number"}function Sl(i){var t=typeof i;return t=="object"&&i!=null||t=="function"}function nI(i){return Object.prototype.hasOwnProperty.call(i,Nd)&&i[Nd]||(i[Nd]=++sI)}var Nd="closure_uid_"+(1e9*Math.random()>>>0),sI=0;function rI(i,t,n){return i.call.apply(i.bind,arguments)}function aI(i,t,n){if(!i)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var T=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(T,g),i.apply(t,T)}}return function(){return i.apply(t,arguments)}}function Ge(i,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Ge=rI:Ge=aI,Ge.apply(null,arguments)}function nh(i,t){var n=Array.prototype.slice.call(arguments,1);return function(){var g=n.slice();return g.push.apply(g,arguments),i.apply(this,g)}}function Te(i,t){function n(){}n.prototype=t.prototype,i.$=t.prototype,i.prototype=new n,i.prototype.constructor=i,i.ac=function(g,T,A){for(var h=Array(arguments.length-2),S=2;S<arguments.length;S++)h[S-2]=arguments[S];return t.prototype[T].apply(g,h)}}function ls(){this.s=this.s,this.o=this.o}var oI=0;ls.prototype.s=!1;ls.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),oI!=0)&&nI(this)};ls.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const ZS=Array.prototype.indexOf?function(i,t){return Array.prototype.indexOf.call(i,t,void 0)}:function(i,t){if(typeof i=="string")return typeof t!="string"||t.length!=1?-1:i.indexOf(t,0);for(let n=0;n<i.length;n++)if(n in i&&i[n]===t)return n;return-1};function _p(i){const t=i.length;if(0<t){const n=Array(t);for(let g=0;g<t;g++)n[g]=i[g];return n}return[]}function nx(i,t){for(let n=1;n<arguments.length;n++){const g=arguments[n];if(vf(g)){const T=i.length||0,A=g.length||0;i.length=T+A;for(let h=0;h<A;h++)i[T+h]=g[h]}else i.push(g)}}function Ue(i,t){this.type=i,this.g=this.target=t,this.defaultPrevented=!1}Ue.prototype.h=function(){this.defaultPrevented=!0};var lI=function(){if(!Et.addEventListener||!Object.defineProperty)return!1;var i=!1,t=Object.defineProperty({},"passive",{get:function(){i=!0}});try{Et.addEventListener("test",()=>{},t),Et.removeEventListener("test",()=>{},t)}catch{}return i}();function Jo(i){return/^[\s\xa0]*$/.test(i)}function pf(){var i=Et.navigator;return i&&(i=i.userAgent)?i:""}function Xi(i){return pf().indexOf(i)!=-1}function tm(i){return tm[" "](i),i}tm[" "]=function(){};function hI(i,t){var n=e5;return Object.prototype.hasOwnProperty.call(n,i)?n[i]:n[i]=t(i)}var uI=Xi("Opera"),na=Xi("Trident")||Xi("MSIE"),qS=Xi("Edge"),iv=qS||na,_S=Xi("Gecko")&&!(pf().toLowerCase().indexOf("webkit")!=-1&&!Xi("Edge"))&&!(Xi("Trident")||Xi("MSIE"))&&!Xi("Edge"),fI=pf().toLowerCase().indexOf("webkit")!=-1&&!Xi("Edge");function t2(){var i=Et.document;return i?i.documentMode:void 0}var nv;t:{var Bd="",Gd=function(){var i=pf();if(_S)return/rv:([^\);]+)(\)|;)/.exec(i);if(qS)return/Edge\/([\d\.]+)/.exec(i);if(na)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i);if(fI)return/WebKit\/(\S+)/.exec(i);if(uI)return/(?:Version)[ \/]?(\S+)/.exec(i)}();if(Gd&&(Bd=Gd?Gd[1]:""),na){var Ud=t2();if(Ud!=null&&Ud>parseFloat(Bd)){nv=String(Ud);break t}}nv=Bd}var sv;if(Et.document&&na){var sx=t2();sv=sx||parseInt(nv,10)||void 0}else sv=void 0;var dI=sv;function Zo(i,t){if(Ue.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var n=this.type=i.type,g=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=t,t=i.relatedTarget){if(_S){t:{try{tm(t.nodeName);var T=!0;break t}catch{}T=!1}T||(t=null)}}else n=="mouseover"?t=i.fromElement:n=="mouseout"&&(t=i.toElement);this.relatedTarget=t,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=i.clientX!==void 0?i.clientX:i.pageX,this.clientY=i.clientY!==void 0?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType=typeof i.pointerType=="string"?i.pointerType:cI[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&Zo.$.h.call(this)}}Te(Zo,Ue);var cI={2:"touch",3:"pen",4:"mouse"};Zo.prototype.h=function(){Zo.$.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var El="closure_listenable_"+(1e6*Math.random()|0),vI=0;function pI(i,t,n,g,T){this.listener=i,this.proxy=null,this.src=t,this.type=n,this.capture=!!g,this.la=T,this.key=++vI,this.fa=this.ia=!1}function mf(i){i.fa=!0,i.listener=null,i.proxy=null,i.src=null,i.la=null}function em(i,t,n){for(const g in i)t.call(n,i[g],g,i)}function mI(i,t){for(const n in i)t.call(void 0,i[n],n,i)}function e2(i){const t={};for(const n in i)t[n]=i[n];return t}const rx="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function i2(i,t){let n,g;for(let T=1;T<arguments.length;T++){g=arguments[T];for(n in g)i[n]=g[n];for(let A=0;A<rx.length;A++)n=rx[A],Object.prototype.hasOwnProperty.call(g,n)&&(i[n]=g[n])}}function gf(i){this.src=i,this.g={},this.h=0}gf.prototype.add=function(i,t,n,g,T){var A=i.toString();i=this.g[A],i||(i=this.g[A]=[],this.h++);var h=av(i,t,g,T);return-1<h?(t=i[h],n||(t.ia=!1)):(t=new pI(t,this.src,A,!!g,T),t.ia=n,i.push(t)),t};function rv(i,t){var n=t.type;if(n in i.g){var g=i.g[n],T=ZS(g,t),A;(A=0<=T)&&Array.prototype.splice.call(g,T,1),A&&(mf(t),i.g[n].length==0&&(delete i.g[n],i.h--))}}function av(i,t,n,g){for(var T=0;T<i.length;++T){var A=i[T];if(!A.fa&&A.listener==t&&A.capture==!!n&&A.la==g)return T}return-1}var im="closure_lm_"+(1e6*Math.random()|0),bd={};function n2(i,t,n,g,T){if(g&&g.once)return r2(i,t,n,g,T);if(Array.isArray(t)){for(var A=0;A<t.length;A++)n2(i,t[A],n,g,T);return null}return n=rm(n),i&&i[El]?i.O(t,n,Sl(g)?!!g.capture:!!g,T):s2(i,t,n,!1,g,T)}function s2(i,t,n,g,T,A){if(!t)throw Error("Invalid event type");var h=Sl(T)?!!T.capture:!!T,S=sm(i);if(S||(i[im]=S=new gf(i)),n=S.add(t,n,g,h,A),n.proxy)return n;if(g=gI(),n.proxy=g,g.src=i,g.listener=n,i.addEventListener)lI||(T=h),T===void 0&&(T=!1),i.addEventListener(t.toString(),g,T);else if(i.attachEvent)i.attachEvent(o2(t.toString()),g);else if(i.addListener&&i.removeListener)i.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return n}function gI(){function i(n){return t.call(i.src,i.listener,n)}const t=xI;return i}function r2(i,t,n,g,T){if(Array.isArray(t)){for(var A=0;A<t.length;A++)r2(i,t[A],n,g,T);return null}return n=rm(n),i&&i[El]?i.P(t,n,Sl(g)?!!g.capture:!!g,T):s2(i,t,n,!0,g,T)}function a2(i,t,n,g,T){if(Array.isArray(t))for(var A=0;A<t.length;A++)a2(i,t[A],n,g,T);else g=Sl(g)?!!g.capture:!!g,n=rm(n),i&&i[El]?(i=i.i,t=String(t).toString(),t in i.g&&(A=i.g[t],n=av(A,n,g,T),-1<n&&(mf(A[n]),Array.prototype.splice.call(A,n,1),A.length==0&&(delete i.g[t],i.h--)))):i&&(i=sm(i))&&(t=i.g[t.toString()],i=-1,t&&(i=av(t,n,g,T)),(n=-1<i?t[i]:null)&&nm(n))}function nm(i){if(typeof i!="number"&&i&&!i.fa){var t=i.src;if(t&&t[El])rv(t.i,i);else{var n=i.type,g=i.proxy;t.removeEventListener?t.removeEventListener(n,g,i.capture):t.detachEvent?t.detachEvent(o2(n),g):t.addListener&&t.removeListener&&t.removeListener(g),(n=sm(t))?(rv(n,i),n.h==0&&(n.src=null,t[im]=null)):mf(i)}}}function o2(i){return i in bd?bd[i]:bd[i]="on"+i}function xI(i,t){if(i.fa)i=!0;else{t=new Zo(t,this);var n=i.listener,g=i.la||i.src;i.ia&&nm(i),i=n.call(g,t)}return i}function sm(i){return i=i[im],i instanceof gf?i:null}var Vd="__closure_events_fn_"+(1e9*Math.random()>>>0);function rm(i){return typeof i=="function"?i:(i[Vd]||(i[Vd]=function(t){return i.handleEvent(t)}),i[Vd])}function ye(){ls.call(this),this.i=new gf(this),this.S=this,this.J=null}Te(ye,ls);ye.prototype[El]=!0;ye.prototype.removeEventListener=function(i,t,n,g){a2(this,i,t,n,g)};function Re(i,t){var n,g=i.J;if(g)for(n=[];g;g=g.J)n.push(g);if(i=i.S,g=t.type||t,typeof t=="string")t=new Ue(t,i);else if(t instanceof Ue)t.target=t.target||i;else{var T=t;t=new Ue(g,i),i2(t,T)}if(T=!0,n)for(var A=n.length-1;0<=A;A--){var h=t.g=n[A];T=sh(h,g,!0,t)&&T}if(h=t.g=i,T=sh(h,g,!0,t)&&T,T=sh(h,g,!1,t)&&T,n)for(A=0;A<n.length;A++)h=t.g=n[A],T=sh(h,g,!1,t)&&T}ye.prototype.N=function(){if(ye.$.N.call(this),this.i){var i=this.i,t;for(t in i.g){for(var n=i.g[t],g=0;g<n.length;g++)mf(n[g]);delete i.g[t],i.h--}}this.J=null};ye.prototype.O=function(i,t,n,g){return this.i.add(String(i),t,!1,n,g)};ye.prototype.P=function(i,t,n,g){return this.i.add(String(i),t,!0,n,g)};function sh(i,t,n,g){if(t=i.i.g[String(t)],!t)return!0;t=t.concat();for(var T=!0,A=0;A<t.length;++A){var h=t[A];if(h&&!h.fa&&h.capture==n){var S=h.listener,e=h.la||h.src;h.ia&&rv(i.i,h),T=S.call(e,g)!==!1&&T}}return T&&!g.defaultPrevented}var am=Et.JSON.stringify;class yI{constructor(t,n){this.i=t,this.j=n,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}function TI(){var i=om;let t=null;return i.g&&(t=i.g,i.g=i.g.next,i.g||(i.h=null),t.next=null),t}class SI{constructor(){this.h=this.g=null}add(t,n){const g=l2.get();g.set(t,n),this.h?this.h.next=g:this.g=g,this.h=g}}var l2=new yI(()=>new EI,i=>i.reset());class EI{constructor(){this.next=this.g=this.h=null}set(t,n){this.h=t,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function CI(i){var t=1;i=i.split(":");const n=[];for(;0<t&&i.length;)n.push(i.shift()),t--;return i.length&&n.push(i.join(":")),n}function wI(i){Et.setTimeout(()=>{throw i},0)}let qo,_o=!1,om=new SI,h2=()=>{const i=Et.Promise.resolve(void 0);qo=()=>{i.then(AI)}};var AI=()=>{for(var i;i=TI();){try{i.h.call(i.g)}catch(n){wI(n)}var t=l2;t.j(i),100>t.h&&(t.h++,i.next=t.g,t.g=i)}_o=!1};function xf(i,t){ye.call(this),this.h=i||1,this.g=t||Et,this.j=Ge(this.qb,this),this.l=Date.now()}Te(xf,ye);ft=xf.prototype;ft.ga=!1;ft.T=null;ft.qb=function(){if(this.ga){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-i):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Re(this,"tick"),this.ga&&(lm(this),this.start()))}};ft.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function lm(i){i.ga=!1,i.T&&(i.g.clearTimeout(i.T),i.T=null)}ft.N=function(){xf.$.N.call(this),lm(this),delete this.g};function hm(i,t,n){if(typeof i=="function")n&&(i=Ge(i,n));else if(i&&typeof i.handleEvent=="function")i=Ge(i.handleEvent,i);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:Et.setTimeout(i,t||0)}function u2(i){i.g=hm(()=>{i.g=null,i.i&&(i.i=!1,u2(i))},i.j);const t=i.h;i.h=null,i.m.apply(null,t)}class PI extends ls{constructor(t,n){super(),this.m=t,this.j=n,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:u2(this)}N(){super.N(),this.g&&(Et.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function tl(i){ls.call(this),this.h=i,this.g={}}Te(tl,ls);var ax=[];function f2(i,t,n,g){Array.isArray(n)||(n&&(ax[0]=n.toString()),n=ax);for(var T=0;T<n.length;T++){var A=n2(t,n[T],g||i.handleEvent,!1,i.h||i);if(!A)break;i.g[A.key]=A}}function d2(i){em(i.g,function(t,n){this.g.hasOwnProperty(n)&&nm(t)},i),i.g={}}tl.prototype.N=function(){tl.$.N.call(this),d2(this)};tl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function yf(){this.g=!0}yf.prototype.Ea=function(){this.g=!1};function RI(i,t,n,g,T,A){i.info(function(){if(i.g)if(A)for(var h="",S=A.split("&"),e=0;e<S.length;e++){var u=S[e].split("=");if(1<u.length){var y=u[0];u=u[1];var f=y.split("_");h=2<=f.length&&f[1]=="type"?h+(y+"="+u+"&"):h+(y+"=redacted&")}}else h=null;else h=A;return"XMLHTTP REQ ("+g+") [attempt "+T+"]: "+t+`
`+n+`
`+h})}function MI(i,t,n,g,T,A,h){i.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+T+"]: "+t+`
`+n+`
`+A+" "+h})}function Br(i,t,n,g){i.info(function(){return"XMLHTTP TEXT ("+t+"): "+LI(i,n)+(g?" "+g:"")})}function II(i,t){i.info(function(){return"TIMEOUT: "+t})}yf.prototype.info=function(){};function LI(i,t){if(!i.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(i=0;i<n.length;i++)if(Array.isArray(n[i])){var g=n[i];if(!(2>g.length)){var T=g[1];if(Array.isArray(T)&&!(1>T.length)){var A=T[0];if(A!="noop"&&A!="stop"&&A!="close")for(var h=1;h<T.length;h++)T[h]=""}}}}return am(n)}catch{return t}}var ur={},ox=null;function Tf(){return ox=ox||new ye}ur.Ta="serverreachability";function c2(i){Ue.call(this,ur.Ta,i)}Te(c2,Ue);function el(i){const t=Tf();Re(t,new c2(t))}ur.STAT_EVENT="statevent";function v2(i,t){Ue.call(this,ur.STAT_EVENT,i),this.stat=t}Te(v2,Ue);function We(i){const t=Tf();Re(t,new v2(t,i))}ur.Ua="timingevent";function p2(i,t){Ue.call(this,ur.Ua,i),this.size=t}Te(p2,Ue);function Cl(i,t){if(typeof i!="function")throw Error("Fn must not be null and must be a function");return Et.setTimeout(function(){i()},t)}var Sf={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},m2={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function um(){}um.prototype.h=null;function lx(i){return i.h||(i.h=i.i())}function g2(){}var wl={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function fm(){Ue.call(this,"d")}Te(fm,Ue);function dm(){Ue.call(this,"c")}Te(dm,Ue);var ov;function Ef(){}Te(Ef,um);Ef.prototype.g=function(){return new XMLHttpRequest};Ef.prototype.i=function(){return{}};ov=new Ef;function Al(i,t,n,g){this.l=i,this.j=t,this.m=n,this.W=g||1,this.U=new tl(this),this.P=FI,i=iv?125:void 0,this.V=new xf(i),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new x2}function x2(){this.i=null,this.g="",this.h=!1}var FI=45e3,lv={},Su={};ft=Al.prototype;ft.setTimeout=function(i){this.P=i};function hv(i,t,n){i.L=1,i.v=wf(gn(t)),i.s=n,i.S=!0,y2(i,null)}function y2(i,t){i.G=Date.now(),Pl(i),i.A=gn(i.v);var n=i.A,g=i.W;Array.isArray(g)||(g=[String(g)]),R2(n.i,"t",g),i.C=0,n=i.l.J,i.h=new x2,i.g=K2(i.l,n?t:null,!i.s),0<i.O&&(i.M=new PI(Ge(i.Pa,i,i.g),i.O)),f2(i.U,i.g,"readystatechange",i.nb),t=i.I?e2(i.I):{},i.s?(i.u||(i.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",i.g.ha(i.A,i.u,i.s,t)):(i.u="GET",i.g.ha(i.A,i.u,null,t)),el(),RI(i.j,i.u,i.A,i.m,i.W,i.s)}ft.nb=function(i){i=i.target;const t=this.M;t&&Wi(i)==3?t.l():this.Pa(i)};ft.Pa=function(i){try{if(i==this.g)t:{const y=Wi(this.g);var t=this.g.Ia();const f=this.g.da();if(!(3>y)&&(y!=3||iv||this.g&&(this.h.h||this.g.ja()||dx(this.g)))){this.J||y!=4||t==7||(t==8||0>=f?el(3):el(2)),Cf(this);var n=this.g.da();this.ca=n;e:if(T2(this)){var g=dx(this.g);i="";var T=g.length,A=Wi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ds(this),To(this);var h="";break e}this.h.i=new Et.TextDecoder}for(t=0;t<T;t++)this.h.h=!0,i+=this.h.i.decode(g[t],{stream:A&&t==T-1});g.splice(0,T),this.h.g+=i,this.C=0,h=this.h.g}else h=this.g.ja();if(this.i=n==200,MI(this.j,this.u,this.A,this.m,this.W,y,n),this.i){if(this.aa&&!this.K){e:{if(this.g){var S,e=this.g;if((S=e.g?e.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Jo(S)){var u=S;break e}}u=null}if(n=u)Br(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,uv(this,n);else{this.i=!1,this.o=3,We(12),Ds(this),To(this);break t}}this.S?(S2(this,y,h),iv&&this.i&&y==3&&(f2(this.U,this.V,"tick",this.mb),this.V.start())):(Br(this.j,this.m,h,null),uv(this,h)),y==4&&Ds(this),this.i&&!this.J&&(y==4?H2(this.l,this):(this.i=!1,Pl(this)))}else qI(this.g),n==400&&0<h.indexOf("Unknown SID")?(this.o=3,We(12)):(this.o=0,We(13)),Ds(this),To(this)}}}catch{}finally{}};function T2(i){return i.g?i.u=="GET"&&i.L!=2&&i.l.Ha:!1}function S2(i,t,n){let g=!0,T;for(;!i.J&&i.C<n.length;)if(T=DI(i,n),T==Su){t==4&&(i.o=4,We(14),g=!1),Br(i.j,i.m,null,"[Incomplete Response]");break}else if(T==lv){i.o=4,We(15),Br(i.j,i.m,n,"[Invalid Chunk]"),g=!1;break}else Br(i.j,i.m,T,null),uv(i,T);T2(i)&&T!=Su&&T!=lv&&(i.h.g="",i.C=0),t!=4||n.length!=0||i.h.h||(i.o=1,We(16),g=!1),i.i=i.i&&g,g?0<n.length&&!i.ba&&(i.ba=!0,t=i.l,t.g==i&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),xm(t),t.M=!0,We(11))):(Br(i.j,i.m,n,"[Invalid Chunked Response]"),Ds(i),To(i))}ft.mb=function(){if(this.g){var i=Wi(this.g),t=this.g.ja();this.C<t.length&&(Cf(this),S2(this,i,t),this.i&&i!=4&&Pl(this))}};function DI(i,t){var n=i.C,g=t.indexOf(`
`,n);return g==-1?Su:(n=Number(t.substring(n,g)),isNaN(n)?lv:(g+=1,g+n>t.length?Su:(t=t.slice(g,g+n),i.C=g+n,t)))}ft.cancel=function(){this.J=!0,Ds(this)};function Pl(i){i.Y=Date.now()+i.P,E2(i,i.P)}function E2(i,t){if(i.B!=null)throw Error("WatchDog timer not null");i.B=Cl(Ge(i.lb,i),t)}function Cf(i){i.B&&(Et.clearTimeout(i.B),i.B=null)}ft.lb=function(){this.B=null;const i=Date.now();0<=i-this.Y?(II(this.j,this.A),this.L!=2&&(el(),We(17)),Ds(this),this.o=2,To(this)):E2(this,this.Y-i)};function To(i){i.l.H==0||i.J||H2(i.l,i)}function Ds(i){Cf(i);var t=i.M;t&&typeof t.sa=="function"&&t.sa(),i.M=null,lm(i.V),d2(i.U),i.g&&(t=i.g,i.g=null,t.abort(),t.sa())}function uv(i,t){try{var n=i.l;if(n.H!=0&&(n.g==i||fv(n.i,i))){if(!i.K&&fv(n.i,i)&&n.H==3){try{var g=n.Ja.g.parse(t)}catch{g=null}if(Array.isArray(g)&&g.length==3){var T=g;if(T[0]==0){t:if(!n.u){if(n.g)if(n.g.G+3e3<i.G)wu(n),Rf(n);else break t;gm(n),We(18)}}else n.Fa=T[1],0<n.Fa-n.V&&37500>T[2]&&n.G&&n.A==0&&!n.v&&(n.v=Cl(Ge(n.ib,n),6e3));if(1>=L2(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Os(n,11)}else if((i.K||n.g==i)&&wu(n),!Jo(t))for(T=n.Ja.g.parse(t),t=0;t<T.length;t++){let u=T[t];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];const y=u[3];y!=null&&(n.ra=y,n.l.info("VER="+n.ra));const f=u[4];f!=null&&(n.Ga=f,n.l.info("SVER="+n.Ga));const l=u[5];l!=null&&typeof l=="number"&&0<l&&(g=1.5*l,n.L=g,n.l.info("backChannelRequestTimeoutMs_="+g)),g=n;const o=i.g;if(o){const s=o.g?o.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(s){var A=g.i;A.g||s.indexOf("spdy")==-1&&s.indexOf("quic")==-1&&s.indexOf("h2")==-1||(A.j=A.l,A.g=new Set,A.h&&(cm(A,A.h),A.h=null))}if(g.F){const a=o.g?o.g.getResponseHeader("X-HTTP-Session-Id"):null;a&&(g.Da=a,Wt(g.I,g.F,a))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-i.G,n.l.info("Handshake RTT: "+n.S+"ms")),g=n;var h=i;if(g.wa=j2(g,g.J?g.pa:null,g.Y),h.K){F2(g.i,h);var S=h,e=g.L;e&&S.setTimeout(e),S.B&&(Cf(S),Pl(S)),g.g=h}else W2(g);0<n.j.length&&Mf(n)}else u[0]!="stop"&&u[0]!="close"||Os(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?Os(n,7):mm(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}el(4)}catch{}}function OI(i){if(i.Z&&typeof i.Z=="function")return i.Z();if(typeof Map<"u"&&i instanceof Map||typeof Set<"u"&&i instanceof Set)return Array.from(i.values());if(typeof i=="string")return i.split("");if(vf(i)){for(var t=[],n=i.length,g=0;g<n;g++)t.push(i[g]);return t}t=[],n=0;for(g in i)t[n++]=i[g];return t}function NI(i){if(i.ta&&typeof i.ta=="function")return i.ta();if(!i.Z||typeof i.Z!="function"){if(typeof Map<"u"&&i instanceof Map)return Array.from(i.keys());if(!(typeof Set<"u"&&i instanceof Set)){if(vf(i)||typeof i=="string"){var t=[];i=i.length;for(var n=0;n<i;n++)t.push(n);return t}t=[],n=0;for(const g in i)t[n++]=g;return t}}}function C2(i,t){if(i.forEach&&typeof i.forEach=="function")i.forEach(t,void 0);else if(vf(i)||typeof i=="string")Array.prototype.forEach.call(i,t,void 0);else for(var n=NI(i),g=OI(i),T=g.length,A=0;A<T;A++)t.call(void 0,g[A],n&&n[A],i)}var w2=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function BI(i,t){if(i){i=i.split("&");for(var n=0;n<i.length;n++){var g=i[n].indexOf("="),T=null;if(0<=g){var A=i[n].substring(0,g);T=i[n].substring(g+1)}else A=i[n];t(A,T?decodeURIComponent(T.replace(/\+/g," ")):"")}}}function bs(i){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,i instanceof bs){this.h=i.h,Eu(this,i.j),this.s=i.s,this.g=i.g,Cu(this,i.m),this.l=i.l;var t=i.i,n=new il;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),hx(this,n),this.o=i.o}else i&&(t=String(i).match(w2))?(this.h=!1,Eu(this,t[1]||"",!0),this.s=no(t[2]||""),this.g=no(t[3]||"",!0),Cu(this,t[4]),this.l=no(t[5]||"",!0),hx(this,t[6]||"",!0),this.o=no(t[7]||"")):(this.h=!1,this.i=new il(null,this.h))}bs.prototype.toString=function(){var i=[],t=this.j;t&&i.push(so(t,ux,!0),":");var n=this.g;return(n||t=="file")&&(i.push("//"),(t=this.s)&&i.push(so(t,ux,!0),"@"),i.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&i.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&i.push("/"),i.push(so(n,n.charAt(0)=="/"?bI:UI,!0))),(n=this.i.toString())&&i.push("?",n),(n=this.o)&&i.push("#",so(n,zI)),i.join("")};function gn(i){return new bs(i)}function Eu(i,t,n){i.j=n?no(t,!0):t,i.j&&(i.j=i.j.replace(/:$/,""))}function Cu(i,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);i.m=t}else i.m=null}function hx(i,t,n){t instanceof il?(i.i=t,XI(i.i,i.h)):(n||(t=so(t,VI)),i.i=new il(t,i.h))}function Wt(i,t,n){i.i.set(t,n)}function wf(i){return Wt(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function no(i,t){return i?t?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function so(i,t,n){return typeof i=="string"?(i=encodeURI(i).replace(t,GI),n&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function GI(i){return i=i.charCodeAt(0),"%"+(i>>4&15).toString(16)+(i&15).toString(16)}var ux=/[#\/\?@]/g,UI=/[#\?:]/g,bI=/[#\?]/g,VI=/[#\?@]/g,zI=/#/g;function il(i,t){this.h=this.g=null,this.i=i||null,this.j=!!t}function hs(i){i.g||(i.g=new Map,i.h=0,i.i&&BI(i.i,function(t,n){i.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}ft=il.prototype;ft.add=function(i,t){hs(this),this.i=null,i=Pa(this,i);var n=this.g.get(i);return n||this.g.set(i,n=[]),n.push(t),this.h+=1,this};function A2(i,t){hs(i),t=Pa(i,t),i.g.has(t)&&(i.i=null,i.h-=i.g.get(t).length,i.g.delete(t))}function P2(i,t){return hs(i),t=Pa(i,t),i.g.has(t)}ft.forEach=function(i,t){hs(this),this.g.forEach(function(n,g){n.forEach(function(T){i.call(t,T,g,this)},this)},this)};ft.ta=function(){hs(this);const i=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let g=0;g<t.length;g++){const T=i[g];for(let A=0;A<T.length;A++)n.push(t[g])}return n};ft.Z=function(i){hs(this);let t=[];if(typeof i=="string")P2(this,i)&&(t=t.concat(this.g.get(Pa(this,i))));else{i=Array.from(this.g.values());for(let n=0;n<i.length;n++)t=t.concat(i[n])}return t};ft.set=function(i,t){return hs(this),this.i=null,i=Pa(this,i),P2(this,i)&&(this.h-=this.g.get(i).length),this.g.set(i,[t]),this.h+=1,this};ft.get=function(i,t){return i?(i=this.Z(i),0<i.length?String(i[0]):t):t};function R2(i,t,n){A2(i,t),0<n.length&&(i.i=null,i.g.set(Pa(i,t),_p(n)),i.h+=n.length)}ft.toString=function(){if(this.i)return this.i;if(!this.g)return"";const i=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var g=t[n];const A=encodeURIComponent(String(g)),h=this.Z(g);for(g=0;g<h.length;g++){var T=A;h[g]!==""&&(T+="="+encodeURIComponent(String(h[g]))),i.push(T)}}return this.i=i.join("&")};function Pa(i,t){return t=String(t),i.j&&(t=t.toLowerCase()),t}function XI(i,t){t&&!i.j&&(hs(i),i.i=null,i.g.forEach(function(n,g){var T=g.toLowerCase();g!=T&&(A2(this,g),R2(this,T,n))},i)),i.j=t}var WI=class{constructor(i,t){this.g=i,this.map=t}};function M2(i){this.l=i||YI,Et.PerformanceNavigationTiming?(i=Et.performance.getEntriesByType("navigation"),i=0<i.length&&(i[0].nextHopProtocol=="hq"||i[0].nextHopProtocol=="h2")):i=!!(Et.g&&Et.g.Ka&&Et.g.Ka()&&Et.g.Ka().ec),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var YI=10;function I2(i){return i.h?!0:i.g?i.g.size>=i.j:!1}function L2(i){return i.h?1:i.g?i.g.size:0}function fv(i,t){return i.h?i.h==t:i.g?i.g.has(t):!1}function cm(i,t){i.g?i.g.add(t):i.h=t}function F2(i,t){i.h&&i.h==t?i.h=null:i.g&&i.g.has(t)&&i.g.delete(t)}M2.prototype.cancel=function(){if(this.i=D2(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const i of this.g.values())i.cancel();this.g.clear()}};function D2(i){if(i.h!=null)return i.i.concat(i.h.F);if(i.g!=null&&i.g.size!==0){let t=i.i;for(const n of i.g.values())t=t.concat(n.F);return t}return _p(i.i)}var HI=class{stringify(i){return Et.JSON.stringify(i,void 0)}parse(i){return Et.JSON.parse(i,void 0)}};function $I(){this.g=new HI}function kI(i,t,n){const g=n||"";try{C2(i,function(T,A){let h=T;Sl(T)&&(h=am(T)),t.push(g+A+"="+encodeURIComponent(h))})}catch(T){throw t.push(g+"type="+encodeURIComponent("_badmap")),T}}function jI(i,t){const n=new yf;if(Et.Image){const g=new Image;g.onload=nh(rh,n,g,"TestLoadImage: loaded",!0,t),g.onerror=nh(rh,n,g,"TestLoadImage: error",!1,t),g.onabort=nh(rh,n,g,"TestLoadImage: abort",!1,t),g.ontimeout=nh(rh,n,g,"TestLoadImage: timeout",!1,t),Et.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=i}else t(!1)}function rh(i,t,n,g,T){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,T(g)}catch{}}function Rl(i){this.l=i.fc||null,this.j=i.ob||!1}Te(Rl,um);Rl.prototype.g=function(){return new Af(this.l,this.j)};Rl.prototype.i=function(i){return function(){return i}}({});function Af(i,t){ye.call(this),this.F=i,this.u=t,this.m=void 0,this.readyState=vm,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Te(Af,ye);var vm=0;ft=Af.prototype;ft.open=function(i,t){if(this.readyState!=vm)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=t,this.readyState=1,nl(this)};ft.send=function(i){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(t.body=i),(this.F||Et).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))};ft.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ml(this)),this.readyState=vm};ft.$a=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,nl(this)),this.g&&(this.readyState=3,nl(this),this.g)))if(this.responseType==="arraybuffer")i.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Et.ReadableStream<"u"&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;O2(this)}else i.text().then(this.Za.bind(this),this.ka.bind(this))};function O2(i){i.j.read().then(i.Xa.bind(i)).catch(i.ka.bind(i))}ft.Xa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var t=i.value?i.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!i.done}))&&(this.response=this.responseText+=t)}i.done?Ml(this):nl(this),this.readyState==3&&O2(this)}};ft.Za=function(i){this.g&&(this.response=this.responseText=i,Ml(this))};ft.Ya=function(i){this.g&&(this.response=i,Ml(this))};ft.ka=function(){this.g&&Ml(this)};function Ml(i){i.readyState=4,i.l=null,i.j=null,i.A=null,nl(i)}ft.setRequestHeader=function(i,t){this.v.append(i,t)};ft.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""};ft.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,i.push(n[0]+": "+n[1]),n=t.next();return i.join(`\r
`)};function nl(i){i.onreadystatechange&&i.onreadystatechange.call(i)}Object.defineProperty(Af.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(i){this.m=i?"include":"same-origin"}});var KI=Et.JSON.parse;function se(i){ye.call(this),this.headers=new Map,this.u=i||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=N2,this.L=this.M=!1}Te(se,ye);var N2="",QI=/^https?$/i,JI=["POST","PUT"];ft=se.prototype;ft.Oa=function(i){this.M=i};ft.ha=function(i,t,n,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+i);t=t?t.toUpperCase():"GET",this.I=i,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():ov.g(),this.C=this.u?lx(this.u):lx(ov),this.g.onreadystatechange=Ge(this.La,this);try{this.G=!0,this.g.open(t,String(i),!0),this.G=!1}catch(A){fx(this,A);return}if(i=n||"",n=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var T in g)n.set(T,g[T]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(const A of g.keys())n.set(A,g.get(A));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(n.keys()).find(A=>A.toLowerCase()=="content-type"),T=Et.FormData&&i instanceof Et.FormData,!(0<=ZS(JI,t))||g||T||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[A,h]of n)this.g.setRequestHeader(A,h);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{U2(this),0<this.B&&((this.L=ZI(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ge(this.ua,this)):this.A=hm(this.ua,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(A){fx(this,A)}};function ZI(i){return na&&typeof i.timeout=="number"&&i.ontimeout!==void 0}ft.ua=function(){typeof qp<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Re(this,"timeout"),this.abort(8))};function fx(i,t){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=t,i.m=5,B2(i),Pf(i)}function B2(i){i.F||(i.F=!0,Re(i,"complete"),Re(i,"error"))}ft.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,Re(this,"complete"),Re(this,"abort"),Pf(this))};ft.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Pf(this,!0)),se.$.N.call(this)};ft.La=function(){this.s||(this.G||this.v||this.l?G2(this):this.kb())};ft.kb=function(){G2(this)};function G2(i){if(i.h&&typeof qp<"u"&&(!i.C[1]||Wi(i)!=4||i.da()!=2)){if(i.v&&Wi(i)==4)hm(i.La,0,i);else if(Re(i,"readystatechange"),Wi(i)==4){i.h=!1;try{const h=i.da();t:switch(h){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break t;default:t=!1}var n;if(!(n=t)){var g;if(g=h===0){var T=String(i.I).match(w2)[1]||null;!T&&Et.self&&Et.self.location&&(T=Et.self.location.protocol.slice(0,-1)),g=!QI.test(T?T.toLowerCase():"")}n=g}if(n)Re(i,"complete"),Re(i,"success");else{i.m=6;try{var A=2<Wi(i)?i.g.statusText:""}catch{A=""}i.j=A+" ["+i.da()+"]",B2(i)}}finally{Pf(i)}}}}function Pf(i,t){if(i.g){U2(i);const n=i.g,g=i.C[0]?()=>{}:null;i.g=null,i.C=null,t||Re(i,"ready");try{n.onreadystatechange=g}catch{}}}function U2(i){i.g&&i.L&&(i.g.ontimeout=null),i.A&&(Et.clearTimeout(i.A),i.A=null)}ft.isActive=function(){return!!this.g};function Wi(i){return i.g?i.g.readyState:0}ft.da=function(){try{return 2<Wi(this)?this.g.status:-1}catch{return-1}};ft.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};ft.Wa=function(i){if(this.g){var t=this.g.responseText;return i&&t.indexOf(i)==0&&(t=t.substring(i.length)),KI(t)}};function dx(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.K){case N2:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch{return null}}function qI(i){const t={};i=(i.g&&2<=Wi(i)&&i.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<i.length;g++){if(Jo(i[g]))continue;var n=CI(i[g]);const T=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const A=t[T]||[];t[T]=A,A.push(n)}mI(t,function(g){return g.join(", ")})}ft.Ia=function(){return this.m};ft.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function b2(i){let t="";return em(i,function(n,g){t+=g,t+=":",t+=n,t+=`\r
`}),t}function pm(i,t,n){t:{for(g in n){var g=!1;break t}g=!0}g||(n=b2(n),typeof i=="string"?n!=null&&encodeURIComponent(String(n)):Wt(i,t,n))}function Wa(i,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[i]||t}function V2(i){this.Ga=0,this.j=[],this.l=new yf,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Wa("failFast",!1,i),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Wa("baseRetryDelayMs",5e3,i),this.hb=Wa("retryDelaySeedMs",1e4,i),this.eb=Wa("forwardChannelMaxRetries",2,i),this.xa=Wa("forwardChannelRequestTimeoutMs",2e4,i),this.va=i&&i.xmlHttpFactory||void 0,this.Ha=i&&i.dc||!1,this.L=void 0,this.J=i&&i.supportsCrossDomainXhr||!1,this.K="",this.i=new M2(i&&i.concurrentRequestLimit),this.Ja=new $I,this.P=i&&i.fastHandshake||!1,this.O=i&&i.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=i&&i.bc||!1,i&&i.Ea&&this.l.Ea(),i&&i.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&i&&i.detectBufferingProxy||!1,this.qa=void 0,i&&i.longPollingTimeout&&0<i.longPollingTimeout&&(this.qa=i.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}ft=V2.prototype;ft.ra=8;ft.H=1;function mm(i){if(z2(i),i.H==3){var t=i.W++,n=gn(i.I);if(Wt(n,"SID",i.K),Wt(n,"RID",t),Wt(n,"TYPE","terminate"),Il(i,n),t=new Al(i,i.l,t),t.L=2,t.v=wf(gn(n)),n=!1,Et.navigator&&Et.navigator.sendBeacon)try{n=Et.navigator.sendBeacon(t.v.toString(),"")}catch{}!n&&Et.Image&&(new Image().src=t.v,n=!0),n||(t.g=K2(t.l,null),t.g.ha(t.v)),t.G=Date.now(),Pl(t)}k2(i)}function Rf(i){i.g&&(xm(i),i.g.cancel(),i.g=null)}function z2(i){Rf(i),i.u&&(Et.clearTimeout(i.u),i.u=null),wu(i),i.i.cancel(),i.m&&(typeof i.m=="number"&&Et.clearTimeout(i.m),i.m=null)}function Mf(i){if(!I2(i.i)&&!i.m){i.m=!0;var t=i.Na;qo||h2(),_o||(qo(),_o=!0),om.add(t,i),i.C=0}}function _I(i,t){return L2(i.i)>=i.i.j-(i.m?1:0)?!1:i.m?(i.j=t.F.concat(i.j),!0):i.H==1||i.H==2||i.C>=(i.cb?0:i.eb)?!1:(i.m=Cl(Ge(i.Na,i,t),$2(i,i.C)),i.C++,!0)}ft.Na=function(i){if(this.m)if(this.m=null,this.H==1){if(!i){this.W=Math.floor(1e5*Math.random()),i=this.W++;const T=new Al(this,this.l,i);let A=this.s;if(this.U&&(A?(A=e2(A),i2(A,this.U)):A=this.U),this.o!==null||this.O||(T.I=A,A=null),this.P)t:{for(var t=0,n=0;n<this.j.length;n++){e:{var g=this.j[n];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break e}g=void 0}if(g===void 0)break;if(t+=g,4096<t){t=n;break t}if(t===4096||n===this.j.length-1){t=n+1;break t}}t=1e3}else t=1e3;t=X2(this,T,t),n=gn(this.I),Wt(n,"RID",i),Wt(n,"CVER",22),this.F&&Wt(n,"X-HTTP-Session-Id",this.F),Il(this,n),A&&(this.O?t="headers="+encodeURIComponent(String(b2(A)))+"&"+t:this.o&&pm(n,this.o,A)),cm(this.i,T),this.bb&&Wt(n,"TYPE","init"),this.P?(Wt(n,"$req",t),Wt(n,"SID","null"),T.aa=!0,hv(T,n,null)):hv(T,n,t),this.H=2}}else this.H==3&&(i?cx(this,i):this.j.length==0||I2(this.i)||cx(this))};function cx(i,t){var n;t?n=t.m:n=i.W++;const g=gn(i.I);Wt(g,"SID",i.K),Wt(g,"RID",n),Wt(g,"AID",i.V),Il(i,g),i.o&&i.s&&pm(g,i.o,i.s),n=new Al(i,i.l,n,i.C+1),i.o===null&&(n.I=i.s),t&&(i.j=t.F.concat(i.j)),t=X2(i,n,1e3),n.setTimeout(Math.round(.5*i.xa)+Math.round(.5*i.xa*Math.random())),cm(i.i,n),hv(n,g,t)}function Il(i,t){i.na&&em(i.na,function(n,g){Wt(t,g,n)}),i.h&&C2({},function(n,g){Wt(t,g,n)})}function X2(i,t,n){n=Math.min(i.j.length,n);var g=i.h?Ge(i.h.Va,i.h,i):null;t:{var T=i.j;let A=-1;for(;;){const h=["count="+n];A==-1?0<n?(A=T[0].g,h.push("ofs="+A)):A=0:h.push("ofs="+A);let S=!0;for(let e=0;e<n;e++){let u=T[e].g;const y=T[e].map;if(u-=A,0>u)A=Math.max(0,T[e].g-100),S=!1;else try{kI(y,h,"req"+u+"_")}catch{g&&g(y)}}if(S){g=h.join("&");break t}}}return i=i.j.splice(0,n),t.F=i,g}function W2(i){if(!i.g&&!i.u){i.ba=1;var t=i.Ma;qo||h2(),_o||(qo(),_o=!0),om.add(t,i),i.A=0}}function gm(i){return i.g||i.u||3<=i.A?!1:(i.ba++,i.u=Cl(Ge(i.Ma,i),$2(i,i.A)),i.A++,!0)}ft.Ma=function(){if(this.u=null,Y2(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var i=2*this.S;this.l.info("BP detection timer enabled: "+i),this.B=Cl(Ge(this.jb,this),i)}};ft.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,We(10),Rf(this),Y2(this))};function xm(i){i.B!=null&&(Et.clearTimeout(i.B),i.B=null)}function Y2(i){i.g=new Al(i,i.l,"rpc",i.ba),i.o===null&&(i.g.I=i.s),i.g.O=0;var t=gn(i.wa);Wt(t,"RID","rpc"),Wt(t,"SID",i.K),Wt(t,"AID",i.V),Wt(t,"CI",i.G?"0":"1"),!i.G&&i.qa&&Wt(t,"TO",i.qa),Wt(t,"TYPE","xmlhttp"),Il(i,t),i.o&&i.s&&pm(t,i.o,i.s),i.L&&i.g.setTimeout(i.L);var n=i.g;i=i.pa,n.L=1,n.v=wf(gn(t)),n.s=null,n.S=!0,y2(n,i)}ft.ib=function(){this.v!=null&&(this.v=null,Rf(this),gm(this),We(19))};function wu(i){i.v!=null&&(Et.clearTimeout(i.v),i.v=null)}function H2(i,t){var n=null;if(i.g==t){wu(i),xm(i),i.g=null;var g=2}else if(fv(i.i,t))n=t.F,F2(i.i,t),g=1;else return;if(i.H!=0){if(t.i)if(g==1){n=t.s?t.s.length:0,t=Date.now()-t.G;var T=i.C;g=Tf(),Re(g,new p2(g,n)),Mf(i)}else W2(i);else if(T=t.o,T==3||T==0&&0<t.ca||!(g==1&&_I(i,t)||g==2&&gm(i)))switch(n&&0<n.length&&(t=i.i,t.i=t.i.concat(n)),T){case 1:Os(i,5);break;case 4:Os(i,10);break;case 3:Os(i,6);break;default:Os(i,2)}}}function $2(i,t){let n=i.ab+Math.floor(Math.random()*i.hb);return i.isActive()||(n*=2),n*t}function Os(i,t){if(i.l.info("Error code "+t),t==2){var n=null;i.h&&(n=null);var g=Ge(i.pb,i);n||(n=new bs("//www.google.com/images/cleardot.gif"),Et.location&&Et.location.protocol=="http"||Eu(n,"https"),wf(n)),jI(n.toString(),g)}else We(2);i.H=0,i.h&&i.h.za(t),k2(i),z2(i)}ft.pb=function(i){i?(this.l.info("Successfully pinged google.com"),We(2)):(this.l.info("Failed to ping google.com"),We(1))};function k2(i){if(i.H=0,i.ma=[],i.h){const t=D2(i.i);(t.length!=0||i.j.length!=0)&&(nx(i.ma,t),nx(i.ma,i.j),i.i.i.length=0,_p(i.j),i.j.length=0),i.h.ya()}}function j2(i,t,n){var g=n instanceof bs?gn(n):new bs(n);if(g.g!="")t&&(g.g=t+"."+g.g),Cu(g,g.m);else{var T=Et.location;g=T.protocol,t=t?t+"."+T.hostname:T.hostname,T=+T.port;var A=new bs(null);g&&Eu(A,g),t&&(A.g=t),T&&Cu(A,T),n&&(A.l=n),g=A}return n=i.F,t=i.Da,n&&t&&Wt(g,n,t),Wt(g,"VER",i.ra),Il(i,g),g}function K2(i,t,n){if(t&&!i.J)throw Error("Can't create secondary domain capable XhrIo object.");return t=n&&i.Ha&&!i.va?new se(new Rl({ob:!0})):new se(i.va),t.Oa(i.J),t}ft.isActive=function(){return!!this.h&&this.h.isActive(this)};function Q2(){}ft=Q2.prototype;ft.Ba=function(){};ft.Aa=function(){};ft.za=function(){};ft.ya=function(){};ft.isActive=function(){return!0};ft.Va=function(){};function Au(){if(na&&!(10<=Number(dI)))throw Error("Environmental error: no available transport.")}Au.prototype.g=function(i,t){return new ui(i,t)};function ui(i,t){ye.call(this),this.g=new V2(t),this.l=i,this.h=t&&t.messageUrlParams||null,i=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(i?i["X-WebChannel-Content-Type"]=t.messageContentType:i={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(i?i["X-WebChannel-Client-Profile"]=t.Ca:i={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=i,(i=t&&t.cc)&&!Jo(i)&&(this.g.o=i),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Jo(t)&&(this.g.F=t,i=this.h,i!==null&&t in i&&(i=this.h,t in i&&delete i[t])),this.j=new Ra(this)}Te(ui,ye);ui.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var i=this.g,t=this.l,n=this.h||void 0;We(0),i.Y=t,i.na=n||{},i.G=i.aa,i.I=j2(i,null,i.Y),Mf(i)};ui.prototype.close=function(){mm(this.g)};ui.prototype.u=function(i){var t=this.g;if(typeof i=="string"){var n={};n.__data__=i,i=n}else this.v&&(n={},n.__data__=am(i),i=n);t.j.push(new WI(t.fb++,i)),t.H==3&&Mf(t)};ui.prototype.N=function(){this.g.h=null,delete this.j,mm(this.g),delete this.g,ui.$.N.call(this)};function J2(i){fm.call(this),i.__headers__&&(this.headers=i.__headers__,this.statusCode=i.__status__,delete i.__headers__,delete i.__status__);var t=i.__sm__;if(t){t:{for(const n in t){i=n;break t}i=void 0}(this.i=i)&&(i=this.i,t=t!==null&&i in t?t[i]:void 0),this.data=t}else this.data=i}Te(J2,fm);function Z2(){dm.call(this),this.status=1}Te(Z2,dm);function Ra(i){this.g=i}Te(Ra,Q2);Ra.prototype.Ba=function(){Re(this.g,"a")};Ra.prototype.Aa=function(i){Re(this.g,new J2(i))};Ra.prototype.za=function(i){Re(this.g,new Z2)};Ra.prototype.ya=function(){Re(this.g,"b")};function t5(){this.blockSize=-1}function Ni(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Te(Ni,t5);Ni.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function zd(i,t,n){n||(n=0);var g=Array(16);if(typeof t=="string")for(var T=0;16>T;++T)g[T]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(T=0;16>T;++T)g[T]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=i.g[0],n=i.g[1],T=i.g[2];var A=i.g[3],h=t+(A^n&(T^A))+g[0]+3614090360&4294967295;t=n+(h<<7&4294967295|h>>>25),h=A+(T^t&(n^T))+g[1]+3905402710&4294967295,A=t+(h<<12&4294967295|h>>>20),h=T+(n^A&(t^n))+g[2]+606105819&4294967295,T=A+(h<<17&4294967295|h>>>15),h=n+(t^T&(A^t))+g[3]+3250441966&4294967295,n=T+(h<<22&4294967295|h>>>10),h=t+(A^n&(T^A))+g[4]+4118548399&4294967295,t=n+(h<<7&4294967295|h>>>25),h=A+(T^t&(n^T))+g[5]+1200080426&4294967295,A=t+(h<<12&4294967295|h>>>20),h=T+(n^A&(t^n))+g[6]+2821735955&4294967295,T=A+(h<<17&4294967295|h>>>15),h=n+(t^T&(A^t))+g[7]+4249261313&4294967295,n=T+(h<<22&4294967295|h>>>10),h=t+(A^n&(T^A))+g[8]+1770035416&4294967295,t=n+(h<<7&4294967295|h>>>25),h=A+(T^t&(n^T))+g[9]+2336552879&4294967295,A=t+(h<<12&4294967295|h>>>20),h=T+(n^A&(t^n))+g[10]+4294925233&4294967295,T=A+(h<<17&4294967295|h>>>15),h=n+(t^T&(A^t))+g[11]+2304563134&4294967295,n=T+(h<<22&4294967295|h>>>10),h=t+(A^n&(T^A))+g[12]+1804603682&4294967295,t=n+(h<<7&4294967295|h>>>25),h=A+(T^t&(n^T))+g[13]+4254626195&4294967295,A=t+(h<<12&4294967295|h>>>20),h=T+(n^A&(t^n))+g[14]+2792965006&4294967295,T=A+(h<<17&4294967295|h>>>15),h=n+(t^T&(A^t))+g[15]+1236535329&4294967295,n=T+(h<<22&4294967295|h>>>10),h=t+(T^A&(n^T))+g[1]+4129170786&4294967295,t=n+(h<<5&4294967295|h>>>27),h=A+(n^T&(t^n))+g[6]+3225465664&4294967295,A=t+(h<<9&4294967295|h>>>23),h=T+(t^n&(A^t))+g[11]+643717713&4294967295,T=A+(h<<14&4294967295|h>>>18),h=n+(A^t&(T^A))+g[0]+3921069994&4294967295,n=T+(h<<20&4294967295|h>>>12),h=t+(T^A&(n^T))+g[5]+3593408605&4294967295,t=n+(h<<5&4294967295|h>>>27),h=A+(n^T&(t^n))+g[10]+38016083&4294967295,A=t+(h<<9&4294967295|h>>>23),h=T+(t^n&(A^t))+g[15]+3634488961&4294967295,T=A+(h<<14&4294967295|h>>>18),h=n+(A^t&(T^A))+g[4]+3889429448&4294967295,n=T+(h<<20&4294967295|h>>>12),h=t+(T^A&(n^T))+g[9]+568446438&4294967295,t=n+(h<<5&4294967295|h>>>27),h=A+(n^T&(t^n))+g[14]+3275163606&4294967295,A=t+(h<<9&4294967295|h>>>23),h=T+(t^n&(A^t))+g[3]+4107603335&4294967295,T=A+(h<<14&4294967295|h>>>18),h=n+(A^t&(T^A))+g[8]+1163531501&4294967295,n=T+(h<<20&4294967295|h>>>12),h=t+(T^A&(n^T))+g[13]+2850285829&4294967295,t=n+(h<<5&4294967295|h>>>27),h=A+(n^T&(t^n))+g[2]+4243563512&4294967295,A=t+(h<<9&4294967295|h>>>23),h=T+(t^n&(A^t))+g[7]+1735328473&4294967295,T=A+(h<<14&4294967295|h>>>18),h=n+(A^t&(T^A))+g[12]+2368359562&4294967295,n=T+(h<<20&4294967295|h>>>12),h=t+(n^T^A)+g[5]+4294588738&4294967295,t=n+(h<<4&4294967295|h>>>28),h=A+(t^n^T)+g[8]+2272392833&4294967295,A=t+(h<<11&4294967295|h>>>21),h=T+(A^t^n)+g[11]+1839030562&4294967295,T=A+(h<<16&4294967295|h>>>16),h=n+(T^A^t)+g[14]+4259657740&4294967295,n=T+(h<<23&4294967295|h>>>9),h=t+(n^T^A)+g[1]+2763975236&4294967295,t=n+(h<<4&4294967295|h>>>28),h=A+(t^n^T)+g[4]+1272893353&4294967295,A=t+(h<<11&4294967295|h>>>21),h=T+(A^t^n)+g[7]+4139469664&4294967295,T=A+(h<<16&4294967295|h>>>16),h=n+(T^A^t)+g[10]+3200236656&4294967295,n=T+(h<<23&4294967295|h>>>9),h=t+(n^T^A)+g[13]+681279174&4294967295,t=n+(h<<4&4294967295|h>>>28),h=A+(t^n^T)+g[0]+3936430074&4294967295,A=t+(h<<11&4294967295|h>>>21),h=T+(A^t^n)+g[3]+3572445317&4294967295,T=A+(h<<16&4294967295|h>>>16),h=n+(T^A^t)+g[6]+76029189&4294967295,n=T+(h<<23&4294967295|h>>>9),h=t+(n^T^A)+g[9]+3654602809&4294967295,t=n+(h<<4&4294967295|h>>>28),h=A+(t^n^T)+g[12]+3873151461&4294967295,A=t+(h<<11&4294967295|h>>>21),h=T+(A^t^n)+g[15]+530742520&4294967295,T=A+(h<<16&4294967295|h>>>16),h=n+(T^A^t)+g[2]+3299628645&4294967295,n=T+(h<<23&4294967295|h>>>9),h=t+(T^(n|~A))+g[0]+4096336452&4294967295,t=n+(h<<6&4294967295|h>>>26),h=A+(n^(t|~T))+g[7]+1126891415&4294967295,A=t+(h<<10&4294967295|h>>>22),h=T+(t^(A|~n))+g[14]+2878612391&4294967295,T=A+(h<<15&4294967295|h>>>17),h=n+(A^(T|~t))+g[5]+4237533241&4294967295,n=T+(h<<21&4294967295|h>>>11),h=t+(T^(n|~A))+g[12]+1700485571&4294967295,t=n+(h<<6&4294967295|h>>>26),h=A+(n^(t|~T))+g[3]+2399980690&4294967295,A=t+(h<<10&4294967295|h>>>22),h=T+(t^(A|~n))+g[10]+4293915773&4294967295,T=A+(h<<15&4294967295|h>>>17),h=n+(A^(T|~t))+g[1]+2240044497&4294967295,n=T+(h<<21&4294967295|h>>>11),h=t+(T^(n|~A))+g[8]+1873313359&4294967295,t=n+(h<<6&4294967295|h>>>26),h=A+(n^(t|~T))+g[15]+4264355552&4294967295,A=t+(h<<10&4294967295|h>>>22),h=T+(t^(A|~n))+g[6]+2734768916&4294967295,T=A+(h<<15&4294967295|h>>>17),h=n+(A^(T|~t))+g[13]+1309151649&4294967295,n=T+(h<<21&4294967295|h>>>11),h=t+(T^(n|~A))+g[4]+4149444226&4294967295,t=n+(h<<6&4294967295|h>>>26),h=A+(n^(t|~T))+g[11]+3174756917&4294967295,A=t+(h<<10&4294967295|h>>>22),h=T+(t^(A|~n))+g[2]+718787259&4294967295,T=A+(h<<15&4294967295|h>>>17),h=n+(A^(T|~t))+g[9]+3951481745&4294967295,i.g[0]=i.g[0]+t&4294967295,i.g[1]=i.g[1]+(T+(h<<21&4294967295|h>>>11))&4294967295,i.g[2]=i.g[2]+T&4294967295,i.g[3]=i.g[3]+A&4294967295}Ni.prototype.j=function(i,t){t===void 0&&(t=i.length);for(var n=t-this.blockSize,g=this.m,T=this.h,A=0;A<t;){if(T==0)for(;A<=n;)zd(this,i,A),A+=this.blockSize;if(typeof i=="string"){for(;A<t;)if(g[T++]=i.charCodeAt(A++),T==this.blockSize){zd(this,g),T=0;break}}else for(;A<t;)if(g[T++]=i[A++],T==this.blockSize){zd(this,g),T=0;break}}this.h=T,this.i+=t};Ni.prototype.l=function(){var i=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);i[0]=128;for(var t=1;t<i.length-8;++t)i[t]=0;var n=8*this.i;for(t=i.length-8;t<i.length;++t)i[t]=n&255,n/=256;for(this.j(i),i=Array(16),t=n=0;4>t;++t)for(var g=0;32>g;g+=8)i[n++]=this.g[t]>>>g&255;return i};function bt(i,t){this.h=t;for(var n=[],g=!0,T=i.length-1;0<=T;T--){var A=i[T]|0;g&&A==t||(n[T]=A,g=!1)}this.g=n}var e5={};function ym(i){return-128<=i&&128>i?hI(i,function(t){return new bt([t|0],0>t?-1:0)}):new bt([i|0],0>i?-1:0)}function Yi(i){if(isNaN(i)||!isFinite(i))return Hr;if(0>i)return Ae(Yi(-i));for(var t=[],n=1,g=0;i>=n;g++)t[g]=i/n|0,n*=dv;return new bt(t,0)}function q2(i,t){if(i.length==0)throw Error("number format error: empty string");if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(i.charAt(0)=="-")return Ae(q2(i.substring(1),t));if(0<=i.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Yi(Math.pow(t,8)),g=Hr,T=0;T<i.length;T+=8){var A=Math.min(8,i.length-T),h=parseInt(i.substring(T,T+A),t);8>A?(A=Yi(Math.pow(t,A)),g=g.R(A).add(Yi(h))):(g=g.R(n),g=g.add(Yi(h)))}return g}var dv=4294967296,Hr=ym(0),cv=ym(1),vx=ym(16777216);ft=bt.prototype;ft.ea=function(){if(gi(this))return-Ae(this).ea();for(var i=0,t=1,n=0;n<this.g.length;n++){var g=this.D(n);i+=(0<=g?g:dv+g)*t,t*=dv}return i};ft.toString=function(i){if(i=i||10,2>i||36<i)throw Error("radix out of range: "+i);if(on(this))return"0";if(gi(this))return"-"+Ae(this).toString(i);for(var t=Yi(Math.pow(i,6)),n=this,g="";;){var T=Ru(n,t).g;n=Pu(n,T.R(t));var A=((0<n.g.length?n.g[0]:n.h)>>>0).toString(i);if(n=T,on(n))return A+g;for(;6>A.length;)A="0"+A;g=A+g}};ft.D=function(i){return 0>i?0:i<this.g.length?this.g[i]:this.h};function on(i){if(i.h!=0)return!1;for(var t=0;t<i.g.length;t++)if(i.g[t]!=0)return!1;return!0}function gi(i){return i.h==-1}ft.X=function(i){return i=Pu(this,i),gi(i)?-1:on(i)?0:1};function Ae(i){for(var t=i.g.length,n=[],g=0;g<t;g++)n[g]=~i.g[g];return new bt(n,~i.h).add(cv)}ft.abs=function(){return gi(this)?Ae(this):this};ft.add=function(i){for(var t=Math.max(this.g.length,i.g.length),n=[],g=0,T=0;T<=t;T++){var A=g+(this.D(T)&65535)+(i.D(T)&65535),h=(A>>>16)+(this.D(T)>>>16)+(i.D(T)>>>16);g=h>>>16,A&=65535,h&=65535,n[T]=h<<16|A}return new bt(n,n[n.length-1]&-2147483648?-1:0)};function Pu(i,t){return i.add(Ae(t))}ft.R=function(i){if(on(this)||on(i))return Hr;if(gi(this))return gi(i)?Ae(this).R(Ae(i)):Ae(Ae(this).R(i));if(gi(i))return Ae(this.R(Ae(i)));if(0>this.X(vx)&&0>i.X(vx))return Yi(this.ea()*i.ea());for(var t=this.g.length+i.g.length,n=[],g=0;g<2*t;g++)n[g]=0;for(g=0;g<this.g.length;g++)for(var T=0;T<i.g.length;T++){var A=this.D(g)>>>16,h=this.D(g)&65535,S=i.D(T)>>>16,e=i.D(T)&65535;n[2*g+2*T]+=h*e,ah(n,2*g+2*T),n[2*g+2*T+1]+=A*e,ah(n,2*g+2*T+1),n[2*g+2*T+1]+=h*S,ah(n,2*g+2*T+1),n[2*g+2*T+2]+=A*S,ah(n,2*g+2*T+2)}for(g=0;g<t;g++)n[g]=n[2*g+1]<<16|n[2*g];for(g=t;g<2*t;g++)n[g]=0;return new bt(n,0)};function ah(i,t){for(;(i[t]&65535)!=i[t];)i[t+1]+=i[t]>>>16,i[t]&=65535,t++}function Ya(i,t){this.g=i,this.h=t}function Ru(i,t){if(on(t))throw Error("division by zero");if(on(i))return new Ya(Hr,Hr);if(gi(i))return t=Ru(Ae(i),t),new Ya(Ae(t.g),Ae(t.h));if(gi(t))return t=Ru(i,Ae(t)),new Ya(Ae(t.g),t.h);if(30<i.g.length){if(gi(i)||gi(t))throw Error("slowDivide_ only works with positive integers.");for(var n=cv,g=t;0>=g.X(i);)n=px(n),g=px(g);var T=mr(n,1),A=mr(g,1);for(g=mr(g,2),n=mr(n,2);!on(g);){var h=A.add(g);0>=h.X(i)&&(T=T.add(n),A=h),g=mr(g,1),n=mr(n,1)}return t=Pu(i,T.R(t)),new Ya(T,t)}for(T=Hr;0<=i.X(t);){for(n=Math.max(1,Math.floor(i.ea()/t.ea())),g=Math.ceil(Math.log(n)/Math.LN2),g=48>=g?1:Math.pow(2,g-48),A=Yi(n),h=A.R(t);gi(h)||0<h.X(i);)n-=g,A=Yi(n),h=A.R(t);on(A)&&(A=cv),T=T.add(A),i=Pu(i,h)}return new Ya(T,i)}ft.gb=function(i){return Ru(this,i).h};ft.and=function(i){for(var t=Math.max(this.g.length,i.g.length),n=[],g=0;g<t;g++)n[g]=this.D(g)&i.D(g);return new bt(n,this.h&i.h)};ft.or=function(i){for(var t=Math.max(this.g.length,i.g.length),n=[],g=0;g<t;g++)n[g]=this.D(g)|i.D(g);return new bt(n,this.h|i.h)};ft.xor=function(i){for(var t=Math.max(this.g.length,i.g.length),n=[],g=0;g<t;g++)n[g]=this.D(g)^i.D(g);return new bt(n,this.h^i.h)};function px(i){for(var t=i.g.length+1,n=[],g=0;g<t;g++)n[g]=i.D(g)<<1|i.D(g-1)>>>31;return new bt(n,i.h)}function mr(i,t){var n=t>>5;t%=32;for(var g=i.g.length-n,T=[],A=0;A<g;A++)T[A]=0<t?i.D(A+n)>>>t|i.D(A+n+1)<<32-t:i.D(A+n);return new bt(T,i.h)}Au.prototype.createWebChannel=Au.prototype.g;ui.prototype.send=ui.prototype.u;ui.prototype.open=ui.prototype.m;ui.prototype.close=ui.prototype.close;Sf.NO_ERROR=0;Sf.TIMEOUT=8;Sf.HTTP_ERROR=6;m2.COMPLETE="complete";g2.EventType=wl;wl.OPEN="a";wl.CLOSE="b";wl.ERROR="c";wl.MESSAGE="d";ye.prototype.listen=ye.prototype.O;se.prototype.listenOnce=se.prototype.P;se.prototype.getLastError=se.prototype.Sa;se.prototype.getLastErrorCode=se.prototype.Ia;se.prototype.getStatus=se.prototype.da;se.prototype.getResponseJson=se.prototype.Wa;se.prototype.getResponseText=se.prototype.ja;se.prototype.send=se.prototype.ha;se.prototype.setWithCredentials=se.prototype.Oa;Ni.prototype.digest=Ni.prototype.l;Ni.prototype.reset=Ni.prototype.reset;Ni.prototype.update=Ni.prototype.j;bt.prototype.add=bt.prototype.add;bt.prototype.multiply=bt.prototype.R;bt.prototype.modulo=bt.prototype.gb;bt.prototype.compare=bt.prototype.X;bt.prototype.toNumber=bt.prototype.ea;bt.prototype.toString=bt.prototype.toString;bt.prototype.getBits=bt.prototype.D;bt.fromNumber=Yi;bt.fromString=q2;var i5=function(){return new Au},n5=function(){return Tf()},Xd=Sf,s5=m2,r5=ur,mx={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},a5=Rl,oh=g2,o5=se,l5=Ni,$r=bt;const gx="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ce.UNAUTHENTICATED=new Ce(null),Ce.GOOGLE_CREDENTIALS=new Ce("google-credentials-uid"),Ce.FIRST_PARTY=new Ce("first-party-uid"),Ce.MOCK_USER=new Ce("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ma="9.23.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ks=new uf("@firebase/firestore");function vv(){return Ks.logLevel}function ot(i,...t){if(Ks.logLevel<=Dt.DEBUG){const n=t.map(Tm);Ks.debug(`Firestore (${Ma}): ${i}`,...n)}}function Xe(i,...t){if(Ks.logLevel<=Dt.ERROR){const n=t.map(Tm);Ks.error(`Firestore (${Ma}): ${i}`,...n)}}function qn(i,...t){if(Ks.logLevel<=Dt.WARN){const n=t.map(Tm);Ks.warn(`Firestore (${Ma}): ${i}`,...n)}}function Tm(i){if(typeof i=="string")return i;try{return t=i,JSON.stringify(t)}catch{return i}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gt(i="Unexpected state"){const t=`FIRESTORE (${Ma}) INTERNAL ASSERTION FAILED: `+i;throw Xe(t),new Error(t)}function yt(i,t){i||gt()}function Ct(i,t){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const st={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ut extends Ui{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class h5{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Ce.UNAUTHENTICATED))}shutdown(){}}class u5{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class f5{constructor(t){this.t=t,this.currentUser=Ce.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){let g=this.i;const T=e=>this.i!==g?(g=this.i,n(e)):Promise.resolve();let A=new Ji;this.o=()=>{this.i++,this.currentUser=this.u(),A.resolve(),A=new Ji,t.enqueueRetryable(()=>T(this.currentUser))};const h=()=>{const e=A;t.enqueueRetryable(async()=>{await e.promise,await T(this.currentUser)})},S=e=>{ot("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),h()};this.t.onInit(e=>S(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?S(e):(ot("FirebaseAuthCredentialsProvider","Auth not yet detected"),A.resolve(),A=new Ji)}},0),h()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(g=>this.i!==t?(ot("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):g?(yt(typeof g.accessToken=="string"),new _2(g.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return yt(t===null||typeof t=="string"),new Ce(t)}}class d5{constructor(t,n,g){this.h=t,this.l=n,this.m=g,this.type="FirstParty",this.user=Ce.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const t=this.p();return t&&this.g.set("Authorization",t),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class c5{constructor(t,n,g){this.h=t,this.l=n,this.m=g}getToken(){return Promise.resolve(new d5(this.h,this.l,this.m))}start(t,n){t.enqueueRetryable(()=>n(Ce.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class v5{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class p5{constructor(t){this.I=t,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(t,n){const g=A=>{A.error!=null&&ot("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${A.error.message}`);const h=A.token!==this.T;return this.T=A.token,ot("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(A.token):Promise.resolve()};this.o=A=>{t.enqueueRetryable(()=>g(A))};const T=A=>{ot("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=A,this.appCheck.addTokenListener(this.o)};this.I.onInit(A=>T(A)),setTimeout(()=>{if(!this.appCheck){const A=this.I.getImmediate({optional:!0});A?T(A):ot("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(yt(typeof n.token=="string"),this.T=n.token,new v5(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m5(i){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let g=0;g<i;g++)n[g]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tE{static A(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length;let g="";for(;g.length<20;){const T=m5(40);for(let A=0;A<T.length;++A)g.length<20&&T[A]<n&&(g+=t.charAt(T[A]%t.length))}return g}}function wt(i,t){return i<t?-1:i>t?1:0}function sa(i,t,n){return i.length===t.length&&i.every((g,T)=>n(g,t[T]))}function eE(i){return i+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new ut(st.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ut(st.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new ut(st.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ut(st.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return Zt.fromMillis(Date.now())}static fromDate(t){return Zt.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),g=Math.floor(1e6*(t-1e3*n));return new Zt(n,g)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?wt(this.nanoseconds,t.nanoseconds):wt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(t){this.timestamp=t}static fromTimestamp(t){return new xt(t)}static min(){return new xt(new Zt(0,0))}static max(){return new xt(new Zt(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{constructor(t,n,g){n===void 0?n=0:n>t.length&&gt(),g===void 0?g=t.length-n:g>t.length-n&&gt(),this.segments=t,this.offset=n,this.len=g}get length(){return this.len}isEqual(t){return sl.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof sl?t.forEach(g=>{n.push(g)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,g=this.limit();n<g;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const g=Math.min(t.length,n.length);for(let T=0;T<g;T++){const A=t.get(T),h=n.get(T);if(A<h)return-1;if(A>h)return 1}return t.length<n.length?-1:t.length>n.length?1:0}}class Bt extends sl{construct(t,n,g){return new Bt(t,n,g)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const n=[];for(const g of t){if(g.indexOf("//")>=0)throw new ut(st.INVALID_ARGUMENT,`Invalid segment (${g}). Paths must not contain // in them.`);n.push(...g.split("/").filter(T=>T.length>0))}return new Bt(n)}static emptyPath(){return new Bt([])}}const g5=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ue extends sl{construct(t,n,g){return new ue(t,n,g)}static isValidIdentifier(t){return g5.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ue.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new ue(["__name__"])}static fromServerFormat(t){const n=[];let g="",T=0;const A=()=>{if(g.length===0)throw new ut(st.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(g),g=""};let h=!1;for(;T<t.length;){const S=t[T];if(S==="\\"){if(T+1===t.length)throw new ut(st.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const e=t[T+1];if(e!=="\\"&&e!=="."&&e!=="`")throw new ut(st.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);g+=e,T+=2}else S==="`"?(h=!h,T++):S!=="."||h?(g+=S,T++):(A(),T++)}if(A(),h)throw new ut(st.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new ue(n)}static emptyPath(){return new ue([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(t){this.path=t}static fromPath(t){return new dt(Bt.fromString(t))}static fromName(t){return new dt(Bt.fromString(t).popFirst(5))}static empty(){return new dt(Bt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Bt.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Bt.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new dt(new Bt(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iE{constructor(t,n,g,T){this.indexId=t,this.collectionGroup=n,this.fields=g,this.indexState=T}}function pv(i){return i.fields.find(t=>t.kind===2)}function Cs(i){return i.fields.filter(t=>t.kind!==2)}iE.UNKNOWN_ID=-1;class x5{constructor(t,n){this.fieldPath=t,this.kind=n}}class Mu{constructor(t,n){this.sequenceNumber=t,this.offset=n}static empty(){return new Mu(0,fi.min())}}function y5(i,t){const n=i.toTimestamp().seconds,g=i.toTimestamp().nanoseconds+1,T=xt.fromTimestamp(g===1e9?new Zt(n+1,0):new Zt(n,g));return new fi(T,dt.empty(),t)}function nE(i){return new fi(i.readTime,i.key,-1)}class fi{constructor(t,n,g){this.readTime=t,this.documentKey=n,this.largestBatchId=g}static min(){return new fi(xt.min(),dt.empty(),-1)}static max(){return new fi(xt.max(),dt.empty(),-1)}}function Sm(i,t){let n=i.readTime.compareTo(t.readTime);return n!==0?n:(n=dt.comparator(i.documentKey,t.documentKey),n!==0?n:wt(i.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sE="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class rE{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fr(i){if(i.code!==st.FAILED_PRECONDITION||i.message!==sE)throw i;ot("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&gt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new _((g,T)=>{this.nextCallback=A=>{this.wrapSuccess(t,A).next(g,T)},this.catchCallback=A=>{this.wrapFailure(n,A).next(g,T)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof _?n:_.resolve(n)}catch(n){return _.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):_.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):_.reject(n)}static resolve(t){return new _((n,g)=>{n(t)})}static reject(t){return new _((n,g)=>{g(t)})}static waitFor(t){return new _((n,g)=>{let T=0,A=0,h=!1;t.forEach(S=>{++T,S.next(()=>{++A,h&&A===T&&n()},e=>g(e))}),h=!0,A===T&&n()})}static or(t){let n=_.resolve(!1);for(const g of t)n=n.next(T=>T?_.resolve(T):g());return n}static forEach(t,n){const g=[];return t.forEach((T,A)=>{g.push(n.call(this,T,A))}),this.waitFor(g)}static mapArray(t,n){return new _((g,T)=>{const A=t.length,h=new Array(A);let S=0;for(let e=0;e<A;e++){const u=e;n(t[u]).next(y=>{h[u]=y,++S,S===A&&g(h)},y=>T(y))}})}static doWhile(t,n){return new _((g,T)=>{const A=()=>{t()===!0?n().next(()=>{A()},T):g()};A()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class If{constructor(t,n){this.action=t,this.transaction=n,this.aborted=!1,this.v=new Ji,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{n.error?this.v.reject(new So(t,n.error)):this.v.resolve()},this.transaction.onerror=g=>{const T=Em(g.target.error);this.v.reject(new So(t,T))}}static open(t,n,g,T){try{return new If(n,t.transaction(T,g))}catch(A){throw new So(n,A)}}get R(){return this.v.promise}abort(t){t&&this.v.reject(t),this.aborted||(ot("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const t=this.transaction;this.aborted||typeof t.commit!="function"||t.commit()}store(t){const n=this.transaction.objectStore(t);return new S5(n)}}class ln{constructor(t,n,g){this.name=t,this.version=n,this.V=g,ln.S(ve())===12.2&&Xe("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return ot("SimpleDb","Removing database:",t),ws(window.indexedDB.deleteDatabase(t)).toPromise()}static D(){if(!hf())return!1;if(ln.C())return!0;const t=ve(),n=ln.S(t),g=0<n&&n<10,T=ln.N(t),A=0<T&&T<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||g||A)}static C(){var t;return typeof process<"u"&&((t=process.env)===null||t===void 0?void 0:t.k)==="YES"}static M(t,n){return t.store(n)}static S(t){const n=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),g=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(g)}static N(t){const n=t.match(/Android ([\d.]+)/i),g=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(g)}async $(t){return this.db||(ot("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,g)=>{const T=indexedDB.open(this.name,this.version);T.onsuccess=A=>{const h=A.target.result;n(h)},T.onblocked=()=>{g(new So(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},T.onerror=A=>{const h=A.target.error;h.name==="VersionError"?g(new ut(st.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):h.name==="InvalidStateError"?g(new ut(st.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+h)):g(new So(t,h))},T.onupgradeneeded=A=>{ot("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',A.oldVersion);const h=A.target.result;this.V.O(h,T.transaction,A.oldVersion,this.version).next(()=>{ot("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.F&&(this.db.onversionchange=n=>this.F(n)),this.db}B(t){this.F=t,this.db&&(this.db.onversionchange=n=>t(n))}async runTransaction(t,n,g,T){const A=n==="readonly";let h=0;for(;;){++h;try{this.db=await this.$(t);const S=If.open(this.db,t,A?"readonly":"readwrite",g),e=T(S).next(u=>(S.P(),u)).catch(u=>(S.abort(u),_.reject(u))).toPromise();return e.catch(()=>{}),await S.R,e}catch(S){const e=S,u=e.name!=="FirebaseError"&&h<3;if(ot("SimpleDb","Transaction failed with error:",e.message,"Retrying:",u),this.close(),!u)return Promise.reject(e)}}}close(){this.db&&this.db.close(),this.db=void 0}}class T5{constructor(t){this.L=t,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(t){this.L=t}done(){this.q=!0}G(t){this.U=t}delete(){return ws(this.L.delete())}}class So extends ut{constructor(t,n){super(st.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function us(i){return i.name==="IndexedDbTransactionError"}class S5{constructor(t){this.store=t}put(t,n){let g;return n!==void 0?(ot("SimpleDb","PUT",this.store.name,t,n),g=this.store.put(n,t)):(ot("SimpleDb","PUT",this.store.name,"<auto-key>",t),g=this.store.put(t)),ws(g)}add(t){return ot("SimpleDb","ADD",this.store.name,t,t),ws(this.store.add(t))}get(t){return ws(this.store.get(t)).next(n=>(n===void 0&&(n=null),ot("SimpleDb","GET",this.store.name,t,n),n))}delete(t){return ot("SimpleDb","DELETE",this.store.name,t),ws(this.store.delete(t))}count(){return ot("SimpleDb","COUNT",this.store.name),ws(this.store.count())}j(t,n){const g=this.options(t,n);if(g.index||typeof this.store.getAll!="function"){const T=this.cursor(g),A=[];return this.W(T,(h,S)=>{A.push(S)}).next(()=>A)}{const T=this.store.getAll(g.range);return new _((A,h)=>{T.onerror=S=>{h(S.target.error)},T.onsuccess=S=>{A(S.target.result)}})}}H(t,n){const g=this.store.getAll(t,n===null?void 0:n);return new _((T,A)=>{g.onerror=h=>{A(h.target.error)},g.onsuccess=h=>{T(h.target.result)}})}J(t,n){ot("SimpleDb","DELETE ALL",this.store.name);const g=this.options(t,n);g.Y=!1;const T=this.cursor(g);return this.W(T,(A,h,S)=>S.delete())}X(t,n){let g;n?g=t:(g={},n=t);const T=this.cursor(g);return this.W(T,n)}Z(t){const n=this.cursor({});return new _((g,T)=>{n.onerror=A=>{const h=Em(A.target.error);T(h)},n.onsuccess=A=>{const h=A.target.result;h?t(h.primaryKey,h.value).next(S=>{S?h.continue():g()}):g()}})}W(t,n){const g=[];return new _((T,A)=>{t.onerror=h=>{A(h.target.error)},t.onsuccess=h=>{const S=h.target.result;if(!S)return void T();const e=new T5(S),u=n(S.primaryKey,S.value,e);if(u instanceof _){const y=u.catch(f=>(e.done(),_.reject(f)));g.push(y)}e.isDone?T():e.K===null?S.continue():S.continue(e.K)}}).next(()=>_.waitFor(g))}options(t,n){let g;return t!==void 0&&(typeof t=="string"?g=t:n=t),{index:g,range:n}}cursor(t){let n="next";if(t.reverse&&(n="prev"),t.index){const g=this.store.index(t.index);return t.Y?g.openKeyCursor(t.range,n):g.openCursor(t.range,n)}return this.store.openCursor(t.range,n)}}function ws(i){return new _((t,n)=>{i.onsuccess=g=>{const T=g.target.result;t(T)},i.onerror=g=>{const T=Em(g.target.error);n(T)}})}let xx=!1;function Em(i){const t=ln.S(ve());if(t>=12.2&&t<13){const n="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(n)>=0){const g=new ut("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return xx||(xx=!0,setTimeout(()=>{throw g},0)),g}}return i}class E5{constructor(t,n){this.asyncQueue=t,this.tt=n,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}et(t){ot("IndexBackiller",`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,async()=>{this.task=null;try{ot("IndexBackiller",`Documents written: ${await this.tt.nt()}`)}catch(n){us(n)?ot("IndexBackiller","Ignoring IndexedDB error during index backfill: ",n):await fr(n)}await this.et(6e4)})}}class C5{constructor(t,n){this.localStore=t,this.persistence=n}async nt(t=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>this.st(n,t))}st(t,n){const g=new Set;let T=n,A=!0;return _.doWhile(()=>A===!0&&T>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next(h=>{if(h!==null&&!g.has(h))return ot("IndexBackiller",`Processing collection: ${h}`),this.it(t,h,T).next(S=>{T-=S,g.add(h)});A=!1})).next(()=>n-T)}it(t,n,g){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,n).next(T=>this.localStore.localDocuments.getNextDocuments(t,n,T,g).next(A=>{const h=A.changes;return this.localStore.indexManager.updateIndexEntries(t,h).next(()=>this.rt(T,A)).next(S=>(ot("IndexBackiller",`Updating offset: ${S}`),this.localStore.indexManager.updateCollectionGroup(t,n,S))).next(()=>h.size)}))}rt(t,n){let g=t;return n.changes.forEach((T,A)=>{const h=nE(A);Sm(h,g)>0&&(g=h)}),new fi(g.readTime,g.documentKey,Math.max(n.batchId,t.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=g=>this.ot(g),this.ut=g=>n.writeSequenceNumber(g))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}yi.ct=-1;function Lf(i){return i==null}function rl(i){return i===0&&1/i==-1/0}function w5(i){return typeof i=="number"&&Number.isInteger(i)&&!rl(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $e(i){let t="";for(let n=0;n<i.length;n++)t.length>0&&(t=yx(t)),t=A5(i.get(n),t);return yx(t)}function A5(i,t){let n=t;const g=i.length;for(let T=0;T<g;T++){const A=i.charAt(T);switch(A){case"\0":n+="";break;case"":n+="";break;default:n+=A}}return n}function yx(i){return i+""}function Hi(i){const t=i.length;if(yt(t>=2),t===2)return yt(i.charAt(0)===""&&i.charAt(1)===""),Bt.emptyPath();const n=t-2,g=[];let T="";for(let A=0;A<t;){const h=i.indexOf("",A);switch((h<0||h>n)&&gt(),i.charAt(h+1)){case"":const S=i.substring(A,h);let e;T.length===0?e=S:(T+=S,e=T,T=""),g.push(e);break;case"":T+=i.substring(A,h),T+="\0";break;case"":T+=i.substring(A,h+1);break;default:gt()}A=h+2}return new Bt(g)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tx=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fh(i,t){return[i,$e(t)]}function aE(i,t,n){return[i,$e(t),n]}const P5={},R5=["prefixPath","collectionGroup","readTime","documentId"],M5=["prefixPath","collectionGroup","documentId"],I5=["collectionGroup","readTime","prefixPath","documentId"],L5=["canonicalId","targetId"],F5=["targetId","path"],D5=["path","targetId"],O5=["collectionId","parent"],N5=["indexId","uid"],B5=["uid","sequenceNumber"],G5=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],U5=["indexId","uid","orderedDocumentKey"],b5=["userId","collectionPath","documentId"],V5=["userId","collectionPath","largestBatchId"],z5=["userId","collectionGroup","largestBatchId"],oE=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],X5=[...oE,"documentOverlays"],lE=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],hE=lE,W5=[...hE,"indexConfiguration","indexState","indexEntries"];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mv extends rE{constructor(t,n){super(),this.ht=t,this.currentSequenceNumber=n}}function Se(i,t){const n=Ct(i);return ln.M(n.ht,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sx(i){let t=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&t++;return t}function dr(i,t){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&t(n,i[n])}function uE(i){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(t,n){this.comparator=t,this.root=n||we.EMPTY}insert(t,n){return new Kt(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,we.BLACK,null,null))}remove(t){return new Kt(this.comparator,this.root.remove(t,this.comparator).copy(null,null,we.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const g=this.comparator(t,n.key);if(g===0)return n.value;g<0?n=n.left:g>0&&(n=n.right)}return null}indexOf(t){let n=0,g=this.root;for(;!g.isEmpty();){const T=this.comparator(t,g.key);if(T===0)return n+g.left.size;T<0?g=g.left:(n+=g.left.size+1,g=g.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,g)=>(t(n,g),!1))}toString(){const t=[];return this.inorderTraversal((n,g)=>(t.push(`${n}:${g}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new lh(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new lh(this.root,t,this.comparator,!1)}getReverseIterator(){return new lh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new lh(this.root,t,this.comparator,!0)}}class lh{constructor(t,n,g,T){this.isReverse=T,this.nodeStack=[];let A=1;for(;!t.isEmpty();)if(A=n?g(t.key,n):1,n&&T&&(A*=-1),A<0)t=this.isReverse?t.left:t.right;else{if(A===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class we{constructor(t,n,g,T,A){this.key=t,this.value=n,this.color=g??we.RED,this.left=T??we.EMPTY,this.right=A??we.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,g,T,A){return new we(t??this.key,n??this.value,g??this.color,T??this.left,A??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,g){let T=this;const A=g(t,T.key);return T=A<0?T.copy(null,null,null,T.left.insert(t,n,g),null):A===0?T.copy(null,n,null,null,null):T.copy(null,null,null,null,T.right.insert(t,n,g)),T.fixUp()}removeMin(){if(this.left.isEmpty())return we.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let g,T=this;if(n(t,T.key)<0)T.left.isEmpty()||T.left.isRed()||T.left.left.isRed()||(T=T.moveRedLeft()),T=T.copy(null,null,null,T.left.remove(t,n),null);else{if(T.left.isRed()&&(T=T.rotateRight()),T.right.isEmpty()||T.right.isRed()||T.right.left.isRed()||(T=T.moveRedRight()),n(t,T.key)===0){if(T.right.isEmpty())return we.EMPTY;g=T.right.min(),T=T.copy(g.key,g.value,null,null,T.right.removeMin())}T=T.copy(null,null,null,null,T.right.remove(t,n))}return T.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,we.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,we.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw gt();const t=this.left.check();if(t!==this.right.check())throw gt();return t+(this.isRed()?0:1)}}we.EMPTY=null,we.RED=!0,we.BLACK=!1;we.EMPTY=new class{constructor(){this.size=0}get key(){throw gt()}get value(){throw gt()}get color(){throw gt()}get left(){throw gt()}get right(){throw gt()}copy(i,t,n,g,T){return this}insert(i,t,n){return new we(i,t)}remove(i,t){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(t){this.comparator=t,this.data=new Kt(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,g)=>(t(n),!1))}forEachInRange(t,n){const g=this.data.getIteratorFrom(t[0]);for(;g.hasNext();){const T=g.getNext();if(this.comparator(T.key,t[1])>=0)return;n(T.key)}}forEachWhile(t,n){let g;for(g=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();g.hasNext();)if(!t(g.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new Ex(this.data.getIterator())}getIteratorFrom(t){return new Ex(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(g=>{n=n.add(g)}),n}isEqual(t){if(!(t instanceof Ht)||this.size!==t.size)return!1;const n=this.data.getIterator(),g=t.data.getIterator();for(;n.hasNext();){const T=n.getNext().key,A=g.getNext().key;if(this.comparator(T,A)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new Ht(this.comparator);return n.data=t,n}}class Ex{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function gr(i){return i.hasNext()?i.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(t){this.fields=t,t.sort(ue.comparator)}static empty(){return new _e([])}unionWith(t){let n=new Ht(ue.comparator);for(const g of this.fields)n=n.add(g);for(const g of t)n=n.add(g);return new _e(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return sa(this.fields,t.fields,(n,g)=>n.isEqual(g))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(g){try{return atob(g)}catch(T){throw typeof DOMException<"u"&&T instanceof DOMException?new fE("Invalid base64 string: "+T):T}}(t);return new Ie(n)}static fromUint8Array(t){const n=function(g){let T="";for(let A=0;A<g.length;++A)T+=String.fromCharCode(g[A]);return T}(t);return new Ie(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return t=this.binaryString,btoa(t);var t}toUint8Array(){return function(t){const n=new Uint8Array(t.length);for(let g=0;g<t.length;g++)n[g]=t.charCodeAt(g);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return wt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ie.EMPTY_BYTE_STRING=new Ie("");const Y5=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _n(i){if(yt(!!i),typeof i=="string"){let t=0;const n=Y5.exec(i);if(yt(!!n),n[1]){let T=n[1];T=(T+"000000000").substr(0,9),t=Number(T)}const g=new Date(i);return{seconds:Math.floor(g.getTime()/1e3),nanos:t}}return{seconds:ee(i.seconds),nanos:ee(i.nanos)}}function ee(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function ts(i){return typeof i=="string"?Ie.fromBase64String(i):Ie.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cm(i){var t,n;return((n=(((t=i==null?void 0:i.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function wm(i){const t=i.mapValue.fields.__previous_value__;return Cm(t)?wm(t):t}function al(i){const t=_n(i.mapValue.fields.__local_write_time__.timestampValue);return new Zt(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H5{constructor(t,n,g,T,A,h,S,e,u){this.databaseId=t,this.appId=n,this.persistenceKey=g,this.host=T,this.ssl=A,this.forceLongPolling=h,this.autoDetectLongPolling=S,this.longPollingOptions=e,this.useFetchStreams=u}}class Qs{constructor(t,n){this.projectId=t,this.database=n||"(default)"}static empty(){return new Qs("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof Qs&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gn={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Dh={nullValue:"NULL_VALUE"};function Js(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Cm(i)?4:dE(i)?9007199254740991:10:gt()}function qi(i,t){if(i===t)return!0;const n=Js(i);if(n!==Js(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===t.booleanValue;case 4:return al(i).isEqual(al(t));case 3:return function(g,T){if(typeof g.timestampValue=="string"&&typeof T.timestampValue=="string"&&g.timestampValue.length===T.timestampValue.length)return g.timestampValue===T.timestampValue;const A=_n(g.timestampValue),h=_n(T.timestampValue);return A.seconds===h.seconds&&A.nanos===h.nanos}(i,t);case 5:return i.stringValue===t.stringValue;case 6:return function(g,T){return ts(g.bytesValue).isEqual(ts(T.bytesValue))}(i,t);case 7:return i.referenceValue===t.referenceValue;case 8:return function(g,T){return ee(g.geoPointValue.latitude)===ee(T.geoPointValue.latitude)&&ee(g.geoPointValue.longitude)===ee(T.geoPointValue.longitude)}(i,t);case 2:return function(g,T){if("integerValue"in g&&"integerValue"in T)return ee(g.integerValue)===ee(T.integerValue);if("doubleValue"in g&&"doubleValue"in T){const A=ee(g.doubleValue),h=ee(T.doubleValue);return A===h?rl(A)===rl(h):isNaN(A)&&isNaN(h)}return!1}(i,t);case 9:return sa(i.arrayValue.values||[],t.arrayValue.values||[],qi);case 10:return function(g,T){const A=g.mapValue.fields||{},h=T.mapValue.fields||{};if(Sx(A)!==Sx(h))return!1;for(const S in A)if(A.hasOwnProperty(S)&&(h[S]===void 0||!qi(A[S],h[S])))return!1;return!0}(i,t);default:return gt()}}function ol(i,t){return(i.values||[]).find(n=>qi(n,t))!==void 0}function es(i,t){if(i===t)return 0;const n=Js(i),g=Js(t);if(n!==g)return wt(n,g);switch(n){case 0:case 9007199254740991:return 0;case 1:return wt(i.booleanValue,t.booleanValue);case 2:return function(T,A){const h=ee(T.integerValue||T.doubleValue),S=ee(A.integerValue||A.doubleValue);return h<S?-1:h>S?1:h===S?0:isNaN(h)?isNaN(S)?0:-1:1}(i,t);case 3:return Cx(i.timestampValue,t.timestampValue);case 4:return Cx(al(i),al(t));case 5:return wt(i.stringValue,t.stringValue);case 6:return function(T,A){const h=ts(T),S=ts(A);return h.compareTo(S)}(i.bytesValue,t.bytesValue);case 7:return function(T,A){const h=T.split("/"),S=A.split("/");for(let e=0;e<h.length&&e<S.length;e++){const u=wt(h[e],S[e]);if(u!==0)return u}return wt(h.length,S.length)}(i.referenceValue,t.referenceValue);case 8:return function(T,A){const h=wt(ee(T.latitude),ee(A.latitude));return h!==0?h:wt(ee(T.longitude),ee(A.longitude))}(i.geoPointValue,t.geoPointValue);case 9:return function(T,A){const h=T.values||[],S=A.values||[];for(let e=0;e<h.length&&e<S.length;++e){const u=es(h[e],S[e]);if(u)return u}return wt(h.length,S.length)}(i.arrayValue,t.arrayValue);case 10:return function(T,A){if(T===Gn.mapValue&&A===Gn.mapValue)return 0;if(T===Gn.mapValue)return 1;if(A===Gn.mapValue)return-1;const h=T.fields||{},S=Object.keys(h),e=A.fields||{},u=Object.keys(e);S.sort(),u.sort();for(let y=0;y<S.length&&y<u.length;++y){const f=wt(S[y],u[y]);if(f!==0)return f;const l=es(h[S[y]],e[u[y]]);if(l!==0)return l}return wt(S.length,u.length)}(i.mapValue,t.mapValue);default:throw gt()}}function Cx(i,t){if(typeof i=="string"&&typeof t=="string"&&i.length===t.length)return wt(i,t);const n=_n(i),g=_n(t),T=wt(n.seconds,g.seconds);return T!==0?T:wt(n.nanos,g.nanos)}function ra(i){return gv(i)}function gv(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(g){const T=_n(g);return`time(${T.seconds},${T.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?ts(i.bytesValue).toBase64():"referenceValue"in i?(n=i.referenceValue,dt.fromName(n).toString()):"geoPointValue"in i?`geo(${(t=i.geoPointValue).latitude},${t.longitude})`:"arrayValue"in i?function(g){let T="[",A=!0;for(const h of g.values||[])A?A=!1:T+=",",T+=gv(h);return T+"]"}(i.arrayValue):"mapValue"in i?function(g){const T=Object.keys(g.fields||{}).sort();let A="{",h=!0;for(const S of T)h?h=!1:A+=",",A+=`${S}:${gv(g.fields[S])}`;return A+"}"}(i.mapValue):gt();var t,n}function ll(i,t){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${t.path.canonicalString()}`}}function xv(i){return!!i&&"integerValue"in i}function hl(i){return!!i&&"arrayValue"in i}function wx(i){return!!i&&"nullValue"in i}function Ax(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Oh(i){return!!i&&"mapValue"in i}function Eo(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const t={mapValue:{fields:{}}};return dr(i.mapValue.fields,(n,g)=>t.mapValue.fields[n]=Eo(g)),t}if(i.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Eo(i.arrayValue.values[n]);return t}return Object.assign({},i)}function dE(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}function $5(i){return"nullValue"in i?Dh:"booleanValue"in i?{booleanValue:!1}:"integerValue"in i||"doubleValue"in i?{doubleValue:NaN}:"timestampValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in i?{stringValue:""}:"bytesValue"in i?{bytesValue:""}:"referenceValue"in i?ll(Qs.empty(),dt.empty()):"geoPointValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in i?{arrayValue:{}}:"mapValue"in i?{mapValue:{}}:gt()}function k5(i){return"nullValue"in i?{booleanValue:!1}:"booleanValue"in i?{doubleValue:NaN}:"integerValue"in i||"doubleValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in i?{stringValue:""}:"stringValue"in i?{bytesValue:""}:"bytesValue"in i?ll(Qs.empty(),dt.empty()):"referenceValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in i?{arrayValue:{}}:"arrayValue"in i?{mapValue:{}}:"mapValue"in i?Gn:gt()}function Px(i,t){const n=es(i.value,t.value);return n!==0?n:i.inclusive&&!t.inclusive?-1:!i.inclusive&&t.inclusive?1:0}function Rx(i,t){const n=es(i.value,t.value);return n!==0?n:i.inclusive&&!t.inclusive?1:!i.inclusive&&t.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(t){this.value=t}static empty(){return new Be({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let g=0;g<t.length-1;++g)if(n=(n.mapValue.fields||{})[t.get(g)],!Oh(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Eo(n)}setAll(t){let n=ue.emptyPath(),g={},T=[];t.forEach((h,S)=>{if(!n.isImmediateParentOf(S)){const e=this.getFieldsMap(n);this.applyChanges(e,g,T),g={},T=[],n=S.popLast()}h?g[S.lastSegment()]=Eo(h):T.push(S.lastSegment())});const A=this.getFieldsMap(n);this.applyChanges(A,g,T)}delete(t){const n=this.field(t.popLast());Oh(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return qi(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let g=0;g<t.length;++g){let T=n.mapValue.fields[t.get(g)];Oh(T)&&T.mapValue.fields||(T={mapValue:{fields:{}}},n.mapValue.fields[t.get(g)]=T),n=T}return n.mapValue.fields}applyChanges(t,n,g){dr(n,(T,A)=>t[T]=A);for(const T of g)delete t[T]}clone(){return new Be(Eo(this.value))}}function cE(i){const t=[];return dr(i.fields,(n,g)=>{const T=new ue([n]);if(Oh(g)){const A=cE(g.mapValue).fields;if(A.length===0)t.push(T);else for(const h of A)t.push(T.child(h))}else t.push(T)}),new _e(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(t,n,g,T,A,h,S){this.key=t,this.documentType=n,this.version=g,this.readTime=T,this.createTime=A,this.data=h,this.documentState=S}static newInvalidDocument(t){return new ie(t,0,xt.min(),xt.min(),xt.min(),Be.empty(),0)}static newFoundDocument(t,n,g,T){return new ie(t,1,n,xt.min(),g,T,0)}static newNoDocument(t,n){return new ie(t,2,n,xt.min(),xt.min(),Be.empty(),0)}static newUnknownDocument(t,n){return new ie(t,3,n,xt.min(),xt.min(),Be.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(xt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Be.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Be.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=xt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof ie&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new ie(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(t,n){this.position=t,this.inclusive=n}}function Mx(i,t,n){let g=0;for(let T=0;T<i.position.length;T++){const A=t[T],h=i.position[T];if(A.field.isKeyField()?g=dt.comparator(dt.fromName(h.referenceValue),n.key):g=es(h,n.data.field(A.field)),A.dir==="desc"&&(g*=-1),g!==0)break}return g}function Ix(i,t){if(i===null)return t===null;if(t===null||i.inclusive!==t.inclusive||i.position.length!==t.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!qi(i.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{constructor(t,n="asc"){this.field=t,this.dir=n}}function j5(i,t){return i.dir===t.dir&&i.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vE{}class Lt extends vE{constructor(t,n,g){super(),this.field=t,this.op=n,this.value=g}static create(t,n,g){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,g):new K5(t,n,g):n==="array-contains"?new Z5(t,g):n==="in"?new TE(t,g):n==="not-in"?new q5(t,g):n==="array-contains-any"?new _5(t,g):new Lt(t,n,g)}static createKeyFieldInFilter(t,n,g){return n==="in"?new Q5(t,g):new J5(t,g)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(es(n,this.value)):n!==null&&Js(this.value)===Js(n)&&this.matchesComparison(es(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return gt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Gt extends vE{constructor(t,n){super(),this.filters=t,this.op=n,this.lt=null}static create(t,n){return new Gt(t,n)}matches(t){return oa(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.lt!==null||(this.lt=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const t=this.ft(n=>n.isInequality());return t!==null?t.field:null}ft(t){for(const n of this.getFlattenedFilters())if(t(n))return n;return null}}function oa(i){return i.op==="and"}function yv(i){return i.op==="or"}function Am(i){return pE(i)&&oa(i)}function pE(i){for(const t of i.filters)if(t instanceof Gt)return!1;return!0}function Tv(i){if(i instanceof Lt)return i.field.canonicalString()+i.op.toString()+ra(i.value);if(Am(i))return i.filters.map(t=>Tv(t)).join(",");{const t=i.filters.map(n=>Tv(n)).join(",");return`${i.op}(${t})`}}function mE(i,t){return i instanceof Lt?function(n,g){return g instanceof Lt&&n.op===g.op&&n.field.isEqual(g.field)&&qi(n.value,g.value)}(i,t):i instanceof Gt?function(n,g){return g instanceof Gt&&n.op===g.op&&n.filters.length===g.filters.length?n.filters.reduce((T,A,h)=>T&&mE(A,g.filters[h]),!0):!1}(i,t):void gt()}function gE(i,t){const n=i.filters.concat(t);return Gt.create(n,i.op)}function xE(i){return i instanceof Lt?function(t){return`${t.field.canonicalString()} ${t.op} ${ra(t.value)}`}(i):i instanceof Gt?function(t){return t.op.toString()+" {"+t.getFilters().map(xE).join(" ,")+"}"}(i):"Filter"}class K5 extends Lt{constructor(t,n,g){super(t,n,g),this.key=dt.fromName(g.referenceValue)}matches(t){const n=dt.comparator(t.key,this.key);return this.matchesComparison(n)}}class Q5 extends Lt{constructor(t,n){super(t,"in",n),this.keys=yE("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class J5 extends Lt{constructor(t,n){super(t,"not-in",n),this.keys=yE("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function yE(i,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(g=>dt.fromName(g.referenceValue))}class Z5 extends Lt{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return hl(n)&&ol(n.arrayValue,this.value)}}class TE extends Lt{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&ol(this.value.arrayValue,n)}}class q5 extends Lt{constructor(t,n){super(t,"not-in",n)}matches(t){if(ol(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!ol(this.value.arrayValue,n)}}class _5 extends Lt{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!hl(n)||!n.arrayValue.values)&&n.arrayValue.values.some(g=>ol(this.value.arrayValue,g))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tL{constructor(t,n=null,g=[],T=[],A=null,h=null,S=null){this.path=t,this.collectionGroup=n,this.orderBy=g,this.filters=T,this.limit=A,this.startAt=h,this.endAt=S,this.dt=null}}function Sv(i,t=null,n=[],g=[],T=null,A=null,h=null){return new tL(i,t,n,g,T,A,h)}function Zs(i){const t=Ct(i);if(t.dt===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(g=>Tv(g)).join(","),n+="|ob:",n+=t.orderBy.map(g=>function(T){return T.field.canonicalString()+T.dir}(g)).join(","),Lf(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(g=>ra(g)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(g=>ra(g)).join(",")),t.dt=n}return t.dt}function Ll(i,t){if(i.limit!==t.limit||i.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!j5(i.orderBy[n],t.orderBy[n]))return!1;if(i.filters.length!==t.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!mE(i.filters[n],t.filters[n]))return!1;return i.collectionGroup===t.collectionGroup&&!!i.path.isEqual(t.path)&&!!Ix(i.startAt,t.startAt)&&Ix(i.endAt,t.endAt)}function Iu(i){return dt.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}function Lu(i,t){return i.filters.filter(n=>n instanceof Lt&&n.field.isEqual(t))}function Lx(i,t,n){let g=Dh,T=!0;for(const A of Lu(i,t)){let h=Dh,S=!0;switch(A.op){case"<":case"<=":h=$5(A.value);break;case"==":case"in":case">=":h=A.value;break;case">":h=A.value,S=!1;break;case"!=":case"not-in":h=Dh}Px({value:g,inclusive:T},{value:h,inclusive:S})<0&&(g=h,T=S)}if(n!==null){for(let A=0;A<i.orderBy.length;++A)if(i.orderBy[A].field.isEqual(t)){const h=n.position[A];Px({value:g,inclusive:T},{value:h,inclusive:n.inclusive})<0&&(g=h,T=n.inclusive);break}}return{value:g,inclusive:T}}function Fx(i,t,n){let g=Gn,T=!0;for(const A of Lu(i,t)){let h=Gn,S=!0;switch(A.op){case">=":case">":h=k5(A.value),S=!1;break;case"==":case"in":case"<=":h=A.value;break;case"<":h=A.value,S=!1;break;case"!=":case"not-in":h=Gn}Rx({value:g,inclusive:T},{value:h,inclusive:S})>0&&(g=h,T=S)}if(n!==null){for(let A=0;A<i.orderBy.length;++A)if(i.orderBy[A].field.isEqual(t)){const h=n.position[A];Rx({value:g,inclusive:T},{value:h,inclusive:n.inclusive})>0&&(g=h,T=n.inclusive);break}}return{value:g,inclusive:T}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(t,n=null,g=[],T=[],A=null,h="F",S=null,e=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=g,this.filters=T,this.limit=A,this.limitType=h,this.startAt=S,this.endAt=e,this.wt=null,this._t=null,this.startAt,this.endAt}}function eL(i,t,n,g,T,A,h,S){return new Ia(i,t,n,g,T,A,h,S)}function Fl(i){return new Ia(i)}function Dx(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function Pm(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}function Ff(i){for(const t of i.filters){const n=t.getFirstInequalityField();if(n!==null)return n}return null}function SE(i){return i.collectionGroup!==null}function jr(i){const t=Ct(i);if(t.wt===null){t.wt=[];const n=Ff(t),g=Pm(t);if(n!==null&&g===null)n.isKeyField()||t.wt.push(new kr(n)),t.wt.push(new kr(ue.keyField(),"asc"));else{let T=!1;for(const A of t.explicitOrderBy)t.wt.push(A),A.field.isKeyField()&&(T=!0);if(!T){const A=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.wt.push(new kr(ue.keyField(),A))}}}return t.wt}function Bi(i){const t=Ct(i);if(!t._t)if(t.limitType==="F")t._t=Sv(t.path,t.collectionGroup,jr(t),t.filters,t.limit,t.startAt,t.endAt);else{const n=[];for(const A of jr(t)){const h=A.dir==="desc"?"asc":"desc";n.push(new kr(A.field,h))}const g=t.endAt?new aa(t.endAt.position,t.endAt.inclusive):null,T=t.startAt?new aa(t.startAt.position,t.startAt.inclusive):null;t._t=Sv(t.path,t.collectionGroup,n,t.filters,t.limit,g,T)}return t._t}function Ev(i,t){t.getFirstInequalityField(),Ff(i);const n=i.filters.concat([t]);return new Ia(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function Fu(i,t,n){return new Ia(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),t,n,i.startAt,i.endAt)}function Df(i,t){return Ll(Bi(i),Bi(t))&&i.limitType===t.limitType}function EE(i){return`${Zs(Bi(i))}|lt:${i.limitType}`}function Cv(i){return`Query(target=${function(t){let n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=`, filters: [${t.filters.map(g=>xE(g)).join(", ")}]`),Lf(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=`, orderBy: [${t.orderBy.map(g=>function(T){return`${T.field.canonicalString()} (${T.dir})`}(g)).join(", ")}]`),t.startAt&&(n+=", startAt: ",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(g=>ra(g)).join(",")),t.endAt&&(n+=", endAt: ",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(g=>ra(g)).join(",")),`Target(${n})`}(Bi(i))}; limitType=${i.limitType})`}function Dl(i,t){return t.isFoundDocument()&&function(n,g){const T=g.key.path;return n.collectionGroup!==null?g.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(T):dt.isDocumentKey(n.path)?n.path.isEqual(T):n.path.isImmediateParentOf(T)}(i,t)&&function(n,g){for(const T of jr(n))if(!T.field.isKeyField()&&g.data.field(T.field)===null)return!1;return!0}(i,t)&&function(n,g){for(const T of n.filters)if(!T.matches(g))return!1;return!0}(i,t)&&function(n,g){return!(n.startAt&&!function(T,A,h){const S=Mx(T,A,h);return T.inclusive?S<=0:S<0}(n.startAt,jr(n),g)||n.endAt&&!function(T,A,h){const S=Mx(T,A,h);return T.inclusive?S>=0:S>0}(n.endAt,jr(n),g))}(i,t)}function iL(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function CE(i){return(t,n)=>{let g=!1;for(const T of jr(i)){const A=nL(T,t,n);if(A!==0)return A;g=g||T.field.isKeyField()}return 0}}function nL(i,t,n){const g=i.field.isKeyField()?dt.comparator(t.key,n.key):function(T,A,h){const S=A.data.field(T),e=h.data.field(T);return S!==null&&e!==null?es(S,e):gt()}(i.field,t,n);switch(i.dir){case"asc":return g;case"desc":return-1*g;default:return gt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),g=this.inner[n];if(g!==void 0){for(const[T,A]of g)if(this.equalsFn(T,t))return A}}has(t){return this.get(t)!==void 0}set(t,n){const g=this.mapKeyFn(t),T=this.inner[g];if(T===void 0)return this.inner[g]=[[t,n]],void this.innerSize++;for(let A=0;A<T.length;A++)if(this.equalsFn(T[A][0],t))return void(T[A]=[t,n]);T.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),g=this.inner[n];if(g===void 0)return!1;for(let T=0;T<g.length;T++)if(this.equalsFn(g[T][0],t))return g.length===1?delete this.inner[n]:g.splice(T,1),this.innerSize--,!0;return!1}forEach(t){dr(this.inner,(n,g)=>{for(const[T,A]of g)t(T,A)})}isEmpty(){return uE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sL=new Kt(dt.comparator);function ai(){return sL}const wE=new Kt(dt.comparator);function ro(...i){let t=wE;for(const n of i)t=t.insert(n.key,n);return t}function AE(i){let t=wE;return i.forEach((n,g)=>t=t.insert(n,g.overlayedDocument)),t}function $i(){return Co()}function PE(){return Co()}function Co(){return new fs(i=>i.toString(),(i,t)=>i.isEqual(t))}const rL=new Kt(dt.comparator),aL=new Ht(dt.comparator);function Pt(...i){let t=aL;for(const n of i)t=t.add(n);return t}const oL=new Ht(wt);function lL(){return oL}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RE(i,t){if(i.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:rl(t)?"-0":t}}function ME(i){return{integerValue:""+i}}function IE(i,t){return w5(t)?ME(t):RE(i,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Of{constructor(){this._=void 0}}function hL(i,t,n){return i instanceof la?function(g,T){const A={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:g.seconds,nanos:g.nanoseconds}}}};return T&&Cm(T)&&(T=wm(T)),T&&(A.fields.__previous_value__=T),{mapValue:A}}(n,t):i instanceof qs?FE(i,t):i instanceof ha?DE(i,t):function(g,T){const A=LE(g,T),h=Ox(A)+Ox(g.gt);return xv(A)&&xv(g.gt)?ME(h):RE(g.serializer,h)}(i,t)}function uL(i,t,n){return i instanceof qs?FE(i,t):i instanceof ha?DE(i,t):n}function LE(i,t){return i instanceof ua?xv(n=t)||function(g){return!!g&&"doubleValue"in g}(n)?t:{integerValue:0}:null;var n}class la extends Of{}class qs extends Of{constructor(t){super(),this.elements=t}}function FE(i,t){const n=OE(t);for(const g of i.elements)n.some(T=>qi(T,g))||n.push(g);return{arrayValue:{values:n}}}class ha extends Of{constructor(t){super(),this.elements=t}}function DE(i,t){let n=OE(t);for(const g of i.elements)n=n.filter(T=>!qi(T,g));return{arrayValue:{values:n}}}class ua extends Of{constructor(t,n){super(),this.serializer=t,this.gt=n}}function Ox(i){return ee(i.integerValue||i.doubleValue)}function OE(i){return hl(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nf{constructor(t,n){this.field=t,this.transform=n}}function fL(i,t){return i.field.isEqual(t.field)&&function(n,g){return n instanceof qs&&g instanceof qs||n instanceof ha&&g instanceof ha?sa(n.elements,g.elements,qi):n instanceof ua&&g instanceof ua?qi(n.gt,g.gt):n instanceof la&&g instanceof la}(i.transform,t.transform)}class dL{constructor(t,n){this.version=t,this.transformResults=n}}class Ye{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Ye}static exists(t){return new Ye(void 0,t)}static updateTime(t){return new Ye(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Nh(i,t){return i.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(i.updateTime):i.exists===void 0||i.exists===t.isFoundDocument()}class Bf{}function NE(i,t){if(!i.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return i.isNoDocument()?new Rm(i.key,Ye.none()):new La(i.key,i.data,Ye.none());{const n=i.data,g=Be.empty();let T=new Ht(ue.comparator);for(let A of t.fields)if(!T.has(A)){let h=n.field(A);h===null&&A.length>1&&(A=A.popLast(),h=n.field(A)),h===null?g.delete(A):g.set(A,h),T=T.add(A)}return new yn(i.key,g,new _e(T.toArray()),Ye.none())}}function cL(i,t,n){i instanceof La?function(g,T,A){const h=g.value.clone(),S=Bx(g.fieldTransforms,T,A.transformResults);h.setAll(S),T.convertToFoundDocument(A.version,h).setHasCommittedMutations()}(i,t,n):i instanceof yn?function(g,T,A){if(!Nh(g.precondition,T))return void T.convertToUnknownDocument(A.version);const h=Bx(g.fieldTransforms,T,A.transformResults),S=T.data;S.setAll(BE(g)),S.setAll(h),T.convertToFoundDocument(A.version,S).setHasCommittedMutations()}(i,t,n):function(g,T,A){T.convertToNoDocument(A.version).setHasCommittedMutations()}(0,t,n)}function wo(i,t,n,g){return i instanceof La?function(T,A,h,S){if(!Nh(T.precondition,A))return h;const e=T.value.clone(),u=Gx(T.fieldTransforms,S,A);return e.setAll(u),A.convertToFoundDocument(A.version,e).setHasLocalMutations(),null}(i,t,n,g):i instanceof yn?function(T,A,h,S){if(!Nh(T.precondition,A))return h;const e=Gx(T.fieldTransforms,S,A),u=A.data;return u.setAll(BE(T)),u.setAll(e),A.convertToFoundDocument(A.version,u).setHasLocalMutations(),h===null?null:h.unionWith(T.fieldMask.fields).unionWith(T.fieldTransforms.map(y=>y.field))}(i,t,n,g):function(T,A,h){return Nh(T.precondition,A)?(A.convertToNoDocument(A.version).setHasLocalMutations(),null):h}(i,t,n)}function vL(i,t){let n=null;for(const g of i.fieldTransforms){const T=t.data.field(g.field),A=LE(g.transform,T||null);A!=null&&(n===null&&(n=Be.empty()),n.set(g.field,A))}return n||null}function Nx(i,t){return i.type===t.type&&!!i.key.isEqual(t.key)&&!!i.precondition.isEqual(t.precondition)&&!!function(n,g){return n===void 0&&g===void 0||!(!n||!g)&&sa(n,g,(T,A)=>fL(T,A))}(i.fieldTransforms,t.fieldTransforms)&&(i.type===0?i.value.isEqual(t.value):i.type!==1||i.data.isEqual(t.data)&&i.fieldMask.isEqual(t.fieldMask))}class La extends Bf{constructor(t,n,g,T=[]){super(),this.key=t,this.value=n,this.precondition=g,this.fieldTransforms=T,this.type=0}getFieldMask(){return null}}class yn extends Bf{constructor(t,n,g,T,A=[]){super(),this.key=t,this.data=n,this.fieldMask=g,this.precondition=T,this.fieldTransforms=A,this.type=1}getFieldMask(){return this.fieldMask}}function BE(i){const t=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const g=i.data.field(n);t.set(n,g)}}),t}function Bx(i,t,n){const g=new Map;yt(i.length===n.length);for(let T=0;T<n.length;T++){const A=i[T],h=A.transform,S=t.data.field(A.field);g.set(A.field,uL(h,S,n[T]))}return g}function Gx(i,t,n){const g=new Map;for(const T of i){const A=T.transform,h=n.data.field(T.field);g.set(T.field,hL(A,h,t))}return g}class Rm extends Bf{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class GE extends Bf{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mm{constructor(t,n,g,T){this.batchId=t,this.localWriteTime=n,this.baseMutations=g,this.mutations=T}applyToRemoteDocument(t,n){const g=n.mutationResults;for(let T=0;T<this.mutations.length;T++){const A=this.mutations[T];A.key.isEqual(t.key)&&cL(A,t,g[T])}}applyToLocalView(t,n){for(const g of this.baseMutations)g.key.isEqual(t.key)&&(n=wo(g,t,n,this.localWriteTime));for(const g of this.mutations)g.key.isEqual(t.key)&&(n=wo(g,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const g=PE();return this.mutations.forEach(T=>{const A=t.get(T.key),h=A.overlayedDocument;let S=this.applyToLocalView(h,A.mutatedFields);S=n.has(T.key)?null:S;const e=NE(h,S);e!==null&&g.set(T.key,e),h.isValidDocument()||h.convertToNoDocument(xt.min())}),g}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),Pt())}isEqual(t){return this.batchId===t.batchId&&sa(this.mutations,t.mutations,(n,g)=>Nx(n,g))&&sa(this.baseMutations,t.baseMutations,(n,g)=>Nx(n,g))}}class Im{constructor(t,n,g,T){this.batch=t,this.commitVersion=n,this.mutationResults=g,this.docVersions=T}static from(t,n,g){yt(t.mutations.length===g.length);let T=rL;const A=t.mutations;for(let h=0;h<A.length;h++)T=T.insert(A[h].key,g[h].version);return new Im(t,n,g,T)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lm{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pL{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var le,Ft;function mL(i){switch(i){default:return gt();case st.CANCELLED:case st.UNKNOWN:case st.DEADLINE_EXCEEDED:case st.RESOURCE_EXHAUSTED:case st.INTERNAL:case st.UNAVAILABLE:case st.UNAUTHENTICATED:return!1;case st.INVALID_ARGUMENT:case st.NOT_FOUND:case st.ALREADY_EXISTS:case st.PERMISSION_DENIED:case st.FAILED_PRECONDITION:case st.ABORTED:case st.OUT_OF_RANGE:case st.UNIMPLEMENTED:case st.DATA_LOSS:return!0}}function UE(i){if(i===void 0)return Xe("GRPC error has no .code"),st.UNKNOWN;switch(i){case le.OK:return st.OK;case le.CANCELLED:return st.CANCELLED;case le.UNKNOWN:return st.UNKNOWN;case le.DEADLINE_EXCEEDED:return st.DEADLINE_EXCEEDED;case le.RESOURCE_EXHAUSTED:return st.RESOURCE_EXHAUSTED;case le.INTERNAL:return st.INTERNAL;case le.UNAVAILABLE:return st.UNAVAILABLE;case le.UNAUTHENTICATED:return st.UNAUTHENTICATED;case le.INVALID_ARGUMENT:return st.INVALID_ARGUMENT;case le.NOT_FOUND:return st.NOT_FOUND;case le.ALREADY_EXISTS:return st.ALREADY_EXISTS;case le.PERMISSION_DENIED:return st.PERMISSION_DENIED;case le.FAILED_PRECONDITION:return st.FAILED_PRECONDITION;case le.ABORTED:return st.ABORTED;case le.OUT_OF_RANGE:return st.OUT_OF_RANGE;case le.UNIMPLEMENTED:return st.UNIMPLEMENTED;case le.DATA_LOSS:return st.DATA_LOSS;default:return gt()}}(Ft=le||(le={}))[Ft.OK=0]="OK",Ft[Ft.CANCELLED=1]="CANCELLED",Ft[Ft.UNKNOWN=2]="UNKNOWN",Ft[Ft.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ft[Ft.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ft[Ft.NOT_FOUND=5]="NOT_FOUND",Ft[Ft.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ft[Ft.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ft[Ft.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ft[Ft.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ft[Ft.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ft[Ft.ABORTED=10]="ABORTED",Ft[Ft.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ft[Ft.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ft[Ft.INTERNAL=13]="INTERNAL",Ft[Ft.UNAVAILABLE=14]="UNAVAILABLE",Ft[Ft.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return hh}static getOrCreateInstance(){return hh===null&&(hh=new Fm),hh}onExistenceFilterMismatch(t){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,t),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(t){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(t))}}let hh=null;/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gL(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xL=new $r([4294967295,4294967295],0);function Ux(i){const t=gL().encode(i),n=new l5;return n.update(t),new Uint8Array(n.digest())}function bx(i){const t=new DataView(i.buffer),n=t.getUint32(0,!0),g=t.getUint32(4,!0),T=t.getUint32(8,!0),A=t.getUint32(12,!0);return[new $r([n,g],0),new $r([T,A],0)]}class Dm{constructor(t,n,g){if(this.bitmap=t,this.padding=n,this.hashCount=g,n<0||n>=8)throw new ao(`Invalid padding: ${n}`);if(g<0)throw new ao(`Invalid hash count: ${g}`);if(t.length>0&&this.hashCount===0)throw new ao(`Invalid hash count: ${g}`);if(t.length===0&&n!==0)throw new ao(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*t.length-n,this.Tt=$r.fromNumber(this.It)}Et(t,n,g){let T=t.add(n.multiply($r.fromNumber(g)));return T.compare(xL)===1&&(T=new $r([T.getBits(0),T.getBits(1)],0)),T.modulo(this.Tt).toNumber()}At(t){return(this.bitmap[Math.floor(t/8)]&1<<t%8)!=0}vt(t){if(this.It===0)return!1;const n=Ux(t),[g,T]=bx(n);for(let A=0;A<this.hashCount;A++){const h=this.Et(g,T,A);if(!this.At(h))return!1}return!0}static create(t,n,g){const T=t%8==0?0:8-t%8,A=new Uint8Array(Math.ceil(t/8)),h=new Dm(A,T,n);return g.forEach(S=>h.insert(S)),h}insert(t){if(this.It===0)return;const n=Ux(t),[g,T]=bx(n);for(let A=0;A<this.hashCount;A++){const h=this.Et(g,T,A);this.Rt(h)}}Rt(t){const n=Math.floor(t/8),g=t%8;this.bitmap[n]|=1<<g}}class ao extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gf{constructor(t,n,g,T,A){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=g,this.documentUpdates=T,this.resolvedLimboDocuments=A}static createSynthesizedRemoteEventForCurrentChange(t,n,g){const T=new Map;return T.set(t,Ol.createSynthesizedTargetChangeForCurrentChange(t,n,g)),new Gf(xt.min(),T,new Kt(wt),ai(),Pt())}}class Ol{constructor(t,n,g,T,A){this.resumeToken=t,this.current=n,this.addedDocuments=g,this.modifiedDocuments=T,this.removedDocuments=A}static createSynthesizedTargetChangeForCurrentChange(t,n,g){return new Ol(g,n,Pt(),Pt(),Pt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(t,n,g,T){this.Pt=t,this.removedTargetIds=n,this.key=g,this.bt=T}}class bE{constructor(t,n){this.targetId=t,this.Vt=n}}class VE{constructor(t,n,g=Ie.EMPTY_BYTE_STRING,T=null){this.state=t,this.targetIds=n,this.resumeToken=g,this.cause=T}}class Vx{constructor(){this.St=0,this.Dt=Xx(),this.Ct=Ie.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return this.St!==0}get Mt(){return this.Nt}$t(t){t.approximateByteSize()>0&&(this.Nt=!0,this.Ct=t)}Ot(){let t=Pt(),n=Pt(),g=Pt();return this.Dt.forEach((T,A)=>{switch(A){case 0:t=t.add(T);break;case 2:n=n.add(T);break;case 1:g=g.add(T);break;default:gt()}}),new Ol(this.Ct,this.xt,t,n,g)}Ft(){this.Nt=!1,this.Dt=Xx()}Bt(t,n){this.Nt=!0,this.Dt=this.Dt.insert(t,n)}Lt(t){this.Nt=!0,this.Dt=this.Dt.remove(t)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class yL{constructor(t){this.Gt=t,this.Qt=new Map,this.jt=ai(),this.zt=zx(),this.Wt=new Kt(wt)}Ht(t){for(const n of t.Pt)t.bt&&t.bt.isFoundDocument()?this.Jt(n,t.bt):this.Yt(n,t.key,t.bt);for(const n of t.removedTargetIds)this.Yt(n,t.key,t.bt)}Xt(t){this.forEachTarget(t,n=>{const g=this.Zt(n);switch(t.state){case 0:this.te(n)&&g.$t(t.resumeToken);break;case 1:g.Ut(),g.kt||g.Ft(),g.$t(t.resumeToken);break;case 2:g.Ut(),g.kt||this.removeTarget(n);break;case 3:this.te(n)&&(g.Kt(),g.$t(t.resumeToken));break;case 4:this.te(n)&&(this.ee(n),g.$t(t.resumeToken));break;default:gt()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.Qt.forEach((g,T)=>{this.te(T)&&n(T)})}ne(t){var n;const g=t.targetId,T=t.Vt.count,A=this.se(g);if(A){const h=A.target;if(Iu(h))if(T===0){const S=new dt(h.path);this.Yt(g,S,ie.newNoDocument(S,xt.min()))}else yt(T===1);else{const S=this.ie(g);if(S!==T){const e=this.re(t,S);if(e!==0){this.ee(g);const u=e===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(g,u)}(n=Fm.instance)===null||n===void 0||n.notifyOnExistenceFilterMismatch(function(u,y,f){var l,o,s,a,c,r;const d={localCacheCount:y,existenceFilterCount:f.count},v=f.unchangedNames;return v&&(d.bloomFilter={applied:u===0,hashCount:(l=v==null?void 0:v.hashCount)!==null&&l!==void 0?l:0,bitmapLength:(a=(s=(o=v==null?void 0:v.bits)===null||o===void 0?void 0:o.bitmap)===null||s===void 0?void 0:s.length)!==null&&a!==void 0?a:0,padding:(r=(c=v==null?void 0:v.bits)===null||c===void 0?void 0:c.padding)!==null&&r!==void 0?r:0}),d}(e,S,t.Vt))}}}}re(t,n){const{unchangedNames:g,count:T}=t.Vt;if(!g||!g.bits)return 1;const{bits:{bitmap:A="",padding:h=0},hashCount:S=0}=g;let e,u;try{e=ts(A).toUint8Array()}catch(y){if(y instanceof fE)return qn("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw y}try{u=new Dm(e,h,S)}catch(y){return qn(y instanceof ao?"BloomFilter error: ":"Applying bloom filter failed: ",y),1}return u.It===0?1:T!==n-this.oe(t.targetId,u)?2:0}oe(t,n){const g=this.Gt.getRemoteKeysForTarget(t);let T=0;return g.forEach(A=>{const h=this.Gt.ue(),S=`projects/${h.projectId}/databases/${h.database}/documents/${A.path.canonicalString()}`;n.vt(S)||(this.Yt(t,A,null),T++)}),T}ce(t){const n=new Map;this.Qt.forEach((A,h)=>{const S=this.se(h);if(S){if(A.current&&Iu(S.target)){const e=new dt(S.target.path);this.jt.get(e)!==null||this.ae(h,e)||this.Yt(h,e,ie.newNoDocument(e,t))}A.Mt&&(n.set(h,A.Ot()),A.Ft())}});let g=Pt();this.zt.forEach((A,h)=>{let S=!0;h.forEachWhile(e=>{const u=this.se(e);return!u||u.purpose==="TargetPurposeLimboResolution"||(S=!1,!1)}),S&&(g=g.add(A))}),this.jt.forEach((A,h)=>h.setReadTime(t));const T=new Gf(t,n,this.Wt,this.jt,g);return this.jt=ai(),this.zt=zx(),this.Wt=new Kt(wt),T}Jt(t,n){if(!this.te(t))return;const g=this.ae(t,n.key)?2:0;this.Zt(t).Bt(n.key,g),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(t))}Yt(t,n,g){if(!this.te(t))return;const T=this.Zt(t);this.ae(t,n)?T.Bt(n,1):T.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(t)),g&&(this.jt=this.jt.insert(n,g))}removeTarget(t){this.Qt.delete(t)}ie(t){const n=this.Zt(t).Ot();return this.Gt.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}qt(t){this.Zt(t).qt()}Zt(t){let n=this.Qt.get(t);return n||(n=new Vx,this.Qt.set(t,n)),n}he(t){let n=this.zt.get(t);return n||(n=new Ht(wt),this.zt=this.zt.insert(t,n)),n}te(t){const n=this.se(t)!==null;return n||ot("WatchChangeAggregator","Detected inactive target",t),n}se(t){const n=this.Qt.get(t);return n&&n.kt?null:this.Gt.le(t)}ee(t){this.Qt.set(t,new Vx),this.Gt.getRemoteKeysForTarget(t).forEach(n=>{this.Yt(t,n,null)})}ae(t,n){return this.Gt.getRemoteKeysForTarget(t).has(n)}}function zx(){return new Kt(dt.comparator)}function Xx(){return new Kt(dt.comparator)}const TL=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),SL=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),EL=(()=>({and:"AND",or:"OR"}))();class CL{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function wv(i,t){return i.useProto3Json||Lf(t)?t:{value:t}}function fa(i,t){return i.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function zE(i,t){return i.useProto3Json?t.toBase64():t.toUint8Array()}function wL(i,t){return fa(i,t.toTimestamp())}function ke(i){return yt(!!i),xt.fromTimestamp(function(t){const n=_n(t);return new Zt(n.seconds,n.nanos)}(i))}function Om(i,t){return function(n){return new Bt(["projects",n.projectId,"databases",n.database])}(i).child("documents").child(t).canonicalString()}function XE(i){const t=Bt.fromString(i);return yt(QE(t)),t}function Du(i,t){return Om(i.databaseId,t.path)}function Vs(i,t){const n=XE(t);if(n.get(1)!==i.databaseId.projectId)throw new ut(st.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new ut(st.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new dt(YE(n))}function Av(i,t){return Om(i.databaseId,t)}function WE(i){const t=XE(i);return t.length===4?Bt.emptyPath():YE(t)}function Pv(i){return new Bt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function YE(i){return yt(i.length>4&&i.get(4)==="documents"),i.popFirst(5)}function Wx(i,t,n){return{name:Du(i,t),fields:n.value.mapValue.fields}}function AL(i,t,n){const g=Vs(i,t.name),T=ke(t.updateTime),A=t.createTime?ke(t.createTime):xt.min(),h=new Be({mapValue:{fields:t.fields}}),S=ie.newFoundDocument(g,T,A,h);return n&&S.setHasCommittedMutations(),n?S.setHasCommittedMutations():S}function PL(i,t){let n;if("targetChange"in t){t.targetChange;const g=function(e){return e==="NO_CHANGE"?0:e==="ADD"?1:e==="REMOVE"?2:e==="CURRENT"?3:e==="RESET"?4:gt()}(t.targetChange.targetChangeType||"NO_CHANGE"),T=t.targetChange.targetIds||[],A=function(e,u){return e.useProto3Json?(yt(u===void 0||typeof u=="string"),Ie.fromBase64String(u||"")):(yt(u===void 0||u instanceof Uint8Array),Ie.fromUint8Array(u||new Uint8Array))}(i,t.targetChange.resumeToken),h=t.targetChange.cause,S=h&&function(e){const u=e.code===void 0?st.UNKNOWN:UE(e.code);return new ut(u,e.message||"")}(h);n=new VE(g,T,A,S||null)}else if("documentChange"in t){t.documentChange;const g=t.documentChange;g.document,g.document.name,g.document.updateTime;const T=Vs(i,g.document.name),A=ke(g.document.updateTime),h=g.document.createTime?ke(g.document.createTime):xt.min(),S=new Be({mapValue:{fields:g.document.fields}}),e=ie.newFoundDocument(T,A,h,S),u=g.targetIds||[],y=g.removedTargetIds||[];n=new Bh(u,y,e.key,e)}else if("documentDelete"in t){t.documentDelete;const g=t.documentDelete;g.document;const T=Vs(i,g.document),A=g.readTime?ke(g.readTime):xt.min(),h=ie.newNoDocument(T,A),S=g.removedTargetIds||[];n=new Bh([],S,h.key,h)}else if("documentRemove"in t){t.documentRemove;const g=t.documentRemove;g.document;const T=Vs(i,g.document),A=g.removedTargetIds||[];n=new Bh([],A,T,null)}else{if(!("filter"in t))return gt();{t.filter;const g=t.filter;g.targetId;const{count:T=0,unchangedNames:A}=g,h=new pL(T,A),S=g.targetId;n=new bE(S,h)}}return n}function Ou(i,t){let n;if(t instanceof La)n={update:Wx(i,t.key,t.value)};else if(t instanceof Rm)n={delete:Du(i,t.key)};else if(t instanceof yn)n={update:Wx(i,t.key,t.data),updateMask:DL(t.fieldMask)};else{if(!(t instanceof GE))return gt();n={verify:Du(i,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(g=>function(T,A){const h=A.transform;if(h instanceof la)return{fieldPath:A.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof qs)return{fieldPath:A.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof ha)return{fieldPath:A.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof ua)return{fieldPath:A.field.canonicalString(),increment:h.gt};throw gt()}(0,g))),t.precondition.isNone||(n.currentDocument=function(g,T){return T.updateTime!==void 0?{updateTime:wL(g,T.updateTime)}:T.exists!==void 0?{exists:T.exists}:gt()}(i,t.precondition)),n}function Rv(i,t){const n=t.currentDocument?function(T){return T.updateTime!==void 0?Ye.updateTime(ke(T.updateTime)):T.exists!==void 0?Ye.exists(T.exists):Ye.none()}(t.currentDocument):Ye.none(),g=t.updateTransforms?t.updateTransforms.map(T=>function(A,h){let S=null;if("setToServerValue"in h)yt(h.setToServerValue==="REQUEST_TIME"),S=new la;else if("appendMissingElements"in h){const u=h.appendMissingElements.values||[];S=new qs(u)}else if("removeAllFromArray"in h){const u=h.removeAllFromArray.values||[];S=new ha(u)}else"increment"in h?S=new ua(A,h.increment):gt();const e=ue.fromServerFormat(h.fieldPath);return new Nf(e,S)}(i,T)):[];if(t.update){t.update.name;const T=Vs(i,t.update.name),A=new Be({mapValue:{fields:t.update.fields}});if(t.updateMask){const h=function(S){const e=S.fieldPaths||[];return new _e(e.map(u=>ue.fromServerFormat(u)))}(t.updateMask);return new yn(T,A,h,n,g)}return new La(T,A,n,g)}if(t.delete){const T=Vs(i,t.delete);return new Rm(T,n)}if(t.verify){const T=Vs(i,t.verify);return new GE(T,n)}return gt()}function RL(i,t){return i&&i.length>0?(yt(t!==void 0),i.map(n=>function(g,T){let A=g.updateTime?ke(g.updateTime):ke(T);return A.isEqual(xt.min())&&(A=ke(T)),new dL(A,g.transformResults||[])}(n,t))):[]}function HE(i,t){return{documents:[Av(i,t.path)]}}function $E(i,t){const n={structuredQuery:{}},g=t.path;t.collectionGroup!==null?(n.parent=Av(i,g),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Av(i,g.popLast()),n.structuredQuery.from=[{collectionId:g.lastSegment()}]);const T=function(e){if(e.length!==0)return KE(Gt.create(e,"and"))}(t.filters);T&&(n.structuredQuery.where=T);const A=function(e){if(e.length!==0)return e.map(u=>function(y){return{field:yr(y.field),direction:IL(y.dir)}}(u))}(t.orderBy);A&&(n.structuredQuery.orderBy=A);const h=wv(i,t.limit);var S;return h!==null&&(n.structuredQuery.limit=h),t.startAt&&(n.structuredQuery.startAt={before:(S=t.startAt).inclusive,values:S.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function kE(i){let t=WE(i.parent);const n=i.structuredQuery,g=n.from?n.from.length:0;let T=null;if(g>0){yt(g===1);const y=n.from[0];y.allDescendants?T=y.collectionId:t=t.child(y.collectionId)}let A=[];n.where&&(A=function(y){const f=jE(y);return f instanceof Gt&&Am(f)?f.getFilters():[f]}(n.where));let h=[];n.orderBy&&(h=n.orderBy.map(y=>function(f){return new kr(Tr(f.field),function(l){switch(l){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(f.direction))}(y)));let S=null;n.limit&&(S=function(y){let f;return f=typeof y=="object"?y.value:y,Lf(f)?null:f}(n.limit));let e=null;n.startAt&&(e=function(y){const f=!!y.before,l=y.values||[];return new aa(l,f)}(n.startAt));let u=null;return n.endAt&&(u=function(y){const f=!y.before,l=y.values||[];return new aa(l,f)}(n.endAt)),eL(t,T,h,A,S,"F",e,u)}function ML(i,t){const n=function(g){switch(g){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return gt()}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function jE(i){return i.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const n=Tr(t.unaryFilter.field);return Lt.create(n,"==",{doubleValue:NaN});case"IS_NULL":const g=Tr(t.unaryFilter.field);return Lt.create(g,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const T=Tr(t.unaryFilter.field);return Lt.create(T,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const A=Tr(t.unaryFilter.field);return Lt.create(A,"!=",{nullValue:"NULL_VALUE"});default:return gt()}}(i):i.fieldFilter!==void 0?function(t){return Lt.create(Tr(t.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return gt()}}(t.fieldFilter.op),t.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(t){return Gt.create(t.compositeFilter.filters.map(n=>jE(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return gt()}}(t.compositeFilter.op))}(i):gt()}function IL(i){return TL[i]}function LL(i){return SL[i]}function FL(i){return EL[i]}function yr(i){return{fieldPath:i.canonicalString()}}function Tr(i){return ue.fromServerFormat(i.fieldPath)}function KE(i){return i instanceof Lt?function(t){if(t.op==="=="){if(Ax(t.value))return{unaryFilter:{field:yr(t.field),op:"IS_NAN"}};if(wx(t.value))return{unaryFilter:{field:yr(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Ax(t.value))return{unaryFilter:{field:yr(t.field),op:"IS_NOT_NAN"}};if(wx(t.value))return{unaryFilter:{field:yr(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:yr(t.field),op:LL(t.op),value:t.value}}}(i):i instanceof Gt?function(t){const n=t.getFilters().map(g=>KE(g));return n.length===1?n[0]:{compositeFilter:{op:FL(t.op),filters:n}}}(i):gt()}function DL(i){const t=[];return i.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function QE(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(t,n,g,T,A=xt.min(),h=xt.min(),S=Ie.EMPTY_BYTE_STRING,e=null){this.target=t,this.targetId=n,this.purpose=g,this.sequenceNumber=T,this.snapshotVersion=A,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=S,this.expectedCount=e}withSequenceNumber(t){return new hn(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new hn(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new hn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new hn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JE{constructor(t){this.fe=t}}function OL(i,t){let n;if(t.document)n=AL(i.fe,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const g=dt.fromSegments(t.noDocument.path),T=tr(t.noDocument.readTime);n=ie.newNoDocument(g,T),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return gt();{const g=dt.fromSegments(t.unknownDocument.path),T=tr(t.unknownDocument.version);n=ie.newUnknownDocument(g,T)}}return t.readTime&&n.setReadTime(function(g){const T=new Zt(g[0],g[1]);return xt.fromTimestamp(T)}(t.readTime)),n}function Yx(i,t){const n=t.key,g={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Nu(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())g.document=function(T,A){return{name:Du(T,A.key),fields:A.data.value.mapValue.fields,updateTime:fa(T,A.version.toTimestamp()),createTime:fa(T,A.createTime.toTimestamp())}}(i.fe,t);else if(t.isNoDocument())g.noDocument={path:n.path.toArray(),readTime:_s(t.version)};else{if(!t.isUnknownDocument())return gt();g.unknownDocument={path:n.path.toArray(),version:_s(t.version)}}return g}function Nu(i){const t=i.toTimestamp();return[t.seconds,t.nanoseconds]}function _s(i){const t=i.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function tr(i){const t=new Zt(i.seconds,i.nanoseconds);return xt.fromTimestamp(t)}function As(i,t){const n=(t.baseMutations||[]).map(A=>Rv(i.fe,A));for(let A=0;A<t.mutations.length-1;++A){const h=t.mutations[A];if(A+1<t.mutations.length&&t.mutations[A+1].transform!==void 0){const S=t.mutations[A+1];h.updateTransforms=S.transform.fieldTransforms,t.mutations.splice(A+1,1),++A}}const g=t.mutations.map(A=>Rv(i.fe,A)),T=Zt.fromMillis(t.localWriteTimeMs);return new Mm(t.batchId,T,n,g)}function oo(i){const t=tr(i.readTime),n=i.lastLimboFreeSnapshotVersion!==void 0?tr(i.lastLimboFreeSnapshotVersion):xt.min();let g;var T;return i.query.documents!==void 0?(yt((T=i.query).documents.length===1),g=Bi(Fl(WE(T.documents[0])))):g=function(A){return Bi(kE(A))}(i.query),new hn(g,i.targetId,"TargetPurposeListen",i.lastListenSequenceNumber,t,n,Ie.fromBase64String(i.resumeToken))}function ZE(i,t){const n=_s(t.snapshotVersion),g=_s(t.lastLimboFreeSnapshotVersion);let T;T=Iu(t.target)?HE(i.fe,t.target):$E(i.fe,t.target);const A=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Zs(t.target),readTime:n,resumeToken:A,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:g,query:T}}function qE(i){const t=kE({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Fu(t,t.limit,"L"):t}function Wd(i,t){return new Lm(t.largestBatchId,Rv(i.fe,t.overlayMutation))}function Hx(i,t){const n=t.path.lastSegment();return[i,$e(t.path.popLast()),n]}function $x(i,t,n,g){return{indexId:i,uid:t.uid||"",sequenceNumber:n,readTime:_s(g.readTime),documentKey:$e(g.documentKey.path),largestBatchId:g.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NL{getBundleMetadata(t,n){return kx(t).get(n).next(g=>{if(g)return{id:(T=g).bundleId,createTime:tr(T.createTime),version:T.version};var T})}saveBundleMetadata(t,n){return kx(t).put({bundleId:(g=n).id,createTime:_s(ke(g.createTime)),version:g.version});var g}getNamedQuery(t,n){return jx(t).get(n).next(g=>{if(g)return{name:(T=g).name,query:qE(T.bundledQuery),readTime:tr(T.readTime)};var T})}saveNamedQuery(t,n){return jx(t).put(function(g){return{name:g.name,readTime:_s(ke(g.readTime)),bundledQuery:g.bundledQuery}}(n))}}function kx(i){return Se(i,"bundles")}function jx(i){return Se(i,"namedQueries")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uf{constructor(t,n){this.serializer=t,this.userId=n}static de(t,n){const g=n.uid||"";return new Uf(t,g)}getOverlay(t,n){return Ha(t).get(Hx(this.userId,n)).next(g=>g?Wd(this.serializer,g):null)}getOverlays(t,n){const g=$i();return _.forEach(n,T=>this.getOverlay(t,T).next(A=>{A!==null&&g.set(T,A)})).next(()=>g)}saveOverlays(t,n,g){const T=[];return g.forEach((A,h)=>{const S=new Lm(n,h);T.push(this.we(t,S))}),_.waitFor(T)}removeOverlaysForBatchId(t,n,g){const T=new Set;n.forEach(h=>T.add($e(h.getCollectionPath())));const A=[];return T.forEach(h=>{const S=IDBKeyRange.bound([this.userId,h,g],[this.userId,h,g+1],!1,!0);A.push(Ha(t).J("collectionPathOverlayIndex",S))}),_.waitFor(A)}getOverlaysForCollection(t,n,g){const T=$i(),A=$e(n),h=IDBKeyRange.bound([this.userId,A,g],[this.userId,A,Number.POSITIVE_INFINITY],!0);return Ha(t).j("collectionPathOverlayIndex",h).next(S=>{for(const e of S){const u=Wd(this.serializer,e);T.set(u.getKey(),u)}return T})}getOverlaysForCollectionGroup(t,n,g,T){const A=$i();let h;const S=IDBKeyRange.bound([this.userId,n,g],[this.userId,n,Number.POSITIVE_INFINITY],!0);return Ha(t).X({index:"collectionGroupOverlayIndex",range:S},(e,u,y)=>{const f=Wd(this.serializer,u);A.size()<T||f.largestBatchId===h?(A.set(f.getKey(),f),h=f.largestBatchId):y.done()}).next(()=>A)}we(t,n){return Ha(t).put(function(g,T,A){const[h,S,e]=Hx(T,A.mutation.key);return{userId:T,collectionPath:S,documentId:e,collectionGroup:A.mutation.key.getCollectionGroup(),largestBatchId:A.largestBatchId,overlayMutation:Ou(g.fe,A.mutation)}}(this.serializer,this.userId,n))}}function Ha(i){return Se(i,"documentOverlays")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps{constructor(){}_e(t,n){this.me(t,n),n.ge()}me(t,n){if("nullValue"in t)this.ye(n,5);else if("booleanValue"in t)this.ye(n,10),n.pe(t.booleanValue?1:0);else if("integerValue"in t)this.ye(n,15),n.pe(ee(t.integerValue));else if("doubleValue"in t){const g=ee(t.doubleValue);isNaN(g)?this.ye(n,13):(this.ye(n,15),rl(g)?n.pe(0):n.pe(g))}else if("timestampValue"in t){const g=t.timestampValue;this.ye(n,20),typeof g=="string"?n.Ie(g):(n.Ie(`${g.seconds||""}`),n.pe(g.nanos||0))}else if("stringValue"in t)this.Te(t.stringValue,n),this.Ee(n);else if("bytesValue"in t)this.ye(n,30),n.Ae(ts(t.bytesValue)),this.Ee(n);else if("referenceValue"in t)this.ve(t.referenceValue,n);else if("geoPointValue"in t){const g=t.geoPointValue;this.ye(n,45),n.pe(g.latitude||0),n.pe(g.longitude||0)}else"mapValue"in t?dE(t)?this.ye(n,Number.MAX_SAFE_INTEGER):(this.Re(t.mapValue,n),this.Ee(n)):"arrayValue"in t?(this.Pe(t.arrayValue,n),this.Ee(n)):gt()}Te(t,n){this.ye(n,25),this.be(t,n)}be(t,n){n.Ie(t)}Re(t,n){const g=t.fields||{};this.ye(n,55);for(const T of Object.keys(g))this.Te(T,n),this.me(g[T],n)}Pe(t,n){const g=t.values||[];this.ye(n,50);for(const T of g)this.me(T,n)}ve(t,n){this.ye(n,37),dt.fromName(t).path.forEach(g=>{this.ye(n,60),this.be(g,n)})}ye(t,n){t.pe(n)}Ee(t){t.pe(2)}}Ps.Ve=new Ps;function BL(i){if(i===0)return 8;let t=0;return!(i>>4)&&(t+=4,i<<=4),!(i>>6)&&(t+=2,i<<=2),!(i>>7)&&(t+=1),t}function Kx(i){const t=64-function(n){let g=0;for(let T=0;T<8;++T){const A=BL(255&n[T]);if(g+=A,A!==8)break}return g}(i);return Math.ceil(t/8)}class GL{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(t){const n=t[Symbol.iterator]();let g=n.next();for(;!g.done;)this.De(g.value),g=n.next();this.Ce()}xe(t){const n=t[Symbol.iterator]();let g=n.next();for(;!g.done;)this.Ne(g.value),g=n.next();this.ke()}Me(t){for(const n of t){const g=n.charCodeAt(0);if(g<128)this.De(g);else if(g<2048)this.De(960|g>>>6),this.De(128|63&g);else if(n<"\uD800"||"\uDBFF"<n)this.De(480|g>>>12),this.De(128|63&g>>>6),this.De(128|63&g);else{const T=n.codePointAt(0);this.De(240|T>>>18),this.De(128|63&T>>>12),this.De(128|63&T>>>6),this.De(128|63&T)}}this.Ce()}$e(t){for(const n of t){const g=n.charCodeAt(0);if(g<128)this.Ne(g);else if(g<2048)this.Ne(960|g>>>6),this.Ne(128|63&g);else if(n<"\uD800"||"\uDBFF"<n)this.Ne(480|g>>>12),this.Ne(128|63&g>>>6),this.Ne(128|63&g);else{const T=n.codePointAt(0);this.Ne(240|T>>>18),this.Ne(128|63&T>>>12),this.Ne(128|63&T>>>6),this.Ne(128|63&T)}}this.ke()}Oe(t){const n=this.Fe(t),g=Kx(n);this.Be(1+g),this.buffer[this.position++]=255&g;for(let T=n.length-g;T<n.length;++T)this.buffer[this.position++]=255&n[T]}Le(t){const n=this.Fe(t),g=Kx(n);this.Be(1+g),this.buffer[this.position++]=~(255&g);for(let T=n.length-g;T<n.length;++T)this.buffer[this.position++]=~(255&n[T])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(t){this.Be(t.length),this.buffer.set(t,this.position),this.position+=t.length}Qe(){return this.buffer.slice(0,this.position)}Fe(t){const n=function(T){const A=new DataView(new ArrayBuffer(8));return A.setFloat64(0,T,!1),new Uint8Array(A.buffer)}(t),g=(128&n[0])!=0;n[0]^=g?255:128;for(let T=1;T<n.length;++T)n[T]^=g?255:0;return n}De(t){const n=255&t;n===0?(this.Ue(0),this.Ue(255)):n===255?(this.Ue(255),this.Ue(0)):this.Ue(n)}Ne(t){const n=255&t;n===0?(this.Ge(0),this.Ge(255)):n===255?(this.Ge(255),this.Ge(0)):this.Ge(t)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(t){this.Be(1),this.buffer[this.position++]=t}Ge(t){this.Be(1),this.buffer[this.position++]=~t}Be(t){const n=t+this.position;if(n<=this.buffer.length)return;let g=2*this.buffer.length;g<n&&(g=n);const T=new Uint8Array(g);T.set(this.buffer),this.buffer=T}}class UL{constructor(t){this.je=t}Ae(t){this.je.Se(t)}Ie(t){this.je.Me(t)}pe(t){this.je.Oe(t)}ge(){this.je.qe()}}class bL{constructor(t){this.je=t}Ae(t){this.je.xe(t)}Ie(t){this.je.$e(t)}pe(t){this.je.Le(t)}ge(){this.je.Ke()}}class $a{constructor(){this.je=new GL,this.ze=new UL(this.je),this.We=new bL(this.je)}seed(t){this.je.seed(t)}He(t){return t===0?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(t,n,g,T){this.indexId=t,this.documentKey=n,this.arrayValue=g,this.directionalValue=T}Je(){const t=this.directionalValue.length,n=t===0||this.directionalValue[t-1]===255?t+1:t,g=new Uint8Array(n);return g.set(this.directionalValue,0),n!==t?g.set([0],this.directionalValue.length):++g[g.length-1],new Rs(this.indexId,this.documentKey,this.arrayValue,g)}}function Cn(i,t){let n=i.indexId-t.indexId;return n!==0?n:(n=Qx(i.arrayValue,t.arrayValue),n!==0?n:(n=Qx(i.directionalValue,t.directionalValue),n!==0?n:dt.comparator(i.documentKey,t.documentKey)))}function Qx(i,t){for(let n=0;n<i.length&&n<t.length;++n){const g=i[n]-t[n];if(g!==0)return g}return i.length-t.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VL{constructor(t){this.collectionId=t.collectionGroup!=null?t.collectionGroup:t.path.lastSegment(),this.Ye=t.orderBy,this.Xe=[];for(const n of t.filters){const g=n;g.isInequality()?this.Ze=g:this.Xe.push(g)}}tn(t){yt(t.collectionGroup===this.collectionId);const n=pv(t);if(n!==void 0&&!this.en(n))return!1;const g=Cs(t);let T=new Set,A=0,h=0;for(;A<g.length&&this.en(g[A]);++A)T=T.add(g[A].fieldPath.canonicalString());if(A===g.length)return!0;if(this.Ze!==void 0){if(!T.has(this.Ze.field.canonicalString())){const S=g[A];if(!this.nn(this.Ze,S)||!this.sn(this.Ye[h++],S))return!1}++A}for(;A<g.length;++A){const S=g[A];if(h>=this.Ye.length||!this.sn(this.Ye[h++],S))return!1}return!0}en(t){for(const n of this.Xe)if(this.nn(n,t))return!0;return!1}nn(t,n){if(t===void 0||!t.field.isEqual(n.fieldPath))return!1;const g=t.op==="array-contains"||t.op==="array-contains-any";return n.kind===2===g}sn(t,n){return!!t.field.isEqual(n.fieldPath)&&(n.kind===0&&t.dir==="asc"||n.kind===1&&t.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _E(i){var t,n;if(yt(i instanceof Lt||i instanceof Gt),i instanceof Lt){if(i instanceof TE){const T=((n=(t=i.value.arrayValue)===null||t===void 0?void 0:t.values)===null||n===void 0?void 0:n.map(A=>Lt.create(i.field,"==",A)))||[];return Gt.create(T,"or")}return i}const g=i.filters.map(T=>_E(T));return Gt.create(g,i.op)}function zL(i){if(i.getFilters().length===0)return[];const t=Lv(_E(i));return yt(tC(t)),Mv(t)||Iv(t)?[t]:t.getFilters()}function Mv(i){return i instanceof Lt}function Iv(i){return i instanceof Gt&&Am(i)}function tC(i){return Mv(i)||Iv(i)||function(t){if(t instanceof Gt&&yv(t)){for(const n of t.getFilters())if(!Mv(n)&&!Iv(n))return!1;return!0}return!1}(i)}function Lv(i){if(yt(i instanceof Lt||i instanceof Gt),i instanceof Lt)return i;if(i.filters.length===1)return Lv(i.filters[0]);const t=i.filters.map(g=>Lv(g));let n=Gt.create(t,i.op);return n=Bu(n),tC(n)?n:(yt(n instanceof Gt),yt(oa(n)),yt(n.filters.length>1),n.filters.reduce((g,T)=>Nm(g,T)))}function Nm(i,t){let n;return yt(i instanceof Lt||i instanceof Gt),yt(t instanceof Lt||t instanceof Gt),n=i instanceof Lt?t instanceof Lt?function(g,T){return Gt.create([g,T],"and")}(i,t):Jx(i,t):t instanceof Lt?Jx(t,i):function(g,T){if(yt(g.filters.length>0&&T.filters.length>0),oa(g)&&oa(T))return gE(g,T.getFilters());const A=yv(g)?g:T,h=yv(g)?T:g,S=A.filters.map(e=>Nm(e,h));return Gt.create(S,"or")}(i,t),Bu(n)}function Jx(i,t){if(oa(t))return gE(t,i.getFilters());{const n=t.filters.map(g=>Nm(i,g));return Gt.create(n,"or")}}function Bu(i){if(yt(i instanceof Lt||i instanceof Gt),i instanceof Lt)return i;const t=i.getFilters();if(t.length===1)return Bu(t[0]);if(pE(i))return i;const n=t.map(T=>Bu(T)),g=[];return n.forEach(T=>{T instanceof Lt?g.push(T):T instanceof Gt&&(T.op===i.op?g.push(...T.filters):g.push(T))}),g.length===1?g[0]:Gt.create(g,i.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XL{constructor(){this.rn=new Bm}addToCollectionParentIndex(t,n){return this.rn.add(n),_.resolve()}getCollectionParents(t,n){return _.resolve(this.rn.getEntries(n))}addFieldIndex(t,n){return _.resolve()}deleteFieldIndex(t,n){return _.resolve()}getDocumentsMatchingTarget(t,n){return _.resolve(null)}getIndexType(t,n){return _.resolve(0)}getFieldIndexes(t,n){return _.resolve([])}getNextCollectionGroupToUpdate(t){return _.resolve(null)}getMinOffset(t,n){return _.resolve(fi.min())}getMinOffsetFromCollectionGroup(t,n){return _.resolve(fi.min())}updateCollectionGroup(t,n,g){return _.resolve()}updateIndexEntries(t,n){return _.resolve()}}class Bm{constructor(){this.index={}}add(t){const n=t.lastSegment(),g=t.popLast(),T=this.index[n]||new Ht(Bt.comparator),A=!T.has(g);return this.index[n]=T.add(g),A}has(t){const n=t.lastSegment(),g=t.popLast(),T=this.index[n];return T&&T.has(g)}getEntries(t){return(this.index[t]||new Ht(Bt.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uh=new Uint8Array(0);class WL{constructor(t,n){this.user=t,this.databaseId=n,this.on=new Bm,this.un=new fs(g=>Zs(g),(g,T)=>Ll(g,T)),this.uid=t.uid||""}addToCollectionParentIndex(t,n){if(!this.on.has(n)){const g=n.lastSegment(),T=n.popLast();t.addOnCommittedListener(()=>{this.on.add(n)});const A={collectionId:g,parent:$e(T)};return Zx(t).put(A)}return _.resolve()}getCollectionParents(t,n){const g=[],T=IDBKeyRange.bound([n,""],[eE(n),""],!1,!0);return Zx(t).j(T).next(A=>{for(const h of A){if(h.collectionId!==n)break;g.push(Hi(h.parent))}return g})}addFieldIndex(t,n){const g=fh(t),T=function(h){return{indexId:h.indexId,collectionGroup:h.collectionGroup,fields:h.fields.map(S=>[S.fieldPath.canonicalString(),S.kind])}}(n);delete T.indexId;const A=g.add(T);if(n.indexState){const h=ja(t);return A.next(S=>{h.put($x(S,this.user,n.indexState.sequenceNumber,n.indexState.offset))})}return A.next()}deleteFieldIndex(t,n){const g=fh(t),T=ja(t),A=ka(t);return g.delete(n.indexId).next(()=>T.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>A.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}getDocumentsMatchingTarget(t,n){const g=ka(t);let T=!0;const A=new Map;return _.forEach(this.cn(n),h=>this.an(t,h).next(S=>{T&&(T=!!S),A.set(h,S)})).next(()=>{if(T){let h=Pt();const S=[];return _.forEach(A,(e,u)=>{var y;ot("IndexedDbIndexManager",`Using index ${y=e,`id=${y.indexId}|cg=${y.collectionGroup}|f=${y.fields.map(v=>`${v.fieldPath}:${v.kind}`).join(",")}`} to execute ${Zs(n)}`);const f=function(v,p){const m=pv(p);if(m===void 0)return null;for(const x of Lu(v,m.fieldPath))switch(x.op){case"array-contains-any":return x.value.arrayValue.values||[];case"array-contains":return[x.value]}return null}(u,e),l=function(v,p){const m=new Map;for(const x of Cs(p))for(const E of Lu(v,x.fieldPath))switch(E.op){case"==":case"in":m.set(x.fieldPath.canonicalString(),E.value);break;case"not-in":case"!=":return m.set(x.fieldPath.canonicalString(),E.value),Array.from(m.values())}return null}(u,e),o=function(v,p){const m=[];let x=!0;for(const E of Cs(p)){const w=E.kind===0?Lx(v,E.fieldPath,v.startAt):Fx(v,E.fieldPath,v.startAt);m.push(w.value),x&&(x=w.inclusive)}return new aa(m,x)}(u,e),s=function(v,p){const m=[];let x=!0;for(const E of Cs(p)){const w=E.kind===0?Fx(v,E.fieldPath,v.endAt):Lx(v,E.fieldPath,v.endAt);m.push(w.value),x&&(x=w.inclusive)}return new aa(m,x)}(u,e),a=this.hn(e,u,o),c=this.hn(e,u,s),r=this.ln(e,u,l),d=this.fn(e.indexId,f,a,o.inclusive,c,s.inclusive,r);return _.forEach(d,v=>g.H(v,n.limit).next(p=>{p.forEach(m=>{const x=dt.fromSegments(m.documentKey);h.has(x)||(h=h.add(x),S.push(x))})}))}).next(()=>S)}return _.resolve(null)})}cn(t){let n=this.un.get(t);return n||(t.filters.length===0?n=[t]:n=zL(Gt.create(t.filters,"and")).map(g=>Sv(t.path,t.collectionGroup,t.orderBy,g.getFilters(),t.limit,t.startAt,t.endAt)),this.un.set(t,n),n)}fn(t,n,g,T,A,h,S){const e=(n!=null?n.length:1)*Math.max(g.length,A.length),u=e/(n!=null?n.length:1),y=[];for(let f=0;f<e;++f){const l=n?this.dn(n[f/u]):uh,o=this.wn(t,l,g[f%u],T),s=this._n(t,l,A[f%u],h),a=S.map(c=>this.wn(t,l,c,!0));y.push(...this.createRange(o,s,a))}return y}wn(t,n,g,T){const A=new Rs(t,dt.empty(),n,g);return T?A:A.Je()}_n(t,n,g,T){const A=new Rs(t,dt.empty(),n,g);return T?A.Je():A}an(t,n){const g=new VL(n),T=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(t,T).next(A=>{let h=null;for(const S of A)g.tn(S)&&(!h||S.fields.length>h.fields.length)&&(h=S);return h})}getIndexType(t,n){let g=2;const T=this.cn(n);return _.forEach(T,A=>this.an(t,A).next(h=>{h?g!==0&&h.fields.length<function(S){let e=new Ht(ue.comparator),u=!1;for(const y of S.filters)for(const f of y.getFlattenedFilters())f.field.isKeyField()||(f.op==="array-contains"||f.op==="array-contains-any"?u=!0:e=e.add(f.field));for(const y of S.orderBy)y.field.isKeyField()||(e=e.add(y.field));return e.size+(u?1:0)}(A)&&(g=1):g=0})).next(()=>function(A){return A.limit!==null}(n)&&T.length>1&&g===2?1:g)}mn(t,n){const g=new $a;for(const T of Cs(t)){const A=n.data.field(T.fieldPath);if(A==null)return null;const h=g.He(T.kind);Ps.Ve._e(A,h)}return g.Qe()}dn(t){const n=new $a;return Ps.Ve._e(t,n.He(0)),n.Qe()}gn(t,n){const g=new $a;return Ps.Ve._e(ll(this.databaseId,n),g.He(function(T){const A=Cs(T);return A.length===0?0:A[A.length-1].kind}(t))),g.Qe()}ln(t,n,g){if(g===null)return[];let T=[];T.push(new $a);let A=0;for(const h of Cs(t)){const S=g[A++];for(const e of T)if(this.yn(n,h.fieldPath)&&hl(S))T=this.pn(T,h,S);else{const u=e.He(h.kind);Ps.Ve._e(S,u)}}return this.In(T)}hn(t,n,g){return this.ln(t,n,g.position)}In(t){const n=[];for(let g=0;g<t.length;++g)n[g]=t[g].Qe();return n}pn(t,n,g){const T=[...t],A=[];for(const h of g.arrayValue.values||[])for(const S of T){const e=new $a;e.seed(S.Qe()),Ps.Ve._e(h,e.He(n.kind)),A.push(e)}return A}yn(t,n){return!!t.filters.find(g=>g instanceof Lt&&g.field.isEqual(n)&&(g.op==="in"||g.op==="not-in"))}getFieldIndexes(t,n){const g=fh(t),T=ja(t);return(n?g.j("collectionGroupIndex",IDBKeyRange.bound(n,n)):g.j()).next(A=>{const h=[];return _.forEach(A,S=>T.get([S.indexId,this.uid]).next(e=>{h.push(function(u,y){const f=y?new Mu(y.sequenceNumber,new fi(tr(y.readTime),new dt(Hi(y.documentKey)),y.largestBatchId)):Mu.empty(),l=u.fields.map(([o,s])=>new x5(ue.fromServerFormat(o),s));return new iE(u.indexId,u.collectionGroup,l,f)}(S,e))})).next(()=>h)})}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next(n=>n.length===0?null:(n.sort((g,T)=>{const A=g.indexState.sequenceNumber-T.indexState.sequenceNumber;return A!==0?A:wt(g.collectionGroup,T.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(t,n,g){const T=fh(t),A=ja(t);return this.Tn(t).next(h=>T.j("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(S=>_.forEach(S,e=>A.put($x(e.indexId,this.user,h,g)))))}updateIndexEntries(t,n){const g=new Map;return _.forEach(n,(T,A)=>{const h=g.get(T.collectionGroup);return(h?_.resolve(h):this.getFieldIndexes(t,T.collectionGroup)).next(S=>(g.set(T.collectionGroup,S),_.forEach(S,e=>this.En(t,T,e).next(u=>{const y=this.An(A,e);return u.isEqual(y)?_.resolve():this.vn(t,A,e,u,y)}))))})}Rn(t,n,g,T){return ka(t).put({indexId:T.indexId,uid:this.uid,arrayValue:T.arrayValue,directionalValue:T.directionalValue,orderedDocumentKey:this.gn(g,n.key),documentKey:n.key.path.toArray()})}Pn(t,n,g,T){return ka(t).delete([T.indexId,this.uid,T.arrayValue,T.directionalValue,this.gn(g,n.key),n.key.path.toArray()])}En(t,n,g){const T=ka(t);let A=new Ht(Cn);return T.X({index:"documentKeyIndex",range:IDBKeyRange.only([g.indexId,this.uid,this.gn(g,n)])},(h,S)=>{A=A.add(new Rs(g.indexId,n,S.arrayValue,S.directionalValue))}).next(()=>A)}An(t,n){let g=new Ht(Cn);const T=this.mn(n,t);if(T==null)return g;const A=pv(n);if(A!=null){const h=t.data.field(A.fieldPath);if(hl(h))for(const S of h.arrayValue.values||[])g=g.add(new Rs(n.indexId,t.key,this.dn(S),T))}else g=g.add(new Rs(n.indexId,t.key,uh,T));return g}vn(t,n,g,T,A){ot("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const h=[];return function(S,e,u,y,f){const l=S.getIterator(),o=e.getIterator();let s=gr(l),a=gr(o);for(;s||a;){let c=!1,r=!1;if(s&&a){const d=u(s,a);d<0?r=!0:d>0&&(c=!0)}else s!=null?r=!0:c=!0;c?(y(a),a=gr(o)):r?(f(s),s=gr(l)):(s=gr(l),a=gr(o))}}(T,A,Cn,S=>{h.push(this.Rn(t,n,g,S))},S=>{h.push(this.Pn(t,n,g,S))}),_.waitFor(h)}Tn(t){let n=1;return ja(t).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(g,T,A)=>{A.done(),n=T.sequenceNumber+1}).next(()=>n)}createRange(t,n,g){g=g.sort((h,S)=>Cn(h,S)).filter((h,S,e)=>!S||Cn(h,e[S-1])!==0);const T=[];T.push(t);for(const h of g){const S=Cn(h,t),e=Cn(h,n);if(S===0)T[0]=t.Je();else if(S>0&&e<0)T.push(h),T.push(h.Je());else if(e>0)break}T.push(n);const A=[];for(let h=0;h<T.length;h+=2){if(this.bn(T[h],T[h+1]))return[];const S=[T[h].indexId,this.uid,T[h].arrayValue,T[h].directionalValue,uh,[]],e=[T[h+1].indexId,this.uid,T[h+1].arrayValue,T[h+1].directionalValue,uh,[]];A.push(IDBKeyRange.bound(S,e))}return A}bn(t,n){return Cn(t,n)>0}getMinOffsetFromCollectionGroup(t,n){return this.getFieldIndexes(t,n).next(qx)}getMinOffset(t,n){return _.mapArray(this.cn(n),g=>this.an(t,g).next(T=>T||gt())).next(qx)}}function Zx(i){return Se(i,"collectionParents")}function ka(i){return Se(i,"indexEntries")}function fh(i){return Se(i,"indexConfiguration")}function ja(i){return Se(i,"indexState")}function qx(i){yt(i.length!==0);let t=i[0].indexState.offset,n=t.largestBatchId;for(let g=1;g<i.length;g++){const T=i[g].indexState.offset;Sm(T,t)<0&&(t=T),n<T.largestBatchId&&(n=T.largestBatchId)}return new fi(t.readTime,t.documentKey,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _x={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Qe{constructor(t,n,g){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=g}static withCacheSize(t){return new Qe(t,Qe.DEFAULT_COLLECTION_PERCENTILE,Qe.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eC(i,t,n){const g=i.store("mutations"),T=i.store("documentMutations"),A=[],h=IDBKeyRange.only(n.batchId);let S=0;const e=g.X({range:h},(y,f,l)=>(S++,l.delete()));A.push(e.next(()=>{yt(S===1)}));const u=[];for(const y of n.mutations){const f=aE(t,y.key.path,n.batchId);A.push(T.delete(f)),u.push(y.key)}return _.waitFor(A).next(()=>u)}function Gu(i){if(!i)return 0;let t;if(i.document)t=i.document;else if(i.unknownDocument)t=i.unknownDocument;else{if(!i.noDocument)throw gt();t=i.noDocument}return JSON.stringify(t).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Qe.DEFAULT_COLLECTION_PERCENTILE=10,Qe.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Qe.DEFAULT=new Qe(41943040,Qe.DEFAULT_COLLECTION_PERCENTILE,Qe.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Qe.DISABLED=new Qe(-1,0,0);class bf{constructor(t,n,g,T){this.userId=t,this.serializer=n,this.indexManager=g,this.referenceDelegate=T,this.Vn={}}static de(t,n,g,T){yt(t.uid!=="");const A=t.isAuthenticated()?t.uid:"";return new bf(A,n,g,T)}checkEmpty(t){let n=!0;const g=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return wn(t).X({index:"userMutationsIndex",range:g},(T,A,h)=>{n=!1,h.done()}).next(()=>n)}addMutationBatch(t,n,g,T){const A=Sr(t),h=wn(t);return h.add({}).next(S=>{yt(typeof S=="number");const e=new Mm(S,n,g,T),u=function(l,o,s){const a=s.baseMutations.map(r=>Ou(l.fe,r)),c=s.mutations.map(r=>Ou(l.fe,r));return{userId:o,batchId:s.batchId,localWriteTimeMs:s.localWriteTime.toMillis(),baseMutations:a,mutations:c}}(this.serializer,this.userId,e),y=[];let f=new Ht((l,o)=>wt(l.canonicalString(),o.canonicalString()));for(const l of T){const o=aE(this.userId,l.key.path,S);f=f.add(l.key.path.popLast()),y.push(h.put(u)),y.push(A.put(o,P5))}return f.forEach(l=>{y.push(this.indexManager.addToCollectionParentIndex(t,l))}),t.addOnCommittedListener(()=>{this.Vn[S]=e.keys()}),_.waitFor(y).next(()=>e)})}lookupMutationBatch(t,n){return wn(t).get(n).next(g=>g?(yt(g.userId===this.userId),As(this.serializer,g)):null)}Sn(t,n){return this.Vn[n]?_.resolve(this.Vn[n]):this.lookupMutationBatch(t,n).next(g=>{if(g){const T=g.keys();return this.Vn[n]=T,T}return null})}getNextMutationBatchAfterBatchId(t,n){const g=n+1,T=IDBKeyRange.lowerBound([this.userId,g]);let A=null;return wn(t).X({index:"userMutationsIndex",range:T},(h,S,e)=>{S.userId===this.userId&&(yt(S.batchId>=g),A=As(this.serializer,S)),e.done()}).next(()=>A)}getHighestUnacknowledgedBatchId(t){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let g=-1;return wn(t).X({index:"userMutationsIndex",range:n,reverse:!0},(T,A,h)=>{g=A.batchId,h.done()}).next(()=>g)}getAllMutationBatches(t){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return wn(t).j("userMutationsIndex",n).next(g=>g.map(T=>As(this.serializer,T)))}getAllMutationBatchesAffectingDocumentKey(t,n){const g=Fh(this.userId,n.path),T=IDBKeyRange.lowerBound(g),A=[];return Sr(t).X({range:T},(h,S,e)=>{const[u,y,f]=h,l=Hi(y);if(u===this.userId&&n.path.isEqual(l))return wn(t).get(f).next(o=>{if(!o)throw gt();yt(o.userId===this.userId),A.push(As(this.serializer,o))});e.done()}).next(()=>A)}getAllMutationBatchesAffectingDocumentKeys(t,n){let g=new Ht(wt);const T=[];return n.forEach(A=>{const h=Fh(this.userId,A.path),S=IDBKeyRange.lowerBound(h),e=Sr(t).X({range:S},(u,y,f)=>{const[l,o,s]=u,a=Hi(o);l===this.userId&&A.path.isEqual(a)?g=g.add(s):f.done()});T.push(e)}),_.waitFor(T).next(()=>this.Dn(t,g))}getAllMutationBatchesAffectingQuery(t,n){const g=n.path,T=g.length+1,A=Fh(this.userId,g),h=IDBKeyRange.lowerBound(A);let S=new Ht(wt);return Sr(t).X({range:h},(e,u,y)=>{const[f,l,o]=e,s=Hi(l);f===this.userId&&g.isPrefixOf(s)?s.length===T&&(S=S.add(o)):y.done()}).next(()=>this.Dn(t,S))}Dn(t,n){const g=[],T=[];return n.forEach(A=>{T.push(wn(t).get(A).next(h=>{if(h===null)throw gt();yt(h.userId===this.userId),g.push(As(this.serializer,h))}))}),_.waitFor(T).next(()=>g)}removeMutationBatch(t,n){return eC(t.ht,this.userId,n).next(g=>(t.addOnCommittedListener(()=>{this.Cn(n.batchId)}),_.forEach(g,T=>this.referenceDelegate.markPotentiallyOrphaned(t,T))))}Cn(t){delete this.Vn[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(n=>{if(!n)return _.resolve();const g=IDBKeyRange.lowerBound([this.userId]),T=[];return Sr(t).X({range:g},(A,h,S)=>{if(A[0]===this.userId){const e=Hi(A[1]);T.push(e)}else S.done()}).next(()=>{yt(T.length===0)})})}containsKey(t,n){return iC(t,this.userId,n)}xn(t){return nC(t).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function iC(i,t,n){const g=Fh(t,n.path),T=g[1],A=IDBKeyRange.lowerBound(g);let h=!1;return Sr(i).X({range:A,Y:!0},(S,e,u)=>{const[y,f,l]=S;y===t&&f===T&&(h=!0),u.done()}).next(()=>h)}function wn(i){return Se(i,"mutations")}function Sr(i){return Se(i,"documentMutations")}function nC(i){return Se(i,"mutationQueues")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{constructor(t){this.Nn=t}next(){return this.Nn+=2,this.Nn}static kn(){return new er(0)}static Mn(){return new er(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YL{constructor(t,n){this.referenceDelegate=t,this.serializer=n}allocateTargetId(t){return this.$n(t).next(n=>{const g=new er(n.highestTargetId);return n.highestTargetId=g.next(),this.On(t,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.$n(t).next(n=>xt.fromTimestamp(new Zt(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.$n(t).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(t,n,g){return this.$n(t).next(T=>(T.highestListenSequenceNumber=n,g&&(T.lastRemoteSnapshotVersion=g.toTimestamp()),n>T.highestListenSequenceNumber&&(T.highestListenSequenceNumber=n),this.On(t,T)))}addTargetData(t,n){return this.Fn(t,n).next(()=>this.$n(t).next(g=>(g.targetCount+=1,this.Bn(n,g),this.On(t,g))))}updateTargetData(t,n){return this.Fn(t,n)}removeTargetData(t,n){return this.removeMatchingKeysForTargetId(t,n.targetId).next(()=>xr(t).delete(n.targetId)).next(()=>this.$n(t)).next(g=>(yt(g.targetCount>0),g.targetCount-=1,this.On(t,g)))}removeTargets(t,n,g){let T=0;const A=[];return xr(t).X((h,S)=>{const e=oo(S);e.sequenceNumber<=n&&g.get(e.targetId)===null&&(T++,A.push(this.removeTargetData(t,e)))}).next(()=>_.waitFor(A)).next(()=>T)}forEachTarget(t,n){return xr(t).X((g,T)=>{const A=oo(T);n(A)})}$n(t){return ty(t).get("targetGlobalKey").next(n=>(yt(n!==null),n))}On(t,n){return ty(t).put("targetGlobalKey",n)}Fn(t,n){return xr(t).put(ZE(this.serializer,n))}Bn(t,n){let g=!1;return t.targetId>n.highestTargetId&&(n.highestTargetId=t.targetId,g=!0),t.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=t.sequenceNumber,g=!0),g}getTargetCount(t){return this.$n(t).next(n=>n.targetCount)}getTargetData(t,n){const g=Zs(n),T=IDBKeyRange.bound([g,Number.NEGATIVE_INFINITY],[g,Number.POSITIVE_INFINITY]);let A=null;return xr(t).X({range:T,index:"queryTargetsIndex"},(h,S,e)=>{const u=oo(S);Ll(n,u.target)&&(A=u,e.done())}).next(()=>A)}addMatchingKeys(t,n,g){const T=[],A=Dn(t);return n.forEach(h=>{const S=$e(h.path);T.push(A.put({targetId:g,path:S})),T.push(this.referenceDelegate.addReference(t,g,h))}),_.waitFor(T)}removeMatchingKeys(t,n,g){const T=Dn(t);return _.forEach(n,A=>{const h=$e(A.path);return _.waitFor([T.delete([g,h]),this.referenceDelegate.removeReference(t,g,A)])})}removeMatchingKeysForTargetId(t,n){const g=Dn(t),T=IDBKeyRange.bound([n],[n+1],!1,!0);return g.delete(T)}getMatchingKeysForTargetId(t,n){const g=IDBKeyRange.bound([n],[n+1],!1,!0),T=Dn(t);let A=Pt();return T.X({range:g,Y:!0},(h,S,e)=>{const u=Hi(h[1]),y=new dt(u);A=A.add(y)}).next(()=>A)}containsKey(t,n){const g=$e(n.path),T=IDBKeyRange.bound([g],[eE(g)],!1,!0);let A=0;return Dn(t).X({index:"documentTargetsIndex",Y:!0,range:T},([h,S],e,u)=>{h!==0&&(A++,u.done())}).next(()=>A>0)}le(t,n){return xr(t).get(n).next(g=>g?oo(g):null)}}function xr(i){return Se(i,"targets")}function ty(i){return Se(i,"targetGlobal")}function Dn(i){return Se(i,"targetDocuments")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ey([i,t],[n,g]){const T=wt(i,n);return T===0?wt(t,g):T}class HL{constructor(t){this.Ln=t,this.buffer=new Ht(ey),this.qn=0}Un(){return++this.qn}Kn(t){const n=[t,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(n);else{const g=this.buffer.last();ey(n,g)<0&&(this.buffer=this.buffer.delete(g).add(n))}}get maxValue(){return this.buffer.last()[0]}}class $L{constructor(t,n,g){this.garbageCollector=t,this.asyncQueue=n,this.localStore=g,this.Gn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return this.Gn!==null}Qn(t){ot("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Gn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){us(n)?ot("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await fr(n)}await this.Qn(3e5)})}}class kL{constructor(t,n){this.jn=t,this.params=n}calculateTargetCount(t,n){return this.jn.zn(t).next(g=>Math.floor(n/100*g))}nthSequenceNumber(t,n){if(n===0)return _.resolve(yi.ct);const g=new HL(n);return this.jn.forEachTarget(t,T=>g.Kn(T.sequenceNumber)).next(()=>this.jn.Wn(t,T=>g.Kn(T))).next(()=>g.maxValue)}removeTargets(t,n,g){return this.jn.removeTargets(t,n,g)}removeOrphanedDocuments(t,n){return this.jn.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(ot("LruGarbageCollector","Garbage collection skipped; disabled"),_.resolve(_x)):this.getCacheSize(t).next(g=>g<this.params.cacheSizeCollectionThreshold?(ot("LruGarbageCollector",`Garbage collection skipped; Cache size ${g} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),_x):this.Hn(t,n))}getCacheSize(t){return this.jn.getCacheSize(t)}Hn(t,n){let g,T,A,h,S,e,u;const y=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(ot("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),T=this.params.maximumSequenceNumbersToCollect):T=f,h=Date.now(),this.nthSequenceNumber(t,T))).next(f=>(g=f,S=Date.now(),this.removeTargets(t,g,n))).next(f=>(A=f,e=Date.now(),this.removeOrphanedDocuments(t,g))).next(f=>(u=Date.now(),vv()<=Dt.DEBUG&&ot("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-y}ms
	Determined least recently used ${T} in `+(S-h)+`ms
	Removed ${A} targets in `+(e-S)+`ms
	Removed ${f} documents in `+(u-e)+`ms
Total Duration: ${u-y}ms`),_.resolve({didRun:!0,sequenceNumbersCollected:T,targetsRemoved:A,documentsRemoved:f})))}}function jL(i,t){return new kL(i,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KL{constructor(t,n){this.db=t,this.garbageCollector=jL(this,n)}zn(t){const n=this.Jn(t);return this.db.getTargetCache().getTargetCount(t).next(g=>n.next(T=>g+T))}Jn(t){let n=0;return this.Wn(t,g=>{n++}).next(()=>n)}forEachTarget(t,n){return this.db.getTargetCache().forEachTarget(t,n)}Wn(t,n){return this.Yn(t,(g,T)=>n(T))}addReference(t,n,g){return dh(t,g)}removeReference(t,n,g){return dh(t,g)}removeTargets(t,n,g){return this.db.getTargetCache().removeTargets(t,n,g)}markPotentiallyOrphaned(t,n){return dh(t,n)}Xn(t,n){return function(g,T){let A=!1;return nC(g).Z(h=>iC(g,h,T).next(S=>(S&&(A=!0),_.resolve(!S)))).next(()=>A)}(t,n)}removeOrphanedDocuments(t,n){const g=this.db.getRemoteDocumentCache().newChangeBuffer(),T=[];let A=0;return this.Yn(t,(h,S)=>{if(S<=n){const e=this.Xn(t,h).next(u=>{if(!u)return A++,g.getEntry(t,h).next(()=>(g.removeEntry(h,xt.min()),Dn(t).delete([0,$e(h.path)])))});T.push(e)}}).next(()=>_.waitFor(T)).next(()=>g.apply(t)).next(()=>A)}removeTarget(t,n){const g=n.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,g)}updateLimboDocument(t,n){return dh(t,n)}Yn(t,n){const g=Dn(t);let T,A=yi.ct;return g.X({index:"documentTargetsIndex"},([h,S],{path:e,sequenceNumber:u})=>{h===0?(A!==yi.ct&&n(new dt(Hi(T)),A),A=u,T=e):A=yi.ct}).next(()=>{A!==yi.ct&&n(new dt(Hi(T)),A)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function dh(i,t){return Dn(i).put(function(n,g){return{targetId:0,path:$e(n.path),sequenceNumber:g}}(t,i.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{constructor(){this.changes=new fs(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,ie.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const g=this.changes.get(n);return g!==void 0?_.resolve(g):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QL{constructor(t){this.serializer=t}setIndexManager(t){this.indexManager=t}addEntry(t,n,g){return xs(t).put(g)}removeEntry(t,n,g){return xs(t).delete(function(T,A){const h=T.path.toArray();return[h.slice(0,h.length-2),h[h.length-2],Nu(A),h[h.length-1]]}(n,g))}updateMetadata(t,n){return this.getMetadata(t).next(g=>(g.byteSize+=n,this.Zn(t,g)))}getEntry(t,n){let g=ie.newInvalidDocument(n);return xs(t).X({index:"documentKeyIndex",range:IDBKeyRange.only(Ka(n))},(T,A)=>{g=this.ts(n,A)}).next(()=>g)}es(t,n){let g={size:0,document:ie.newInvalidDocument(n)};return xs(t).X({index:"documentKeyIndex",range:IDBKeyRange.only(Ka(n))},(T,A)=>{g={document:this.ts(n,A),size:Gu(A)}}).next(()=>g)}getEntries(t,n){let g=ai();return this.ns(t,n,(T,A)=>{const h=this.ts(T,A);g=g.insert(T,h)}).next(()=>g)}ss(t,n){let g=ai(),T=new Kt(dt.comparator);return this.ns(t,n,(A,h)=>{const S=this.ts(A,h);g=g.insert(A,S),T=T.insert(A,Gu(h))}).next(()=>({documents:g,rs:T}))}ns(t,n,g){if(n.isEmpty())return _.resolve();let T=new Ht(sy);n.forEach(e=>T=T.add(e));const A=IDBKeyRange.bound(Ka(T.first()),Ka(T.last())),h=T.getIterator();let S=h.getNext();return xs(t).X({index:"documentKeyIndex",range:A},(e,u,y)=>{const f=dt.fromSegments([...u.prefixPath,u.collectionGroup,u.documentId]);for(;S&&sy(S,f)<0;)g(S,null),S=h.getNext();S&&S.isEqual(f)&&(g(S,u),S=h.hasNext()?h.getNext():null),S?y.G(Ka(S)):y.done()}).next(()=>{for(;S;)g(S,null),S=h.hasNext()?h.getNext():null})}getDocumentsMatchingQuery(t,n,g,T){const A=n.path,h=[A.popLast().toArray(),A.lastSegment(),Nu(g.readTime),g.documentKey.path.isEmpty()?"":g.documentKey.path.lastSegment()],S=[A.popLast().toArray(),A.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return xs(t).j(IDBKeyRange.bound(h,S,!0)).next(e=>{let u=ai();for(const y of e){const f=this.ts(dt.fromSegments(y.prefixPath.concat(y.collectionGroup,y.documentId)),y);f.isFoundDocument()&&(Dl(n,f)||T.has(f.key))&&(u=u.insert(f.key,f))}return u})}getAllFromCollectionGroup(t,n,g,T){let A=ai();const h=ny(n,g),S=ny(n,fi.max());return xs(t).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(h,S,!0)},(e,u,y)=>{const f=this.ts(dt.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);A=A.insert(f.key,f),A.size===T&&y.done()}).next(()=>A)}newChangeBuffer(t){return new JL(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(n=>n.byteSize)}getMetadata(t){return iy(t).get("remoteDocumentGlobalKey").next(n=>(yt(!!n),n))}Zn(t,n){return iy(t).put("remoteDocumentGlobalKey",n)}ts(t,n){if(n){const g=OL(this.serializer,n);if(!(g.isNoDocument()&&g.version.isEqual(xt.min())))return g}return ie.newInvalidDocument(t)}}function rC(i){return new QL(i)}class JL extends sC{constructor(t,n){super(),this.os=t,this.trackRemovals=n,this.us=new fs(g=>g.toString(),(g,T)=>g.isEqual(T))}applyChanges(t){const n=[];let g=0,T=new Ht((A,h)=>wt(A.canonicalString(),h.canonicalString()));return this.changes.forEach((A,h)=>{const S=this.us.get(A);if(n.push(this.os.removeEntry(t,A,S.readTime)),h.isValidDocument()){const e=Yx(this.os.serializer,h);T=T.add(A.path.popLast());const u=Gu(e);g+=u-S.size,n.push(this.os.addEntry(t,A,e))}else if(g-=S.size,this.trackRemovals){const e=Yx(this.os.serializer,h.convertToNoDocument(xt.min()));n.push(this.os.addEntry(t,A,e))}}),T.forEach(A=>{n.push(this.os.indexManager.addToCollectionParentIndex(t,A))}),n.push(this.os.updateMetadata(t,g)),_.waitFor(n)}getFromCache(t,n){return this.os.es(t,n).next(g=>(this.us.set(n,{size:g.size,readTime:g.document.readTime}),g.document))}getAllFromCache(t,n){return this.os.ss(t,n).next(({documents:g,rs:T})=>(T.forEach((A,h)=>{this.us.set(A,{size:h,readTime:g.get(A).readTime})}),g))}}function iy(i){return Se(i,"remoteDocumentGlobal")}function xs(i){return Se(i,"remoteDocumentsV14")}function Ka(i){const t=i.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function ny(i,t){const n=t.documentKey.path.toArray();return[i,Nu(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function sy(i,t){const n=i.path.toArray(),g=t.path.toArray();let T=0;for(let A=0;A<n.length-2&&A<g.length-2;++A)if(T=wt(n[A],g[A]),T)return T;return T=wt(n.length,g.length),T||(T=wt(n[n.length-2],g[g.length-2]),T||wt(n[n.length-1],g[g.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZL{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(t,n,g,T){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=g,this.indexManager=T}getDocument(t,n){let g=null;return this.documentOverlayCache.getOverlay(t,n).next(T=>(g=T,this.remoteDocumentCache.getEntry(t,n))).next(T=>(g!==null&&wo(g.mutation,T,_e.empty(),Zt.now()),T))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(g=>this.getLocalViewOfDocuments(t,g,Pt()).next(()=>g))}getLocalViewOfDocuments(t,n,g=Pt()){const T=$i();return this.populateOverlays(t,T,n).next(()=>this.computeViews(t,n,T,g).next(A=>{let h=ro();return A.forEach((S,e)=>{h=h.insert(S,e.overlayedDocument)}),h}))}getOverlayedDocuments(t,n){const g=$i();return this.populateOverlays(t,g,n).next(()=>this.computeViews(t,n,g,Pt()))}populateOverlays(t,n,g){const T=[];return g.forEach(A=>{n.has(A)||T.push(A)}),this.documentOverlayCache.getOverlays(t,T).next(A=>{A.forEach((h,S)=>{n.set(h,S)})})}computeViews(t,n,g,T){let A=ai();const h=Co(),S=Co();return n.forEach((e,u)=>{const y=g.get(u.key);T.has(u.key)&&(y===void 0||y.mutation instanceof yn)?A=A.insert(u.key,u):y!==void 0?(h.set(u.key,y.mutation.getFieldMask()),wo(y.mutation,u,y.mutation.getFieldMask(),Zt.now())):h.set(u.key,_e.empty())}),this.recalculateAndSaveOverlays(t,A).next(e=>(e.forEach((u,y)=>h.set(u,y)),n.forEach((u,y)=>{var f;return S.set(u,new ZL(y,(f=h.get(u))!==null&&f!==void 0?f:null))}),S))}recalculateAndSaveOverlays(t,n){const g=Co();let T=new Kt((h,S)=>h-S),A=Pt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(h=>{for(const S of h)S.keys().forEach(e=>{const u=n.get(e);if(u===null)return;let y=g.get(e)||_e.empty();y=S.applyToLocalView(u,y),g.set(e,y);const f=(T.get(S.batchId)||Pt()).add(e);T=T.insert(S.batchId,f)})}).next(()=>{const h=[],S=T.getReverseIterator();for(;S.hasNext();){const e=S.getNext(),u=e.key,y=e.value,f=PE();y.forEach(l=>{if(!A.has(l)){const o=NE(n.get(l),g.get(l));o!==null&&f.set(l,o),A=A.add(l)}}),h.push(this.documentOverlayCache.saveOverlays(t,u,f))}return _.waitFor(h)}).next(()=>g)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(g=>this.recalculateAndSaveOverlays(t,g))}getDocumentsMatchingQuery(t,n,g){return function(T){return dt.isDocumentKey(T.path)&&T.collectionGroup===null&&T.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):SE(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,g):this.getDocumentsMatchingCollectionQuery(t,n,g)}getNextDocuments(t,n,g,T){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,g,T).next(A=>{const h=T-A.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,g.largestBatchId,T-A.size):_.resolve($i());let S=-1,e=A;return h.next(u=>_.forEach(u,(y,f)=>(S<f.largestBatchId&&(S=f.largestBatchId),A.get(y)?_.resolve():this.remoteDocumentCache.getEntry(t,y).next(l=>{e=e.insert(y,l)}))).next(()=>this.populateOverlays(t,u,A)).next(()=>this.computeViews(t,e,u,Pt())).next(y=>({batchId:S,changes:AE(y)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new dt(n)).next(g=>{let T=ro();return g.isFoundDocument()&&(T=T.insert(g.key,g)),T})}getDocumentsMatchingCollectionGroupQuery(t,n,g){const T=n.collectionGroup;let A=ro();return this.indexManager.getCollectionParents(t,T).next(h=>_.forEach(h,S=>{const e=function(u,y){return new Ia(y,null,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(n,S.child(T));return this.getDocumentsMatchingCollectionQuery(t,e,g).next(u=>{u.forEach((y,f)=>{A=A.insert(y,f)})})}).next(()=>A))}getDocumentsMatchingCollectionQuery(t,n,g){let T;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,g.largestBatchId).next(A=>(T=A,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,g,T))).next(A=>{T.forEach((S,e)=>{const u=e.getKey();A.get(u)===null&&(A=A.insert(u,ie.newInvalidDocument(u)))});let h=ro();return A.forEach((S,e)=>{const u=T.get(S);u!==void 0&&wo(u.mutation,e,_e.empty(),Zt.now()),Dl(n,e)&&(h=h.insert(S,e))}),h})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qL{constructor(t){this.serializer=t,this.cs=new Map,this.hs=new Map}getBundleMetadata(t,n){return _.resolve(this.cs.get(n))}saveBundleMetadata(t,n){var g;return this.cs.set(n.id,{id:(g=n).id,version:g.version,createTime:ke(g.createTime)}),_.resolve()}getNamedQuery(t,n){return _.resolve(this.hs.get(n))}saveNamedQuery(t,n){return this.hs.set(n.name,function(g){return{name:g.name,query:qE(g.bundledQuery),readTime:ke(g.readTime)}}(n)),_.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _L{constructor(){this.overlays=new Kt(dt.comparator),this.ls=new Map}getOverlay(t,n){return _.resolve(this.overlays.get(n))}getOverlays(t,n){const g=$i();return _.forEach(n,T=>this.getOverlay(t,T).next(A=>{A!==null&&g.set(T,A)})).next(()=>g)}saveOverlays(t,n,g){return g.forEach((T,A)=>{this.we(t,n,A)}),_.resolve()}removeOverlaysForBatchId(t,n,g){const T=this.ls.get(g);return T!==void 0&&(T.forEach(A=>this.overlays=this.overlays.remove(A)),this.ls.delete(g)),_.resolve()}getOverlaysForCollection(t,n,g){const T=$i(),A=n.length+1,h=new dt(n.child("")),S=this.overlays.getIteratorFrom(h);for(;S.hasNext();){const e=S.getNext().value,u=e.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===A&&e.largestBatchId>g&&T.set(e.getKey(),e)}return _.resolve(T)}getOverlaysForCollectionGroup(t,n,g,T){let A=new Kt((u,y)=>u-y);const h=this.overlays.getIterator();for(;h.hasNext();){const u=h.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>g){let y=A.get(u.largestBatchId);y===null&&(y=$i(),A=A.insert(u.largestBatchId,y)),y.set(u.getKey(),u)}}const S=$i(),e=A.getIterator();for(;e.hasNext()&&(e.getNext().value.forEach((u,y)=>S.set(u,y)),!(S.size()>=T)););return _.resolve(S)}we(t,n,g){const T=this.overlays.get(g.key);if(T!==null){const h=this.ls.get(T.largestBatchId).delete(g.key);this.ls.set(T.largestBatchId,h)}this.overlays=this.overlays.insert(g.key,new Lm(n,g));let A=this.ls.get(n);A===void 0&&(A=Pt(),this.ls.set(n,A)),this.ls.set(n,A.add(g.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gm{constructor(){this.fs=new Ht(pe.ds),this.ws=new Ht(pe._s)}isEmpty(){return this.fs.isEmpty()}addReference(t,n){const g=new pe(t,n);this.fs=this.fs.add(g),this.ws=this.ws.add(g)}gs(t,n){t.forEach(g=>this.addReference(g,n))}removeReference(t,n){this.ys(new pe(t,n))}ps(t,n){t.forEach(g=>this.removeReference(g,n))}Is(t){const n=new dt(new Bt([])),g=new pe(n,t),T=new pe(n,t+1),A=[];return this.ws.forEachInRange([g,T],h=>{this.ys(h),A.push(h.key)}),A}Ts(){this.fs.forEach(t=>this.ys(t))}ys(t){this.fs=this.fs.delete(t),this.ws=this.ws.delete(t)}Es(t){const n=new dt(new Bt([])),g=new pe(n,t),T=new pe(n,t+1);let A=Pt();return this.ws.forEachInRange([g,T],h=>{A=A.add(h.key)}),A}containsKey(t){const n=new pe(t,0),g=this.fs.firstAfterOrEqual(n);return g!==null&&t.isEqual(g.key)}}class pe{constructor(t,n){this.key=t,this.As=n}static ds(t,n){return dt.comparator(t.key,n.key)||wt(t.As,n.As)}static _s(t,n){return wt(t.As,n.As)||dt.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tF{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new Ht(pe.ds)}checkEmpty(t){return _.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,g,T){const A=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new Mm(A,n,g,T);this.mutationQueue.push(h);for(const S of T)this.Rs=this.Rs.add(new pe(S.key,A)),this.indexManager.addToCollectionParentIndex(t,S.key.path.popLast());return _.resolve(h)}lookupMutationBatch(t,n){return _.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(t,n){const g=n+1,T=this.bs(g),A=T<0?0:T;return _.resolve(this.mutationQueue.length>A?this.mutationQueue[A]:null)}getHighestUnacknowledgedBatchId(){return _.resolve(this.mutationQueue.length===0?-1:this.vs-1)}getAllMutationBatches(t){return _.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const g=new pe(n,0),T=new pe(n,Number.POSITIVE_INFINITY),A=[];return this.Rs.forEachInRange([g,T],h=>{const S=this.Ps(h.As);A.push(S)}),_.resolve(A)}getAllMutationBatchesAffectingDocumentKeys(t,n){let g=new Ht(wt);return n.forEach(T=>{const A=new pe(T,0),h=new pe(T,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([A,h],S=>{g=g.add(S.As)})}),_.resolve(this.Vs(g))}getAllMutationBatchesAffectingQuery(t,n){const g=n.path,T=g.length+1;let A=g;dt.isDocumentKey(A)||(A=A.child(""));const h=new pe(new dt(A),0);let S=new Ht(wt);return this.Rs.forEachWhile(e=>{const u=e.key.path;return!!g.isPrefixOf(u)&&(u.length===T&&(S=S.add(e.As)),!0)},h),_.resolve(this.Vs(S))}Vs(t){const n=[];return t.forEach(g=>{const T=this.Ps(g);T!==null&&n.push(T)}),n}removeMutationBatch(t,n){yt(this.Ss(n.batchId,"removed")===0),this.mutationQueue.shift();let g=this.Rs;return _.forEach(n.mutations,T=>{const A=new pe(T.key,n.batchId);return g=g.delete(A),this.referenceDelegate.markPotentiallyOrphaned(t,T.key)}).next(()=>{this.Rs=g})}Cn(t){}containsKey(t,n){const g=new pe(n,0),T=this.Rs.firstAfterOrEqual(g);return _.resolve(n.isEqual(T&&T.key))}performConsistencyCheck(t){return this.mutationQueue.length,_.resolve()}Ss(t,n){return this.bs(t)}bs(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Ps(t){const n=this.bs(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eF{constructor(t){this.Ds=t,this.docs=new Kt(dt.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const g=n.key,T=this.docs.get(g),A=T?T.size:0,h=this.Ds(n);return this.docs=this.docs.insert(g,{document:n.mutableCopy(),size:h}),this.size+=h-A,this.indexManager.addToCollectionParentIndex(t,g.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const g=this.docs.get(n);return _.resolve(g?g.document.mutableCopy():ie.newInvalidDocument(n))}getEntries(t,n){let g=ai();return n.forEach(T=>{const A=this.docs.get(T);g=g.insert(T,A?A.document.mutableCopy():ie.newInvalidDocument(T))}),_.resolve(g)}getDocumentsMatchingQuery(t,n,g,T){let A=ai();const h=n.path,S=new dt(h.child("")),e=this.docs.getIteratorFrom(S);for(;e.hasNext();){const{key:u,value:{document:y}}=e.getNext();if(!h.isPrefixOf(u.path))break;u.path.length>h.length+1||Sm(nE(y),g)<=0||(T.has(y.key)||Dl(n,y))&&(A=A.insert(y.key,y.mutableCopy()))}return _.resolve(A)}getAllFromCollectionGroup(t,n,g,T){gt()}Cs(t,n){return _.forEach(this.docs,g=>n(g))}newChangeBuffer(t){return new iF(this)}getSize(t){return _.resolve(this.size)}}class iF extends sC{constructor(t){super(),this.os=t}applyChanges(t){const n=[];return this.changes.forEach((g,T)=>{T.isValidDocument()?n.push(this.os.addEntry(t,T)):this.os.removeEntry(g)}),_.waitFor(n)}getFromCache(t,n){return this.os.getEntry(t,n)}getAllFromCache(t,n){return this.os.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nF{constructor(t){this.persistence=t,this.xs=new fs(n=>Zs(n),Ll),this.lastRemoteSnapshotVersion=xt.min(),this.highestTargetId=0,this.Ns=0,this.ks=new Gm,this.targetCount=0,this.Ms=er.kn()}forEachTarget(t,n){return this.xs.forEach((g,T)=>n(T)),_.resolve()}getLastRemoteSnapshotVersion(t){return _.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return _.resolve(this.Ns)}allocateTargetId(t){return this.highestTargetId=this.Ms.next(),_.resolve(this.highestTargetId)}setTargetsMetadata(t,n,g){return g&&(this.lastRemoteSnapshotVersion=g),n>this.Ns&&(this.Ns=n),_.resolve()}Fn(t){this.xs.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.Ms=new er(n),this.highestTargetId=n),t.sequenceNumber>this.Ns&&(this.Ns=t.sequenceNumber)}addTargetData(t,n){return this.Fn(n),this.targetCount+=1,_.resolve()}updateTargetData(t,n){return this.Fn(n),_.resolve()}removeTargetData(t,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,_.resolve()}removeTargets(t,n,g){let T=0;const A=[];return this.xs.forEach((h,S)=>{S.sequenceNumber<=n&&g.get(S.targetId)===null&&(this.xs.delete(h),A.push(this.removeMatchingKeysForTargetId(t,S.targetId)),T++)}),_.waitFor(A).next(()=>T)}getTargetCount(t){return _.resolve(this.targetCount)}getTargetData(t,n){const g=this.xs.get(n)||null;return _.resolve(g)}addMatchingKeys(t,n,g){return this.ks.gs(n,g),_.resolve()}removeMatchingKeys(t,n,g){this.ks.ps(n,g);const T=this.persistence.referenceDelegate,A=[];return T&&n.forEach(h=>{A.push(T.markPotentiallyOrphaned(t,h))}),_.waitFor(A)}removeMatchingKeysForTargetId(t,n){return this.ks.Is(n),_.resolve()}getMatchingKeysForTargetId(t,n){const g=this.ks.Es(n);return _.resolve(g)}containsKey(t,n){return _.resolve(this.ks.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{constructor(t,n){this.$s={},this.overlays={},this.Os=new yi(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=t(this),this.Bs=new nF(this),this.indexManager=new XL,this.remoteDocumentCache=function(g){return new eF(g)}(g=>this.referenceDelegate.Ls(g)),this.serializer=new JE(n),this.qs=new qL(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new _L,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let g=this.$s[t.toKey()];return g||(g=new tF(n,this.referenceDelegate),this.$s[t.toKey()]=g),g}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(t,n,g){ot("MemoryPersistence","Starting transaction:",t);const T=new sF(this.Os.next());return this.referenceDelegate.Us(),g(T).next(A=>this.referenceDelegate.Ks(T).next(()=>A)).toPromise().then(A=>(T.raiseOnCommittedEvent(),A))}Gs(t,n){return _.or(Object.values(this.$s).map(g=>()=>g.containsKey(t,n)))}}class sF extends rE{constructor(t){super(),this.currentSequenceNumber=t}}class Vf{constructor(t){this.persistence=t,this.Qs=new Gm,this.js=null}static zs(t){return new Vf(t)}get Ws(){if(this.js)return this.js;throw gt()}addReference(t,n,g){return this.Qs.addReference(g,n),this.Ws.delete(g.toString()),_.resolve()}removeReference(t,n,g){return this.Qs.removeReference(g,n),this.Ws.add(g.toString()),_.resolve()}markPotentiallyOrphaned(t,n){return this.Ws.add(n.toString()),_.resolve()}removeTarget(t,n){this.Qs.Is(n.targetId).forEach(T=>this.Ws.add(T.toString()));const g=this.persistence.getTargetCache();return g.getMatchingKeysForTargetId(t,n.targetId).next(T=>{T.forEach(A=>this.Ws.add(A.toString()))}).next(()=>g.removeTargetData(t,n))}Us(){this.js=new Set}Ks(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return _.forEach(this.Ws,g=>{const T=dt.fromPath(g);return this.Hs(t,T).next(A=>{A||n.removeEntry(T,xt.min())})}).next(()=>(this.js=null,n.apply(t)))}updateLimboDocument(t,n){return this.Hs(t,n).next(g=>{g?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(t){return 0}Hs(t,n){return _.or([()=>_.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Gs(t,n)])}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rF{constructor(t){this.serializer=t}O(t,n,g,T){const A=new If("createOrUpgrade",n);g<1&&T>=1&&(function(S){S.createObjectStore("owner")}(t),function(S){S.createObjectStore("mutationQueues",{keyPath:"userId"}),S.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Tx,{unique:!0}),S.createObjectStore("documentMutations")}(t),ry(t),function(S){S.createObjectStore("remoteDocuments")}(t));let h=_.resolve();return g<3&&T>=3&&(g!==0&&(function(S){S.deleteObjectStore("targetDocuments"),S.deleteObjectStore("targets"),S.deleteObjectStore("targetGlobal")}(t),ry(t)),h=h.next(()=>function(S){const e=S.store("targetGlobal"),u={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:xt.min().toTimestamp(),targetCount:0};return e.put("targetGlobalKey",u)}(A))),g<4&&T>=4&&(g!==0&&(h=h.next(()=>function(S,e){return e.store("mutations").j().next(u=>{S.deleteObjectStore("mutations"),S.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Tx,{unique:!0});const y=e.store("mutations"),f=u.map(l=>y.put(l));return _.waitFor(f)})}(t,A))),h=h.next(()=>{(function(S){S.createObjectStore("clientMetadata",{keyPath:"clientId"})})(t)})),g<5&&T>=5&&(h=h.next(()=>this.Ys(A))),g<6&&T>=6&&(h=h.next(()=>(function(S){S.createObjectStore("remoteDocumentGlobal")}(t),this.Xs(A)))),g<7&&T>=7&&(h=h.next(()=>this.Zs(A))),g<8&&T>=8&&(h=h.next(()=>this.ti(t,A))),g<9&&T>=9&&(h=h.next(()=>{(function(S){S.objectStoreNames.contains("remoteDocumentChanges")&&S.deleteObjectStore("remoteDocumentChanges")})(t)})),g<10&&T>=10&&(h=h.next(()=>this.ei(A))),g<11&&T>=11&&(h=h.next(()=>{(function(S){S.createObjectStore("bundles",{keyPath:"bundleId"})})(t),function(S){S.createObjectStore("namedQueries",{keyPath:"name"})}(t)})),g<12&&T>=12&&(h=h.next(()=>{(function(S){const e=S.createObjectStore("documentOverlays",{keyPath:b5});e.createIndex("collectionPathOverlayIndex",V5,{unique:!1}),e.createIndex("collectionGroupOverlayIndex",z5,{unique:!1})})(t)})),g<13&&T>=13&&(h=h.next(()=>function(S){const e=S.createObjectStore("remoteDocumentsV14",{keyPath:R5});e.createIndex("documentKeyIndex",M5),e.createIndex("collectionGroupIndex",I5)}(t)).next(()=>this.ni(t,A)).next(()=>t.deleteObjectStore("remoteDocuments"))),g<14&&T>=14&&(h=h.next(()=>this.si(t,A))),g<15&&T>=15&&(h=h.next(()=>function(S){S.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),S.createObjectStore("indexState",{keyPath:N5}).createIndex("sequenceNumberIndex",B5,{unique:!1}),S.createObjectStore("indexEntries",{keyPath:G5}).createIndex("documentKeyIndex",U5,{unique:!1})}(t))),h}Xs(t){let n=0;return t.store("remoteDocuments").X((g,T)=>{n+=Gu(T)}).next(()=>{const g={byteSize:n};return t.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",g)})}Ys(t){const n=t.store("mutationQueues"),g=t.store("mutations");return n.j().next(T=>_.forEach(T,A=>{const h=IDBKeyRange.bound([A.userId,-1],[A.userId,A.lastAcknowledgedBatchId]);return g.j("userMutationsIndex",h).next(S=>_.forEach(S,e=>{yt(e.userId===A.userId);const u=As(this.serializer,e);return eC(t,A.userId,u).next(()=>{})}))}))}Zs(t){const n=t.store("targetDocuments"),g=t.store("remoteDocuments");return t.store("targetGlobal").get("targetGlobalKey").next(T=>{const A=[];return g.X((h,S)=>{const e=new Bt(h),u=function(y){return[0,$e(y)]}(e);A.push(n.get(u).next(y=>y?_.resolve():(f=>n.put({targetId:0,path:$e(f),sequenceNumber:T.highestListenSequenceNumber}))(e)))}).next(()=>_.waitFor(A))})}ti(t,n){t.createObjectStore("collectionParents",{keyPath:O5});const g=n.store("collectionParents"),T=new Bm,A=h=>{if(T.add(h)){const S=h.lastSegment(),e=h.popLast();return g.put({collectionId:S,parent:$e(e)})}};return n.store("remoteDocuments").X({Y:!0},(h,S)=>{const e=new Bt(h);return A(e.popLast())}).next(()=>n.store("documentMutations").X({Y:!0},([h,S,e],u)=>{const y=Hi(S);return A(y.popLast())}))}ei(t){const n=t.store("targets");return n.X((g,T)=>{const A=oo(T),h=ZE(this.serializer,A);return n.put(h)})}ni(t,n){const g=n.store("remoteDocuments"),T=[];return g.X((A,h)=>{const S=n.store("remoteDocumentsV14"),e=(u=h,u.document?new dt(Bt.fromString(u.document.name).popFirst(5)):u.noDocument?dt.fromSegments(u.noDocument.path):u.unknownDocument?dt.fromSegments(u.unknownDocument.path):gt()).path.toArray();var u;/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const y={prefixPath:e.slice(0,e.length-2),collectionGroup:e[e.length-2],documentId:e[e.length-1],readTime:h.readTime||[0,0],unknownDocument:h.unknownDocument,noDocument:h.noDocument,document:h.document,hasCommittedMutations:!!h.hasCommittedMutations};T.push(S.put(y))}).next(()=>_.waitFor(T))}si(t,n){const g=n.store("mutations"),T=rC(this.serializer),A=new oC(Vf.zs,this.serializer.fe);return g.j().next(h=>{const S=new Map;return h.forEach(e=>{var u;let y=(u=S.get(e.userId))!==null&&u!==void 0?u:Pt();As(this.serializer,e).keys().forEach(f=>y=y.add(f)),S.set(e.userId,y)}),_.forEach(S,(e,u)=>{const y=new Ce(u),f=Uf.de(this.serializer,y),l=A.getIndexManager(y),o=bf.de(y,this.serializer,l,A.referenceDelegate);return new aC(T,o,f,l).recalculateAndSaveOverlaysForDocumentKeys(new mv(n,yi.ct),e).next()})})}}function ry(i){i.createObjectStore("targetDocuments",{keyPath:F5}).createIndex("documentTargetsIndex",D5,{unique:!0}),i.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",L5,{unique:!0}),i.createObjectStore("targetGlobal")}const Yd="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Um{constructor(t,n,g,T,A,h,S,e,u,y,f=15){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=g,this.ii=A,this.window=h,this.document=S,this.ri=u,this.oi=y,this.ui=f,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=l=>Promise.resolve(),!Um.D())throw new ut(st.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new KL(this,T),this.di=n+"main",this.serializer=new JE(e),this.wi=new ln(this.di,this.ui,new rF(this.serializer)),this.Bs=new YL(this.referenceDelegate,this.serializer),this.remoteDocumentCache=rC(this.serializer),this.qs=new NL,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,y===!1&&Xe("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ut(st.FAILED_PRECONDITION,Yd);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.Bs.getHighestSequenceNumber(t))}).then(t=>{this.Os=new yi(t,this.ri)}).then(()=>{this.Fs=!0}).catch(t=>(this.wi&&this.wi.close(),Promise.reject(t)))}Ii(t){return this.fi=async n=>{if(this.started)return t(n)},t(this.isPrimary)}setDatabaseDeletedListener(t){this.wi.B(async n=>{n.newVersion===null&&await t()})}setNetworkEnabled(t){this.networkEnabled!==t&&(this.networkEnabled=t,this.ii.enqueueAndForget(async()=>{this.started&&await this.mi()}))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>ch(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(t).next(n=>{n||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(t)).next(n=>this.isPrimary&&!n?this.Ai(t).next(()=>!1):!!n&&this.vi(t).next(()=>!0))).catch(t=>{if(us(t))return ot("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return ot("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.ii.enqueueRetryable(()=>this.fi(t)),this.isPrimary=t})}Ti(t){return Qa(t).get("owner").next(n=>_.resolve(this.Ri(n)))}Pi(t){return ch(t).delete(this.clientId)}async bi(){if(this.isPrimary&&!this.Vi(this.li,18e5)){this.li=Date.now();const t=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{const g=Se(n,"clientMetadata");return g.j().next(T=>{const A=this.Si(T,18e5),h=T.filter(S=>A.indexOf(S)===-1);return _.forEach(h,S=>g.delete(S.clientId)).next(()=>h)})}).catch(()=>[]);if(this._i)for(const n of t)this._i.removeItem(this.Di(n.clientId))}}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(t){return!!t&&t.ownerId===this.clientId}Ei(t){return this.oi?_.resolve(!0):Qa(t).get("owner").next(n=>{if(n!==null&&this.Vi(n.leaseTimestampMs,5e3)&&!this.Ci(n.ownerId)){if(this.Ri(n)&&this.networkEnabled)return!0;if(!this.Ri(n)){if(!n.allowTabSynchronization)throw new ut(st.FAILED_PRECONDITION,Yd);return!1}}return!(!this.networkEnabled||!this.inForeground)||ch(t).j().next(g=>this.Si(g,5e3).find(T=>{if(this.clientId!==T.clientId){const A=!this.networkEnabled&&T.networkEnabled,h=!this.inForeground&&T.inForeground,S=this.networkEnabled===T.networkEnabled;if(A||h&&S)return!0}return!1})===void 0)}).next(n=>(this.isPrimary!==n&&ot("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}async shutdown(){this.Fs=!1,this.xi(),this.hi&&(this.hi.cancel(),this.hi=null),this.Ni(),this.ki(),await this.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const n=new mv(t,yi.ct);return this.Ai(n).next(()=>this.Pi(n))}),this.wi.close(),this.Mi()}Si(t,n){return t.filter(g=>this.Vi(g.updateTimeMs,n)&&!this.Ci(g.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",t=>ch(t).j().next(n=>this.Si(n,18e5).map(g=>g.clientId)))}get started(){return this.Fs}getMutationQueue(t,n){return bf.de(t,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new WL(t,this.serializer.fe.databaseId)}getDocumentOverlayCache(t){return Uf.de(this.serializer,t)}getBundleCache(){return this.qs}runTransaction(t,n,g){ot("IndexedDbPersistence","Starting transaction:",t);const T=n==="readonly"?"readonly":"readwrite",A=(h=this.ui)===15?W5:h===14?hE:h===13?lE:h===12?X5:h===11?oE:void gt();var h;let S;return this.wi.runTransaction(t,T,A,e=>(S=new mv(e,this.Os?this.Os.next():yi.ct),n==="readwrite-primary"?this.Ti(S).next(u=>!!u||this.Ei(S)).next(u=>{if(!u)throw Xe(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new ut(st.FAILED_PRECONDITION,sE);return g(S)}).next(u=>this.vi(S).next(()=>u)):this.Oi(S).next(()=>g(S)))).then(e=>(S.raiseOnCommittedEvent(),e))}Oi(t){return Qa(t).get("owner").next(n=>{if(n!==null&&this.Vi(n.leaseTimestampMs,5e3)&&!this.Ci(n.ownerId)&&!this.Ri(n)&&!(this.oi||this.allowTabSynchronization&&n.allowTabSynchronization))throw new ut(st.FAILED_PRECONDITION,Yd)})}vi(t){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Qa(t).put("owner",n)}static D(){return ln.D()}Ai(t){const n=Qa(t);return n.get("owner").next(g=>this.Ri(g)?(ot("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):_.resolve())}Vi(t,n){const g=Date.now();return!(t<g-n)&&(!(t>g)||(Xe(`Detected an update time that is in the future: ${t} > ${g}`),!1))}gi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground=this.document.visibilityState==="visible")}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var t;typeof((t=this.window)===null||t===void 0?void 0:t.addEventListener)=="function"&&(this.ci=()=>{this.xi();const n=/(?:Version|Mobile)\/1[456]/;L4()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(t){var n;try{const g=((n=this._i)===null||n===void 0?void 0:n.getItem(this.Di(t)))!==null;return ot("IndexedDbPersistence",`Client '${t}' ${g?"is":"is not"} zombied in LocalStorage`),g}catch(g){return Xe("IndexedDbPersistence","Failed to get zombied client id.",g),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(t){Xe("Failed to set zombie client id.",t)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function Qa(i){return Se(i,"owner")}function ch(i){return Se(i,"clientMetadata")}function aF(i,t){let n=i.projectId;return i.isDefaultDatabase||(n+="."+i.database),"firestore/"+t+"/"+n+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm{constructor(t,n,g,T){this.targetId=t,this.fromCache=n,this.Fi=g,this.Bi=T}static Li(t,n){let g=Pt(),T=Pt();for(const A of n.docChanges)switch(A.type){case 0:g=g.add(A.doc.key);break;case 1:T=T.add(A.doc.key)}return new bm(t,n.fromCache,g,T)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lC{constructor(){this.qi=!1}initialize(t,n){this.Ui=t,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(t,n,g,T){return this.Ki(t,n).next(A=>A||this.Gi(t,n,T,g)).next(A=>A||this.Qi(t,n))}Ki(t,n){if(Dx(n))return _.resolve(null);let g=Bi(n);return this.indexManager.getIndexType(t,g).next(T=>T===0?null:(n.limit!==null&&T===1&&(n=Fu(n,null,"F"),g=Bi(n)),this.indexManager.getDocumentsMatchingTarget(t,g).next(A=>{const h=Pt(...A);return this.Ui.getDocuments(t,h).next(S=>this.indexManager.getMinOffset(t,g).next(e=>{const u=this.ji(n,S);return this.zi(n,u,h,e.readTime)?this.Ki(t,Fu(n,null,"F")):this.Wi(t,u,n,e)}))})))}Gi(t,n,g,T){return Dx(n)||T.isEqual(xt.min())?this.Qi(t,n):this.Ui.getDocuments(t,g).next(A=>{const h=this.ji(n,A);return this.zi(n,h,g,T)?this.Qi(t,n):(vv()<=Dt.DEBUG&&ot("QueryEngine","Re-using previous result from %s to execute query: %s",T.toString(),Cv(n)),this.Wi(t,h,n,y5(T,-1)))})}ji(t,n){let g=new Ht(CE(t));return n.forEach((T,A)=>{Dl(t,A)&&(g=g.add(A))}),g}zi(t,n,g,T){if(t.limit===null)return!1;if(g.size!==n.size)return!0;const A=t.limitType==="F"?n.last():n.first();return!!A&&(A.hasPendingWrites||A.version.compareTo(T)>0)}Qi(t,n){return vv()<=Dt.DEBUG&&ot("QueryEngine","Using full collection scan to execute query:",Cv(n)),this.Ui.getDocumentsMatchingQuery(t,n,fi.min())}Wi(t,n,g,T){return this.Ui.getDocumentsMatchingQuery(t,g,T).next(A=>(n.forEach(h=>{A=A.insert(h.key,h)}),A))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oF{constructor(t,n,g,T){this.persistence=t,this.Hi=n,this.serializer=T,this.Ji=new Kt(wt),this.Yi=new fs(A=>Zs(A),Ll),this.Xi=new Map,this.Zi=t.getRemoteDocumentCache(),this.Bs=t.getTargetCache(),this.qs=t.getBundleCache(),this.tr(g)}tr(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new aC(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.Ji))}}function hC(i,t,n,g){return new oF(i,t,n,g)}async function uC(i,t){const n=Ct(i);return await n.persistence.runTransaction("Handle user change","readonly",g=>{let T;return n.mutationQueue.getAllMutationBatches(g).next(A=>(T=A,n.tr(t),n.mutationQueue.getAllMutationBatches(g))).next(A=>{const h=[],S=[];let e=Pt();for(const u of T){h.push(u.batchId);for(const y of u.mutations)e=e.add(y.key)}for(const u of A){S.push(u.batchId);for(const y of u.mutations)e=e.add(y.key)}return n.localDocuments.getDocuments(g,e).next(u=>({er:u,removedBatchIds:h,addedBatchIds:S}))})})}function lF(i,t){const n=Ct(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",g=>{const T=t.batch.keys(),A=n.Zi.newChangeBuffer({trackRemovals:!0});return function(h,S,e,u){const y=e.batch,f=y.keys();let l=_.resolve();return f.forEach(o=>{l=l.next(()=>u.getEntry(S,o)).next(s=>{const a=e.docVersions.get(o);yt(a!==null),s.version.compareTo(a)<0&&(y.applyToRemoteDocument(s,e),s.isValidDocument()&&(s.setReadTime(e.commitVersion),u.addEntry(s)))})}),l.next(()=>h.mutationQueue.removeMutationBatch(S,y))}(n,g,t,A).next(()=>A.apply(g)).next(()=>n.mutationQueue.performConsistencyCheck(g)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(g,T,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,function(h){let S=Pt();for(let e=0;e<h.mutationResults.length;++e)h.mutationResults[e].transformResults.length>0&&(S=S.add(h.batch.mutations[e].key));return S}(t))).next(()=>n.localDocuments.getDocuments(g,T))})}function fC(i){const t=Ct(i);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Bs.getLastRemoteSnapshotVersion(n))}function hF(i,t){const n=Ct(i),g=t.snapshotVersion;let T=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",A=>{const h=n.Zi.newChangeBuffer({trackRemovals:!0});T=n.Ji;const S=[];t.targetChanges.forEach((y,f)=>{const l=T.get(f);if(!l)return;S.push(n.Bs.removeMatchingKeys(A,y.removedDocuments,f).next(()=>n.Bs.addMatchingKeys(A,y.addedDocuments,f)));let o=l.withSequenceNumber(A.currentSequenceNumber);t.targetMismatches.get(f)!==null?o=o.withResumeToken(Ie.EMPTY_BYTE_STRING,xt.min()).withLastLimboFreeSnapshotVersion(xt.min()):y.resumeToken.approximateByteSize()>0&&(o=o.withResumeToken(y.resumeToken,g)),T=T.insert(f,o),function(s,a,c){return s.resumeToken.approximateByteSize()===0||a.snapshotVersion.toMicroseconds()-s.snapshotVersion.toMicroseconds()>=3e8?!0:c.addedDocuments.size+c.modifiedDocuments.size+c.removedDocuments.size>0}(l,o,y)&&S.push(n.Bs.updateTargetData(A,o))});let e=ai(),u=Pt();if(t.documentUpdates.forEach(y=>{t.resolvedLimboDocuments.has(y)&&S.push(n.persistence.referenceDelegate.updateLimboDocument(A,y))}),S.push(uF(A,h,t.documentUpdates).next(y=>{e=y.nr,u=y.sr})),!g.isEqual(xt.min())){const y=n.Bs.getLastRemoteSnapshotVersion(A).next(f=>n.Bs.setTargetsMetadata(A,A.currentSequenceNumber,g));S.push(y)}return _.waitFor(S).next(()=>h.apply(A)).next(()=>n.localDocuments.getLocalViewOfDocuments(A,e,u)).next(()=>e)}).then(A=>(n.Ji=T,A))}function uF(i,t,n){let g=Pt(),T=Pt();return n.forEach(A=>g=g.add(A)),t.getEntries(i,g).next(A=>{let h=ai();return n.forEach((S,e)=>{const u=A.get(S);e.isFoundDocument()!==u.isFoundDocument()&&(T=T.add(S)),e.isNoDocument()&&e.version.isEqual(xt.min())?(t.removeEntry(S,e.readTime),h=h.insert(S,e)):!u.isValidDocument()||e.version.compareTo(u.version)>0||e.version.compareTo(u.version)===0&&u.hasPendingWrites?(t.addEntry(e),h=h.insert(S,e)):ot("LocalStore","Ignoring outdated watch update for ",S,". Current version:",u.version," Watch version:",e.version)}),{nr:h,sr:T}})}function fF(i,t){const n=Ct(i);return n.persistence.runTransaction("Get next mutation batch","readonly",g=>(t===void 0&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(g,t)))}function dF(i,t){const n=Ct(i);return n.persistence.runTransaction("Allocate target","readwrite",g=>{let T;return n.Bs.getTargetData(g,t).next(A=>A?(T=A,_.resolve(T)):n.Bs.allocateTargetId(g).next(h=>(T=new hn(t,h,"TargetPurposeListen",g.currentSequenceNumber),n.Bs.addTargetData(g,T).next(()=>T))))}).then(g=>{const T=n.Ji.get(g.targetId);return(T===null||g.snapshotVersion.compareTo(T.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(g.targetId,g),n.Yi.set(t,g.targetId)),g})}async function Fv(i,t,n){const g=Ct(i),T=g.Ji.get(t),A=n?"readwrite":"readwrite-primary";try{n||await g.persistence.runTransaction("Release target",A,h=>g.persistence.referenceDelegate.removeTarget(h,T))}catch(h){if(!us(h))throw h;ot("LocalStore",`Failed to update sequence numbers for target ${t}: ${h}`)}g.Ji=g.Ji.remove(t),g.Yi.delete(T.target)}function ay(i,t,n){const g=Ct(i);let T=xt.min(),A=Pt();return g.persistence.runTransaction("Execute query","readonly",h=>function(S,e,u){const y=Ct(S),f=y.Yi.get(u);return f!==void 0?_.resolve(y.Ji.get(f)):y.Bs.getTargetData(e,u)}(g,h,Bi(t)).next(S=>{if(S)return T=S.lastLimboFreeSnapshotVersion,g.Bs.getMatchingKeysForTargetId(h,S.targetId).next(e=>{A=e})}).next(()=>g.Hi.getDocumentsMatchingQuery(h,t,n?T:xt.min(),n?A:Pt())).next(S=>(cF(g,iL(t),S),{documents:S,ir:A})))}function cF(i,t,n){let g=i.Xi.get(t)||xt.min();n.forEach((T,A)=>{A.readTime.compareTo(g)>0&&(g=A.readTime)}),i.Xi.set(t,g)}class oy{constructor(){this.activeTargetIds=lL()}lr(t){this.activeTargetIds=this.activeTargetIds.add(t)}dr(t){this.activeTargetIds=this.activeTargetIds.delete(t)}hr(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class dC{constructor(){this.Hr=new oy,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,g){}addLocalQueryTarget(t){return this.Hr.lr(t),this.Jr[t]||"not-current"}updateQueryState(t,n,g){this.Jr[t]=n}removeLocalQueryTarget(t){this.Hr.dr(t)}isLocalQueryTarget(t){return this.Hr.activeTargetIds.has(t)}clearQueryState(t){delete this.Jr[t]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(t){return this.Hr.activeTargetIds.has(t)}start(){return this.Hr=new oy,Promise.resolve()}handleUserChange(t,n,g){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vF{Yr(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ly{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(t){this.so.push(t)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){ot("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.so)t(0)}no(){ot("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.so)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vh=null;function Hd(){return vh===null?vh=268435456+Math.round(2147483648*Math.random()):vh++,"0x"+vh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pF={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mF{constructor(t){this.ro=t.ro,this.oo=t.oo}uo(t){this.co=t}ao(t){this.ho=t}onMessage(t){this.lo=t}close(){this.oo()}send(t){this.ro(t)}fo(){this.co()}wo(t){this.ho(t)}_o(t){this.lo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oe="WebChannelConnection";class gF extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http";this.mo=n+"://"+t.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(t,n,g,T,A){const h=Hd(),S=this.To(t,n);ot("RestConnection",`Sending RPC '${t}' ${h}:`,S,g);const e={};return this.Eo(e,T,A),this.Ao(t,S,e,g).then(u=>(ot("RestConnection",`Received RPC '${t}' ${h}: `,u),u),u=>{throw qn("RestConnection",`RPC '${t}' ${h} failed with error: `,u,"url: ",S,"request:",g),u})}vo(t,n,g,T,A,h){return this.Io(t,n,g,T,A)}Eo(t,n,g){t["X-Goog-Api-Client"]="gl-js/ fire/"+Ma,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((T,A)=>t[A]=T),g&&g.headers.forEach((T,A)=>t[A]=T)}To(t,n){const g=pF[t];return`${this.mo}/v1/${n}:${g}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Ao(t,n,g,T){const A=Hd();return new Promise((h,S)=>{const e=new o5;e.setWithCredentials(!0),e.listenOnce(s5.COMPLETE,()=>{try{switch(e.getLastErrorCode()){case Xd.NO_ERROR:const y=e.getResponseJson();ot(Oe,`XHR for RPC '${t}' ${A} received:`,JSON.stringify(y)),h(y);break;case Xd.TIMEOUT:ot(Oe,`RPC '${t}' ${A} timed out`),S(new ut(st.DEADLINE_EXCEEDED,"Request time out"));break;case Xd.HTTP_ERROR:const f=e.getStatus();if(ot(Oe,`RPC '${t}' ${A} failed with status:`,f,"response text:",e.getResponseText()),f>0){let l=e.getResponseJson();Array.isArray(l)&&(l=l[0]);const o=l==null?void 0:l.error;if(o&&o.status&&o.message){const s=function(a){const c=a.toLowerCase().replace(/_/g,"-");return Object.values(st).indexOf(c)>=0?c:st.UNKNOWN}(o.status);S(new ut(s,o.message))}else S(new ut(st.UNKNOWN,"Server responded with status "+e.getStatus()))}else S(new ut(st.UNAVAILABLE,"Connection failed."));break;default:gt()}}finally{ot(Oe,`RPC '${t}' ${A} completed.`)}});const u=JSON.stringify(T);ot(Oe,`RPC '${t}' ${A} sending request:`,T),e.send(n,"POST",u,g,15)})}Ro(t,n,g){const T=Hd(),A=[this.mo,"/","google.firestore.v1.Firestore","/",t,"/channel"],h=i5(),S=n5(),e={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(e.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(e.xmlHttpFactory=new a5({})),this.Eo(e.initMessageHeaders,n,g),e.encodeInitMessageHeaders=!0;const y=A.join("");ot(Oe,`Creating RPC '${t}' stream ${T}: ${y}`,e);const f=h.createWebChannel(y,e);let l=!1,o=!1;const s=new mF({ro:c=>{o?ot(Oe,`Not sending because RPC '${t}' stream ${T} is closed:`,c):(l||(ot(Oe,`Opening RPC '${t}' stream ${T} transport.`),f.open(),l=!0),ot(Oe,`RPC '${t}' stream ${T} sending:`,c),f.send(c))},oo:()=>f.close()}),a=(c,r,d)=>{c.listen(r,v=>{try{d(v)}catch(p){setTimeout(()=>{throw p},0)}})};return a(f,oh.EventType.OPEN,()=>{o||ot(Oe,`RPC '${t}' stream ${T} transport opened.`)}),a(f,oh.EventType.CLOSE,()=>{o||(o=!0,ot(Oe,`RPC '${t}' stream ${T} transport closed`),s.wo())}),a(f,oh.EventType.ERROR,c=>{o||(o=!0,qn(Oe,`RPC '${t}' stream ${T} transport errored:`,c),s.wo(new ut(st.UNAVAILABLE,"The operation could not be completed")))}),a(f,oh.EventType.MESSAGE,c=>{var r;if(!o){const d=c.data[0];yt(!!d);const v=d,p=v.error||((r=v[0])===null||r===void 0?void 0:r.error);if(p){ot(Oe,`RPC '${t}' stream ${T} received error:`,p);const m=p.status;let x=function(w){const C=le[w];if(C!==void 0)return UE(C)}(m),E=p.message;x===void 0&&(x=st.INTERNAL,E="Unknown error status: "+m+" with message "+p.message),o=!0,s.wo(new ut(x,E)),f.close()}else ot(Oe,`RPC '${t}' stream ${T} received:`,d),s._o(d)}}),a(S,r5.STAT_EVENT,c=>{c.stat===mx.PROXY?ot(Oe,`RPC '${t}' stream ${T} detected buffering proxy`):c.stat===mx.NOPROXY&&ot(Oe,`RPC '${t}' stream ${T} detected no buffering proxy`)}),setTimeout(()=>{s.fo()},0),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xF(){return typeof window<"u"?window:null}function Gh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zf(i){return new CL(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{constructor(t,n,g=1e3,T=1.5,A=6e4){this.ii=t,this.timerId=n,this.Po=g,this.bo=T,this.Vo=A,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(t){this.cancel();const n=Math.floor(this.So+this.ko()),g=Math.max(0,Date.now()-this.Co),T=Math.max(0,n-g);T>0&&ot("ExponentialBackoff",`Backing off for ${T} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${g} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,T,()=>(this.Co=Date.now(),t())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){this.Do!==null&&(this.Do.skipDelay(),this.Do=null)}cancel(){this.Do!==null&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC{constructor(t,n,g,T,A,h,S,e){this.ii=t,this.$o=g,this.Oo=T,this.connection=A,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=S,this.listener=e,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new cC(t,n)}Uo(){return this.state===1||this.state===5||this.Ko()}Ko(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&this.Bo===null&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(t){this.Ho(),this.stream.send(t)}async zo(){if(this.Ko())return this.close(0)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}async close(t,n){this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,t!==4?this.qo.reset():n&&n.code===st.RESOURCE_EXHAUSTED?(Xe(n.toString()),Xe("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):n&&n.code===st.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Yo(),this.stream.close(),this.stream=null),this.state=t,await this.listener.ao(n)}Yo(){}auth(){this.state=1;const t=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([g,T])=>{this.Fo===n&&this.Zo(g,T)},g=>{t(()=>{const T=new ut(st.UNKNOWN,"Fetching auth token failed: "+g.message);return this.tu(T)})})}Zo(t,n){const g=this.Xo(this.Fo);this.stream=this.eu(t,n),this.stream.uo(()=>{g(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(T=>{g(()=>this.tu(T))}),this.stream.onMessage(T=>{g(()=>this.onMessage(T))})}Go(){this.state=5,this.qo.No(async()=>{this.state=0,this.start()})}tu(t){return ot("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Xo(t){return n=>{this.ii.enqueueAndForget(()=>this.Fo===t?n():(ot("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class yF extends vC{constructor(t,n,g,T,A,h){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,g,T,h),this.serializer=A}eu(t,n){return this.connection.Ro("Listen",t,n)}onMessage(t){this.qo.reset();const n=PL(this.serializer,t),g=function(T){if(!("targetChange"in T))return xt.min();const A=T.targetChange;return A.targetIds&&A.targetIds.length?xt.min():A.readTime?ke(A.readTime):xt.min()}(t);return this.listener.nu(n,g)}su(t){const n={};n.database=Pv(this.serializer),n.addTarget=function(T,A){let h;const S=A.target;if(h=Iu(S)?{documents:HE(T,S)}:{query:$E(T,S)},h.targetId=A.targetId,A.resumeToken.approximateByteSize()>0){h.resumeToken=zE(T,A.resumeToken);const e=wv(T,A.expectedCount);e!==null&&(h.expectedCount=e)}else if(A.snapshotVersion.compareTo(xt.min())>0){h.readTime=fa(T,A.snapshotVersion.toTimestamp());const e=wv(T,A.expectedCount);e!==null&&(h.expectedCount=e)}return h}(this.serializer,t);const g=ML(this.serializer,t);g&&(n.labels=g),this.Wo(n)}iu(t){const n={};n.database=Pv(this.serializer),n.removeTarget=t,this.Wo(n)}}class TF extends vC{constructor(t,n,g,T,A,h){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,g,T,h),this.serializer=A,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(t,n){return this.connection.Ro("Write",t,n)}onMessage(t){if(yt(!!t.streamToken),this.lastStreamToken=t.streamToken,this.ru){this.qo.reset();const n=RL(t.writeResults,t.commitTime),g=ke(t.commitTime);return this.listener.cu(g,n)}return yt(!t.writeResults||t.writeResults.length===0),this.ru=!0,this.listener.au()}hu(){const t={};t.database=Pv(this.serializer),this.Wo(t)}uu(t){const n={streamToken:this.lastStreamToken,writes:t.map(g=>Ou(this.serializer,g))};this.Wo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SF extends class{}{constructor(t,n,g,T){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=g,this.serializer=T,this.lu=!1}fu(){if(this.lu)throw new ut(st.FAILED_PRECONDITION,"The client has already been terminated.")}Io(t,n,g){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([T,A])=>this.connection.Io(t,n,g,T,A)).catch(T=>{throw T.name==="FirebaseError"?(T.code===st.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),T):new ut(st.UNKNOWN,T.toString())})}vo(t,n,g,T){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([A,h])=>this.connection.vo(t,n,g,A,h,T)).catch(A=>{throw A.name==="FirebaseError"?(A.code===st.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),A):new ut(st.UNKNOWN,A.toString())})}terminate(){this.lu=!0}}class EF{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){this.wu===0&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(t){this.state==="Online"?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.yu("Offline")))}set(t){this.Tu(),this.wu=0,t==="Online"&&(this.mu=!1),this.yu(t)}yu(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}pu(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Xe(n),this.mu=!1):ot("OnlineStateTracker",n)}Tu(){this._u!==null&&(this._u.cancel(),this._u=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CF{constructor(t,n,g,T,A){this.localStore=t,this.datastore=n,this.asyncQueue=g,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=A,this.Pu.Yr(h=>{g.enqueueAndForget(async()=>{cr(this)&&(ot("RemoteStore","Restarting streams for network reachability change."),await async function(S){const e=Ct(S);e.vu.add(4),await Nl(e),e.bu.set("Unknown"),e.vu.delete(4),await Xf(e)}(this))})}),this.bu=new EF(g,T)}}async function Xf(i){if(cr(i))for(const t of i.Ru)await t(!0)}async function Nl(i){for(const t of i.Ru)await t(!1)}function pC(i,t){const n=Ct(i);n.Au.has(t.targetId)||(n.Au.set(t.targetId,t),Xm(n)?zm(n):Fa(n).Ko()&&Vm(n,t))}function mC(i,t){const n=Ct(i),g=Fa(n);n.Au.delete(t),g.Ko()&&gC(n,t),n.Au.size===0&&(g.Ko()?g.jo():cr(n)&&n.bu.set("Unknown"))}function Vm(i,t){if(i.Vu.qt(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(xt.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Fa(i).su(t)}function gC(i,t){i.Vu.qt(t),Fa(i).iu(t)}function zm(i){i.Vu=new yL({getRemoteKeysForTarget:t=>i.remoteSyncer.getRemoteKeysForTarget(t),le:t=>i.Au.get(t)||null,ue:()=>i.datastore.serializer.databaseId}),Fa(i).start(),i.bu.gu()}function Xm(i){return cr(i)&&!Fa(i).Uo()&&i.Au.size>0}function cr(i){return Ct(i).vu.size===0}function xC(i){i.Vu=void 0}async function wF(i){i.Au.forEach((t,n)=>{Vm(i,t)})}async function AF(i,t){xC(i),Xm(i)?(i.bu.Iu(t),zm(i)):i.bu.set("Unknown")}async function PF(i,t,n){if(i.bu.set("Online"),t instanceof VE&&t.state===2&&t.cause)try{await async function(g,T){const A=T.cause;for(const h of T.targetIds)g.Au.has(h)&&(await g.remoteSyncer.rejectListen(h,A),g.Au.delete(h),g.Vu.removeTarget(h))}(i,t)}catch(g){ot("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),g),await Uu(i,g)}else if(t instanceof Bh?i.Vu.Ht(t):t instanceof bE?i.Vu.ne(t):i.Vu.Xt(t),!n.isEqual(xt.min()))try{const g=await fC(i.localStore);n.compareTo(g)>=0&&await function(T,A){const h=T.Vu.ce(A);return h.targetChanges.forEach((S,e)=>{if(S.resumeToken.approximateByteSize()>0){const u=T.Au.get(e);u&&T.Au.set(e,u.withResumeToken(S.resumeToken,A))}}),h.targetMismatches.forEach((S,e)=>{const u=T.Au.get(S);if(!u)return;T.Au.set(S,u.withResumeToken(Ie.EMPTY_BYTE_STRING,u.snapshotVersion)),gC(T,S);const y=new hn(u.target,S,e,u.sequenceNumber);Vm(T,y)}),T.remoteSyncer.applyRemoteEvent(h)}(i,n)}catch(g){ot("RemoteStore","Failed to raise snapshot:",g),await Uu(i,g)}}async function Uu(i,t,n){if(!us(t))throw t;i.vu.add(1),await Nl(i),i.bu.set("Offline"),n||(n=()=>fC(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{ot("RemoteStore","Retrying IndexedDB access"),await n(),i.vu.delete(1),await Xf(i)})}function yC(i,t){return t().catch(n=>Uu(i,n,t))}async function Bl(i){const t=Ct(i),n=is(t);let g=t.Eu.length>0?t.Eu[t.Eu.length-1].batchId:-1;for(;RF(t);)try{const T=await fF(t.localStore,g);if(T===null){t.Eu.length===0&&n.jo();break}g=T.batchId,MF(t,T)}catch(T){await Uu(t,T)}TC(t)&&SC(t)}function RF(i){return cr(i)&&i.Eu.length<10}function MF(i,t){i.Eu.push(t);const n=is(i);n.Ko()&&n.ou&&n.uu(t.mutations)}function TC(i){return cr(i)&&!is(i).Uo()&&i.Eu.length>0}function SC(i){is(i).start()}async function IF(i){is(i).hu()}async function LF(i){const t=is(i);for(const n of i.Eu)t.uu(n.mutations)}async function FF(i,t,n){const g=i.Eu.shift(),T=Im.from(g,t,n);await yC(i,()=>i.remoteSyncer.applySuccessfulWrite(T)),await Bl(i)}async function DF(i,t){t&&is(i).ou&&await async function(n,g){if(T=g.code,mL(T)&&T!==st.ABORTED){const A=n.Eu.shift();is(n).Qo(),await yC(n,()=>n.remoteSyncer.rejectFailedWrite(A.batchId,g)),await Bl(n)}var T}(i,t),TC(i)&&SC(i)}async function hy(i,t){const n=Ct(i);n.asyncQueue.verifyOperationInProgress(),ot("RemoteStore","RemoteStore received new credentials");const g=cr(n);n.vu.add(3),await Nl(n),g&&n.bu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.vu.delete(3),await Xf(n)}async function OF(i,t){const n=Ct(i);t?(n.vu.delete(2),await Xf(n)):t||(n.vu.add(2),await Nl(n),n.bu.set("Unknown"))}function Fa(i){return i.Su||(i.Su=function(t,n,g){const T=Ct(t);return T.fu(),new yF(n,T.connection,T.authCredentials,T.appCheckCredentials,T.serializer,g)}(i.datastore,i.asyncQueue,{uo:wF.bind(null,i),ao:AF.bind(null,i),nu:PF.bind(null,i)}),i.Ru.push(async t=>{t?(i.Su.Qo(),Xm(i)?zm(i):i.bu.set("Unknown")):(await i.Su.stop(),xC(i))})),i.Su}function is(i){return i.Du||(i.Du=function(t,n,g){const T=Ct(t);return T.fu(),new TF(n,T.connection,T.authCredentials,T.appCheckCredentials,T.serializer,g)}(i.datastore,i.asyncQueue,{uo:IF.bind(null,i),ao:DF.bind(null,i),au:LF.bind(null,i),cu:FF.bind(null,i)}),i.Ru.push(async t=>{t?(i.Du.Qo(),await Bl(i)):(await i.Du.stop(),i.Eu.length>0&&(ot("RemoteStore",`Stopping write stream with ${i.Eu.length} pending writes`),i.Eu=[]))})),i.Du}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wm{constructor(t,n,g,T,A){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=g,this.op=T,this.removalCallback=A,this.deferred=new Ji,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}static createAndSchedule(t,n,g,T,A){const h=Date.now()+g,S=new Wm(t,n,h,T,A);return S.start(g),S}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ut(st.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ym(i,t){if(Xe("AsyncQueue",`${t}: ${i}`),us(i))return new ut(st.UNAVAILABLE,`${t}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr{constructor(t){this.comparator=t?(n,g)=>t(n,g)||dt.comparator(n.key,g.key):(n,g)=>dt.comparator(n.key,g.key),this.keyedMap=ro(),this.sortedSet=new Kt(this.comparator)}static emptySet(t){return new Kr(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,g)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Kr)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),g=t.sortedSet.getIterator();for(;n.hasNext();){const T=n.getNext().key,A=g.getNext().key;if(!T.isEqual(A))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const g=new Kr;return g.comparator=this.comparator,g.keyedMap=t,g.sortedSet=n,g}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uy{constructor(){this.Cu=new Kt(dt.comparator)}track(t){const n=t.doc.key,g=this.Cu.get(n);g?t.type!==0&&g.type===3?this.Cu=this.Cu.insert(n,t):t.type===3&&g.type!==1?this.Cu=this.Cu.insert(n,{type:g.type,doc:t.doc}):t.type===2&&g.type===2?this.Cu=this.Cu.insert(n,{type:2,doc:t.doc}):t.type===2&&g.type===0?this.Cu=this.Cu.insert(n,{type:0,doc:t.doc}):t.type===1&&g.type===0?this.Cu=this.Cu.remove(n):t.type===1&&g.type===2?this.Cu=this.Cu.insert(n,{type:1,doc:g.doc}):t.type===0&&g.type===1?this.Cu=this.Cu.insert(n,{type:2,doc:t.doc}):gt():this.Cu=this.Cu.insert(n,t)}xu(){const t=[];return this.Cu.inorderTraversal((n,g)=>{t.push(g)}),t}}class da{constructor(t,n,g,T,A,h,S,e,u){this.query=t,this.docs=n,this.oldDocs=g,this.docChanges=T,this.mutatedKeys=A,this.fromCache=h,this.syncStateChanged=S,this.excludesMetadataChanges=e,this.hasCachedResults=u}static fromInitialDocuments(t,n,g,T,A){const h=[];return n.forEach(S=>{h.push({type:0,doc:S})}),new da(t,n,Kr.emptySet(n),h,g,T,!0,!1,A)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Df(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,g=t.docChanges;if(n.length!==g.length)return!1;for(let T=0;T<n.length;T++)if(n[T].type!==g[T].type||!n[T].doc.isEqual(g[T].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NF{constructor(){this.Nu=void 0,this.listeners=[]}}class BF{constructor(){this.queries=new fs(t=>EE(t),Df),this.onlineState="Unknown",this.ku=new Set}}async function EC(i,t){const n=Ct(i),g=t.query;let T=!1,A=n.queries.get(g);if(A||(T=!0,A=new NF),T)try{A.Nu=await n.onListen(g)}catch(h){const S=Ym(h,`Initialization of query '${Cv(t.query)}' failed`);return void t.onError(S)}n.queries.set(g,A),A.listeners.push(t),t.Mu(n.onlineState),A.Nu&&t.$u(A.Nu)&&Hm(n)}async function CC(i,t){const n=Ct(i),g=t.query;let T=!1;const A=n.queries.get(g);if(A){const h=A.listeners.indexOf(t);h>=0&&(A.listeners.splice(h,1),T=A.listeners.length===0)}if(T)return n.queries.delete(g),n.onUnlisten(g)}function GF(i,t){const n=Ct(i);let g=!1;for(const T of t){const A=T.query,h=n.queries.get(A);if(h){for(const S of h.listeners)S.$u(T)&&(g=!0);h.Nu=T}}g&&Hm(n)}function UF(i,t,n){const g=Ct(i),T=g.queries.get(t);if(T)for(const A of T.listeners)A.onError(n);g.queries.delete(t)}function Hm(i){i.ku.forEach(t=>{t.next()})}class wC{constructor(t,n,g){this.query=t,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=g||{}}$u(t){if(!this.options.includeMetadataChanges){const g=[];for(const T of t.docChanges)T.type!==3&&g.push(T);t=new da(t.query,t.docs,t.oldDocs,g,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Fu?this.Lu(t)&&(this.Ou.next(t),n=!0):this.qu(t,this.onlineState)&&(this.Uu(t),n=!0),this.Bu=t,n}onError(t){this.Ou.error(t)}Mu(t){this.onlineState=t;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,t)&&(this.Uu(this.Bu),n=!0),n}qu(t,n){if(!t.fromCache)return!0;const g=n!=="Offline";return(!this.options.Ku||!g)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Lu(t){if(t.docChanges.length>0)return!0;const n=this.Bu&&this.Bu.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Uu(t){t=da.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Fu=!0,this.Ou.next(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC{constructor(t){this.key=t}}class PC{constructor(t){this.key=t}}class bF{constructor(t,n){this.query=t,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Pt(),this.mutatedKeys=Pt(),this.tc=CE(t),this.ec=new Kr(this.tc)}get nc(){return this.Yu}sc(t,n){const g=n?n.ic:new uy,T=n?n.ec:this.ec;let A=n?n.mutatedKeys:this.mutatedKeys,h=T,S=!1;const e=this.query.limitType==="F"&&T.size===this.query.limit?T.last():null,u=this.query.limitType==="L"&&T.size===this.query.limit?T.first():null;if(t.inorderTraversal((y,f)=>{const l=T.get(y),o=Dl(this.query,f)?f:null,s=!!l&&this.mutatedKeys.has(l.key),a=!!o&&(o.hasLocalMutations||this.mutatedKeys.has(o.key)&&o.hasCommittedMutations);let c=!1;l&&o?l.data.isEqual(o.data)?s!==a&&(g.track({type:3,doc:o}),c=!0):this.rc(l,o)||(g.track({type:2,doc:o}),c=!0,(e&&this.tc(o,e)>0||u&&this.tc(o,u)<0)&&(S=!0)):!l&&o?(g.track({type:0,doc:o}),c=!0):l&&!o&&(g.track({type:1,doc:l}),c=!0,(e||u)&&(S=!0)),c&&(o?(h=h.add(o),A=a?A.add(y):A.delete(y)):(h=h.delete(y),A=A.delete(y)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const y=this.query.limitType==="F"?h.last():h.first();h=h.delete(y.key),A=A.delete(y.key),g.track({type:1,doc:y})}return{ec:h,ic:g,zi:S,mutatedKeys:A}}rc(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,g){const T=this.ec;this.ec=t.ec,this.mutatedKeys=t.mutatedKeys;const A=t.ic.xu();A.sort((u,y)=>function(f,l){const o=s=>{switch(s){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return gt()}};return o(f)-o(l)}(u.type,y.type)||this.tc(u.doc,y.doc)),this.oc(g);const h=n?this.uc():[],S=this.Zu.size===0&&this.current?1:0,e=S!==this.Xu;return this.Xu=S,A.length!==0||e?{snapshot:new da(this.query,t.ec,T,A,t.mutatedKeys,S===0,e,!1,!!g&&g.resumeToken.approximateByteSize()>0),cc:h}:{cc:h}}Mu(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({ec:this.ec,ic:new uy,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(t){return!this.Yu.has(t)&&!!this.ec.has(t)&&!this.ec.get(t).hasLocalMutations}oc(t){t&&(t.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=t.current)}uc(){if(!this.current)return[];const t=this.Zu;this.Zu=Pt(),this.ec.forEach(g=>{this.ac(g.key)&&(this.Zu=this.Zu.add(g.key))});const n=[];return t.forEach(g=>{this.Zu.has(g)||n.push(new PC(g))}),this.Zu.forEach(g=>{t.has(g)||n.push(new AC(g))}),n}hc(t){this.Yu=t.ir,this.Zu=Pt();const n=this.sc(t.documents);return this.applyChanges(n,!0)}lc(){return da.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,this.Xu===0,this.hasCachedResults)}}class VF{constructor(t,n,g){this.query=t,this.targetId=n,this.view=g}}class zF{constructor(t){this.key=t,this.fc=!1}}class XF{constructor(t,n,g,T,A,h){this.localStore=t,this.remoteStore=n,this.eventManager=g,this.sharedClientState=T,this.currentUser=A,this.maxConcurrentLimboResolutions=h,this.dc={},this.wc=new fs(S=>EE(S),Df),this._c=new Map,this.mc=new Set,this.gc=new Kt(dt.comparator),this.yc=new Map,this.Ic=new Gm,this.Tc={},this.Ec=new Map,this.Ac=er.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return this.vc===!0}}async function WF(i,t){const n=qF(i);let g,T;const A=n.wc.get(t);if(A)g=A.targetId,n.sharedClientState.addLocalQueryTarget(g),T=A.view.lc();else{const h=await dF(n.localStore,Bi(t)),S=n.sharedClientState.addLocalQueryTarget(h.targetId);g=h.targetId,T=await YF(n,t,g,S==="current",h.resumeToken),n.isPrimaryClient&&pC(n.remoteStore,h)}return T}async function YF(i,t,n,g,T){i.Rc=(f,l,o)=>async function(s,a,c,r){let d=a.view.sc(c);d.zi&&(d=await ay(s.localStore,a.query,!1).then(({documents:m})=>a.view.sc(m,d)));const v=r&&r.targetChanges.get(a.targetId),p=a.view.applyChanges(d,s.isPrimaryClient,v);return dy(s,a.targetId,p.cc),p.snapshot}(i,f,l,o);const A=await ay(i.localStore,t,!0),h=new bF(t,A.ir),S=h.sc(A.documents),e=Ol.createSynthesizedTargetChangeForCurrentChange(n,g&&i.onlineState!=="Offline",T),u=h.applyChanges(S,i.isPrimaryClient,e);dy(i,n,u.cc);const y=new VF(t,n,h);return i.wc.set(t,y),i._c.has(n)?i._c.get(n).push(t):i._c.set(n,[t]),u.snapshot}async function HF(i,t){const n=Ct(i),g=n.wc.get(t),T=n._c.get(g.targetId);if(T.length>1)return n._c.set(g.targetId,T.filter(A=>!Df(A,t))),void n.wc.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(g.targetId),n.sharedClientState.isActiveQueryTarget(g.targetId)||await Fv(n.localStore,g.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(g.targetId),mC(n.remoteStore,g.targetId),Dv(n,g.targetId)}).catch(fr)):(Dv(n,g.targetId),await Fv(n.localStore,g.targetId,!0))}async function $F(i,t,n){const g=FC(i);try{const T=await function(A,h){const S=Ct(A),e=Zt.now(),u=h.reduce((l,o)=>l.add(o.key),Pt());let y,f;return S.persistence.runTransaction("Locally write mutations","readwrite",l=>{let o=ai(),s=Pt();return S.Zi.getEntries(l,u).next(a=>{o=a,o.forEach((c,r)=>{r.isValidDocument()||(s=s.add(c))})}).next(()=>S.localDocuments.getOverlayedDocuments(l,o)).next(a=>{y=a;const c=[];for(const r of h){const d=vL(r,y.get(r.key).overlayedDocument);d!=null&&c.push(new yn(r.key,d,cE(d.value.mapValue),Ye.exists(!0)))}return S.mutationQueue.addMutationBatch(l,e,c,h)}).next(a=>{f=a;const c=a.applyToLocalDocumentSet(y,s);return S.documentOverlayCache.saveOverlays(l,a.batchId,c)})}).then(()=>({batchId:f.batchId,changes:AE(y)}))}(g.localStore,t);g.sharedClientState.addPendingMutation(T.batchId),function(A,h,S){let e=A.Tc[A.currentUser.toKey()];e||(e=new Kt(wt)),e=e.insert(h,S),A.Tc[A.currentUser.toKey()]=e}(g,T.batchId,n),await Gl(g,T.changes),await Bl(g.remoteStore)}catch(T){const A=Ym(T,"Failed to persist write");n.reject(A)}}async function RC(i,t){const n=Ct(i);try{const g=await hF(n.localStore,t);t.targetChanges.forEach((T,A)=>{const h=n.yc.get(A);h&&(yt(T.addedDocuments.size+T.modifiedDocuments.size+T.removedDocuments.size<=1),T.addedDocuments.size>0?h.fc=!0:T.modifiedDocuments.size>0?yt(h.fc):T.removedDocuments.size>0&&(yt(h.fc),h.fc=!1))}),await Gl(n,g,t)}catch(g){await fr(g)}}function fy(i,t,n){const g=Ct(i);if(g.isPrimaryClient&&n===0||!g.isPrimaryClient&&n===1){const T=[];g.wc.forEach((A,h)=>{const S=h.view.Mu(t);S.snapshot&&T.push(S.snapshot)}),function(A,h){const S=Ct(A);S.onlineState=h;let e=!1;S.queries.forEach((u,y)=>{for(const f of y.listeners)f.Mu(h)&&(e=!0)}),e&&Hm(S)}(g.eventManager,t),T.length&&g.dc.nu(T),g.onlineState=t,g.isPrimaryClient&&g.sharedClientState.setOnlineState(t)}}async function kF(i,t,n){const g=Ct(i);g.sharedClientState.updateQueryState(t,"rejected",n);const T=g.yc.get(t),A=T&&T.key;if(A){let h=new Kt(dt.comparator);h=h.insert(A,ie.newNoDocument(A,xt.min()));const S=Pt().add(A),e=new Gf(xt.min(),new Map,new Kt(wt),h,S);await RC(g,e),g.gc=g.gc.remove(A),g.yc.delete(t),$m(g)}else await Fv(g.localStore,t,!1).then(()=>Dv(g,t,n)).catch(fr)}async function jF(i,t){const n=Ct(i),g=t.batch.batchId;try{const T=await lF(n.localStore,t);IC(n,g,null),MC(n,g),n.sharedClientState.updateMutationState(g,"acknowledged"),await Gl(n,T)}catch(T){await fr(T)}}async function KF(i,t,n){const g=Ct(i);try{const T=await function(A,h){const S=Ct(A);return S.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let u;return S.mutationQueue.lookupMutationBatch(e,h).next(y=>(yt(y!==null),u=y.keys(),S.mutationQueue.removeMutationBatch(e,y))).next(()=>S.mutationQueue.performConsistencyCheck(e)).next(()=>S.documentOverlayCache.removeOverlaysForBatchId(e,u,h)).next(()=>S.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,u)).next(()=>S.localDocuments.getDocuments(e,u))})}(g.localStore,t);IC(g,t,n),MC(g,t),g.sharedClientState.updateMutationState(t,"rejected",n),await Gl(g,T)}catch(T){await fr(T)}}function MC(i,t){(i.Ec.get(t)||[]).forEach(n=>{n.resolve()}),i.Ec.delete(t)}function IC(i,t,n){const g=Ct(i);let T=g.Tc[g.currentUser.toKey()];if(T){const A=T.get(t);A&&(n?A.reject(n):A.resolve(),T=T.remove(t)),g.Tc[g.currentUser.toKey()]=T}}function Dv(i,t,n=null){i.sharedClientState.removeLocalQueryTarget(t);for(const g of i._c.get(t))i.wc.delete(g),n&&i.dc.Pc(g,n);i._c.delete(t),i.isPrimaryClient&&i.Ic.Is(t).forEach(g=>{i.Ic.containsKey(g)||LC(i,g)})}function LC(i,t){i.mc.delete(t.path.canonicalString());const n=i.gc.get(t);n!==null&&(mC(i.remoteStore,n),i.gc=i.gc.remove(t),i.yc.delete(n),$m(i))}function dy(i,t,n){for(const g of n)g instanceof AC?(i.Ic.addReference(g.key,t),QF(i,g)):g instanceof PC?(ot("SyncEngine","Document no longer in limbo: "+g.key),i.Ic.removeReference(g.key,t),i.Ic.containsKey(g.key)||LC(i,g.key)):gt()}function QF(i,t){const n=t.key,g=n.path.canonicalString();i.gc.get(n)||i.mc.has(g)||(ot("SyncEngine","New document in limbo: "+n),i.mc.add(g),$m(i))}function $m(i){for(;i.mc.size>0&&i.gc.size<i.maxConcurrentLimboResolutions;){const t=i.mc.values().next().value;i.mc.delete(t);const n=new dt(Bt.fromString(t)),g=i.Ac.next();i.yc.set(g,new zF(n)),i.gc=i.gc.insert(n,g),pC(i.remoteStore,new hn(Bi(Fl(n.path)),g,"TargetPurposeLimboResolution",yi.ct))}}async function Gl(i,t,n){const g=Ct(i),T=[],A=[],h=[];g.wc.isEmpty()||(g.wc.forEach((S,e)=>{h.push(g.Rc(e,t,n).then(u=>{if((u||n)&&g.isPrimaryClient&&g.sharedClientState.updateQueryState(e.targetId,u!=null&&u.fromCache?"not-current":"current"),u){T.push(u);const y=bm.Li(e.targetId,u);A.push(y)}}))}),await Promise.all(h),g.dc.nu(T),await async function(S,e){const u=Ct(S);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",y=>_.forEach(e,f=>_.forEach(f.Fi,l=>u.persistence.referenceDelegate.addReference(y,f.targetId,l)).next(()=>_.forEach(f.Bi,l=>u.persistence.referenceDelegate.removeReference(y,f.targetId,l)))))}catch(y){if(!us(y))throw y;ot("LocalStore","Failed to update sequence numbers: "+y)}for(const y of e){const f=y.targetId;if(!y.fromCache){const l=u.Ji.get(f),o=l.snapshotVersion,s=l.withLastLimboFreeSnapshotVersion(o);u.Ji=u.Ji.insert(f,s)}}}(g.localStore,A))}async function JF(i,t){const n=Ct(i);if(!n.currentUser.isEqual(t)){ot("SyncEngine","User change. New user:",t.toKey());const g=await uC(n.localStore,t);n.currentUser=t,function(T,A){T.Ec.forEach(h=>{h.forEach(S=>{S.reject(new ut(st.CANCELLED,A))})}),T.Ec.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,g.removedBatchIds,g.addedBatchIds),await Gl(n,g.er)}}function ZF(i,t){const n=Ct(i),g=n.yc.get(t);if(g&&g.fc)return Pt().add(g.key);{let T=Pt();const A=n._c.get(t);if(!A)return T;for(const h of A){const S=n.wc.get(h);T=T.unionWith(S.view.nc)}return T}}function qF(i){const t=Ct(i);return t.remoteStore.remoteSyncer.applyRemoteEvent=RC.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=ZF.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=kF.bind(null,t),t.dc.nu=GF.bind(null,t.eventManager),t.dc.Pc=UF.bind(null,t.eventManager),t}function FC(i){const t=Ct(i);return t.remoteStore.remoteSyncer.applySuccessfulWrite=jF.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=KF.bind(null,t),t}class Ov{constructor(){this.synchronizeTabs=!1}async initialize(t){this.serializer=zf(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),await this.persistence.start(),this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore)}createGarbageCollectionScheduler(t,n){return null}createIndexBackfillerScheduler(t,n){return null}createLocalStore(t){return hC(this.persistence,new lC,t.initialUser,this.serializer)}createPersistence(t){return new oC(Vf.zs,this.serializer)}createSharedClientState(t){return new dC}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class _F extends Ov{constructor(t,n,g){super(),this.Vc=t,this.cacheSizeBytes=n,this.forceOwnership=g,this.synchronizeTabs=!1}async initialize(t){await super.initialize(t),await this.Vc.initialize(this,t),await FC(this.Vc.syncEngine),await Bl(this.Vc.remoteStore),await this.persistence.Ii(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}createLocalStore(t){return hC(this.persistence,new lC,t.initialUser,this.serializer)}createGarbageCollectionScheduler(t,n){const g=this.persistence.referenceDelegate.garbageCollector;return new $L(g,t.asyncQueue,n)}createIndexBackfillerScheduler(t,n){const g=new C5(n,this.persistence);return new E5(t.asyncQueue,g)}createPersistence(t){const n=aF(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),g=this.cacheSizeBytes!==void 0?Qe.withCacheSize(this.cacheSizeBytes):Qe.DEFAULT;return new Um(this.synchronizeTabs,n,t.clientId,g,t.asyncQueue,xF(),Gh(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(t){return new dC}}class DC{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=g=>fy(this.syncEngine,g,1),this.remoteStore.remoteSyncer.handleCredentialChange=JF.bind(null,this.syncEngine),await OF(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return new BF}createDatastore(t){const n=zf(t.databaseInfo.databaseId),g=(T=t.databaseInfo,new gF(T));var T;return function(A,h,S,e){return new SF(A,h,S,e)}(t.authCredentials,t.appCheckCredentials,g,n)}createRemoteStore(t){return n=this.localStore,g=this.datastore,T=t.asyncQueue,A=S=>fy(this.syncEngine,S,0),h=ly.D()?new ly:new vF,new CF(n,g,T,A,h);var n,g,T,A,h}createSyncEngine(t,n){return function(g,T,A,h,S,e,u){const y=new XF(g,T,A,h,S,e);return u&&(y.vc=!0),y}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}terminate(){return async function(t){const n=Ct(t);ot("RemoteStore","RemoteStore shutting down."),n.vu.add(5),await Nl(n),n.Pu.shutdown(),n.bu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Sc(this.observer.next,t)}error(t){this.observer.error?this.Sc(this.observer.error,t):Xe("Uncaught Error in snapshot listener:",t.toString())}Dc(){this.muted=!0}Sc(t,n){this.muted||setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tD{constructor(t,n,g,T){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=g,this.databaseInfo=T,this.user=Ce.UNAUTHENTICATED,this.clientId=tE.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(g,async A=>{ot("FirestoreClient","Received user=",A.uid),await this.authCredentialListener(A),this.user=A}),this.appCheckCredentials.start(g,A=>(ot("FirestoreClient","Received new app check token=",A),this.appCheckCredentialListener(A,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ut(st.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Ji;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const g=Ym(n,"Failed to shutdown persistence");t.reject(g)}}),t.promise}}async function Uh(i,t){i.asyncQueue.verifyOperationInProgress(),ot("FirestoreClient","Initializing OfflineComponentProvider");const n=await i.getConfiguration();await t.initialize(n);let g=n.initialUser;i.setCredentialChangeListener(async T=>{g.isEqual(T)||(await uC(t.localStore,T),g=T)}),t.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=t}async function Nv(i,t){i.asyncQueue.verifyOperationInProgress();const n=await eD(i);ot("FirestoreClient","Initializing OnlineComponentProvider");const g=await i.getConfiguration();await t.initialize(n,g),i.setCredentialChangeListener(T=>hy(t.remoteStore,T)),i.setAppCheckTokenChangeListener((T,A)=>hy(t.remoteStore,A)),i._onlineComponents=t}function NC(i){return i.name==="FirebaseError"?i.code===st.FAILED_PRECONDITION||i.code===st.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}async function eD(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ot("FirestoreClient","Using user provided OfflineComponentProvider");try{await Uh(i,i._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!NC(n))throw n;qn("Error using user provided cache. Falling back to memory cache: "+n),await Uh(i,new Ov)}}else ot("FirestoreClient","Using default OfflineComponentProvider"),await Uh(i,new Ov);return i._offlineComponents}async function BC(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ot("FirestoreClient","Using user provided OnlineComponentProvider"),await Nv(i,i._uninitializedComponentsProvider._online)):(ot("FirestoreClient","Using default OnlineComponentProvider"),await Nv(i,new DC))),i._onlineComponents}function iD(i){return BC(i).then(t=>t.syncEngine)}async function Bv(i){const t=await BC(i),n=t.eventManager;return n.onListen=WF.bind(null,t.syncEngine),n.onUnlisten=HF.bind(null,t.syncEngine),n}function nD(i,t,n={}){const g=new Ji;return i.asyncQueue.enqueueAndForget(async()=>function(T,A,h,S,e){const u=new OC({next:f=>{A.enqueueAndForget(()=>CC(T,y));const l=f.docs.has(h);!l&&f.fromCache?e.reject(new ut(st.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&f.fromCache&&S&&S.source==="server"?e.reject(new ut(st.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):e.resolve(f)},error:f=>e.reject(f)}),y=new wC(Fl(h.path),u,{includeMetadataChanges:!0,Ku:!0});return EC(T,y)}(await Bv(i),i.asyncQueue,t,n,g)),g.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GC(i){const t={};return i.timeoutSeconds!==void 0&&(t.timeoutSeconds=i.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cy=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UC(i,t,n){if(!n)throw new ut(st.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${t}.`)}function sD(i,t,n,g){if(t===!0&&g===!0)throw new ut(st.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function vy(i){if(!dt.isDocumentKey(i))throw new ut(st.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function py(i){if(dt.isDocumentKey(i))throw new ut(st.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Wf(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const t=function(n){return n.constructor?n.constructor.name:null}(i);return t?`a custom ${t} object`:"an object"}}return typeof i=="function"?"a function":gt()}function Ei(i,t){if("_delegate"in i&&(i=i._delegate),!(i instanceof t)){if(t.name===i.constructor.name)throw new ut(st.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Wf(i);throw new ut(st.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return i}function rD(i,t){if(t<=0)throw new ut(st.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${t}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class my{constructor(t){var n,g;if(t.host===void 0){if(t.ssl!==void 0)throw new ut(st.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.cache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new ut(st.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}sD("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=GC((g=t.experimentalLongPollingOptions)!==null&&g!==void 0?g:{}),function(T){if(T.timeoutSeconds!==void 0){if(isNaN(T.timeoutSeconds))throw new ut(st.INVALID_ARGUMENT,`invalid long polling timeout: ${T.timeoutSeconds} (must not be NaN)`);if(T.timeoutSeconds<5)throw new ut(st.INVALID_ARGUMENT,`invalid long polling timeout: ${T.timeoutSeconds} (minimum allowed value is 5)`);if(T.timeoutSeconds>30)throw new ut(st.INVALID_ARGUMENT,`invalid long polling timeout: ${T.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(n=this.experimentalLongPollingOptions,g=t.experimentalLongPollingOptions,n.timeoutSeconds===g.timeoutSeconds)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams;var n,g}}class Yf{constructor(t,n,g,T){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=g,this._app=T,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new my({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ut(st.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(t){if(this._settingsFrozen)throw new ut(st.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new my(t),t.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new h5;switch(n.type){case"firstParty":return new c5(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new ut(st.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const n=cy.get(t);n&&(ot("ComponentProvider","Removing Datastore"),cy.delete(t),n.terminate())}(this),Promise.resolve()}}function aD(i,t,n,g={}){var T;const A=(i=Ei(i,Yf))._getSettings(),h=`${t}:${n}`;if(A.host!=="firestore.googleapis.com"&&A.host!==h&&qn("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),i._setSettings(Object.assign(Object.assign({},A),{host:h,ssl:!1})),g.mockUserToken){let S,e;if(typeof g.mockUserToken=="string")S=g.mockUserToken,e=Ce.MOCK_USER;else{S=A4(g.mockUserToken,(T=i._app)===null||T===void 0?void 0:T.options.projectId);const u=g.mockUserToken.sub||g.mockUserToken.user_id;if(!u)throw new ut(st.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");e=new Ce(u)}i._authCredentials=new u5(new _2(S,e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(t,n,g){this.converter=n,this._key=g,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Kn(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new be(this.firestore,t,this._key)}}class ds{constructor(t,n,g){this.converter=n,this._query=g,this.type="query",this.firestore=t}withConverter(t){return new ds(this.firestore,t,this._query)}}class Kn extends ds{constructor(t,n,g){super(t,n,Fl(g)),this._path=g,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new be(this.firestore,null,new dt(t))}withConverter(t){return new Kn(this.firestore,t,this._path)}}function Gv(i,t,...n){if(i=oe(i),UC("collection","path",t),i instanceof Yf){const g=Bt.fromString(t,...n);return py(g),new Kn(i,null,g)}{if(!(i instanceof be||i instanceof Kn))throw new ut(st.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const g=i._path.child(Bt.fromString(t,...n));return py(g),new Kn(i.firestore,null,g)}}function ge(i,t,...n){if(i=oe(i),arguments.length===1&&(t=tE.A()),UC("doc","path",t),i instanceof Yf){const g=Bt.fromString(t,...n);return vy(g),new be(i,null,new dt(g))}{if(!(i instanceof be||i instanceof Kn))throw new ut(st.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const g=i._path.child(Bt.fromString(t,...n));return vy(g),new be(i.firestore,i instanceof Kn?i.converter:null,new dt(g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new cC(this,"async_queue_retry"),this.Xc=()=>{const n=Gh();n&&ot("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const t=Gh();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Zc(),this.ta(t)}enterRestrictedMode(t){if(!this.jc){this.jc=!0,this.Jc=t||!1;const n=Gh();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(t){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new Ji;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Qc.push(t),this.ea()))}async ea(){if(this.Qc.length!==0){try{await this.Qc[0](),this.Qc.shift(),this.qo.reset()}catch(t){if(!us(t))throw t;ot("AsyncQueue","Operation failed with retryable error: "+t)}this.Qc.length>0&&this.qo.No(()=>this.ea())}}ta(t){const n=this.Gc.then(()=>(this.Hc=!0,t().catch(g=>{this.Wc=g,this.Hc=!1;const T=function(A){let h=A.message||"";return A.stack&&(h=A.stack.includes(A.message)?A.stack:A.message+`
`+A.stack),h}(g);throw Xe("INTERNAL UNHANDLED ERROR: ",T),g}).then(g=>(this.Hc=!1,g))));return this.Gc=n,n}enqueueAfterDelay(t,n,g){this.Zc(),this.Yc.indexOf(t)>-1&&(n=0);const T=Wm.createAndSchedule(this,t,n,g,A=>this.na(A));return this.zc.push(T),T}Zc(){this.Wc&&gt()}verifyOperationInProgress(){}async sa(){let t;do t=this.Gc,await t;while(t!==this.Gc)}ia(t){for(const n of this.zc)if(n.timerId===t)return!0;return!1}ra(t){return this.sa().then(()=>{this.zc.sort((n,g)=>n.targetTimeMs-g.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.sa()})}oa(t){this.Yc.push(t)}na(t){const n=this.zc.indexOf(t);this.zc.splice(n,1)}}function gy(i){return function(t,n){if(typeof t!="object"||t===null)return!1;const g=t;for(const T of n)if(T in g&&typeof g[T]=="function")return!0;return!1}(i,["next","error","complete"])}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lD=-1;class ns extends Yf{constructor(t,n,g,T){super(t,n,g,T),this.type="firestore",this._queue=new oD,this._persistenceKey=(T==null?void 0:T.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||bC(this),this._firestoreClient.terminate()}}function hD(i,t){const n=typeof i=="object"?i:Xp(),g=typeof i=="string"?i:t||"(default)",T=lr(n,"firestore").getImmediate({identifier:g});if(!T._initialized){const A=C4("firestore");A&&aD(T,...A)}return T}function Hf(i){return i._firestoreClient||bC(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function bC(i){var t,n,g;const T=i._freezeSettings(),A=function(h,S,e,u){return new H5(h,S,e,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,GC(u.experimentalLongPollingOptions),u.useFetchStreams)}(i._databaseId,((t=i._app)===null||t===void 0?void 0:t.options.appId)||"",i._persistenceKey,T);i._firestoreClient=new tD(i._authCredentials,i._appCheckCredentials,i._queue,A),!((n=T.cache)===null||n===void 0)&&n._offlineComponentProvider&&(!((g=T.cache)===null||g===void 0)&&g._onlineComponentProvider)&&(i._firestoreClient._uninitializedComponentsProvider={_offlineKind:T.cache.kind,_offline:T.cache._offlineComponentProvider,_online:T.cache._onlineComponentProvider})}function uD(i,t){dD(i=Ei(i,ns));const n=Hf(i);if(n._uninitializedComponentsProvider)throw new ut(st.FAILED_PRECONDITION,"SDK cache is already specified.");qn("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const g=i._freezeSettings(),T=new DC;return fD(n,T,new _F(T,g.cacheSizeBytes,t==null?void 0:t.forceOwnership))}function fD(i,t,n){const g=new Ji;return i.asyncQueue.enqueue(async()=>{try{await Uh(i,n),await Nv(i,t),g.resolve()}catch(T){const A=T;if(!NC(A))throw A;qn("Error enabling indexeddb cache. Falling back to memory cache: "+A),g.reject(A)}}).then(()=>g.promise)}function dD(i){if(i._initialized||i._terminated)throw new ut(st.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(t){this._byteString=t}static fromBase64String(t){try{return new ca(Ie.fromBase64String(t))}catch(n){throw new ut(st.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new ca(Ie.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $f{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new ut(st.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ue(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class km{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new ut(st.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new ut(st.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return wt(this._lat,t._lat)||wt(this._long,t._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cD=/^__.*__$/;class vD{constructor(t,n,g){this.data=t,this.fieldMask=n,this.fieldTransforms=g}toMutation(t,n){return this.fieldMask!==null?new yn(t,this.data,this.fieldMask,n,this.fieldTransforms):new La(t,this.data,n,this.fieldTransforms)}}class VC{constructor(t,n,g){this.data=t,this.fieldMask=n,this.fieldTransforms=g}toMutation(t,n){return new yn(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function zC(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw gt()}}class kf{constructor(t,n,g,T,A,h){this.settings=t,this.databaseId=n,this.serializer=g,this.ignoreUndefinedProperties=T,A===void 0&&this.ua(),this.fieldTransforms=A||[],this.fieldMask=h||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(t){return new kf(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(t){var n;const g=(n=this.path)===null||n===void 0?void 0:n.child(t),T=this.aa({path:g,la:!1});return T.fa(t),T}da(t){var n;const g=(n=this.path)===null||n===void 0?void 0:n.child(t),T=this.aa({path:g,la:!1});return T.ua(),T}wa(t){return this.aa({path:void 0,la:!0})}_a(t){return bu(t,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}ua(){if(this.path)for(let t=0;t<this.path.length;t++)this.fa(this.path.get(t))}fa(t){if(t.length===0)throw this._a("Document fields must not be empty");if(zC(this.ca)&&cD.test(t))throw this._a('Document fields cannot begin and end with "__"')}}class pD{constructor(t,n,g){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=g||zf(t)}ya(t,n,g,T=!1){return new kf({ca:t,methodName:n,ga:g,path:ue.emptyPath(),la:!1,ma:T},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function jf(i){const t=i._freezeSettings(),n=zf(i._databaseId);return new pD(i._databaseId,!!t.ignoreUndefinedProperties,n)}function XC(i,t,n,g,T,A={}){const h=i.ya(A.merge||A.mergeFields?2:0,t,n,T);Km("Data must be an object, but it was:",h,g);const S=WC(g,h);let e,u;if(A.merge)e=new _e(h.fieldMask),u=h.fieldTransforms;else if(A.mergeFields){const y=[];for(const f of A.mergeFields){const l=Uv(t,f,n);if(!h.contains(l))throw new ut(st.INVALID_ARGUMENT,`Field '${l}' is specified in your field mask but missing from your input data.`);HC(y,l)||y.push(l)}e=new _e(y),u=h.fieldTransforms.filter(f=>e.covers(f.field))}else e=null,u=h.fieldTransforms;return new vD(new Be(S),e,u)}class Kf extends Da{_toFieldTransform(t){if(t.ca!==2)throw t.ca===1?t._a(`${this._methodName}() can only appear at the top level of your update data`):t._a(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Kf}}function mD(i,t,n){return new kf({ca:3,ga:t.settings.ga,methodName:i._methodName,la:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class jm extends Da{_toFieldTransform(t){return new Nf(t.path,new la)}isEqual(t){return t instanceof jm}}class gD extends Da{constructor(t,n){super(t),this.pa=n}_toFieldTransform(t){const n=mD(this,t,!0),g=this.pa.map(A=>Oa(A,n)),T=new qs(g);return new Nf(t.path,T)}isEqual(t){return this===t}}class xD extends Da{constructor(t,n){super(t),this.Ia=n}_toFieldTransform(t){const n=new ua(t.serializer,IE(t.serializer,this.Ia));return new Nf(t.path,n)}isEqual(t){return this===t}}function yD(i,t,n,g){const T=i.ya(1,t,n);Km("Data must be an object, but it was:",T,g);const A=[],h=Be.empty();dr(g,(e,u)=>{const y=Qm(t,e,n);u=oe(u);const f=T.da(y);if(u instanceof Kf)A.push(y);else{const l=Oa(u,f);l!=null&&(A.push(y),h.set(y,l))}});const S=new _e(A);return new VC(h,S,T.fieldTransforms)}function TD(i,t,n,g,T,A){const h=i.ya(1,t,n),S=[Uv(t,g,n)],e=[T];if(A.length%2!=0)throw new ut(st.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let l=0;l<A.length;l+=2)S.push(Uv(t,A[l])),e.push(A[l+1]);const u=[],y=Be.empty();for(let l=S.length-1;l>=0;--l)if(!HC(u,S[l])){const o=S[l];let s=e[l];s=oe(s);const a=h.da(o);if(s instanceof Kf)u.push(o);else{const c=Oa(s,a);c!=null&&(u.push(o),y.set(o,c))}}const f=new _e(u);return new VC(y,f,h.fieldTransforms)}function SD(i,t,n,g=!1){return Oa(n,i.ya(g?4:3,t))}function Oa(i,t){if(YC(i=oe(i)))return Km("Unsupported field value:",t,i),WC(i,t);if(i instanceof Da)return function(n,g){if(!zC(g.ca))throw g._a(`${n._methodName}() can only be used with update() and set()`);if(!g.path)throw g._a(`${n._methodName}() is not currently supported inside arrays`);const T=n._toFieldTransform(g);T&&g.fieldTransforms.push(T)}(i,t),null;if(i===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),i instanceof Array){if(t.settings.la&&t.ca!==4)throw t._a("Nested arrays are not supported");return function(n,g){const T=[];let A=0;for(const h of n){let S=Oa(h,g.wa(A));S==null&&(S={nullValue:"NULL_VALUE"}),T.push(S),A++}return{arrayValue:{values:T}}}(i,t)}return function(n,g){if((n=oe(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return IE(g.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const T=Zt.fromDate(n);return{timestampValue:fa(g.serializer,T)}}if(n instanceof Zt){const T=new Zt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:fa(g.serializer,T)}}if(n instanceof km)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof ca)return{bytesValue:zE(g.serializer,n._byteString)};if(n instanceof be){const T=g.databaseId,A=n.firestore._databaseId;if(!A.isEqual(T))throw g._a(`Document reference is for database ${A.projectId}/${A.database} but should be for database ${T.projectId}/${T.database}`);return{referenceValue:Om(n.firestore._databaseId||g.databaseId,n._key.path)}}throw g._a(`Unsupported field value: ${Wf(n)}`)}(i,t)}function WC(i,t){const n={};return uE(i)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):dr(i,(g,T)=>{const A=Oa(T,t.ha(g));A!=null&&(n[g]=A)}),{mapValue:{fields:n}}}function YC(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof Zt||i instanceof km||i instanceof ca||i instanceof be||i instanceof Da)}function Km(i,t,n){if(!YC(n)||!function(g){return typeof g=="object"&&g!==null&&(Object.getPrototypeOf(g)===Object.prototype||Object.getPrototypeOf(g)===null)}(n)){const g=Wf(n);throw g==="an object"?t._a(i+" a custom object"):t._a(i+" "+g)}}function Uv(i,t,n){if((t=oe(t))instanceof $f)return t._internalPath;if(typeof t=="string")return Qm(i,t);throw bu("Field path arguments must be of type string or ",i,!1,void 0,n)}const ED=new RegExp("[~\\*/\\[\\]]");function Qm(i,t,n){if(t.search(ED)>=0)throw bu(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new $f(...t.split("."))._internalPath}catch{throw bu(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function bu(i,t,n,g,T){const A=g&&!g.isEmpty(),h=T!==void 0;let S=`Function ${t}() called with invalid data`;n&&(S+=" (via `toFirestore()`)"),S+=". ";let e="";return(A||h)&&(e+=" (found",A&&(e+=` in field ${g}`),h&&(e+=` in document ${T}`),e+=")"),new ut(st.INVALID_ARGUMENT,S+i+e)}function HC(i,t){return i.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{constructor(t,n,g,T,A){this._firestore=t,this._userDataWriter=n,this._key=g,this._document=T,this._converter=A}get id(){return this._key.path.lastSegment()}get ref(){return new be(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new CD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(Jm("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class CD extends $C{data(){return super.data()}}function Jm(i,t){return typeof t=="string"?Qm(i,t):t instanceof $f?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wD(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new ut(st.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Zm{}class qm extends Zm{}function kC(i,t,...n){let g=[];t instanceof Zm&&g.push(t),g=g.concat(n),function(T){const A=T.filter(S=>S instanceof tg).length,h=T.filter(S=>S instanceof _m).length;if(A>1||A>0&&h>0)throw new ut(st.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(g);for(const T of g)i=T._apply(i);return i}class _m extends qm{constructor(t,n,g){super(),this._field=t,this._op=n,this._value=g,this.type="where"}static _create(t,n,g){return new _m(t,n,g)}_apply(t){const n=this._parse(t);return KC(t._query,n),new ds(t.firestore,t.converter,Ev(t._query,n))}_parse(t){const n=jf(t.firestore);return function(T,A,h,S,e,u,y){let f;if(e.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new ut(st.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){yy(y,u);const l=[];for(const o of y)l.push(xy(S,T,o));f={arrayValue:{values:l}}}else f=xy(S,T,y)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||yy(y,u),f=SD(h,A,y,u==="in"||u==="not-in");return Lt.create(e,u,f)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}class tg extends Zm{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new tg(t,n)}_parse(t){const n=this._queryConstraints.map(g=>g._parse(t)).filter(g=>g.getFilters().length>0);return n.length===1?n[0]:Gt.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(g,T){let A=g;const h=T.getFlattenedFilters();for(const S of h)KC(A,S),A=Ev(A,S)}(t._query,n),new ds(t.firestore,t.converter,Ev(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class eg extends qm{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new eg(t,n)}_apply(t){const n=function(g,T,A){if(g.startAt!==null)throw new ut(st.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(g.endAt!==null)throw new ut(st.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const h=new kr(T,A);return function(S,e){if(Pm(S)===null){const u=Ff(S);u!==null&&QC(S,u,e.field)}}(g,h),h}(t._query,this._field,this._direction);return new ds(t.firestore,t.converter,function(g,T){const A=g.explicitOrderBy.concat([T]);return new Ia(g.path,g.collectionGroup,A,g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(t._query,n))}}function jC(i,t="asc"){const n=t,g=Jm("orderBy",i);return eg._create(g,n)}class ig extends qm{constructor(t,n,g){super(),this.type=t,this._limit=n,this._limitType=g}static _create(t,n,g){return new ig(t,n,g)}_apply(t){return new ds(t.firestore,t.converter,Fu(t._query,this._limit,this._limitType))}}function AD(i){return rD("limit",i),ig._create("limit",i,"F")}function xy(i,t,n){if(typeof(n=oe(n))=="string"){if(n==="")throw new ut(st.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!SE(t)&&n.indexOf("/")!==-1)throw new ut(st.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const g=t.path.child(Bt.fromString(n));if(!dt.isDocumentKey(g))throw new ut(st.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${g}' is not because it has an odd number of segments (${g.length}).`);return ll(i,new dt(g))}if(n instanceof be)return ll(i,n._key);throw new ut(st.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Wf(n)}.`)}function yy(i,t){if(!Array.isArray(i)||i.length===0)throw new ut(st.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function KC(i,t){if(t.isInequality()){const g=Ff(i),T=t.field;if(g!==null&&!g.isEqual(T))throw new ut(st.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${g.toString()}' and '${T.toString()}'`);const A=Pm(i);A!==null&&QC(i,T,A)}const n=function(g,T){for(const A of g)for(const h of A.getFlattenedFilters())if(T.indexOf(h.op)>=0)return h.op;return null}(i.filters,function(g){switch(g){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new ut(st.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ut(st.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}function QC(i,t,n){if(!n.isEqual(t))throw new ut(st.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class PD{convertValue(t,n="none"){switch(Js(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ee(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(ts(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 10:return this.convertObject(t.mapValue,n);default:throw gt()}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const g={};return dr(t,(T,A)=>{g[T]=this.convertValue(A,n)}),g}convertGeoPoint(t){return new km(ee(t.latitude),ee(t.longitude))}convertArray(t,n){return(t.values||[]).map(g=>this.convertValue(g,n))}convertServerTimestamp(t,n){switch(n){case"previous":const g=wm(t);return g==null?null:this.convertValue(g,n);case"estimate":return this.convertTimestamp(al(t));default:return null}}convertTimestamp(t){const n=_n(t);return new Zt(n.seconds,n.nanos)}convertDocumentKey(t,n){const g=Bt.fromString(t);yt(QE(g));const T=new Qs(g.get(1),g.get(3)),A=new dt(g.popFirst(5));return T.isEqual(n)||Xe(`Document ${A} contains a document reference within a different database (${T.projectId}/${T.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),A}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JC(i,t,n){let g;return g=i?n&&(n.merge||n.mergeFields)?i.toFirestore(t,n):i.toFirestore(t):t,g}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class ZC extends $C{constructor(t,n,g,T,A,h){super(t,n,g,T,h),this._firestore=t,this._firestoreImpl=t,this.metadata=A}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new bh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const g=this._document.data.field(Jm("DocumentSnapshot.get",t));if(g!==null)return this._userDataWriter.convertValue(g,n.serverTimestamps)}}}class bh extends ZC{data(t={}){return super.data(t)}}class RD{constructor(t,n,g,T){this._firestore=t,this._userDataWriter=n,this._snapshot=T,this.metadata=new lo(T.hasPendingWrites,T.fromCache),this.query=g}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(g=>{t.call(n,new bh(this._firestore,this._userDataWriter,g.key,g,new lo(this._snapshot.mutatedKeys.has(g.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ut(st.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(g,T){if(g._snapshot.oldDocs.isEmpty()){let A=0;return g._snapshot.docChanges.map(h=>{const S=new bh(g._firestore,g._userDataWriter,h.doc.key,h.doc,new lo(g._snapshot.mutatedKeys.has(h.doc.key),g._snapshot.fromCache),g.query.converter);return h.doc,{type:"added",doc:S,oldIndex:-1,newIndex:A++}})}{let A=g._snapshot.oldDocs;return g._snapshot.docChanges.filter(h=>T||h.type!==3).map(h=>{const S=new bh(g._firestore,g._userDataWriter,h.doc.key,h.doc,new lo(g._snapshot.mutatedKeys.has(h.doc.key),g._snapshot.fromCache),g.query.converter);let e=-1,u=-1;return h.type!==0&&(e=A.indexOf(h.doc.key),A=A.delete(h.doc.key)),h.type!==1&&(A=A.add(h.doc),u=A.indexOf(h.doc.key)),{type:MD(h.type),doc:S,oldIndex:e,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function MD(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return gt()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ng(i){i=Ei(i,be);const t=Ei(i.firestore,ns);return nD(Hf(t),i._key).then(n=>tw(t,i,n))}class qC extends PD{constructor(t){super(),this.firestore=t}convertBytes(t){return new ca(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new be(this.firestore,null,n)}}function bv(i,t,n){i=Ei(i,be);const g=Ei(i.firestore,ns),T=JC(i.converter,t,n);return sg(g,[XC(jf(g),"setDoc",i._key,T,i.converter!==null,n).toMutation(i._key,Ye.none())])}function Ze(i,t,n,...g){i=Ei(i,be);const T=Ei(i.firestore,ns),A=jf(T);let h;return h=typeof(t=oe(t))=="string"||t instanceof $f?TD(A,"updateDoc",i._key,t,n,g):yD(A,"updateDoc",i._key,t),sg(T,[h.toMutation(i._key,Ye.exists(!0))])}function ID(i,t){const n=Ei(i.firestore,ns),g=ge(i),T=JC(i.converter,t);return sg(n,[XC(jf(i.firestore),"addDoc",g._key,T,i.converter!==null,{}).toMutation(g._key,Ye.exists(!1))]).then(()=>g)}function _C(i,...t){var n,g,T;i=oe(i);let A={includeMetadataChanges:!1},h=0;typeof t[h]!="object"||gy(t[h])||(A=t[h],h++);const S={includeMetadataChanges:A.includeMetadataChanges};if(gy(t[h])){const f=t[h];t[h]=(n=f.next)===null||n===void 0?void 0:n.bind(f),t[h+1]=(g=f.error)===null||g===void 0?void 0:g.bind(f),t[h+2]=(T=f.complete)===null||T===void 0?void 0:T.bind(f)}let e,u,y;if(i instanceof be)u=Ei(i.firestore,ns),y=Fl(i._key.path),e={next:f=>{t[h]&&t[h](tw(u,i,f))},error:t[h+1],complete:t[h+2]};else{const f=Ei(i,ds);u=Ei(f.firestore,ns),y=f._query;const l=new qC(u);e={next:o=>{t[h]&&t[h](new RD(u,l,f,o))},error:t[h+1],complete:t[h+2]},wD(i._query)}return function(f,l,o,s){const a=new OC(s),c=new wC(l,a,o);return f.asyncQueue.enqueueAndForget(async()=>EC(await Bv(f),c)),()=>{a.Dc(),f.asyncQueue.enqueueAndForget(async()=>CC(await Bv(f),c))}}(Hf(u),y,S,e)}function sg(i,t){return function(n,g){const T=new Ji;return n.asyncQueue.enqueueAndForget(async()=>$F(await iD(n),g,T)),T.promise}(Hf(i),t)}function tw(i,t,n){const g=n.docs.get(t._key),T=new qC(i);return new ZC(i,T,t._key,g,new lo(n.hasPendingWrites,n.fromCache),t.converter)}function Vu(){return new jm("serverTimestamp")}function Ul(...i){return new gD("arrayUnion",i)}function Gi(i){return new xD("increment",i)}(function(i,t=!0){(function(n){Ma=n})(Ea),Zi(new Oi("firestore",(n,{instanceIdentifier:g,options:T})=>{const A=n.getProvider("app").getImmediate(),h=new ns(new f5(n.getProvider("auth-internal")),new p5(n.getProvider("app-check-internal")),function(S,e){if(!Object.prototype.hasOwnProperty.apply(S.options,["projectId"]))throw new ut(st.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Qs(S.options.projectId,e)}(A,g),A);return T=Object.assign({useFetchStreams:t},T),h._setSettings(T),h},"PUBLIC").setMultipleInstances(!0)),Si(gx,"3.13.0",i),Si(gx,"3.13.0","esm2017")})();const LD=(i,t)=>t.some(n=>i instanceof n);let Ty,Sy;function FD(){return Ty||(Ty=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function DD(){return Sy||(Sy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ew=new WeakMap,Vv=new WeakMap,iw=new WeakMap,$d=new WeakMap,rg=new WeakMap;function OD(i){const t=new Promise((n,g)=>{const T=()=>{i.removeEventListener("success",A),i.removeEventListener("error",h)},A=()=>{n(Qn(i.result)),T()},h=()=>{g(i.error),T()};i.addEventListener("success",A),i.addEventListener("error",h)});return t.then(n=>{n instanceof IDBCursor&&ew.set(n,i)}).catch(()=>{}),rg.set(t,i),t}function ND(i){if(Vv.has(i))return;const t=new Promise((n,g)=>{const T=()=>{i.removeEventListener("complete",A),i.removeEventListener("error",h),i.removeEventListener("abort",h)},A=()=>{n(),T()},h=()=>{g(i.error||new DOMException("AbortError","AbortError")),T()};i.addEventListener("complete",A),i.addEventListener("error",h),i.addEventListener("abort",h)});Vv.set(i,t)}let zv={get(i,t,n){if(i instanceof IDBTransaction){if(t==="done")return Vv.get(i);if(t==="objectStoreNames")return i.objectStoreNames||iw.get(i);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Qn(i[t])},set(i,t,n){return i[t]=n,!0},has(i,t){return i instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in i}};function BD(i){zv=i(zv)}function GD(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const g=i.call(kd(this),t,...n);return iw.set(g,t.sort?t.sort():[t]),Qn(g)}:DD().includes(i)?function(...t){return i.apply(kd(this),t),Qn(ew.get(this))}:function(...t){return Qn(i.apply(kd(this),t))}}function UD(i){return typeof i=="function"?GD(i):(i instanceof IDBTransaction&&ND(i),LD(i,FD())?new Proxy(i,zv):i)}function Qn(i){if(i instanceof IDBRequest)return OD(i);if($d.has(i))return $d.get(i);const t=UD(i);return t!==i&&($d.set(i,t),rg.set(t,i)),t}const kd=i=>rg.get(i);function bD(i,t,{blocked:n,upgrade:g,blocking:T,terminated:A}={}){const h=indexedDB.open(i,t),S=Qn(h);return g&&h.addEventListener("upgradeneeded",e=>{g(Qn(h.result),e.oldVersion,e.newVersion,Qn(h.transaction))}),n&&h.addEventListener("blocked",()=>n()),S.then(e=>{A&&e.addEventListener("close",()=>A()),T&&e.addEventListener("versionchange",()=>T())}).catch(()=>{}),S}const VD=["get","getKey","getAll","getAllKeys","count"],zD=["put","add","delete","clear"],jd=new Map;function Ey(i,t){if(!(i instanceof IDBDatabase&&!(t in i)&&typeof t=="string"))return;if(jd.get(t))return jd.get(t);const n=t.replace(/FromIndex$/,""),g=t!==n,T=zD.includes(n);if(!(n in(g?IDBIndex:IDBObjectStore).prototype)||!(T||VD.includes(n)))return;const A=async function(h,...S){const e=this.transaction(h,T?"readwrite":"readonly");let u=e.store;return g&&(u=u.index(S.shift())),(await Promise.all([u[n](...S),T&&e.done]))[0]};return jd.set(t,A),A}BD(i=>({...i,get:(t,n,g)=>Ey(t,n)||i.get(t,n,g),has:(t,n)=>!!Ey(t,n)||i.has(t,n)}));const nw="@firebase/installations",ag="0.6.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sw=1e4,rw=`w:${ag}`,aw="FIS_v2",XD="https://firebaseinstallations.googleapis.com/v1",WD=60*60*1e3,YD="installations",HD="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $D={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},ir=new or(YD,HD,$D);function ow(i){return i instanceof Ui&&i.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lw({projectId:i}){return`${XD}/projects/${i}/installations`}function hw(i){return{token:i.token,requestStatus:2,expiresIn:jD(i.expiresIn),creationTime:Date.now()}}async function uw(i,t){const g=(await t.json()).error;return ir.create("request-failed",{requestName:i,serverCode:g.code,serverMessage:g.message,serverStatus:g.status})}function fw({apiKey:i}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":i})}function kD(i,{refreshToken:t}){const n=fw(i);return n.append("Authorization",KD(t)),n}async function dw(i){const t=await i();return t.status>=500&&t.status<600?i():t}function jD(i){return Number(i.replace("s","000"))}function KD(i){return`${aw} ${i}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QD({appConfig:i,heartbeatServiceProvider:t},{fid:n}){const g=lw(i),T=fw(i),A=t.getImmediate({optional:!0});if(A){const u=await A.getHeartbeatsHeader();u&&T.append("x-firebase-client",u)}const h={fid:n,authVersion:aw,appId:i.appId,sdkVersion:rw},S={method:"POST",headers:T,body:JSON.stringify(h)},e=await dw(()=>fetch(g,S));if(e.ok){const u=await e.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:hw(u.authToken)}}else throw await uw("Create Installation",e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cw(i){return new Promise(t=>{setTimeout(t,i)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JD(i){return btoa(String.fromCharCode(...i)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZD=/^[cdef][\w-]{21}$/,Xv="";function qD(){try{const i=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(i),i[0]=112+i[0]%16;const n=_D(i);return ZD.test(n)?n:Xv}catch{return Xv}}function _D(i){return JD(i).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qf(i){return`${i.appName}!${i.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vw=new Map;function pw(i,t){const n=Qf(i);mw(n,t),tO(n,t)}function mw(i,t){const n=vw.get(i);if(n)for(const g of n)g(t)}function tO(i,t){const n=eO();n&&n.postMessage({key:i,fid:t}),iO()}let Ns=null;function eO(){return!Ns&&"BroadcastChannel"in self&&(Ns=new BroadcastChannel("[Firebase] FID Change"),Ns.onmessage=i=>{mw(i.data.key,i.data.fid)}),Ns}function iO(){vw.size===0&&Ns&&(Ns.close(),Ns=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nO="firebase-installations-database",sO=1,nr="firebase-installations-store";let Kd=null;function og(){return Kd||(Kd=bD(nO,sO,{upgrade:(i,t)=>{switch(t){case 0:i.createObjectStore(nr)}}})),Kd}async function zu(i,t){const n=Qf(i),T=(await og()).transaction(nr,"readwrite"),A=T.objectStore(nr),h=await A.get(n);return await A.put(t,n),await T.done,(!h||h.fid!==t.fid)&&pw(i,t.fid),t}async function gw(i){const t=Qf(i),g=(await og()).transaction(nr,"readwrite");await g.objectStore(nr).delete(t),await g.done}async function Jf(i,t){const n=Qf(i),T=(await og()).transaction(nr,"readwrite"),A=T.objectStore(nr),h=await A.get(n),S=t(h);return S===void 0?await A.delete(n):await A.put(S,n),await T.done,S&&(!h||h.fid!==S.fid)&&pw(i,S.fid),S}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lg(i){let t;const n=await Jf(i.appConfig,g=>{const T=rO(g),A=aO(i,T);return t=A.registrationPromise,A.installationEntry});return n.fid===Xv?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}function rO(i){const t=i||{fid:qD(),registrationStatus:0};return xw(t)}function aO(i,t){if(t.registrationStatus===0){if(!navigator.onLine){const T=Promise.reject(ir.create("app-offline"));return{installationEntry:t,registrationPromise:T}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},g=oO(i,n);return{installationEntry:n,registrationPromise:g}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:lO(i)}:{installationEntry:t}}async function oO(i,t){try{const n=await QD(i,t);return zu(i.appConfig,n)}catch(n){throw ow(n)&&n.customData.serverCode===409?await gw(i.appConfig):await zu(i.appConfig,{fid:t.fid,registrationStatus:0}),n}}async function lO(i){let t=await Cy(i.appConfig);for(;t.registrationStatus===1;)await cw(100),t=await Cy(i.appConfig);if(t.registrationStatus===0){const{installationEntry:n,registrationPromise:g}=await lg(i);return g||n}return t}function Cy(i){return Jf(i,t=>{if(!t)throw ir.create("installation-not-found");return xw(t)})}function xw(i){return hO(i)?{fid:i.fid,registrationStatus:0}:i}function hO(i){return i.registrationStatus===1&&i.registrationTime+sw<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uO({appConfig:i,heartbeatServiceProvider:t},n){const g=fO(i,n),T=kD(i,n),A=t.getImmediate({optional:!0});if(A){const u=await A.getHeartbeatsHeader();u&&T.append("x-firebase-client",u)}const h={installation:{sdkVersion:rw,appId:i.appId}},S={method:"POST",headers:T,body:JSON.stringify(h)},e=await dw(()=>fetch(g,S));if(e.ok){const u=await e.json();return hw(u)}else throw await uw("Generate Auth Token",e)}function fO(i,{fid:t}){return`${lw(i)}/${t}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hg(i,t=!1){let n;const g=await Jf(i.appConfig,A=>{if(!yw(A))throw ir.create("not-registered");const h=A.authToken;if(!t&&vO(h))return A;if(h.requestStatus===1)return n=dO(i,t),A;{if(!navigator.onLine)throw ir.create("app-offline");const S=mO(A);return n=cO(i,S),S}});return n?await n:g.authToken}async function dO(i,t){let n=await wy(i.appConfig);for(;n.authToken.requestStatus===1;)await cw(100),n=await wy(i.appConfig);const g=n.authToken;return g.requestStatus===0?hg(i,t):g}function wy(i){return Jf(i,t=>{if(!yw(t))throw ir.create("not-registered");const n=t.authToken;return gO(n)?Object.assign(Object.assign({},t),{authToken:{requestStatus:0}}):t})}async function cO(i,t){try{const n=await uO(i,t),g=Object.assign(Object.assign({},t),{authToken:n});return await zu(i.appConfig,g),n}catch(n){if(ow(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await gw(i.appConfig);else{const g=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await zu(i.appConfig,g)}throw n}}function yw(i){return i!==void 0&&i.registrationStatus===2}function vO(i){return i.requestStatus===2&&!pO(i)}function pO(i){const t=Date.now();return t<i.creationTime||i.creationTime+i.expiresIn<t+WD}function mO(i){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},i),{authToken:t})}function gO(i){return i.requestStatus===1&&i.requestTime+sw<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xO(i){const t=i,{installationEntry:n,registrationPromise:g}=await lg(t);return g?g.catch(console.error):hg(t).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yO(i,t=!1){const n=i;return await TO(n),(await hg(n,t)).token}async function TO(i){const{registrationPromise:t}=await lg(i);t&&await t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SO(i){if(!i||!i.options)throw Qd("App Configuration");if(!i.name)throw Qd("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!i.options[n])throw Qd(n);return{appName:i.name,projectId:i.options.projectId,apiKey:i.options.apiKey,appId:i.options.appId}}function Qd(i){return ir.create("missing-app-config-values",{valueName:i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tw="installations",EO="installations-internal",CO=i=>{const t=i.getProvider("app").getImmediate(),n=SO(t),g=lr(t,"heartbeat");return{app:t,appConfig:n,heartbeatServiceProvider:g,_delete:()=>Promise.resolve()}},wO=i=>{const t=i.getProvider("app").getImmediate(),n=lr(t,Tw).getImmediate();return{getId:()=>xO(n),getToken:T=>yO(n,T)}};function AO(){Zi(new Oi(Tw,CO,"PUBLIC")),Zi(new Oi(EO,wO,"PRIVATE"))}AO();Si(nw,ag);Si(nw,ag,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xu="analytics",PO="firebase_id",RO="origin",MO=60*1e3,IO="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",ug="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ni=new uf("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LO={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},li=new or("analytics","Analytics",LO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FO(i){if(!i.startsWith(ug)){const t=li.create("invalid-gtag-resource",{gtagURL:i});return ni.warn(t.message),""}return i}function Sw(i){return Promise.all(i.map(t=>t.catch(n=>n)))}function DO(i,t){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(i,t)),n}function OO(i,t){const n=DO("firebase-js-sdk-policy",{createScriptURL:FO}),g=document.createElement("script"),T=`${ug}?l=${i}&id=${t}`;g.src=n?n==null?void 0:n.createScriptURL(T):T,g.async=!0,document.head.appendChild(g)}function NO(i){let t=[];return Array.isArray(window[i])?t=window[i]:window[i]=t,t}async function BO(i,t,n,g,T,A){const h=g[T];try{if(h)await t[h];else{const e=(await Sw(n)).find(u=>u.measurementId===T);e&&await t[e.appId]}}catch(S){ni.error(S)}i("config",T,A)}async function GO(i,t,n,g,T){try{let A=[];if(T&&T.send_to){let h=T.send_to;Array.isArray(h)||(h=[h]);const S=await Sw(n);for(const e of h){const u=S.find(f=>f.measurementId===e),y=u&&t[u.appId];if(y)A.push(y);else{A=[];break}}}A.length===0&&(A=Object.values(t)),await Promise.all(A),i("event",g,T||{})}catch(A){ni.error(A)}}function UO(i,t,n,g){async function T(A,...h){try{if(A==="event"){const[S,e]=h;await GO(i,t,n,S,e)}else if(A==="config"){const[S,e]=h;await BO(i,t,n,g,S,e)}else if(A==="consent"){const[S]=h;i("consent","update",S)}else if(A==="get"){const[S,e,u]=h;i("get",S,e,u)}else if(A==="set"){const[S]=h;i("set",S)}else i(A,...h)}catch(S){ni.error(S)}}return T}function bO(i,t,n,g,T){let A=function(...h){window[g].push(arguments)};return window[T]&&typeof window[T]=="function"&&(A=window[T]),window[T]=UO(A,i,t,n),{gtagCore:A,wrappedGtag:window[T]}}function VO(i){const t=window.document.getElementsByTagName("script");for(const n of Object.values(t))if(n.src&&n.src.includes(ug)&&n.src.includes(i))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zO=30,XO=1e3;class WO{constructor(t={},n=XO){this.throttleMetadata=t,this.intervalMillis=n}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,n){this.throttleMetadata[t]=n}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const Ew=new WO;function YO(i){return new Headers({Accept:"application/json","x-goog-api-key":i})}async function HO(i){var t;const{appId:n,apiKey:g}=i,T={method:"GET",headers:YO(g)},A=IO.replace("{app-id}",n),h=await fetch(A,T);if(h.status!==200&&h.status!==304){let S="";try{const e=await h.json();!((t=e.error)===null||t===void 0)&&t.message&&(S=e.error.message)}catch{}throw li.create("config-fetch-failed",{httpStatus:h.status,responseMessage:S})}return h.json()}async function $O(i,t=Ew,n){const{appId:g,apiKey:T,measurementId:A}=i.options;if(!g)throw li.create("no-app-id");if(!T){if(A)return{measurementId:A,appId:g};throw li.create("no-api-key")}const h=t.getThrottleMetadata(g)||{backoffCount:0,throttleEndTimeMillis:Date.now()},S=new KO;return setTimeout(async()=>{S.abort()},n!==void 0?n:MO),Cw({appId:g,apiKey:T,measurementId:A},h,S,t)}async function Cw(i,{throttleEndTimeMillis:t,backoffCount:n},g,T=Ew){var A;const{appId:h,measurementId:S}=i;try{await kO(g,t)}catch(e){if(S)return ni.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${S} provided in the "measurementId" field in the local Firebase config. [${e==null?void 0:e.message}]`),{appId:h,measurementId:S};throw e}try{const e=await HO(i);return T.deleteThrottleMetadata(h),e}catch(e){const u=e;if(!jO(u)){if(T.deleteThrottleMetadata(h),S)return ni.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${S} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:h,measurementId:S};throw e}const y=Number((A=u==null?void 0:u.customData)===null||A===void 0?void 0:A.httpStatus)===503?D0(n,T.intervalMillis,zO):D0(n,T.intervalMillis),f={throttleEndTimeMillis:Date.now()+y,backoffCount:n+1};return T.setThrottleMetadata(h,f),ni.debug(`Calling attemptFetch again in ${y} millis`),Cw(i,f,g,T)}}function kO(i,t){return new Promise((n,g)=>{const T=Math.max(t-Date.now(),0),A=setTimeout(n,T);i.addEventListener(()=>{clearTimeout(A),g(li.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function jO(i){if(!(i instanceof Ui)||!i.customData)return!1;const t=Number(i.customData.httpStatus);return t===429||t===500||t===503||t===504}class KO{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function QO(i,t,n,g,T){if(T&&T.global){i("event",n,g);return}else{const A=await t,h=Object.assign(Object.assign({},g),{send_to:A});i("event",n,h)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JO(){if(hf())try{await Vp()}catch(i){return ni.warn(li.create("indexeddb-unavailable",{errorInfo:i==null?void 0:i.toString()}).message),!1}else return ni.warn(li.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function ZO(i,t,n,g,T,A,h){var S;const e=$O(i);e.then(o=>{n[o.measurementId]=o.appId,i.options.measurementId&&o.measurementId!==i.options.measurementId&&ni.warn(`The measurement ID in the local Firebase config (${i.options.measurementId}) does not match the measurement ID fetched from the server (${o.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(o=>ni.error(o)),t.push(e);const u=JO().then(o=>{if(o)return g.getId()}),[y,f]=await Promise.all([e,u]);VO(A)||OO(A,y.measurementId),T("js",new Date);const l=(S=h==null?void 0:h.config)!==null&&S!==void 0?S:{};return l[RO]="firebase",l.update=!0,f!=null&&(l[PO]=f),T("config",y.measurementId,l),y.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qO{constructor(t){this.app=t}_delete(){return delete Ao[this.app.options.appId],Promise.resolve()}}let Ao={},Ay=[];const Py={};let Jd="dataLayer",_O="gtag",Ry,ww,My=!1;function t6(){const i=[];if(bp()&&i.push("This is a browser extension environment."),fS()||i.push("Cookies are not available."),i.length>0){const t=i.map((g,T)=>`(${T+1}) ${g}`).join(" "),n=li.create("invalid-analytics-context",{errorInfo:t});ni.warn(n.message)}}function e6(i,t,n){t6();const g=i.options.appId;if(!g)throw li.create("no-app-id");if(!i.options.apiKey)if(i.options.measurementId)ni.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${i.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw li.create("no-api-key");if(Ao[g]!=null)throw li.create("already-exists",{id:g});if(!My){NO(Jd);const{wrappedGtag:A,gtagCore:h}=bO(Ao,Ay,Py,Jd,_O);ww=A,Ry=h,My=!0}return Ao[g]=ZO(i,Ay,Py,t,Ry,Jd,n),new qO(i)}function i6(i=Xp()){i=oe(i);const t=lr(i,Xu);return t.isInitialized()?t.getImmediate():n6(i)}function n6(i,t={}){const n=lr(i,Xu);if(n.isInitialized()){const T=n.getImmediate();if($o(t,n.getOptions()))return T;throw li.create("already-initialized")}return n.initialize({options:t})}async function s6(){if(bp()||!fS()||!hf())return!1;try{return await Vp()}catch{return!1}}function r6(i,t,n,g){i=oe(i),QO(ww,Ao[i.app.options.appId],t,n,g).catch(T=>ni.error(T))}const Iy="@firebase/analytics",Ly="0.10.0";function a6(){Zi(new Oi(Xu,(t,{options:n})=>{const g=t.getProvider("app").getImmediate(),T=t.getProvider("installations-internal").getImmediate();return e6(g,T,n)},"PUBLIC")),Zi(new Oi("analytics-internal",i,"PRIVATE")),Si(Iy,Ly),Si(Iy,Ly,"esm2017");function i(t){try{const n=t.getProvider(Xu).getImmediate();return{logEvent:(g,T,A)=>r6(n,g,T,A)}}catch(n){throw li.create("interop-component-reg-failed",{reason:n})}}}a6();const o6={apiKey:"AIzaSyC4GmEBVHWJPWrqwUWXJ300Y1FaHPrOspA",authDomain:"scamslayer-44d4b.firebaseapp.com",projectId:"scamslayer-44d4b",storageBucket:"scamslayer-44d4b.firebasestorage.app",messagingSenderId:"866816742649",appId:"1:866816742649:web:1b1ff63fc498bad6433e28",measurementId:"G-20Z8BDJ705"},fg=vS(o6),Er=eI(fg),re=hD(fg);uD(re,{cacheSizeBytes:lD}).catch(i=>{i.code=="failed-precondition"?console.warn("Multiple tabs open, persistence can only be enabled in one tab at a a time."):i.code=="unimplemented"&&console.warn("The current browser does not support offline persistence")});const l6=new en;Er.onAuthStateChanged(i=>{i?console.log("User signed in:",i.email):console.log("No user signed in")},i=>{console.error("Auth state change error:",i)});s6().then(i=>{i&&i6(fg)}).catch(()=>{});const Fy=i=>{let t;const n=new Set,g=(y,f)=>{const l=typeof y=="function"?y(t):y;if(!Object.is(l,t)){const o=t;t=f??(typeof l!="object"||l===null)?l:Object.assign({},t,l),n.forEach(s=>s(t,o))}},T=()=>t,e={setState:g,getState:T,getInitialState:()=>u,subscribe:y=>(n.add(y),()=>n.delete(y)),destroy:()=>{n.clear()}},u=t=i(g,T,e);return e},h6=i=>i?Fy(i):Fy;var Aw={exports:{}},Pw={},Rw={exports:{}},Mw={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var va=tt;function u6(i,t){return i===t&&(i!==0||1/i===1/t)||i!==i&&t!==t}var f6=typeof Object.is=="function"?Object.is:u6,d6=va.useState,c6=va.useEffect,v6=va.useLayoutEffect,p6=va.useDebugValue;function m6(i,t){var n=t(),g=d6({inst:{value:n,getSnapshot:t}}),T=g[0].inst,A=g[1];return v6(function(){T.value=n,T.getSnapshot=t,Zd(T)&&A({inst:T})},[i,n,t]),c6(function(){return Zd(T)&&A({inst:T}),i(function(){Zd(T)&&A({inst:T})})},[i]),p6(n),n}function Zd(i){var t=i.getSnapshot;i=i.value;try{var n=t();return!f6(i,n)}catch{return!0}}function g6(i,t){return t()}var x6=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?g6:m6;Mw.useSyncExternalStore=va.useSyncExternalStore!==void 0?va.useSyncExternalStore:x6;Rw.exports=Mw;var y6=Rw.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zf=tt,T6=y6;function S6(i,t){return i===t&&(i!==0||1/i===1/t)||i!==i&&t!==t}var E6=typeof Object.is=="function"?Object.is:S6,C6=T6.useSyncExternalStore,w6=Zf.useRef,A6=Zf.useEffect,P6=Zf.useMemo,R6=Zf.useDebugValue;Pw.useSyncExternalStoreWithSelector=function(i,t,n,g,T){var A=w6(null);if(A.current===null){var h={hasValue:!1,value:null};A.current=h}else h=A.current;A=P6(function(){function e(o){if(!u){if(u=!0,y=o,o=g(o),T!==void 0&&h.hasValue){var s=h.value;if(T(s,o))return f=s}return f=o}if(s=f,E6(y,o))return s;var a=g(o);return T!==void 0&&T(s,a)?(y=o,s):(y=o,f=a)}var u=!1,y,f,l=n===void 0?null:n;return[function(){return e(t())},l===null?void 0:function(){return e(l())}]},[t,n,g,T]);var S=C6(i,A[0],A[1]);return A6(function(){h.hasValue=!0,h.value=S},[S]),R6(S),S};Aw.exports=Pw;var M6=Aw.exports;const I6=Yv(M6),{useDebugValue:L6}=Yy,{useSyncExternalStoreWithSelector:F6}=I6;const D6=i=>i;function O6(i,t=D6,n){const g=F6(i.subscribe,i.getState,i.getServerState||i.getInitialState,t,n);return L6(g),g}const Dy=i=>{const t=typeof i=="function"?h6(i):i,n=(g,T)=>O6(t,g,T);return Object.assign(n,t),n},N6=i=>i?Dy(i):Dy,Tn=N6((i,t)=>(console.log("Initializing user store"),{user:null,profile:null,setUser:n=>{console.log("Setting user:",n),i({user:n})},setProfile:n=>{console.log("Setting profile:",n),i({profile:n})}}));function B6(){const{user:i,setUser:t,setProfile:n}=Tn(),[g,T]=tt.useState(!1),[A,h]=tt.useState("");tt.useEffect(()=>{const u=WM(Er,async y=>{var f;if(t(y),y){const l=ge(re,"users",y.uid),o=await ng(l);o.exists()?n(o.data()):(await bv(l,{uid:y.uid,name:y.displayName||((f=y.email)==null?void 0:f.split("@")[0])||"Anon",photoURL:y.photoURL||"",xp:0,badges:[],createdAt:Vu()}),n({uid:y.uid,name:y.displayName||"Anon",photoURL:y.photoURL||"",xp:0,badges:[]}))}else n(null)});return()=>u()},[t,n]);const S=async()=>{T(!0);try{await u9(Er,l6),h("")}catch(u){h((u==null?void 0:u.message)||"Google sign-in failed. Check provider in Firebase Console.")}finally{T(!1)}},e=async()=>{const u=window.prompt("Email");if(!u)return;const y=window.prompt("Password (min 6 chars)");if(y){T(!0);try{try{await VM(Er,u,y)}catch{await bM(Er,u,y)}h("")}catch(f){h((f==null?void 0:f.message)||"Email sign-in failed")}finally{T(!1)}}};return i?K.jsxs("div",{className:"flex items-center gap-2",children:[i.photoURL?K.jsx("img",{src:i.photoURL,alt:"pfp",className:"w-7 h-7 rounded-full"}):K.jsx("div",{className:"w-7 h-7 rounded-full bg-white/10 grid place-items-center text-xs",children:(i.email||"?")[0].toUpperCase()}),K.jsx("button",{disabled:g,onClick:()=>YM(Er),className:"px-3 py-1.5 rounded-lg bg-white/10 hover:bg-white/20 text-sm",children:"Sign out"}),A&&K.jsx("div",{className:"text-xs text-red-400 max-w-[220px]",children:A})]}):K.jsxs("div",{className:"flex items-center gap-2",children:[K.jsx("button",{disabled:g,onClick:S,className:"px-3 py-1.5 rounded-lg bg-white/10 hover:bg-white/20 text-sm",children:"Sign in"}),K.jsx("button",{disabled:g,onClick:e,className:"px-3 py-1.5 rounded-lg bg-[--color-neon] text-sm",children:"Email"}),A&&K.jsx("div",{className:"text-xs text-red-400 max-w-[220px]",children:A})]})}function G6(){const i=localStorage.getItem("scamslayer_theme");return i==="light"||i==="dark"?i:"dark"}function U6(){const[i,t]=tt.useState(G6);return tt.useEffect(()=>{const n=document.documentElement;i==="light"?n.classList.add("theme-light"):n.classList.remove("theme-light"),localStorage.setItem("scamslayer_theme",i)},[i]),K.jsx("button",{"aria-label":"Toggle theme",title:"Toggle theme",onClick:()=>t(n=>n==="light"?"dark":"light"),className:"px-2 py-1 rounded-lg bg-white/10 hover:bg-white/20 text-sm",children:i==="light"?"":""})}function b6(){const i=({isActive:t})=>`px-3 py-2 rounded-lg text-sm font-medium transition-colors nav-underline hover-pop ${t?"bg-white/10 text-white":"text-white/70 hover:text-white hover:bg-white/5"}`;return K.jsx("header",{className:"sticky top-0 z-40 border-b border-white/10 bg-[--color-bg]/70 backdrop-blur-md",children:K.jsxs("div",{className:"mx-auto max-w-6xl px-4 h-14 flex items-center justify-between gap-4",children:[K.jsxs(fn,{to:"/",className:"flex items-center gap-2",children:[K.jsx(c4,{className:"text-[--color-neon]",size:20}),K.jsx("span",{className:"font-bold tracking-wide",children:"ScamSlayer"})]}),K.jsxs("nav",{className:"flex items-center gap-1",children:[K.jsx(pr,{to:"/",className:i,end:!0,children:K.jsx(d4,{size:16})}),K.jsx(pr,{to:"/missions",className:i,children:K.jsx(L0,{size:16})}),K.jsx(pr,{to:"/minigames",className:i,children:K.jsx(L0,{size:16})}),K.jsx(pr,{to:"/leaderboard",className:i,children:K.jsx(f4,{size:16})}),K.jsx(pr,{to:"/teams",className:i,children:K.jsx(p4,{size:16})}),K.jsx(pr,{to:"/profile",className:i,children:K.jsx(v4,{size:16})})]}),K.jsxs("div",{className:"flex items-center gap-2",children:[K.jsx(U6,{}),K.jsx(B6,{})]})]})})}function V6(){var S;const{user:i,profile:t}=Tn(),n=(t==null?void 0:t.xp)??0,g=1+Math.floor(n/250),T=g*250,A=Math.min(100,Math.round(n/T*100)),h=tt.useMemo(()=>{try{return JSON.parse(localStorage.getItem("missions_done")||"[]")}catch{return[]}},[]);return K.jsxs("div",{className:"mx-auto max-w-6xl p-6 space-y-6 relative",children:[K.jsx("div",{className:"aurora-bg","aria-hidden":!0}),K.jsxs("section",{className:"glass hero-aurora p-6 rounded-2xl grid md:grid-cols-3 gap-4",children:[K.jsxs("div",{className:"md:col-span-2 space-y-2",children:[K.jsxs("div",{className:"text-sm text-white/70",children:["Welcome",i?`, ${(t==null?void 0:t.name)||((S=i.email)==null?void 0:S.split("@")[0])}`:"","!"]}),K.jsx("h1",{className:"text-3xl font-extrabold",children:"Ready to outsmart fraudsters?"}),K.jsx("div",{className:"h-2 w-full rounded-full bg-white/10 overflow-hidden",children:K.jsx("div",{className:"h-full bg-gradient-to-r from-[--color-neon] to-[--color-neon2]",style:{width:A+"%"}})}),K.jsxs("div",{className:"text-sm text-white/70",children:["Level ",K.jsx("span",{className:"font-semibold text-white",children:g}),"  ",n," XP"]})]}),K.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[K.jsxs(fn,{to:"/missions",className:"glass p-4 rounded-xl hover-pop hover-glow",children:[K.jsx("div",{className:"text-xs text-white/60",children:"Progress"}),K.jsxs("div",{className:"text-2xl font-bold",children:[h.length,"/3"]}),K.jsx("div",{className:"text-xs text-white/60",children:"Missions"})]}),K.jsxs(fn,{to:"/profile",className:"glass p-4 rounded-xl hover-pop hover-glow",children:[K.jsx("div",{className:"text-xs text-white/60",children:"Badges"}),K.jsx("div",{className:"text-2xl font-bold",children:((t==null?void 0:t.badges)||[]).length}),K.jsx("div",{className:"text-xs text-white/60",children:"Earned"})]}),K.jsxs(fn,{to:"/minigames",className:"glass p-4 rounded-xl hover-pop hover-glow col-span-2",children:[K.jsx("div",{className:"text-xs text-white/60",children:"Mini Game"}),K.jsx("div",{className:"text-lg font-semibold",children:"Spot the Scam  Play now"})]})]})]}),K.jsxs("section",{className:"space-y-3",children:[K.jsx("div",{className:"text-lg font-semibold",children:"Missions"}),K.jsxs("div",{className:"grid md:grid-cols-3 gap-3",children:[K.jsx(qd,{title:"The Phishing Test",diff:"Easy",xp:150,done:h.includes(0),to:"/missions"}),K.jsx(qd,{title:"OTP Guardian",diff:"Medium",xp:200,done:h.includes(1),to:"/missions"}),K.jsx(qd,{title:"The Prize Trap",diff:"Hard",xp:250,done:h.includes(2),to:"/missions"})]})]})]})}function qd({title:i,diff:t,xp:n,done:g,to:T}){return K.jsxs(fn,{to:T,className:"glass p-5 rounded-2xl hover-pop hover-glow block",children:[K.jsxs("div",{className:"flex items-center justify-between mb-3",children:[K.jsx("div",{className:"text-sm text-white/70",children:t}),K.jsx("div",{className:`text-xs px-2 py-1 rounded-lg ${g?"bg-white/10 text-white/80":"bg-[--color-neon] text-black font-semibold"}`,children:g?"Completed":"Start"})]}),K.jsx("div",{className:"text-lg font-semibold",children:i}),K.jsxs("div",{className:"text-sm text-white/60 mt-1",children:["+",n," XP"]})]})}function z6({scenario:i,onResult:t}){const[n,g]=tt.useState(0),T=i[n];return K.jsxs("div",{className:"space-y-3",children:[K.jsx("div",{className:"space-y-2",children:T.messages.map((A,h)=>K.jsx("div",{className:`max-w-[80%] ${A.from==="npc"?"ml-0":"ml-auto"}`,children:K.jsx("div",{className:`px-3 py-2 rounded-2xl ${A.from==="npc"?"bg-white/10 animate-bubble-left":"bg-[--color-neon]/30 animate-bubble-right"}`,children:K.jsx("div",{className:"text-sm",children:A.text})})},h))}),K.jsx("div",{className:"grid sm:grid-cols-2 gap-2",children:T.choices.map((A,h)=>K.jsx("button",{className:"glass hover:bg-white/20 transition-colors px-3 py-2 text-left animate-slide-up hover-pop",onClick:()=>{t==null||t(A.result),typeof A.result.next=="number"&&g(A.result.next)},children:A.text},h))}),T.feedback&&K.jsx("div",{className:"glass p-3 text-sm",children:T.feedback})]})}function dg(){const i=tt.useRef(null),t=()=>i.current??(i.current=new(window.AudioContext||window.webkitAudioContext)),n=tt.useCallback((h=880,S=.08,e="sine",u=.06)=>{try{const y=t(),f=y.createOscillator(),l=y.createGain();f.type=e,f.frequency.value=h,l.gain.value=u,f.connect(l),l.connect(y.destination);const o=y.currentTime;f.start(o),f.stop(o+S),l.gain.setValueAtTime(u,o+S-.03),l.gain.exponentialRampToValueAtTime(1e-4,o+S)}catch{}},[]),g=tt.useCallback(()=>n(660,.09,"triangle",.08),[n]),T=tt.useCallback(()=>{n(523.25,.07,"sine",.06),setTimeout(()=>n(659.25,.08,"sine",.06),70)},[n]),A=tt.useCallback(()=>n(196,.12,"sawtooth",.05),[n]);return{pop:g,success:T,fail:A}}function bl({show:i,text:t="",tone:n="medium",onClose:g}){const{pop:T}=dg();if(tt.useEffect(()=>{if(!i)return;T();const h=setTimeout(()=>g==null?void 0:g(),1800);return()=>clearTimeout(h)},[i,g]),!i)return null;const A=n==="spicy"?"border-red-500/70":n==="mild"?"border-white/20":"border-[--color-neon]/70";return K.jsx("div",{className:"fixed inset-0 pointer-events-none flex items-start justify-center mt-16 px-4 z-[100]",children:K.jsx("div",{className:`pointer-events-auto glass ${A} border-2 max-w-md w-full p-4 text-center shadow-[0_0_40px_rgba(124,58,237,.35)] animate-in fade-in zoom-in-95`,children:K.jsx("div",{className:"text-lg font-semibold",children:t})})})}function X6({show:i,onDone:t,emojis:n=["","","","","",""]}){const g=tt.useMemo(()=>Array.from({length:28},(T,A)=>({i:A})),[]);return tt.useEffect(()=>{if(!i)return;const T=setTimeout(()=>t==null?void 0:t(),1400);return()=>clearTimeout(T)},[i,t]),i?K.jsxs("div",{className:"pointer-events-none fixed inset-0 z-[120] overflow-hidden",children:[K.jsx("style",{children:`
        @keyframes popDrop { 0%{transform:translateY(-20px) scale(.6); opacity:0} 15%{opacity:1} 100%{transform:translateY(120vh) rotate(360deg); opacity:0} }
      `}),g.map((T,A)=>{const h=Math.random()*100,S=Math.random()*.2,e=.9+Math.random()*.7,u=Math.random()*60-30+"deg",y=n[A%n.length],f={position:"absolute",left:h+"%",top:"-10px",fontSize:`${18+Math.random()*10}px`,filter:"drop-shadow(0 0 8px rgba(124,58,237,.6))",animation:`popDrop ${e}s ${S}s ease-in forwards`,transform:`rotate(${u})`};return K.jsx("span",{style:f,children:y},A)})]}):null}function W6({badge:i,onClose:t}){const{success:n}=dg();return tt.useEffect(()=>{n();const g=setTimeout(t,3e3);return()=>clearTimeout(g)},[t,n]),K.jsx("div",{className:"fixed inset-0 pointer-events-none flex items-center justify-center p-4 z-[100]",children:K.jsx("div",{className:"pointer-events-auto max-w-md bg-[--color-neon]/20 backdrop-blur-sm border border-[--color-neon] rounded-xl p-6 shadow-[0_0_50px_rgba(124,58,237,0.5)] animate-in zoom-in-95 duration-300",children:K.jsxs("div",{className:"text-center space-y-3",children:[K.jsx("div",{className:"text-6xl animate-bounce",children:""}),K.jsx("h3",{className:"text-xl font-bold",children:"New Badge Unlocked!"}),K.jsx("p",{className:"text-[--color-neon2] font-semibold",children:i})]})})})}function Y6({xp:i,badges:t,onClose:n}){const[g,T]=tt.useState(!1),A=` Level up! Just earned ${i} XP on ScamSlayer!
${t.length?` Latest badge: ${t[t.length-1]}
`:""}Join me in fighting scams! `,h=async()=>{T(!0);try{navigator.share?await navigator.share({title:"My ScamSlayer Progress",text:A,url:window.location.origin}):(await navigator.clipboard.writeText(A),alert("Copied to clipboard! "))}catch(S){console.error("Error sharing:",S)}T(!1),n==null||n()};return K.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:K.jsxs("div",{className:"bg-[--color-bg] rounded-xl max-w-md w-full p-6 space-y-4",children:[K.jsx("h3",{className:"text-xl font-bold",children:"Share Your Progress"}),K.jsx("div",{className:"p-4 bg-white/5 rounded-lg",children:K.jsx("pre",{className:"whitespace-pre-wrap text-sm",children:A})}),K.jsxs("div",{className:"flex gap-3",children:[K.jsx("button",{onClick:h,disabled:g,className:"flex-1 px-4 py-2 bg-[--color-neon] hover:bg-[--color-neon2] rounded-lg transition-colors",children:g?"Sharing...":"Share "}),K.jsx("button",{onClick:n,className:"px-4 py-2 bg-white/10 hover:bg-white/20 rounded-lg transition-colors",children:"Cancel"})]})]})})}var Iw={exports:{}};(function(i,t){(function(g,T){i.exports=T()})(Fw,()=>(()=>{var n={50792:h=>{var S=Object.prototype.hasOwnProperty,e="~";function u(){}Object.create&&(u.prototype=Object.create(null),new u().__proto__||(e=!1));function y(s,a,c){this.fn=s,this.context=a,this.once=c||!1}function f(s,a,c,r,d){if(typeof c!="function")throw new TypeError("The listener must be a function");var v=new y(c,r||s,d),p=e?e+a:a;return s._events[p]?s._events[p].fn?s._events[p]=[s._events[p],v]:s._events[p].push(v):(s._events[p]=v,s._eventsCount++),s}function l(s,a){--s._eventsCount===0?s._events=new u:delete s._events[a]}function o(){this._events=new u,this._eventsCount=0}o.prototype.eventNames=function(){var a=[],c,r;if(this._eventsCount===0)return a;for(r in c=this._events)S.call(c,r)&&a.push(e?r.slice(1):r);return Object.getOwnPropertySymbols?a.concat(Object.getOwnPropertySymbols(c)):a},o.prototype.listeners=function(a){var c=e?e+a:a,r=this._events[c];if(!r)return[];if(r.fn)return[r.fn];for(var d=0,v=r.length,p=new Array(v);d<v;d++)p[d]=r[d].fn;return p},o.prototype.listenerCount=function(a){var c=e?e+a:a,r=this._events[c];return r?r.fn?1:r.length:0},o.prototype.emit=function(a,c,r,d,v,p){var m=e?e+a:a;if(!this._events[m])return!1;var x=this._events[m],E=arguments.length,w,C;if(x.fn){switch(x.once&&this.removeListener(a,x.fn,void 0,!0),E){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,c),!0;case 3:return x.fn.call(x.context,c,r),!0;case 4:return x.fn.call(x.context,c,r,d),!0;case 5:return x.fn.call(x.context,c,r,d,v),!0;case 6:return x.fn.call(x.context,c,r,d,v,p),!0}for(C=1,w=new Array(E-1);C<E;C++)w[C-1]=arguments[C];x.fn.apply(x.context,w)}else{var P=x.length,R;for(C=0;C<P;C++)switch(x[C].once&&this.removeListener(a,x[C].fn,void 0,!0),E){case 1:x[C].fn.call(x[C].context);break;case 2:x[C].fn.call(x[C].context,c);break;case 3:x[C].fn.call(x[C].context,c,r);break;case 4:x[C].fn.call(x[C].context,c,r,d);break;default:if(!w)for(R=1,w=new Array(E-1);R<E;R++)w[R-1]=arguments[R];x[C].fn.apply(x[C].context,w)}}return!0},o.prototype.on=function(a,c,r){return f(this,a,c,r,!1)},o.prototype.once=function(a,c,r){return f(this,a,c,r,!0)},o.prototype.removeListener=function(a,c,r,d){var v=e?e+a:a;if(!this._events[v])return this;if(!c)return l(this,v),this;var p=this._events[v];if(p.fn)p.fn===c&&(!d||p.once)&&(!r||p.context===r)&&l(this,v);else{for(var m=0,x=[],E=p.length;m<E;m++)(p[m].fn!==c||d&&!p[m].once||r&&p[m].context!==r)&&x.push(p[m]);x.length?this._events[v]=x.length===1?x[0]:x:l(this,v)}return this},o.prototype.removeAllListeners=function(a){var c;return a?(c=e?e+a:a,this._events[c]&&l(this,c)):(this._events=new u,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=e,o.EventEmitter=o,h.exports=o},11517:(h,S,e)=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(38829),y=function(f,l,o,s){for(var a=f[0],c=1;c<f.length;c++){var r=f[c];u(r,a,l,o,s),a=r}return f};h.exports=y},80318:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(66979),y=function(f,l,o,s,a){return u(f,"angle",l,o,s,a)};h.exports=y},60757:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u,y){for(var f=0;f<e.length;f++){var l=e[f];u.call(y,l)}return e};h.exports=S},69927:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u,y){y===void 0&&(y=0);for(var f=y;f<e.length;f++){var l=e[f],o=!0;for(var s in u)l[s]!==u[s]&&(o=!1);if(o)return l}return null};h.exports=S},32265:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u,y){y===void 0&&(y=0);for(var f=e.length-1;f>=y;f--){var l=e[f],o=!0;for(var s in u)l[s]!==u[s]&&(o=!1);if(o)return l}return null};h.exports=S},94420:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(11879),y=e(60461),f=e(95540),l=e(29747),o=e(41481),s=new o({sys:{queueDepthSort:l,events:{once:l}}},0,0,1,1).setOrigin(0,0),a=function(c,r){r===void 0&&(r={});var d=r.hasOwnProperty("width"),v=r.hasOwnProperty("height"),p=f(r,"width",-1),m=f(r,"height",-1),x=f(r,"cellWidth",1),E=f(r,"cellHeight",x),w=f(r,"position",y.TOP_LEFT),C=f(r,"x",0),P=f(r,"y",0),R=0,M=0,I=p*x,D=m*E;s.setPosition(C,P),s.setSize(x,E);for(var L=0;L<c.length;L++)if(u(c[L],s,w),d&&p===-1)s.x+=x;else if(v&&m===-1)s.y+=E;else if(v&&!d){if(M+=E,s.y+=E,M===D&&(M=0,R+=x,s.y=P,s.x+=x,R===I))break}else if(R+=x,s.x+=x,R===I&&(R=0,M+=E,s.x=C,s.y+=E,M===D))break;return c};h.exports=a},41721:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(66979),y=function(f,l,o,s,a){return u(f,"alpha",l,o,s,a)};h.exports=y},67285:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(66979),y=function(f,l,o,s,a){return u(f,"x",l,o,s,a)};h.exports=y},9074:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(66979),y=function(f,l,o,s,a,c,r){return o==null&&(o=l),u(f,"x",l,s,c,r),u(f,"y",o,a,c,r)};h.exports=y},75222:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(66979),y=function(f,l,o,s,a){return u(f,"y",l,o,s,a)};h.exports=y},22983:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u,y,f){y===void 0&&(y=0),f===void 0&&(f=6.28);for(var l=y,o=(f-y)/e.length,s=u.x,a=u.y,c=u.radius,r=0;r<e.length;r++)e[r].x=s+c*Math.cos(l),e[r].y=a+c*Math.sin(l),l+=o;return e};h.exports=S},95253:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u,y,f){y===void 0&&(y=0),f===void 0&&(f=6.28);for(var l=y,o=(f-y)/e.length,s=u.width/2,a=u.height/2,c=0;c<e.length;c++)e[c].x=u.x+s*Math.cos(l),e[c].y=u.y+a*Math.sin(l),l+=o;return e};h.exports=S},88505:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(15258),y=e(26708),f=function(l,o,s){var a;s?a=y(o,s,l.length):a=u(o,l.length);for(var c=0;c<l.length;c++){var r=l[c],d=a[c];r.x=d.x,r.y=d.y}return l};h.exports=f},41346:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(14649),y=e(86003),f=e(49498),l=function(o,s,a){a===void 0&&(a=0);var c=u(s,!1,o.length);a>0?y(c,a):a<0&&f(c,Math.abs(a));for(var r=0;r<o.length;r++)o[r].x=c[r].x,o[r].y=c[r].y;return o};h.exports=l},11575:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(84993),y=function(f,l,o){var s=u({x1:l.x1,y1:l.y1,x2:l.x2,y2:l.y2},o),a=u({x1:l.x2,y1:l.y2,x2:l.x3,y2:l.y3},o),c=u({x1:l.x3,y1:l.y3,x2:l.x1,y2:l.y1},o);s.pop(),a.pop(),c.pop(),s=s.concat(a,c);for(var r=s.length/f.length,d=0,v=0;v<f.length;v++){var p=f[v],m=s[Math.floor(d)];p.x=m.x,p.y=m.y,d+=r}return f};h.exports=y},29953:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u,y){for(var f=0;f<e.length;f++){var l=e[f];l.anims&&l.anims.play(u,y)}return e};h.exports=S},66979:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u,y,f,l,o){f===void 0&&(f=0),l===void 0&&(l=0),o===void 0&&(o=1);var s,a=0,c=e.length;if(o===1)for(s=l;s<c;s++)e[s][u]+=y+a*f,a++;else for(s=l;s>=0;s--)e[s][u]+=y+a*f,a++;return e};h.exports=S},43967:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u,y,f,l,o){f===void 0&&(f=0),l===void 0&&(l=0),o===void 0&&(o=1);var s,a=0,c=e.length;if(o===1)for(s=l;s<c;s++)e[s][u]=y+a*f,a++;else for(s=l;s>=0;s--)e[s][u]=y+a*f,a++;return e};h.exports=S},88926:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(28176),y=function(f,l){for(var o=0;o<f.length;o++)u(l,f[o]);return f};h.exports=y},33286:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(24820),y=function(f,l){for(var o=0;o<f.length;o++)u(l,f[o]);return f};h.exports=y},96e3:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(65822),y=function(f,l){for(var o=0;o<f.length;o++)u(l,f[o]);return f};h.exports=y},28789:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(26597),y=function(f,l){for(var o=0;o<f.length;o++)u(l,f[o]);return f};h.exports=y},97154:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(90260),y=function(f,l){for(var o=0;o<f.length;o++)u(l,f[o]);return f};h.exports=y},20510:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(66979),y=function(f,l,o,s,a){return u(f,"rotation",l,o,s,a)};h.exports=y},91051:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(1163),y=e(20339),f=function(l,o,s){for(var a=o.x,c=o.y,r=0;r<l.length;r++){var d=l[r];u(d,a,c,s,Math.max(1,y(d.x,d.y,a,c)))}return l};h.exports=f},76332:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(1163),y=function(f,l,o,s){var a=l.x,c=l.y;if(s===0)return f;for(var r=0;r<f.length;r++)u(f[r],a,c,o,s);return f};h.exports=y},61619:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(66979),y=function(f,l,o,s,a){return u(f,"scaleX",l,o,s,a)};h.exports=y},94868:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(66979),y=function(f,l,o,s,a,c,r){return o==null&&(o=l),u(f,"scaleX",l,s,c,r),u(f,"scaleY",o,a,c,r)};h.exports=y},95532:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(66979),y=function(f,l,o,s,a){return u(f,"scaleY",l,o,s,a)};h.exports=y},8689:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(43967),y=function(f,l,o,s,a){return u(f,"alpha",l,o,s,a)};h.exports=y},2645:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(43967),y=function(f,l,o,s){return u(f,"blendMode",l,0,o,s)};h.exports=y},32372:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(43967),y=function(f,l,o,s,a){return u(f,"depth",l,o,s,a)};h.exports=y},85373:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u,y){for(var f=0;f<e.length;f++)e[f].setInteractive(u,y);return e};h.exports=S},81583:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(43967),y=function(f,l,o,s,a,c,r){return o==null&&(o=l),u(f,"originX",l,s,c,r),u(f,"originY",o,a,c,r),f.forEach(function(d){d.updateDisplayOrigin()}),f};h.exports=y},79939:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(43967),y=function(f,l,o,s,a){return u(f,"rotation",l,o,s,a)};h.exports=y},2699:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(43967),y=function(f,l,o,s,a,c,r){return o==null&&(o=l),u(f,"scaleX",l,s,c,r),u(f,"scaleY",o,a,c,r)};h.exports=y},98739:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(43967),y=function(f,l,o,s,a){return u(f,"scaleX",l,o,s,a)};h.exports=y},98476:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(43967),y=function(f,l,o,s,a){return u(f,"scaleY",l,o,s,a)};h.exports=y},6207:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(43967),y=function(f,l,o,s,a,c,r){return o==null&&(o=l),u(f,"scrollFactorX",l,s,c,r),u(f,"scrollFactorY",o,a,c,r)};h.exports=y},6607:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(43967),y=function(f,l,o,s,a){return u(f,"scrollFactorX",l,o,s,a)};h.exports=y},72248:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(43967),y=function(f,l,o,s,a){return u(f,"scrollFactorY",l,o,s,a)};h.exports=y},14036:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u,y,f,l){for(var o=0;o<e.length;o++)e[o].setTint(u,y,f,l);return e};h.exports=S},50159:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(43967),y=function(f,l,o,s){return u(f,"visible",l,0,o,s)};h.exports=y},77597:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(43967),y=function(f,l,o,s,a){return u(f,"x",l,o,s,a)};h.exports=y},83194:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(43967),y=function(f,l,o,s,a,c,r){return o==null&&(o=l),u(f,"x",l,s,c,r),u(f,"y",o,a,c,r)};h.exports=y},67678:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(43967),y=function(f,l,o,s,a){return u(f,"y",l,o,s,a)};h.exports=y},35850:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(26099),y=function(f,l,o,s,a){s===void 0&&(s=0),a===void 0&&(a=new u);var c,r,d=f.length;if(d===1)c=f[0].x,r=f[0].y,f[0].x=l,f[0].y=o;else{var v=1,p=0;s===0&&(p=d-1,v=d-2),c=f[p].x,r=f[p].y,f[p].x=l,f[p].y=o;for(var m=0;m<d;m++)if(!(v>=d||v===-1)){var x=f[v],E=x.x,w=x.y;x.x=c,x.y=r,c=E,r=w,s===0?v--:v++}}return a.x=c,a.y=r,a};h.exports=y},8628:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(33680),y=function(f){return u(f)};h.exports=y},21837:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(7602),y=function(f,l,o,s,a){a===void 0&&(a=!1);var c=Math.abs(s-o)/f.length,r;if(a)for(r=0;r<f.length;r++)f[r][l]+=u(r*c,o,s);else for(r=0;r<f.length;r++)f[r][l]=u(r*c,o,s);return f};h.exports=y},21910:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(54261),y=function(f,l,o,s,a){a===void 0&&(a=!1);var c=Math.abs(s-o)/f.length,r;if(a)for(r=0;r<f.length;r++)f[r][l]+=u(r*c,o,s);else for(r=0;r<f.length;r++)f[r][l]=u(r*c,o,s);return f};h.exports=y},62054:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u,y,f,l){if(l===void 0&&(l=!1),e.length===0)return e;if(e.length===1)return l?e[0][u]+=(f+y)/2:e[0][u]=(f+y)/2,e;var o=Math.abs(f-y)/(e.length-1),s;if(l)for(s=0;s<e.length;s++)e[s][u]+=s*o+y;else for(s=0;s<e.length;s++)e[s][u]=s*o+y;return e};h.exports=S},79815:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e){for(var u=0;u<e.length;u++)e[u].visible=!e[u].visible;return e};h.exports=S},39665:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       samme <samme.npm@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(15994),y=function(f,l,o){o===void 0&&(o=0);for(var s=0;s<f.length;s++){var a=f[s];a.x=u(a.x,l.left-o,l.right+o),a.y=u(a.y,l.top-o,l.bottom+o)}return f};h.exports=y},61061:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={AlignTo:e(11517),Angle:e(80318),Call:e(60757),GetFirst:e(69927),GetLast:e(32265),GridAlign:e(94420),IncAlpha:e(41721),IncX:e(67285),IncXY:e(9074),IncY:e(75222),PlaceOnCircle:e(22983),PlaceOnEllipse:e(95253),PlaceOnLine:e(88505),PlaceOnRectangle:e(41346),PlaceOnTriangle:e(11575),PlayAnimation:e(29953),PropertyValueInc:e(66979),PropertyValueSet:e(43967),RandomCircle:e(88926),RandomEllipse:e(33286),RandomLine:e(96e3),RandomRectangle:e(28789),RandomTriangle:e(97154),Rotate:e(20510),RotateAround:e(91051),RotateAroundDistance:e(76332),ScaleX:e(61619),ScaleXY:e(94868),ScaleY:e(95532),SetAlpha:e(8689),SetBlendMode:e(2645),SetDepth:e(32372),SetHitArea:e(85373),SetOrigin:e(81583),SetRotation:e(79939),SetScale:e(2699),SetScaleX:e(98739),SetScaleY:e(98476),SetScrollFactor:e(6207),SetScrollFactorX:e(6607),SetScrollFactorY:e(72248),SetTint:e(14036),SetVisible:e(50159),SetX:e(77597),SetXY:e(83194),SetY:e(67678),ShiftPosition:e(35850),Shuffle:e(8628),SmootherStep:e(21910),SmoothStep:e(21837),Spread:e(62054),ToggleVisible:e(79815),WrapInRectangle:e(39665)}},42099:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(45319),y=e(83419),f=e(74943),l=e(81957),o=e(41138),s=e(35154),a=e(90126),c=new y({initialize:function(d,v,p){this.manager=d,this.key=v,this.type="frame",this.frames=this.getFrames(d.textureManager,s(p,"frames",[]),s(p,"defaultTextureKey",null),s(p,"sortFrames",!0)),this.frameRate=s(p,"frameRate",null),this.duration=s(p,"duration",null),this.msPerFrame,this.skipMissedFrames=s(p,"skipMissedFrames",!0),this.delay=s(p,"delay",0),this.repeat=s(p,"repeat",0),this.repeatDelay=s(p,"repeatDelay",0),this.yoyo=s(p,"yoyo",!1),this.showBeforeDelay=s(p,"showBeforeDelay",!1),this.showOnStart=s(p,"showOnStart",!1),this.hideOnComplete=s(p,"hideOnComplete",!1),this.randomFrame=s(p,"randomFrame",!1),this.paused=!1,this.calculateDuration(this,this.getTotalFrames(),this.duration,this.frameRate),this.manager.on&&(this.manager.on(f.PAUSE_ALL,this.pause,this),this.manager.on(f.RESUME_ALL,this.resume,this))},getTotalFrames:function(){return this.frames.length},calculateDuration:function(r,d,v,p){v===null&&p===null?(r.frameRate=24,r.duration=24/d*1e3):v&&p===null?(r.duration=v,r.frameRate=d/(v/1e3)):(r.frameRate=p,r.duration=d/p*1e3),r.msPerFrame=1e3/r.frameRate},addFrame:function(r){return this.addFrameAt(this.frames.length,r)},addFrameAt:function(r,d){var v=this.getFrames(this.manager.textureManager,d);if(v.length>0){if(r===0)this.frames=v.concat(this.frames);else if(r===this.frames.length)this.frames=this.frames.concat(v);else{var p=this.frames.slice(0,r),m=this.frames.slice(r);this.frames=p.concat(v,m)}this.updateFrameSequence()}return this},checkFrame:function(r){return r>=0&&r<this.frames.length},getFirstTick:function(r){r.accumulator=0,r.nextTick=r.frameRate===r.currentAnim.frameRate&&r.currentFrame.duration||r.msPerFrame},getFrameAt:function(r){return this.frames[r]},getFrames:function(r,d,v,p){p===void 0&&(p=!0);var m=[],x,E,w=1,C,P;if(typeof d=="string"){if(P=d,!r.exists(P))return console.warn('Texture "%s" not found',P),m;var R=r.get(P),M=R.getFrameNames();p&&a(M),d=[],M.forEach(function(N){d.push({key:P,frame:N})})}if(!Array.isArray(d)||d.length===0)return m;for(C=0;C<d.length;C++){var I=d[C],D=s(I,"key",v);if(D){var L=s(I,"frame",0),F=r.getFrame(D,L);if(!F){console.warn('Texture "%s" not found',D);continue}E=new o(D,L,w,F),E.duration=s(I,"duration",0),E.isFirst=!x,x&&(x.nextFrame=E,E.prevFrame=x),m.push(E),x=E,w++}}if(m.length>0){E.isLast=!0,E.nextFrame=m[0],m[0].prevFrame=E;var O=1/(m.length-1);for(C=0;C<m.length;C++)m[C].progress=C*O}return m},getNextTick:function(r){r.accumulator-=r.nextTick,r.nextTick=r.frameRate===r.currentAnim.frameRate&&r.currentFrame.duration||r.msPerFrame},getFrameByProgress:function(r){return r=u(r,0,1),l(r,this.frames,"progress")},nextFrame:function(r){var d=r.currentFrame;d.isLast?r.yoyo?this.handleYoyoFrame(r,!1):r.repeatCounter>0?r.inReverse&&r.forward?r.forward=!1:this.repeatAnimation(r):r.complete():this.updateAndGetNextTick(r,d.nextFrame)},handleYoyoFrame:function(r,d){if(d||(d=!1),r.inReverse===!d&&r.repeatCounter>0){(r.repeatDelay===0||r.pendingRepeat)&&(r.forward=d),this.repeatAnimation(r);return}if(r.inReverse!==d&&r.repeatCounter===0){r.complete();return}r.forward=d;var v=d?r.currentFrame.nextFrame:r.currentFrame.prevFrame;this.updateAndGetNextTick(r,v)},getLastFrame:function(){return this.frames[this.frames.length-1]},previousFrame:function(r){var d=r.currentFrame;d.isFirst?r.yoyo?this.handleYoyoFrame(r,!0):r.repeatCounter>0?r.inReverse&&!r.forward?this.repeatAnimation(r):(r.forward=!0,this.repeatAnimation(r)):r.complete():this.updateAndGetNextTick(r,d.prevFrame)},updateAndGetNextTick:function(r,d){r.setCurrentFrame(d),this.getNextTick(r)},removeFrame:function(r){var d=this.frames.indexOf(r);return d!==-1&&this.removeFrameAt(d),this},removeFrameAt:function(r){return this.frames.splice(r,1),this.updateFrameSequence(),this},repeatAnimation:function(r){if(r._pendingStop===2){if(r._pendingStopValue===0)return r.stop();r._pendingStopValue--}r.repeatDelay>0&&!r.pendingRepeat?(r.pendingRepeat=!0,r.accumulator-=r.nextTick,r.nextTick+=r.repeatDelay):(r.repeatCounter--,r.forward?r.setCurrentFrame(r.currentFrame.nextFrame):r.setCurrentFrame(r.currentFrame.prevFrame),r.isPlaying&&(this.getNextTick(r),r.handleRepeat()))},toJSON:function(){var r={key:this.key,type:this.type,frames:[],frameRate:this.frameRate,duration:this.duration,skipMissedFrames:this.skipMissedFrames,delay:this.delay,repeat:this.repeat,repeatDelay:this.repeatDelay,yoyo:this.yoyo,showBeforeDelay:this.showBeforeDelay,showOnStart:this.showOnStart,randomFrame:this.randomFrame,hideOnComplete:this.hideOnComplete};return this.frames.forEach(function(d){r.frames.push(d.toJSON())}),r},updateFrameSequence:function(){for(var r=this.frames.length,d=1/(r-1),v,p=0;p<r;p++)v=this.frames[p],v.index=p+1,v.isFirst=!1,v.isLast=!1,v.progress=p*d,p===0?(v.isFirst=!0,r===1?(v.isLast=!0,v.nextFrame=v,v.prevFrame=v):(v.isLast=!1,v.prevFrame=this.frames[r-1],v.nextFrame=this.frames[p+1])):p===r-1&&r>1?(v.isLast=!0,v.prevFrame=this.frames[r-2],v.nextFrame=this.frames[0]):r>1&&(v.prevFrame=this.frames[p-1],v.nextFrame=this.frames[p+1]);return this},pause:function(){return this.paused=!0,this},resume:function(){return this.paused=!1,this},destroy:function(){this.manager.off&&(this.manager.off(f.PAUSE_ALL,this.pause,this),this.manager.off(f.RESUME_ALL,this.resume,this)),this.manager.remove(this.key);for(var r=0;r<this.frames.length;r++)this.frames[r].destroy();this.frames=[],this.manager=null}});h.exports=c},41138:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=new u({initialize:function(l,o,s,a,c){c===void 0&&(c=!1),this.textureKey=l,this.textureFrame=o,this.index=s,this.frame=a,this.isFirst=!1,this.isLast=!1,this.prevFrame=null,this.nextFrame=null,this.duration=0,this.progress=0,this.isKeyFrame=c},toJSON:function(){return{key:this.textureKey,frame:this.textureFrame,duration:this.duration,keyframe:this.isKeyFrame}},destroy:function(){this.frame=void 0}});h.exports=y},60848:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(42099),y=e(83419),f=e(90330),l=e(50792),o=e(74943),s=e(8443),a=e(95540),c=e(35154),r=e(36383),d=e(20283),v=e(41836),p=new y({Extends:l,initialize:function(x){l.call(this),this.game=x,this.textureManager=null,this.globalTimeScale=1,this.anims=new f,this.mixes=new f,this.paused=!1,this.name="AnimationManager",x.events.once(s.BOOT,this.boot,this)},boot:function(){this.textureManager=this.game.textures,this.game.events.once(s.DESTROY,this.destroy,this)},addMix:function(m,x,E){var w=this.anims,C=this.mixes,P=typeof m=="string"?m:m.key,R=typeof x=="string"?x:x.key;if(w.has(P)&&w.has(R)){var M=C.get(P);M||(M={}),M[R]=E,C.set(P,M)}return this},removeMix:function(m,x){var E=this.mixes,w=typeof m=="string"?m:m.key,C=E.get(w);if(C)if(x){var P=typeof x=="string"?x:x.key;C.hasOwnProperty(P)&&delete C[P]}else x||E.delete(w);return this},getMix:function(m,x){var E=this.mixes,w=typeof m=="string"?m:m.key,C=typeof x=="string"?x:x.key,P=E.get(w);return P&&P.hasOwnProperty(C)?P[C]:0},add:function(m,x){return this.anims.has(m)?(console.warn("Animation key exists: "+m),this):(x.key=m,this.anims.set(m,x),this.emit(o.ADD_ANIMATION,m,x),this)},exists:function(m){return this.anims.has(m)},createFromAseprite:function(m,x,E){var w=[],C=this.game.cache.json.get(m);if(!C)return console.warn("No Aseprite data found for: "+m),w;var P=this,R=c(C,"meta",null),M=c(C,"frames",null);if(R&&M){var I=c(R,"frameTags",[]);I.forEach(function(D){var L=[],F=a(D,"name",null),O=a(D,"from",0),N=a(D,"to",0),b=a(D,"direction","forward");if(F&&(!x||x&&x.indexOf(F)>-1)){for(var V=0,Y=O;Y<=N;Y++){var W=Y.toString(),U=M[W];if(U){var z=a(U,"duration",r.MAX_SAFE_INTEGER);L.push({key:m,frame:W,duration:z}),V+=z}}b==="reverse"&&(L=L.reverse());var B={key:F,frames:L,duration:V,yoyo:b==="pingpong"},X;E?E.anims&&(X=E.anims.create(B)):X=P.create(B),X&&w.push(X)}})}return w},create:function(m){var x=m.key,E=!1;return x&&(E=this.get(x),E?console.warn("AnimationManager key already exists: "+x):(E=new u(this,x,m),this.anims.set(x,E),this.emit(o.ADD_ANIMATION,x,E))),E},fromJSON:function(m,x){x===void 0&&(x=!1),x&&this.anims.clear(),typeof m=="string"&&(m=JSON.parse(m));var E=[];if(m.hasOwnProperty("anims")&&Array.isArray(m.anims)){for(var w=0;w<m.anims.length;w++)E.push(this.create(m.anims[w]));m.hasOwnProperty("globalTimeScale")&&(this.globalTimeScale=m.globalTimeScale)}else m.hasOwnProperty("key")&&m.type==="frame"&&E.push(this.create(m));return E},generateFrameNames:function(m,x){var E=c(x,"prefix",""),w=c(x,"start",0),C=c(x,"end",0),P=c(x,"suffix",""),R=c(x,"zeroPad",0),M=c(x,"outputArray",[]),I=c(x,"frames",!1);if(!this.textureManager.exists(m))return console.warn('Texture "%s" not found',m),M;var D=this.textureManager.get(m);if(!D)return M;var L;if(x)for(I||(I=d(w,C)),L=0;L<I.length;L++){var F=E+v(I[L],R,"0",1)+P;D.has(F)?M.push({key:m,frame:F}):console.warn('Frame "%s" not found in texture "%s"',F,m)}else for(I=D.getFrameNames(),L=0;L<I.length;L++)M.push({key:m,frame:I[L]});return M},generateFrameNumbers:function(m,x){var E=c(x,"start",0),w=c(x,"end",-1),C=c(x,"first",!1),P=c(x,"outputArray",[]),R=c(x,"frames",!1);if(!this.textureManager.exists(m))return console.warn('Texture "%s" not found',m),P;var M=this.textureManager.get(m);if(!M)return P;C&&M.has(C)&&P.push({key:m,frame:C}),R||(w===-1&&(w=M.frameTotal-2),R=d(E,w));for(var I=0;I<R.length;I++){var D=R[I];M.has(D)?P.push({key:m,frame:D}):console.warn('Frame "%s" not found in texture "%s"',D,m)}return P},get:function(m){return this.anims.get(m)},getAnimsFromTexture:function(m){for(var x=this.textureManager.get(m),E=x.key,w=this.anims.getArray(),C=[],P=0;P<w.length;P++)for(var R=w[P],M=R.frames,I=0;I<M.length;I++)if(M[I].textureKey===E){C.push(R.key);break}return C},pauseAll:function(){return this.paused||(this.paused=!0,this.emit(o.PAUSE_ALL)),this},play:function(m,x){Array.isArray(x)||(x=[x]);for(var E=0;E<x.length;E++)x[E].anims.play(m);return this},staggerPlay:function(m,x,E,w){E===void 0&&(E=0),w===void 0&&(w=!0),Array.isArray(x)||(x=[x]);var C=x.length;w||C--;for(var P=0;P<x.length;P++){var R=E<0?Math.abs(E)*(C-P):E*P;x[P].anims.playAfterDelay(m,R)}return this},remove:function(m){var x=this.get(m);return x&&(this.emit(o.REMOVE_ANIMATION,m,x),this.anims.delete(m),this.removeMix(m)),x},resumeAll:function(){return this.paused&&(this.paused=!1,this.emit(o.RESUME_ALL)),this},toJSON:function(m){var x={anims:[],globalTimeScale:this.globalTimeScale};return m!==void 0&&m!==""?x.anims.push(this.anims.get(m).toJSON()):this.anims.each(function(E,w){x.anims.push(w.toJSON())}),x},destroy:function(){this.anims.clear(),this.mixes.clear(),this.textureManager=null,this.game=null}});h.exports=p},9674:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(42099),y=e(30976),f=e(83419),l=e(90330),o=e(74943),s=e(95540),a=new f({initialize:function(r){this.parent=r,this.animationManager=r.scene.sys.anims,this.animationManager.on(o.REMOVE_ANIMATION,this.globalRemove,this),this.textureManager=this.animationManager.textureManager,this.anims=null,this.isPlaying=!1,this.hasStarted=!1,this.currentAnim=null,this.currentFrame=null,this.nextAnim=null,this.nextAnimsQueue=[],this.timeScale=1,this.frameRate=0,this.duration=0,this.msPerFrame=0,this.skipMissedFrames=!0,this.randomFrame=!1,this.delay=0,this.repeat=0,this.repeatDelay=0,this.yoyo=!1,this.showBeforeDelay=!1,this.showOnStart=!1,this.hideOnComplete=!1,this.forward=!0,this.inReverse=!1,this.accumulator=0,this.nextTick=0,this.delayCounter=0,this.repeatCounter=0,this.pendingRepeat=!1,this._paused=!1,this._wasPlaying=!1,this._pendingStop=0,this._pendingStopValue},chain:function(c){var r=this.parent;if(c===void 0)return this.nextAnimsQueue.length=0,this.nextAnim=null,r;Array.isArray(c)||(c=[c]);for(var d=0;d<c.length;d++){var v=c[d];this.nextAnim?this.nextAnimsQueue.push(v):this.nextAnim=v}return this.parent},getName:function(){return this.currentAnim?this.currentAnim.key:""},getFrameName:function(){return this.currentFrame?this.currentFrame.textureFrame:""},load:function(c){this.isPlaying&&this.stop();var r=this.animationManager,d=typeof c=="string"?c:s(c,"key",null),v=this.exists(d)?this.get(d):r.get(d);if(!v)console.warn("Missing animation: "+d);else{this.currentAnim=v;var p=v.getTotalFrames(),m=s(c,"frameRate",v.frameRate),x=s(c,"duration",v.duration);v.calculateDuration(this,p,x,m),this.delay=s(c,"delay",v.delay),this.repeat=s(c,"repeat",v.repeat),this.repeatDelay=s(c,"repeatDelay",v.repeatDelay),this.yoyo=s(c,"yoyo",v.yoyo),this.showBeforeDelay=s(c,"showBeforeDelay",v.showBeforeDelay),this.showOnStart=s(c,"showOnStart",v.showOnStart),this.hideOnComplete=s(c,"hideOnComplete",v.hideOnComplete),this.skipMissedFrames=s(c,"skipMissedFrames",v.skipMissedFrames),this.randomFrame=s(c,"randomFrame",v.randomFrame),this.timeScale=s(c,"timeScale",this.timeScale);var E=s(c,"startFrame",0);E>p&&(E=0),this.randomFrame&&(E=y(0,p-1));var w=v.frames[E];E===0&&!this.forward&&(w=v.getLastFrame()),this.currentFrame=w}return this.parent},pause:function(c){return this._paused||(this._paused=!0,this._wasPlaying=this.isPlaying,this.isPlaying=!1),c!==void 0&&this.setCurrentFrame(c),this.parent},resume:function(c){return this._paused&&(this._paused=!1,this.isPlaying=this._wasPlaying),c!==void 0&&this.setCurrentFrame(c),this.parent},playAfterDelay:function(c,r){if(!this.isPlaying)this.delayCounter=r,this.play(c,!0);else{var d=this.nextAnim,v=this.nextAnimsQueue;d&&v.unshift(d),this.nextAnim=c,this._pendingStop=1,this._pendingStopValue=r}return this.parent},playAfterRepeat:function(c,r){if(r===void 0&&(r=1),!this.isPlaying)this.play(c);else{var d=this.nextAnim,v=this.nextAnimsQueue;d&&v.unshift(d),this.repeatCounter!==-1&&r>this.repeatCounter&&(r=this.repeatCounter),this.nextAnim=c,this._pendingStop=2,this._pendingStopValue=r}return this.parent},play:function(c,r){r===void 0&&(r=!1);var d=this.currentAnim,v=this.parent,p=typeof c=="string"?c:c.key;if(r&&this.isPlaying&&d.key===p)return v;if(d&&this.isPlaying){var m=this.animationManager.getMix(d.key,c);if(m>0)return this.playAfterDelay(c,m)}return this.forward=!0,this.inReverse=!1,this._paused=!1,this._wasPlaying=!0,this.startAnimation(c)},playReverse:function(c,r){r===void 0&&(r=!1);var d=typeof c=="string"?c:c.key;return r&&this.isPlaying&&this.currentAnim.key===d?this.parent:(this.forward=!1,this.inReverse=!0,this._paused=!1,this._wasPlaying=!0,this.startAnimation(c))},startAnimation:function(c){this.load(c);var r=this.currentAnim,d=this.parent;return r&&(this.repeatCounter=this.repeat===-1?Number.MAX_VALUE:this.repeat,r.getFirstTick(this),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!1,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.delayCounter+=this.delay,this.delayCounter===0?this.handleStart():this.showBeforeDelay&&this.setCurrentFrame(this.currentFrame)),d},handleStart:function(){this.showOnStart&&this.parent.setVisible(!0),this.setCurrentFrame(this.currentFrame),this.hasStarted=!0,this.emitEvents(o.ANIMATION_START)},handleRepeat:function(){this.pendingRepeat=!1,this.emitEvents(o.ANIMATION_REPEAT)},handleStop:function(){this._pendingStop=0,this.isPlaying=!1,this.emitEvents(o.ANIMATION_STOP)},handleComplete:function(){this._pendingStop=0,this.isPlaying=!1,this.hideOnComplete&&this.parent.setVisible(!1),this.emitEvents(o.ANIMATION_COMPLETE,o.ANIMATION_COMPLETE_KEY)},emitEvents:function(c,r){var d=this.currentAnim;if(d){var v=this.currentFrame,p=this.parent,m=v.textureFrame;p.emit(c,d,v,p,m),r&&p.emit(r+d.key,d,v,p,m)}},reverse:function(){return this.isPlaying&&(this.inReverse=!this.inReverse,this.forward=!this.forward),this.parent},getProgress:function(){var c=this.currentFrame;if(!c)return 0;var r=c.progress;return this.inReverse&&(r*=-1),r},setProgress:function(c){return this.forward||(c=1-c),this.setCurrentFrame(this.currentAnim.getFrameByProgress(c)),this.parent},setRepeat:function(c){return this.repeatCounter=c===-1?Number.MAX_VALUE:c,this.parent},globalRemove:function(c,r){r===void 0&&(r=this.currentAnim),this.isPlaying&&r.key===this.currentAnim.key&&(this.stop(),this.setCurrentFrame(this.currentAnim.frames[0]))},restart:function(c,r){c===void 0&&(c=!1),r===void 0&&(r=!1);var d=this.currentAnim,v=this.parent;return d?(r&&(this.repeatCounter=this.repeat===-1?Number.MAX_VALUE:this.repeat),d.getFirstTick(this),this.emitEvents(o.ANIMATION_RESTART),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!c,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.setCurrentFrame(d.frames[0]),this.parent):v},complete:function(){if(this._pendingStop=0,this.isPlaying=!1,this.currentAnim&&this.handleComplete(),this.nextAnim){var c=this.nextAnim;this.nextAnim=this.nextAnimsQueue.length>0?this.nextAnimsQueue.shift():null,this.play(c)}return this.parent},stop:function(){if(this._pendingStop=0,this.isPlaying=!1,this.delayCounter=0,this.currentAnim&&this.handleStop(),this.nextAnim){var c=this.nextAnim;this.nextAnim=this.nextAnimsQueue.shift(),this.play(c)}return this.parent},stopAfterDelay:function(c){return this._pendingStop=1,this._pendingStopValue=c,this.parent},stopAfterRepeat:function(c){return c===void 0&&(c=1),this.repeatCounter!==-1&&c>this.repeatCounter&&(c=this.repeatCounter),this._pendingStop=2,this._pendingStopValue=c,this.parent},stopOnFrame:function(c){return this._pendingStop=3,this._pendingStopValue=c,this.parent},getTotalFrames:function(){return this.currentAnim?this.currentAnim.getTotalFrames():0},update:function(c,r){var d=this.currentAnim;if(!(!this.isPlaying||!d||d.paused)){if(this.accumulator+=r*this.timeScale*this.animationManager.globalTimeScale,this._pendingStop===1&&(this._pendingStopValue-=r,this._pendingStopValue<=0))return this.stop();if(!this.hasStarted)this.accumulator>=this.delayCounter&&(this.accumulator-=this.delayCounter,this.handleStart());else if(this.accumulator>=this.nextTick&&(this.forward?d.nextFrame(this):d.previousFrame(this),this.isPlaying&&this._pendingStop===0&&this.skipMissedFrames&&this.accumulator>this.nextTick)){var v=0;do this.forward?d.nextFrame(this):d.previousFrame(this),v++;while(this.isPlaying&&this.accumulator>this.nextTick&&v<60)}}},setCurrentFrame:function(c){var r=this.parent;return this.currentFrame=c,r.texture=c.frame.texture,r.frame=c.frame,r.isCropped&&r.frame.updateCropUVs(r._crop,r.flipX,r.flipY),c.setAlpha&&(r.alpha=c.alpha),r.setSizeToFrame(),r._originComponent&&(c.frame.customPivot?r.setOrigin(c.frame.pivotX,c.frame.pivotY):r.updateDisplayOrigin()),this.isPlaying&&this.hasStarted&&(this.emitEvents(o.ANIMATION_UPDATE),this._pendingStop===3&&this._pendingStopValue===c&&this.stop()),r},nextFrame:function(){return this.currentAnim&&this.currentAnim.nextFrame(this),this.parent},previousFrame:function(){return this.currentAnim&&this.currentAnim.previousFrame(this),this.parent},get:function(c){return this.anims?this.anims.get(c):null},exists:function(c){return this.anims?this.anims.has(c):!1},create:function(c){var r=c.key,d=!1;return r&&(d=this.get(r),d?console.warn("Animation key already exists: "+r):(d=new u(this,r,c),this.anims||(this.anims=new l),this.anims.set(r,d))),d},createFromAseprite:function(c,r){return this.animationManager.createFromAseprite(c,r,this.parent)},generateFrameNames:function(c,r){return this.animationManager.generateFrameNames(c,r)},generateFrameNumbers:function(c,r){return this.animationManager.generateFrameNumbers(c,r)},remove:function(c){var r=this.get(c);return r&&(this.currentAnim===r&&this.stop(),this.anims.delete(c)),r},destroy:function(){this.animationManager.off(o.REMOVE_ANIMATION,this.globalRemove,this),this.anims&&this.anims.clear(),this.animationManager=null,this.parent=null,this.nextAnim=null,this.nextAnimsQueue.length=0,this.currentAnim=null,this.currentFrame=null},isPaused:{get:function(){return this._paused}}});h.exports=a},57090:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="add"},25312:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="animationcomplete"},89580:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="animationcomplete-"},52860:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="animationrepeat"},63850:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="animationrestart"},99085:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="animationstart"},28087:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="animationstop"},1794:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="animationupdate"},52562:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="pauseall"},57953:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="remove"},68339:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="resumeall"},74943:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={ADD_ANIMATION:e(57090),ANIMATION_COMPLETE:e(25312),ANIMATION_COMPLETE_KEY:e(89580),ANIMATION_REPEAT:e(52860),ANIMATION_RESTART:e(63850),ANIMATION_START:e(99085),ANIMATION_STOP:e(28087),ANIMATION_UPDATE:e(1794),PAUSE_ALL:e(52562),REMOVE_ANIMATION:e(57953),RESUME_ALL:e(68339)}},60421:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={Animation:e(42099),AnimationFrame:e(41138),AnimationManager:e(60848),AnimationState:e(9674),Events:e(74943)}},2161:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(90330),f=e(50792),l=e(24736),o=new u({initialize:function(){this.entries=new y,this.events=new f},add:function(s,a){return this.entries.set(s,a),this.events.emit(l.ADD,this,s,a),this},has:function(s){return this.entries.has(s)},exists:function(s){return this.entries.has(s)},get:function(s){return this.entries.get(s)},remove:function(s){var a=this.get(s);return a&&(this.entries.delete(s),this.events.emit(l.REMOVE,this,s,a.data)),this},getKeys:function(){return this.entries.keys()},destroy:function(){this.entries.clear(),this.events.removeAllListeners(),this.entries=null,this.events=null}});h.exports=o},24047:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(2161),y=e(83419),f=e(8443),l=new y({initialize:function(s){this.game=s,this.binary=new u,this.bitmapFont=new u,this.json=new u,this.physics=new u,this.shader=new u,this.audio=new u,this.video=new u,this.text=new u,this.html=new u,this.obj=new u,this.tilemap=new u,this.xml=new u,this.custom={},this.game.events.once(f.DESTROY,this.destroy,this)},addCustom:function(o){return this.custom.hasOwnProperty(o)||(this.custom[o]=new u),this.custom[o]},destroy:function(){for(var o=["binary","bitmapFont","json","physics","shader","audio","video","text","html","obj","tilemap","xml"],s=0;s<o.length;s++)this[o[s]].destroy(),this[o[s]]=null;for(var a in this.custom)this.custom[a].destroy();this.custom=null,this.game=null}});h.exports=l},51464:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="add"},59261:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="remove"},24736:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={ADD:e(51464),REMOVE:e(59261)}},83388:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={BaseCache:e(2161),CacheManager:e(24047),Events:e(24736)}},71911:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(31401),f=e(39506),l=e(50792),o=e(19715),s=e(87841),a=e(61340),c=e(80333),r=e(26099),d=new u({Extends:l,Mixins:[y.AlphaSingle,y.Visible],initialize:function(p,m,x,E){p===void 0&&(p=0),m===void 0&&(m=0),x===void 0&&(x=0),E===void 0&&(E=0),l.call(this),this.scene,this.sceneManager,this.scaleManager,this.cameraManager,this.id=0,this.name="",this.roundPixels=!1,this.useBounds=!1,this.worldView=new s,this.dirty=!0,this._x=p,this._y=m,this._width=x,this._height=E,this._bounds=new s,this._scrollX=0,this._scrollY=0,this._zoomX=1,this._zoomY=1,this._rotation=0,this.matrix=new a,this.transparent=!0,this.backgroundColor=c("rgba(0,0,0,0)"),this.disableCull=!1,this.culledObjects=[],this.midPoint=new r(x/2,E/2),this.originX=.5,this.originY=.5,this._customViewport=!1,this.mask=null,this._maskCamera=null,this.renderList=[],this.isSceneCamera=!0,this.renderRoundPixels=!0},addToRenderList:function(v){this.renderList.push(v)},setOrigin:function(v,p){return v===void 0&&(v=.5),p===void 0&&(p=v),this.originX=v,this.originY=p,this},getScroll:function(v,p,m){m===void 0&&(m=new r);var x=this.width*.5,E=this.height*.5;return m.x=v-x,m.y=p-E,this.useBounds&&(m.x=this.clampX(m.x),m.y=this.clampY(m.y)),m},centerOnX:function(v){var p=this.width*.5;return this.midPoint.x=v,this.scrollX=v-p,this.useBounds&&(this.scrollX=this.clampX(this.scrollX)),this},centerOnY:function(v){var p=this.height*.5;return this.midPoint.y=v,this.scrollY=v-p,this.useBounds&&(this.scrollY=this.clampY(this.scrollY)),this},centerOn:function(v,p){return this.centerOnX(v),this.centerOnY(p),this},centerToBounds:function(){if(this.useBounds){var v=this._bounds,p=this.width*.5,m=this.height*.5;this.midPoint.set(v.centerX,v.centerY),this.scrollX=v.centerX-p,this.scrollY=v.centerY-m}return this},centerToSize:function(){return this.scrollX=this.width*.5,this.scrollY=this.height*.5,this},cull:function(v){if(this.disableCull)return v;var p=this.matrix.matrix,m=p[0],x=p[1],E=p[2],w=p[3],C=m*w-x*E;if(!C)return v;var P=p[4],R=p[5],M=this.scrollX,I=this.scrollY,D=this.width,L=this.height,F=this.y,O=F+L,N=this.x,b=N+D,V=this.culledObjects,Y=v.length;C=1/C,V.length=0;for(var W=0;W<Y;++W){var U=v[W];if(!U.hasOwnProperty("width")||U.parentContainer){V.push(U);continue}var z=U.width,B=U.height,X=U.x-M*U.scrollFactorX-z*U.originX,G=U.y-I*U.scrollFactorY-B*U.originY,H=X*m+G*E+P,$=X*x+G*w+R,k=(X+z)*m+(G+B)*E+P,j=(X+z)*x+(G+B)*w+R;k>N&&H<b&&j>F&&$<O&&V.push(U)}return V},getWorldPoint:function(v,p,m){m===void 0&&(m=new r);var x=this.matrix.matrix,E=x[0],w=x[1],C=x[2],P=x[3],R=x[4],M=x[5],I=E*P-w*C;if(!I)return m.x=v,m.y=p,m;I=1/I;var D=P*I,L=-w*I,F=-C*I,O=E*I,N=(C*M-P*R)*I,b=(w*R-E*M)*I,V=Math.cos(this.rotation),Y=Math.sin(this.rotation),W=this.zoomX,U=this.zoomY,z=this.scrollX,B=this.scrollY,X=v+(z*V-B*Y)*W,G=p+(z*Y+B*V)*U;return m.x=X*D+G*F+N,m.y=X*L+G*O+b,m},ignore:function(v){var p=this.id;Array.isArray(v)||(v=[v]);for(var m=0;m<v.length;m++){var x=v[m];Array.isArray(x)?this.ignore(x):x.isParent?this.ignore(x.getChildren()):x.cameraFilter|=p}return this},clampX:function(v){var p=this._bounds,m=this.displayWidth,x=p.x+(m-this.width)/2,E=Math.max(x,x+p.width-m);return v<x?v=x:v>E&&(v=E),v},clampY:function(v){var p=this._bounds,m=this.displayHeight,x=p.y+(m-this.height)/2,E=Math.max(x,x+p.height-m);return v<x?v=x:v>E&&(v=E),v},removeBounds:function(){return this.useBounds=!1,this.dirty=!0,this._bounds.setEmpty(),this},setAngle:function(v){return v===void 0&&(v=0),this.rotation=f(v),this},setBackgroundColor:function(v){return v===void 0&&(v="rgba(0,0,0,0)"),this.backgroundColor=c(v),this.transparent=this.backgroundColor.alpha===0,this},setBounds:function(v,p,m,x,E){return E===void 0&&(E=!1),this._bounds.setTo(v,p,m,x),this.dirty=!0,this.useBounds=!0,E?this.centerToBounds():(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},getBounds:function(v){v===void 0&&(v=new s);var p=this._bounds;return v.setTo(p.x,p.y,p.width,p.height),v},setName:function(v){return v===void 0&&(v=""),this.name=v,this},setPosition:function(v,p){return p===void 0&&(p=v),this.x=v,this.y=p,this},setRotation:function(v){return v===void 0&&(v=0),this.rotation=v,this},setRoundPixels:function(v){return this.roundPixels=v,this},setScene:function(v,p){p===void 0&&(p=!0),this.scene&&this._customViewport&&this.sceneManager.customViewports--,this.scene=v,this.isSceneCamera=p;var m=v.sys;return this.sceneManager=m.game.scene,this.scaleManager=m.scale,this.cameraManager=m.cameras,this.updateSystem(),this},setScroll:function(v,p){return p===void 0&&(p=v),this.scrollX=v,this.scrollY=p,this},setSize:function(v,p){return p===void 0&&(p=v),this.width=v,this.height=p,this},setViewport:function(v,p,m,x){return this.x=v,this.y=p,this.width=m,this.height=x,this},setZoom:function(v,p){return v===void 0&&(v=1),p===void 0&&(p=v),v===0&&(v=.001),p===0&&(p=.001),this.zoomX=v,this.zoomY=p,this},setMask:function(v,p){return p===void 0&&(p=!0),this.mask=v,this._maskCamera=p?this.cameraManager.default:this,this},clearMask:function(v){return v===void 0&&(v=!1),v&&this.mask&&this.mask.destroy(),this.mask=null,this},toJSON:function(){var v={name:this.name,x:this.x,y:this.y,width:this.width,height:this.height,zoom:this.zoom,rotation:this.rotation,roundPixels:this.roundPixels,scrollX:this.scrollX,scrollY:this.scrollY,backgroundColor:this.backgroundColor.rgba};return this.useBounds&&(v.bounds={x:this._bounds.x,y:this._bounds.y,width:this._bounds.width,height:this._bounds.height}),v},update:function(){},setIsSceneCamera:function(v){return this.isSceneCamera=v,this},updateSystem:function(){if(!(!this.scaleManager||!this.isSceneCamera)){var v=this._x!==0||this._y!==0||this.scaleManager.width!==this._width||this.scaleManager.height!==this._height,p=this.sceneManager;v&&!this._customViewport?p.customViewports++:!v&&this._customViewport&&p.customViewports--,this.dirty=!0,this._customViewport=v}},destroy:function(){this.emit(o.DESTROY,this),this.removeAllListeners(),this.matrix.destroy(),this.culledObjects=[],this._customViewport&&this.sceneManager.customViewports--,this.renderList=[],this._bounds=null,this.scene=null,this.scaleManager=null,this.sceneManager=null,this.cameraManager=null},x:{get:function(){return this._x},set:function(v){this._x=v,this.updateSystem()}},y:{get:function(){return this._y},set:function(v){this._y=v,this.updateSystem()}},width:{get:function(){return this._width},set:function(v){this._width=v,this.updateSystem()}},height:{get:function(){return this._height},set:function(v){this._height=v,this.updateSystem()}},scrollX:{get:function(){return this._scrollX},set:function(v){v!==this._scrollX&&(this._scrollX=v,this.dirty=!0)}},scrollY:{get:function(){return this._scrollY},set:function(v){v!==this._scrollY&&(this._scrollY=v,this.dirty=!0)}},zoom:{get:function(){return(this._zoomX+this._zoomY)/2},set:function(v){this._zoomX=v,this._zoomY=v,this.dirty=!0}},zoomX:{get:function(){return this._zoomX},set:function(v){this._zoomX=v,this.dirty=!0}},zoomY:{get:function(){return this._zoomY},set:function(v){this._zoomY=v,this.dirty=!0}},rotation:{get:function(){return this._rotation},set:function(v){this._rotation=v,this.dirty=!0}},centerX:{get:function(){return this.x+.5*this.width}},centerY:{get:function(){return this.y+.5*this.height}},displayWidth:{get:function(){return this.width/this.zoomX}},displayHeight:{get:function(){return this.height/this.zoomY}}});h.exports=d},38058:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(71911),y=e(67502),f=e(45319),l=e(83419),o=e(31401),s=e(20052),a=e(19715),c=e(28915),r=e(87841),d=e(26099),v=new l({Extends:u,Mixins:[o.PostPipeline],initialize:function(m,x,E,w){u.call(this,m,x,E,w),this.initPostPipeline(),this.inputEnabled=!0,this.fadeEffect=new s.Fade(this),this.flashEffect=new s.Flash(this),this.shakeEffect=new s.Shake(this),this.panEffect=new s.Pan(this),this.rotateToEffect=new s.RotateTo(this),this.zoomEffect=new s.Zoom(this),this.lerp=new d(1,1),this.followOffset=new d,this.deadzone=null,this._follow=null},setDeadzone:function(p,m){if(p===void 0)this.deadzone=null;else{if(this.deadzone?(this.deadzone.width=p,this.deadzone.height=m):this.deadzone=new r(0,0,p,m),this._follow){var x=this.width/2,E=this.height/2,w=this._follow.x-this.followOffset.x,C=this._follow.y-this.followOffset.y;this.midPoint.set(w,C),this.scrollX=w-x,this.scrollY=C-E}y(this.deadzone,this.midPoint.x,this.midPoint.y)}return this},fadeIn:function(p,m,x,E,w,C){return this.fadeEffect.start(!1,p,m,x,E,!0,w,C)},fadeOut:function(p,m,x,E,w,C){return this.fadeEffect.start(!0,p,m,x,E,!0,w,C)},fadeFrom:function(p,m,x,E,w,C,P){return this.fadeEffect.start(!1,p,m,x,E,w,C,P)},fade:function(p,m,x,E,w,C,P){return this.fadeEffect.start(!0,p,m,x,E,w,C,P)},flash:function(p,m,x,E,w,C,P){return this.flashEffect.start(p,m,x,E,w,C,P)},shake:function(p,m,x,E,w){return this.shakeEffect.start(p,m,x,E,w)},pan:function(p,m,x,E,w,C,P){return this.panEffect.start(p,m,x,E,w,C,P)},rotateTo:function(p,m,x,E,w,C,P){return this.rotateToEffect.start(p,m,x,E,w,C,P)},zoomTo:function(p,m,x,E,w,C){return this.zoomEffect.start(p,m,x,E,w,C)},preRender:function(){this.renderList.length=0;var p=this.width,m=this.height,x=p*.5,E=m*.5,w=this.zoomX,C=this.zoomY,P=this.matrix;this.renderRoundPixels=this.roundPixels&&Number.isInteger(w)&&Number.isInteger(C);var R=p*this.originX,M=m*this.originY,I=this._follow,D=this.deadzone,L=this.scrollX,F=this.scrollY;D&&y(D,this.midPoint.x,this.midPoint.y);var O=!1;if(I&&!this.panEffect.isRunning){var N=this.lerp,b=I.x-this.followOffset.x,V=I.y-this.followOffset.y;D?(b<D.x?L=c(L,L-(D.x-b),N.x):b>D.right&&(L=c(L,L+(b-D.right),N.x)),V<D.y?F=c(F,F-(D.y-V),N.y):V>D.bottom&&(F=c(F,F+(V-D.bottom),N.y))):(L=c(L,b-R,N.x),F=c(F,V-M,N.y)),O=!0}this.roundPixels&&(L=Math.floor(L),F=Math.floor(F)),this.useBounds&&(L=this.clampX(L),F=this.clampY(F)),this.scrollX=L,this.scrollY=F;var Y=L+x,W=F+E;this.midPoint.set(Y,W);var U=Math.floor(p/w+.5),z=Math.floor(m/C+.5),B=Math.floor(Y-U/2+.5),X=Math.floor(W-z/2+.5);this.worldView.setTo(B,X,U,z),P.applyITRS(Math.floor(this.x+R+.5),Math.floor(this.y+M+.5),this.rotation,w,C),P.translate(-R,-M),this.shakeEffect.preRender(),O&&this.emit(a.FOLLOW_UPDATE,this,I)},setLerp:function(p,m){return p===void 0&&(p=1),m===void 0&&(m=p),this.lerp.set(p,m),this},setFollowOffset:function(p,m){return p===void 0&&(p=0),m===void 0&&(m=0),this.followOffset.set(p,m),this},startFollow:function(p,m,x,E,w,C){m===void 0&&(m=!1),x===void 0&&(x=1),E===void 0&&(E=x),w===void 0&&(w=0),C===void 0&&(C=w),this._follow=p,this.roundPixels=m,x=f(x,0,1),E=f(E,0,1),this.lerp.set(x,E),this.followOffset.set(w,C);var P=this.width/2,R=this.height/2,M=p.x-w,I=p.y-C;return this.midPoint.set(M,I),this.scrollX=M-P,this.scrollY=I-R,this.useBounds&&(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},stopFollow:function(){return this._follow=null,this},resetFX:function(){return this.rotateToEffect.reset(),this.panEffect.reset(),this.shakeEffect.reset(),this.flashEffect.reset(),this.fadeEffect.reset(),this},update:function(p,m){this.visible&&(this.rotateToEffect.update(p,m),this.panEffect.update(p,m),this.zoomEffect.update(p,m),this.shakeEffect.update(p,m),this.flashEffect.update(p,m),this.fadeEffect.update(p,m))},destroy:function(){this.resetFX(),u.prototype.destroy.call(this),this._follow=null,this.deadzone=null}});h.exports=v},32743:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(38058),y=e(83419),f=e(95540),l=e(37277),o=e(37303),s=e(97480),a=e(44594),c=new y({initialize:function(d){this.scene=d,this.systems=d.sys,this.roundPixels=d.sys.game.config.roundPixels,this.cameras=[],this.main,this.default,d.sys.events.once(a.BOOT,this.boot,this),d.sys.events.on(a.START,this.start,this)},boot:function(){var r=this.systems;r.settings.cameras?this.fromJSON(r.settings.cameras):this.add(),this.main=this.cameras[0],this.default=new u(0,0,r.scale.width,r.scale.height).setScene(this.scene),r.game.scale.on(s.RESIZE,this.onResize,this),this.systems.events.once(a.DESTROY,this.destroy,this)},start:function(){if(!this.main){var r=this.systems;r.settings.cameras?this.fromJSON(r.settings.cameras):this.add(),this.main=this.cameras[0]}var d=this.systems.events;d.on(a.UPDATE,this.update,this),d.once(a.SHUTDOWN,this.shutdown,this)},add:function(r,d,v,p,m,x){r===void 0&&(r=0),d===void 0&&(d=0),v===void 0&&(v=this.scene.sys.scale.width),p===void 0&&(p=this.scene.sys.scale.height),m===void 0&&(m=!1),x===void 0&&(x="");var E=new u(r,d,v,p);return E.setName(x),E.setScene(this.scene),E.setRoundPixels(this.roundPixels),E.id=this.getNextID(),this.cameras.push(E),m&&(this.main=E),E},addExisting:function(r,d){d===void 0&&(d=!1);var v=this.cameras.indexOf(r);return v===-1?(r.id=this.getNextID(),r.setRoundPixels(this.roundPixels),this.cameras.push(r),d&&(this.main=r),r):null},getNextID:function(){for(var r=this.cameras,d=1,v=0;v<32;v++){for(var p=!1,m=0;m<r.length;m++){var x=r[m];if(x&&x.id===d){p=!0;continue}}if(p)d=d<<1;else return d}return 0},getTotal:function(r){r===void 0&&(r=!1);for(var d=0,v=this.cameras,p=0;p<v.length;p++){var m=v[p];(!r||r&&m.visible)&&d++}return d},fromJSON:function(r){Array.isArray(r)||(r=[r]);for(var d=this.scene.sys.scale.width,v=this.scene.sys.scale.height,p=0;p<r.length;p++){var m=r[p],x=f(m,"x",0),E=f(m,"y",0),w=f(m,"width",d),C=f(m,"height",v),P=this.add(x,E,w,C);P.name=f(m,"name",""),P.zoom=f(m,"zoom",1),P.rotation=f(m,"rotation",0),P.scrollX=f(m,"scrollX",0),P.scrollY=f(m,"scrollY",0),P.roundPixels=f(m,"roundPixels",!1),P.visible=f(m,"visible",!0);var R=f(m,"backgroundColor",!1);R&&P.setBackgroundColor(R);var M=f(m,"bounds",null);if(M){var I=f(M,"x",0),D=f(M,"y",0),L=f(M,"width",d),F=f(M,"height",v);P.setBounds(I,D,L,F)}}return this},getCamera:function(r){for(var d=this.cameras,v=0;v<d.length;v++)if(d[v].name===r)return d[v];return null},getCamerasBelowPointer:function(r){for(var d=this.cameras,v=r.x,p=r.y,m=[],x=0;x<d.length;x++){var E=d[x];E.visible&&E.inputEnabled&&o(E,v,p)&&m.unshift(E)}return m},remove:function(r,d){d===void 0&&(d=!0),Array.isArray(r)||(r=[r]);for(var v=0,p=this.cameras,m=0;m<r.length;m++){var x=p.indexOf(r[m]);x!==-1&&(d?p[x].destroy():p[x].renderList=[],p.splice(x,1),v++)}return!this.main&&p[0]&&(this.main=p[0]),v},render:function(r,d){for(var v=this.scene,p=this.cameras,m=0;m<p.length;m++){var x=p[m];if(x.visible&&x.alpha>0){x.preRender();var E=this.getVisibleChildren(d.getChildren(),x);r.render(v,E,x)}}},getVisibleChildren:function(r,d){return r.filter(function(v){return v.willRender(d)})},resetAll:function(){for(var r=0;r<this.cameras.length;r++)this.cameras[r].destroy();return this.cameras=[],this.main=this.add(),this.main},update:function(r,d){for(var v=0;v<this.cameras.length;v++)this.cameras[v].update(r,d)},onResize:function(r,d,v,p,m){for(var x=0;x<this.cameras.length;x++){var E=this.cameras[x];E._x===0&&E._y===0&&E._width===p&&E._height===m&&E.setSize(d.width,d.height)}},resize:function(r,d){for(var v=0;v<this.cameras.length;v++)this.cameras[v].setSize(r,d)},shutdown:function(){this.main=void 0;for(var r=0;r<this.cameras.length;r++)this.cameras[r].destroy();this.cameras=[];var d=this.systems.events;d.off(a.UPDATE,this.update,this),d.off(a.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.default.destroy(),this.systems.events.off(a.START,this.start,this),this.systems.events.off(a.DESTROY,this.destroy,this),this.systems.game.scale.off(s.RESIZE,this.onResize,this),this.scene=null,this.systems=null}});l.register("CameraManager",c,"cameras"),h.exports=c},5020:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(45319),y=e(83419),f=e(19715),l=new y({initialize:function(s){this.camera=s,this.isRunning=!1,this.isComplete=!1,this.direction=!0,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(o,s,a,c,r,d,v,p){if(o===void 0&&(o=!0),s===void 0&&(s=1e3),a===void 0&&(a=0),c===void 0&&(c=0),r===void 0&&(r=0),d===void 0&&(d=!1),v===void 0&&(v=null),p===void 0&&(p=this.camera.scene),!d&&this.isRunning)return this.camera;this.isRunning=!0,this.isComplete=!1,this.duration=s,this.direction=o,this.progress=0,this.red=a,this.green=c,this.blue=r,this.alpha=o?Number.MIN_VALUE:1,this._elapsed=0,this._onUpdate=v,this._onUpdateScope=p;var m=o?f.FADE_OUT_START:f.FADE_IN_START;return this.camera.emit(m,this.camera,this,s,a,c,r),this.camera},update:function(o,s){this.isRunning&&(this._elapsed+=s,this.progress=u(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this.direction?this.progress:1-this.progress:(this.alpha=this.direction?1:0,this.effectComplete()))},postRenderCanvas:function(o){if(!this.isRunning&&!this.isComplete)return!1;var s=this.camera;return o.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",o.fillRect(s.x,s.y,s.width,s.height),!0},postRenderWebGL:function(o,s){if(!this.isRunning&&!this.isComplete)return!1;var a=this.camera,c=this.red/255,r=this.green/255,d=this.blue/255;return o.drawFillRect(a.x,a.y,a.width,a.height,s(d,r,c,1),this.alpha),!0},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.isComplete=!0;var o=this.direction?f.FADE_OUT_COMPLETE:f.FADE_IN_COMPLETE;this.camera.emit(o,this.camera,this)},reset:function(){this.isRunning=!1,this.isComplete=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});h.exports=l},10662:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(45319),y=e(83419),f=e(19715),l=new y({initialize:function(s){this.camera=s,this.isRunning=!1,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=1,this.progress=0,this._elapsed=0,this._alpha,this._onUpdate,this._onUpdateScope},start:function(o,s,a,c,r,d,v){return o===void 0&&(o=250),s===void 0&&(s=255),a===void 0&&(a=255),c===void 0&&(c=255),r===void 0&&(r=!1),d===void 0&&(d=null),v===void 0&&(v=this.camera.scene),!r&&this.isRunning?this.camera:(this.isRunning=!0,this.duration=o,this.progress=0,this.red=s,this.green=a,this.blue=c,this._alpha=this.alpha,this._elapsed=0,this._onUpdate=d,this._onUpdateScope=v,this.camera.emit(f.FLASH_START,this.camera,this,o,s,a,c),this.camera)},update:function(o,s){this.isRunning&&(this._elapsed+=s,this.progress=u(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this._alpha*(1-this.progress):this.effectComplete())},postRenderCanvas:function(o){if(!this.isRunning)return!1;var s=this.camera;return o.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",o.fillRect(s.x,s.y,s.width,s.height),!0},postRenderWebGL:function(o,s){if(!this.isRunning)return!1;var a=this.camera,c=this.red/255,r=this.green/255,d=this.blue/255;return o.drawFillRect(a.x,a.y,a.width,a.height,s(d,r,c,1),this.alpha),!0},effectComplete:function(){this.alpha=this._alpha,this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(f.FLASH_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});h.exports=l},20359:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(45319),y=e(83419),f=e(62640),l=e(19715),o=e(26099),s=new y({initialize:function(c){this.camera=c,this.isRunning=!1,this.duration=0,this.source=new o,this.current=new o,this.destination=new o,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(a,c,r,d,v,p,m){r===void 0&&(r=1e3),d===void 0&&(d=f.Linear),v===void 0&&(v=!1),p===void 0&&(p=null),m===void 0&&(m=this.camera.scene);var x=this.camera;return!v&&this.isRunning||(this.isRunning=!0,this.duration=r,this.progress=0,this.source.set(x.scrollX,x.scrollY),this.destination.set(a,c),x.getScroll(a,c,this.current),typeof d=="string"&&f.hasOwnProperty(d)?this.ease=f[d]:typeof d=="function"&&(this.ease=d),this._elapsed=0,this._onUpdate=p,this._onUpdateScope=m,this.camera.emit(l.PAN_START,this.camera,this,r,a,c)),x},update:function(a,c){if(this.isRunning){this._elapsed+=c;var r=u(this._elapsed/this.duration,0,1);this.progress=r;var d=this.camera;if(this._elapsed<this.duration){var v=this.ease(r);d.getScroll(this.destination.x,this.destination.y,this.current);var p=this.source.x+(this.current.x-this.source.x)*v,m=this.source.y+(this.current.y-this.source.y)*v;d.setScroll(p,m),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,d,r,p,m)}else d.centerOn(this.destination.x,this.destination.y),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,d,r,d.scrollX,d.scrollY),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(l.PAN_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});h.exports=s},34208:(h,S,e)=>{/**
 * @author       Jason Nicholls <nicholls.jason@gmail.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var u=e(45319),y=e(83419),f=e(19715),l=e(62640),o=new y({initialize:function(a){this.camera=a,this.isRunning=!1,this.duration=0,this.source=0,this.current=0,this.destination=0,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope,this.clockwise=!0,this.shortestPath=!1},start:function(s,a,c,r,d,v,p){c===void 0&&(c=1e3),r===void 0&&(r=l.Linear),d===void 0&&(d=!1),v===void 0&&(v=null),p===void 0&&(p=this.camera.scene),a===void 0&&(a=!1),this.shortestPath=a;var m=s;s<0?(m=-1*s,this.clockwise=!1):this.clockwise=!0;var x=360*Math.PI/180;m=m-Math.floor(m/x)*x;var E=this.camera;if(!d&&this.isRunning)return E;if(this.isRunning=!0,this.duration=c,this.progress=0,this.source=E.rotation,this.destination=m,typeof r=="string"&&l.hasOwnProperty(r)?this.ease=l[r]:typeof r=="function"&&(this.ease=r),this._elapsed=0,this._onUpdate=v,this._onUpdateScope=p,this.shortestPath){var w=0,C=0;this.destination>this.source?w=Math.abs(this.destination-this.source):w=Math.abs(this.destination+x)-this.source,this.source>this.destination?C=Math.abs(this.source-this.destination):C=Math.abs(this.source+x)-this.destination,w<C?this.clockwise=!0:w>C&&(this.clockwise=!1)}return this.camera.emit(f.ROTATE_START,this.camera,this,c,m),E},update:function(s,a){if(this.isRunning){this._elapsed+=a;var c=u(this._elapsed/this.duration,0,1);this.progress=c;var r=this.camera;if(this._elapsed<this.duration){var d=this.ease(c);this.current=r.rotation;var v=0,p=360*Math.PI/180,m=this.destination,x=this.current;this.clockwise===!1&&(m=this.current,x=this.destination),m>=x?v=Math.abs(m-x):v=Math.abs(m+p)-x;var E=0;this.clockwise?E=r.rotation+v*d:E=r.rotation-v*d,r.rotation=E,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,r,c,E)}else r.rotation=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,r,c,this.destination),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(f.ROTATE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});h.exports=o},30330:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(45319),y=e(83419),f=e(19715),l=e(26099),o=new y({initialize:function(a){this.camera=a,this.isRunning=!1,this.duration=0,this.intensity=new l,this.progress=0,this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate,this._onUpdateScope},start:function(s,a,c,r,d){return s===void 0&&(s=100),a===void 0&&(a=.05),c===void 0&&(c=!1),r===void 0&&(r=null),d===void 0&&(d=this.camera.scene),!c&&this.isRunning?this.camera:(this.isRunning=!0,this.duration=s,this.progress=0,typeof a=="number"?this.intensity.set(a):this.intensity.set(a.x,a.y),this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate=r,this._onUpdateScope=d,this.camera.emit(f.SHAKE_START,this.camera,this,s,a),this.camera)},preRender:function(){this.isRunning&&this.camera.matrix.translate(this._offsetX,this._offsetY)},update:function(s,a){if(this.isRunning)if(this._elapsed+=a,this.progress=u(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration){var c=this.intensity,r=this.camera.width,d=this.camera.height,v=this.camera.zoom;this._offsetX=(Math.random()*c.x*r*2-c.x*r)*v,this._offsetY=(Math.random()*c.y*d*2-c.y*d)*v,this.camera.roundPixels&&(this._offsetX=Math.round(this._offsetX),this._offsetY=Math.round(this._offsetY))}else this.effectComplete()},effectComplete:function(){this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(f.SHAKE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.intensity=null}});h.exports=o},45641:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(45319),y=e(83419),f=e(62640),l=e(19715),o=new y({initialize:function(a){this.camera=a,this.isRunning=!1,this.duration=0,this.source=1,this.destination=1,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(s,a,c,r,d,v){a===void 0&&(a=1e3),c===void 0&&(c=f.Linear),r===void 0&&(r=!1),d===void 0&&(d=null),v===void 0&&(v=this.camera.scene);var p=this.camera;return!r&&this.isRunning||(this.isRunning=!0,this.duration=a,this.progress=0,this.source=p.zoom,this.destination=s,typeof c=="string"&&f.hasOwnProperty(c)?this.ease=f[c]:typeof c=="function"&&(this.ease=c),this._elapsed=0,this._onUpdate=d,this._onUpdateScope=v,this.camera.emit(l.ZOOM_START,this.camera,this,a,s)),p},update:function(s,a){this.isRunning&&(this._elapsed+=a,this.progress=u(this._elapsed/this.duration,0,1),this._elapsed<this.duration?(this.camera.zoom=this.source+(this.destination-this.source)*this.ease(this.progress),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.camera.zoom)):(this.camera.zoom=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.destination),this.effectComplete()))},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(l.ZOOM_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});h.exports=o},20052:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={Fade:e(5020),Flash:e(10662),Pan:e(20359),Shake:e(30330),RotateTo:e(34208),Zoom:e(45641)}},16438:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="cameradestroy"},32726:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="camerafadeincomplete"},87807:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="camerafadeinstart"},45917:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="camerafadeoutcomplete"},95666:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="camerafadeoutstart"},47056:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="cameraflashcomplete"},91261:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="cameraflashstart"},45047:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="followupdate"},81927:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="camerapancomplete"},74264:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="camerapanstart"},54419:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="postrender"},79330:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="prerender"},93183:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="camerarotatecomplete"},80112:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="camerarotatestart"},62252:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="camerashakecomplete"},86017:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="camerashakestart"},539:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="camerazoomcomplete"},51892:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="camerazoomstart"},19715:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={DESTROY:e(16438),FADE_IN_COMPLETE:e(32726),FADE_IN_START:e(87807),FADE_OUT_COMPLETE:e(45917),FADE_OUT_START:e(95666),FLASH_COMPLETE:e(47056),FLASH_START:e(91261),FOLLOW_UPDATE:e(45047),PAN_COMPLETE:e(81927),PAN_START:e(74264),POST_RENDER:e(54419),PRE_RENDER:e(79330),ROTATE_COMPLETE:e(93183),ROTATE_START:e(80112),SHAKE_COMPLETE:e(62252),SHAKE_START:e(86017),ZOOM_COMPLETE:e(539),ZOOM_START:e(51892)}},87969:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={Camera:e(38058),BaseCamera:e(71911),CameraManager:e(32743),Effects:e(20052),Events:e(19715)}},63091:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(35154),f=new u({initialize:function(o){this.camera=y(o,"camera",null),this.left=y(o,"left",null),this.right=y(o,"right",null),this.up=y(o,"up",null),this.down=y(o,"down",null),this.zoomIn=y(o,"zoomIn",null),this.zoomOut=y(o,"zoomOut",null),this.zoomSpeed=y(o,"zoomSpeed",.01),this.minZoom=y(o,"minZoom",.001),this.maxZoom=y(o,"maxZoom",1e3),this.speedX=0,this.speedY=0;var s=y(o,"speed",null);typeof s=="number"?(this.speedX=s,this.speedY=s):(this.speedX=y(o,"speed.x",0),this.speedY=y(o,"speed.y",0)),this._zoom=0,this.active=this.camera!==null},start:function(){return this.active=this.camera!==null,this},stop:function(){return this.active=!1,this},setCamera:function(l){return this.camera=l,this},update:function(l){if(this.active){l===void 0&&(l=1);var o=this.camera;this.up&&this.up.isDown?o.scrollY-=this.speedY*l|0:this.down&&this.down.isDown&&(o.scrollY+=this.speedY*l|0),this.left&&this.left.isDown?o.scrollX-=this.speedX*l|0:this.right&&this.right.isDown&&(o.scrollX+=this.speedX*l|0),this.zoomIn&&this.zoomIn.isDown?(o.zoom-=this.zoomSpeed,o.zoom<this.minZoom&&(o.zoom=this.minZoom)):this.zoomOut&&this.zoomOut.isDown&&(o.zoom+=this.zoomSpeed,o.zoom>this.maxZoom&&(o.zoom=this.maxZoom))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});h.exports=f},58818:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(35154),f=new u({initialize:function(o){this.camera=y(o,"camera",null),this.left=y(o,"left",null),this.right=y(o,"right",null),this.up=y(o,"up",null),this.down=y(o,"down",null),this.zoomIn=y(o,"zoomIn",null),this.zoomOut=y(o,"zoomOut",null),this.zoomSpeed=y(o,"zoomSpeed",.01),this.minZoom=y(o,"minZoom",.001),this.maxZoom=y(o,"maxZoom",1e3),this.accelX=0,this.accelY=0;var s=y(o,"acceleration",null);typeof s=="number"?(this.accelX=s,this.accelY=s):(this.accelX=y(o,"acceleration.x",0),this.accelY=y(o,"acceleration.y",0)),this.dragX=0,this.dragY=0;var a=y(o,"drag",null);typeof a=="number"?(this.dragX=a,this.dragY=a):(this.dragX=y(o,"drag.x",0),this.dragY=y(o,"drag.y",0)),this.maxSpeedX=0,this.maxSpeedY=0;var c=y(o,"maxSpeed",null);typeof c=="number"?(this.maxSpeedX=c,this.maxSpeedY=c):(this.maxSpeedX=y(o,"maxSpeed.x",0),this.maxSpeedY=y(o,"maxSpeed.y",0)),this._speedX=0,this._speedY=0,this._zoom=0,this.active=this.camera!==null},start:function(){return this.active=this.camera!==null,this},stop:function(){return this.active=!1,this},setCamera:function(l){return this.camera=l,this},update:function(l){if(this.active){l===void 0&&(l=1);var o=this.camera;this._speedX>0?(this._speedX-=this.dragX*l,this._speedX<0&&(this._speedX=0)):this._speedX<0&&(this._speedX+=this.dragX*l,this._speedX>0&&(this._speedX=0)),this._speedY>0?(this._speedY-=this.dragY*l,this._speedY<0&&(this._speedY=0)):this._speedY<0&&(this._speedY+=this.dragY*l,this._speedY>0&&(this._speedY=0)),this.up&&this.up.isDown?(this._speedY+=this.accelY,this._speedY>this.maxSpeedY&&(this._speedY=this.maxSpeedY)):this.down&&this.down.isDown&&(this._speedY-=this.accelY,this._speedY<-this.maxSpeedY&&(this._speedY=-this.maxSpeedY)),this.left&&this.left.isDown?(this._speedX+=this.accelX,this._speedX>this.maxSpeedX&&(this._speedX=this.maxSpeedX)):this.right&&this.right.isDown&&(this._speedX-=this.accelX,this._speedX<-this.maxSpeedX&&(this._speedX=-this.maxSpeedX)),this.zoomIn&&this.zoomIn.isDown?this._zoom=-this.zoomSpeed:this.zoomOut&&this.zoomOut.isDown?this._zoom=this.zoomSpeed:this._zoom=0,this._speedX!==0&&(o.scrollX-=this._speedX*l|0),this._speedY!==0&&(o.scrollY-=this._speedY*l|0),this._zoom!==0&&(o.zoom+=this._zoom,o.zoom<this.minZoom?o.zoom=this.minZoom:o.zoom>this.maxZoom&&(o.zoom=this.maxZoom))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});h.exports=f},38865:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={FixedKeyControl:e(63091),SmoothedKeyControl:e(58818)}},26638:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={Controls:e(38865),Scene2D:e(87969)}},8054:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u={VERSION:"3.90.0",LOG_VERSION:"v390",BlendModes:e(10312),ScaleModes:e(29795),AUTO:0,CANVAS:1,WEBGL:2,HEADLESS:3,FOREVER:-1,NONE:4,UP:5,DOWN:6,LEFT:7,RIGHT:8};h.exports=u},69547:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(8054),f=e(42363),l=e(82264),o=e(95540),s=e(35154),a=e(41212),c=e(29747),r=e(75508),d=e(36060),v=e(80333),p=new u({initialize:function(x){x===void 0&&(x={});var E=["#ff0000","#ffff00","#00ff00","#00ffff","#000000"],w="#ffffff",C=s(x,"scale",null);this.width=s(C,"width",1024,x),this.height=s(C,"height",768,x),this.zoom=s(C,"zoom",1,x),this.parent=s(C,"parent",void 0,x),this.scaleMode=s(C,C?"mode":"scaleMode",0,x),this.expandParent=s(C,"expandParent",!0,x),this.autoRound=s(C,"autoRound",!1,x),this.autoCenter=s(C,"autoCenter",0,x),this.resizeInterval=s(C,"resizeInterval",500,x),this.fullscreenTarget=s(C,"fullscreenTarget",null,x),this.minWidth=s(C,"min.width",0,x),this.maxWidth=s(C,"max.width",0,x),this.minHeight=s(C,"min.height",0,x),this.maxHeight=s(C,"max.height",0,x),this.snapWidth=s(C,"snap.width",0,x),this.snapHeight=s(C,"snap.height",0,x),this.renderType=s(x,"type",y.AUTO),this.canvas=s(x,"canvas",null),this.context=s(x,"context",null),this.canvasStyle=s(x,"canvasStyle",null),this.customEnvironment=s(x,"customEnvironment",!1),this.sceneConfig=s(x,"scene",null),this.seed=s(x,"seed",[(Date.now()*Math.random()).toString()]),r.RND=new r.RandomDataGenerator(this.seed),this.gameTitle=s(x,"title",""),this.gameURL=s(x,"url","https://phaser.io/"+y.LOG_VERSION),this.gameVersion=s(x,"version",""),this.autoFocus=s(x,"autoFocus",!0),this.stableSort=s(x,"stableSort",-1),this.stableSort===-1&&(this.stableSort=l.browser.es2019?1:0),l.features.stableSort=this.stableSort,this.domCreateContainer=s(x,"dom.createContainer",!1),this.domPointerEvents=s(x,"dom.pointerEvents","none"),this.inputKeyboard=s(x,"input.keyboard",!0),this.inputKeyboardEventTarget=s(x,"input.keyboard.target",window),this.inputKeyboardCapture=s(x,"input.keyboard.capture",[]),this.inputMouse=s(x,"input.mouse",!0),this.inputMouseEventTarget=s(x,"input.mouse.target",null),this.inputMousePreventDefaultDown=s(x,"input.mouse.preventDefaultDown",!0),this.inputMousePreventDefaultUp=s(x,"input.mouse.preventDefaultUp",!0),this.inputMousePreventDefaultMove=s(x,"input.mouse.preventDefaultMove",!0),this.inputMousePreventDefaultWheel=s(x,"input.mouse.preventDefaultWheel",!0),this.inputTouch=s(x,"input.touch",l.input.touch),this.inputTouchEventTarget=s(x,"input.touch.target",null),this.inputTouchCapture=s(x,"input.touch.capture",!0),this.inputActivePointers=s(x,"input.activePointers",1),this.inputSmoothFactor=s(x,"input.smoothFactor",0),this.inputWindowEvents=s(x,"input.windowEvents",!0),this.inputGamepad=s(x,"input.gamepad",!1),this.inputGamepadEventTarget=s(x,"input.gamepad.target",window),this.disableContextMenu=s(x,"disableContextMenu",!1),this.audio=s(x,"audio",{}),this.hideBanner=s(x,"banner",null)===!1,this.hidePhaser=s(x,"banner.hidePhaser",!1),this.bannerTextColor=s(x,"banner.text",w),this.bannerBackgroundColor=s(x,"banner.background",E),this.gameTitle===""&&this.hidePhaser&&(this.hideBanner=!0),this.fps=s(x,"fps",null),this.disablePreFX=s(x,"disablePreFX",!1),this.disablePostFX=s(x,"disablePostFX",!1);var P=s(x,"render",null);this.pipeline=s(P,"pipeline",null,x),this.autoMobilePipeline=s(P,"autoMobilePipeline",!0,x),this.defaultPipeline=s(P,"defaultPipeline",d.MULTI_PIPELINE,x),this.antialias=s(P,"antialias",!0,x),this.antialiasGL=s(P,"antialiasGL",!0,x),this.mipmapFilter=s(P,"mipmapFilter","",x),this.desynchronized=s(P,"desynchronized",!1,x),this.roundPixels=s(P,"roundPixels",!1,x),this.pixelArt=s(P,"pixelArt",this.zoom!==1,x),this.pixelArt&&(this.antialias=!1,this.antialiasGL=!1,this.roundPixels=!0),this.transparent=s(P,"transparent",!1,x),this.clearBeforeRender=s(P,"clearBeforeRender",!0,x),this.preserveDrawingBuffer=s(P,"preserveDrawingBuffer",!1,x),this.premultipliedAlpha=s(P,"premultipliedAlpha",!0,x),this.failIfMajorPerformanceCaveat=s(P,"failIfMajorPerformanceCaveat",!1,x),this.powerPreference=s(P,"powerPreference","default",x),this.batchSize=s(P,"batchSize",4096,x),this.maxTextures=s(P,"maxTextures",-1,x),this.maxLights=s(P,"maxLights",10,x);var R=s(x,"backgroundColor",0);this.backgroundColor=v(R),this.transparent&&(this.backgroundColor=v(0),this.backgroundColor.alpha=0),this.preBoot=s(x,"callbacks.preBoot",c),this.postBoot=s(x,"callbacks.postBoot",c),this.physics=s(x,"physics",{}),this.defaultPhysicsSystem=s(this.physics,"default",!1),this.loaderBaseURL=s(x,"loader.baseURL",""),this.loaderPath=s(x,"loader.path",""),this.loaderMaxParallelDownloads=s(x,"loader.maxParallelDownloads",l.os.android?6:32),this.loaderCrossOrigin=s(x,"loader.crossOrigin",void 0),this.loaderResponseType=s(x,"loader.responseType",""),this.loaderAsync=s(x,"loader.async",!0),this.loaderUser=s(x,"loader.user",""),this.loaderPassword=s(x,"loader.password",""),this.loaderTimeout=s(x,"loader.timeout",0),this.loaderMaxRetries=s(x,"loader.maxRetries",2),this.loaderWithCredentials=s(x,"loader.withCredentials",!1),this.loaderImageLoadType=s(x,"loader.imageLoadType","XHR"),this.loaderLocalScheme=s(x,"loader.localScheme",["file://","capacitor://"]),this.glowFXQuality=s(x,"fx.glow.quality",.1),this.glowFXDistance=s(x,"fx.glow.distance",10),this.installGlobalPlugins=[],this.installScenePlugins=[];var M=s(x,"plugins",null),I=f.DefaultScene;M&&(Array.isArray(M)?this.defaultPlugins=M:a(M)&&(this.installGlobalPlugins=o(M,"global",[]),this.installScenePlugins=o(M,"scene",[]),Array.isArray(M.default)?I=M.default:Array.isArray(M.defaultMerge)&&(I=I.concat(M.defaultMerge)))),this.defaultPlugins=I;var D="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAg";this.defaultImage=s(x,"images.default",D+"AQMAAABJtOi3AAAAA1BMVEX///+nxBvIAAAAAXRSTlMAQObYZgAAABVJREFUeF7NwIEAAAAAgKD9qdeocAMAoAABm3DkcAAAAABJRU5ErkJggg=="),this.missingImage=s(x,"images.missing",D+"CAIAAAD8GO2jAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJ9JREFUeNq01ssOwyAMRFG46v//Mt1ESmgh+DFmE2GPOBARKb2NVjo+17PXLD8a1+pl5+A+wSgFygymWYHBb0FtsKhJDdZlncG2IzJ4ayoMDv20wTmSMzClEgbWYNTAkQ0Z+OJ+A/eWnAaR9+oxCF4Os0H8htsMUp+pwcgBBiMNnAwF8GqIgL2hAzaGFFgZauDPKABmowZ4GL369/0rwACp2yA/ttmvsQAAAABJRU5ErkJggg=="),this.whiteImage=s(x,"images.white","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAIAAAAmkwkpAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAABdJREFUeNpi/P//PwMMMDEgAdwcgAADAJZuAwXJYZOzAAAAAElFTkSuQmCC"),window&&(window.FORCE_WEBGL?this.renderType=y.WEBGL:window.FORCE_CANVAS&&(this.renderType=y.CANVAS))}});h.exports=p},86054:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(20623),y=e(27919),f=e(8054),l=e(89357),o=function(s){var a=s.config;if((a.customEnvironment||a.canvas)&&a.renderType===f.AUTO)throw new Error("Must set explicit renderType in custom environment");if(!a.customEnvironment&&!a.canvas&&a.renderType!==f.HEADLESS)if(a.renderType===f.AUTO&&(a.renderType=l.webGL?f.WEBGL:f.CANVAS),a.renderType===f.WEBGL){if(!l.webGL)throw new Error("Cannot create WebGL context, aborting.")}else if(a.renderType===f.CANVAS){if(!l.canvas)throw new Error("Cannot create Canvas context, aborting.")}else throw new Error("Unknown value for renderer type: "+a.renderType);a.antialias||y.disableSmoothing();var c=s.scale.baseSize,r=c.width,d=c.height;if(a.canvas?(s.canvas=a.canvas,s.canvas.width=r,s.canvas.height=d):s.canvas=y.create(s,r,d,a.renderType),a.canvasStyle&&(s.canvas.style=a.canvasStyle),a.antialias||u.setCrisp(s.canvas),a.renderType!==f.HEADLESS){var v,p;v=e(68627),p=e(74797),a.renderType===f.WEBGL?s.renderer=new p(s):(s.renderer=new v(s),s.context=s.renderer.gameContext)}};h.exports=o},96391:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(8054),y=function(f){var l=f.config;if(!l.hideBanner){var o="WebGL";l.renderType===u.CANVAS?o="Canvas":l.renderType===u.HEADLESS&&(o="Headless");var s=l.audio,a=f.device.audio,c;if(a.webAudio&&!s.disableWebAudio?c="Web Audio":s.noAudio||!a.webAudio&&!a.audioData?c="No Audio":c="HTML5 Audio",f.device.browser.ie)window.console&&console.log("Phaser v"+u.VERSION+" / https://phaser.io");else{var r="",d=[r];if(Array.isArray(l.bannerBackgroundColor)){var v;l.bannerBackgroundColor.forEach(function(m){r=r.concat("%c "),d.push("background: "+m),v=m}),d[d.length-1]="color: "+l.bannerTextColor+"; background: "+v}else r=r.concat("%c "),d.push("color: "+l.bannerTextColor+"; background: "+l.bannerBackgroundColor);d.push("background: transparent"),l.gameTitle&&(r=r.concat(l.gameTitle),l.gameVersion&&(r=r.concat(" v"+l.gameVersion)),l.hidePhaser||(r=r.concat(" / ")));var p="";l.hidePhaser||(r=r.concat("Phaser v"+u.VERSION+p+" ("+o+" | "+c+")")),r=r.concat(" %c "+l.gameURL),d[0]=r,console.log.apply(console,d)}}};h.exports=y},50127:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(40366),y=e(60848),f=e(24047),l=e(27919),o=e(83419),s=e(69547),a=e(83719),c=e(86054),r=e(45893),d=e(96391),v=e(82264),p=e(57264),m=e(50792),x=e(8443),E=e(7003),w=e(37277),C=e(77332),P=e(76531),R=e(60903),M=e(69442),I=e(17130),D=e(65898),L=e(51085),F=e(14747),O=new o({initialize:function(b){this.config=new s(b),this.renderer=null,this.domContainer=null,this.canvas=null,this.context=null,this.isBooted=!1,this.isRunning=!1,this.events=new m,this.anims=new y(this),this.textures=new I(this),this.cache=new f(this),this.registry=new r(this,new m),this.input=new E(this,this.config),this.scene=new R(this,this.config.sceneConfig),this.device=v,this.scale=new P(this,this.config),this.sound=null,this.sound=F.create(this),this.loop=new D(this,this.config.fps),this.plugins=new C(this,this.config),this.pendingDestroy=!1,this.removeCanvas=!1,this.noReturn=!1,this.hasFocus=!1,this.isPaused=!1,p(this.boot.bind(this))},boot:function(){if(!w.hasCore("EventEmitter")){console.warn("Aborting. Core Plugins missing.");return}this.isBooted=!0,this.config.preBoot(this),this.scale.preBoot(),c(this),a(this),d(this),u(this.canvas,this.config.parent),this.textures.once(M.READY,this.texturesReady,this),this.events.emit(x.BOOT)},texturesReady:function(){this.events.emit(x.READY),this.start()},start:function(){this.isRunning=!0,this.config.postBoot(this),this.renderer?this.loop.start(this.step.bind(this)):this.loop.start(this.headlessStep.bind(this)),L(this);var N=this.events;N.on(x.HIDDEN,this.onHidden,this),N.on(x.VISIBLE,this.onVisible,this),N.on(x.BLUR,this.onBlur,this),N.on(x.FOCUS,this.onFocus,this)},step:function(N,b){if(this.pendingDestroy)return this.runDestroy();if(!this.isPaused){var V=this.events;V.emit(x.PRE_STEP,N,b),V.emit(x.STEP,N,b),this.scene.update(N,b),V.emit(x.POST_STEP,N,b);var Y=this.renderer;Y.preRender(),V.emit(x.PRE_RENDER,Y,N,b),this.scene.render(Y),Y.postRender(),V.emit(x.POST_RENDER,Y,N,b)}},headlessStep:function(N,b){if(this.pendingDestroy)return this.runDestroy();if(!this.isPaused){var V=this.events;V.emit(x.PRE_STEP,N,b),V.emit(x.STEP,N,b),this.scene.update(N,b),V.emit(x.POST_STEP,N,b),this.scene.isProcessing=!1,V.emit(x.PRE_RENDER,null,N,b),V.emit(x.POST_RENDER,null,N,b)}},onHidden:function(){this.loop.pause(),this.events.emit(x.PAUSE)},pause:function(){var N=this.isPaused;this.isPaused=!0,N||this.events.emit(x.PAUSE)},onVisible:function(){this.loop.resume(),this.events.emit(x.RESUME,this.loop.pauseDuration)},resume:function(){var N=this.isPaused;this.isPaused=!1,N&&this.events.emit(x.RESUME,0)},onBlur:function(){this.hasFocus=!1,this.loop.blur()},onFocus:function(){this.hasFocus=!0,this.loop.focus()},getFrame:function(){return this.loop.frame},getTime:function(){return this.loop.now},destroy:function(N,b){b===void 0&&(b=!1),this.pendingDestroy=!0,this.removeCanvas=N,this.noReturn=b},runDestroy:function(){this.scene.destroy(),this.events.emit(x.DESTROY),this.events.removeAllListeners(),this.renderer&&this.renderer.destroy(),this.removeCanvas&&this.canvas&&(l.remove(this.canvas),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas)),this.domContainer&&this.domContainer.parentNode&&this.domContainer.parentNode.removeChild(this.domContainer),this.loop.destroy(),this.pendingDestroy=!1}});h.exports=O},65898:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(35154),f=e(29747),l=e(43092),o=new u({initialize:function(a,c){this.game=a,this.raf=new l,this.started=!1,this.running=!1,this.minFps=y(c,"min",5),this.targetFps=y(c,"target",60),this.fpsLimit=y(c,"limit",0),this.hasFpsLimit=this.fpsLimit>0,this._limitRate=this.hasFpsLimit?1e3/this.fpsLimit:0,this._min=1e3/this.minFps,this._target=1e3/this.targetFps,this.actualFps=this.targetFps,this.nextFpsUpdate=0,this.framesThisSecond=0,this.callback=f,this.forceSetTimeOut=y(c,"forceSetTimeOut",!1),this.time=0,this.startTime=0,this.lastTime=0,this.frame=0,this.inFocus=!0,this.pauseDuration=0,this._pauseTime=0,this._coolDown=0,this.delta=0,this.deltaIndex=0,this.deltaHistory=[],this.deltaSmoothingMax=y(c,"deltaHistory",10),this.panicMax=y(c,"panicMax",120),this.rawDelta=0,this.now=0,this.smoothStep=y(c,"smoothStep",!0)},blur:function(){this.inFocus=!1},focus:function(){this.inFocus=!0,this.resetDelta()},pause:function(){this._pauseTime=window.performance.now()},resume:function(){this.resetDelta(),this.pauseDuration=this.time-this._pauseTime,this.startTime+=this.pauseDuration},resetDelta:function(){var s=window.performance.now();this.time=s,this.lastTime=s,this.nextFpsUpdate=s+1e3,this.framesThisSecond=0;for(var a=0;a<this.deltaSmoothingMax;a++)this.deltaHistory[a]=Math.min(this._target,this.deltaHistory[a]);this.delta=0,this.deltaIndex=0,this._coolDown=this.panicMax},start:function(s){if(this.started)return this;this.started=!0,this.running=!0;for(var a=0;a<this.deltaSmoothingMax;a++)this.deltaHistory[a]=this._target;this.resetDelta(),this.startTime=window.performance.now(),this.callback=s;var c=this.hasFpsLimit?this.stepLimitFPS.bind(this):this.step.bind(this);this.raf.start(c,this.forceSetTimeOut,this._target)},smoothDelta:function(s){var a=this.deltaIndex,c=this.deltaHistory,r=this.deltaSmoothingMax;(this._coolDown>0||!this.inFocus)&&(this._coolDown--,s=Math.min(s,this._target)),s>this._min&&(s=c[a],s=Math.min(s,this._min)),c[a]=s,this.deltaIndex++,this.deltaIndex>=r&&(this.deltaIndex=0);for(var d=0,v=0;v<r;v++)d+=c[v];return d/=r,d},updateFPS:function(s){this.actualFps=.25*this.framesThisSecond+.75*this.actualFps,this.nextFpsUpdate=s+1e3,this.framesThisSecond=0},stepLimitFPS:function(s){this.now=s;var a=Math.max(0,s-this.lastTime);this.rawDelta=a,this.time+=this.rawDelta,this.smoothStep&&(a=this.smoothDelta(a)),this.delta+=a,s>=this.nextFpsUpdate&&this.updateFPS(s),this.framesThisSecond++,this.delta>=this._limitRate&&(this.callback(s,this.delta),this.delta=0),this.lastTime=s,this.frame++},step:function(s){this.now=s;var a=Math.max(0,s-this.lastTime);this.rawDelta=a,this.time+=this.rawDelta,this.smoothStep&&(a=this.smoothDelta(a)),this.delta=a,s>=this.nextFpsUpdate&&this.updateFPS(s),this.framesThisSecond++,this.callback(s,a),this.lastTime=s,this.frame++},tick:function(){var s=window.performance.now();this.hasFpsLimit?this.stepLimitFPS(s):this.step(s)},sleep:function(){this.running&&(this.raf.stop(),this.running=!1)},wake:function(s){s===void 0&&(s=!1);var a=window.performance.now();if(!this.running){s&&(this.startTime+=-this.lastTime+(this.lastTime+a));var c=this.hasFpsLimit?this.stepLimitFPS.bind(this):this.step.bind(this);this.raf.start(c,this.forceSetTimeOut,this._target),this.running=!0,this.nextFpsUpdate=a+1e3,this.framesThisSecond=0,this.fpsLimitTriggered=!1,this.tick()}},getDuration:function(){return Math.round(this.lastTime-this.startTime)/1e3},getDurationMS:function(){return Math.round(this.lastTime-this.startTime)},stop:function(){return this.running=!1,this.started=!1,this.raf.stop(),this},destroy:function(){this.stop(),this.raf.destroy(),this.raf=null,this.game=null,this.callback=null}});h.exports=o},51085:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(8443),y=function(f){var l,o=f.events;if(document.hidden!==void 0)l="visibilitychange";else{var s=["webkit","moz","ms"];s.forEach(function(c){document[c+"Hidden"]!==void 0&&(document.hidden=function(){return document[c+"Hidden"]},l=c+"visibilitychange")})}var a=function(c){document.hidden||c.type==="pause"?o.emit(u.HIDDEN):o.emit(u.VISIBLE)};l&&document.addEventListener(l,a,!1),window.onblur=function(){o.emit(u.BLUR)},window.onfocus=function(){o.emit(u.FOCUS)},window.focus&&f.config.autoFocus&&window.focus()};h.exports=y},97217:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="blur"},47548:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="boot"},19814:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="contextlost"},68446:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="destroy"},41700:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="focus"},25432:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="hidden"},65942:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="pause"},59211:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="postrender"},47789:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="poststep"},39066:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="prerender"},460:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="prestep"},16175:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="ready"},42331:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="resume"},11966:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="step"},32969:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="systemready"},94830:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="visible"},8443:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={BLUR:e(97217),BOOT:e(47548),CONTEXT_LOST:e(19814),DESTROY:e(68446),FOCUS:e(41700),HIDDEN:e(25432),PAUSE:e(65942),POST_RENDER:e(59211),POST_STEP:e(47789),PRE_RENDER:e(39066),PRE_STEP:e(460),READY:e(16175),RESUME:e(42331),STEP:e(11966),SYSTEM_READY:e(32969),VISIBLE:e(94830)}},42857:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={Config:e(69547),CreateRenderer:e(86054),DebugHeader:e(96391),Events:e(8443),TimeStep:e(65898),VisibilityHandler:e(51085)}},99584:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(5290),y=e(27919),f=e(35154),l=function(o){var s=f(o,"data",[]),a=f(o,"canvas",null),c=f(o,"palette",u),r=f(o,"pixelWidth",1),d=f(o,"pixelHeight",r),v=f(o,"resizeCanvas",!0),p=f(o,"clearCanvas",!0),m=f(o,"preRender",null),x=f(o,"postRender",null),E=Math.floor(Math.abs(s[0].length*r)),w=Math.floor(Math.abs(s.length*d));a||(a=y.create2D(this,E,w),v=!1,p=!1),v&&(a.width=E,a.height=w);var C=a.getContext("2d",{willReadFrequently:!0});p&&C.clearRect(0,0,E,w),m&&m(a,C);for(var P=0;P<s.length;P++)for(var R=s[P],M=0;M<R.length;M++){var I=R[M];I!=="."&&I!==" "&&(C.fillStyle=c[I],C.fillRect(M*r,P*d,r,d))}return x&&x(a,C),a};h.exports=l},15822:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={GenerateTexture:e(99584),Palettes:e(57763)}},5290:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={0:"#000",1:"#9D9D9D",2:"#FFF",3:"#BE2633",4:"#E06F8B",5:"#493C2B",6:"#A46422",7:"#EB8931",8:"#F7E26B",9:"#2F484E",A:"#44891A",B:"#A3CE27",C:"#1B2632",D:"#005784",E:"#31A2F2",F:"#B2DCEF"}},23816:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={0:"#000",1:"#fff",2:"#8b4131",3:"#7bbdc5",4:"#8b41ac",5:"#6aac41",6:"#3931a4",7:"#d5de73",8:"#945a20",9:"#5a4100",A:"#bd736a",B:"#525252",C:"#838383",D:"#acee8b",E:"#7b73de",F:"#acacac"}},9866:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={0:"#000",1:"#2234d1",2:"#0c7e45",3:"#44aacc",4:"#8a3622",5:"#5c2e78",6:"#aa5c3d",7:"#b5b5b5",8:"#5e606e",9:"#4c81fb",A:"#6cd947",B:"#7be2f9",C:"#eb8a60",D:"#e23d69",E:"#ffd93f",F:"#fff"}},77552:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#f5f4eb"}},92259:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#fff"}},57763:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={ARNE16:e(5290),C64:e(23816),CGA:e(9866),JMP:e(77552),MSX:e(92259)}},46728:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(36316),f=e(80021),l=e(26099),o=new u({Extends:f,initialize:function(a,c,r,d){f.call(this,"CubicBezierCurve"),Array.isArray(a)&&(d=new l(a[6],a[7]),r=new l(a[4],a[5]),c=new l(a[2],a[3]),a=new l(a[0],a[1])),this.p0=a,this.p1=c,this.p2=r,this.p3=d},getStartPoint:function(s){return s===void 0&&(s=new l),s.copy(this.p0)},getResolution:function(s){return s},getPoint:function(s,a){a===void 0&&(a=new l);var c=this.p0,r=this.p1,d=this.p2,v=this.p3;return a.set(y(s,c.x,r.x,d.x,v.x),y(s,c.y,r.y,d.y,v.y))},draw:function(s,a){a===void 0&&(a=32);var c=this.getPoints(a);s.beginPath(),s.moveTo(this.p0.x,this.p0.y);for(var r=1;r<c.length;r++)s.lineTo(c[r].x,c[r].y);return s.strokePath(),s},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y,this.p3.x,this.p3.y]}}});o.fromJSON=function(s){var a=s.points,c=new l(a[0],a[1]),r=new l(a[2],a[3]),d=new l(a[4],a[5]),v=new l(a[6],a[7]);return new o(c,r,d,v)},h.exports=o},80021:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(19217),f=e(87841),l=e(26099),o=new u({initialize:function(a){this.type=a,this.defaultDivisions=5,this.arcLengthDivisions=100,this.cacheArcLengths=[],this.needsUpdate=!0,this.active=!0,this._tmpVec2A=new l,this._tmpVec2B=new l},draw:function(s,a){return a===void 0&&(a=32),s.strokePoints(this.getPoints(a))},getBounds:function(s,a){s||(s=new f),a===void 0&&(a=16);var c=this.getLength();a>c&&(a=c/2);var r=Math.max(1,Math.round(c/a));return y(this.getSpacedPoints(r),s)},getDistancePoints:function(s){var a=this.getLength(),c=Math.max(1,a/s);return this.getSpacedPoints(c)},getEndPoint:function(s){return s===void 0&&(s=new l),this.getPointAt(1,s)},getLength:function(){var s=this.getLengths();return s[s.length-1]},getLengths:function(s){if(s===void 0&&(s=this.arcLengthDivisions),this.cacheArcLengths.length===s+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var a=[],c,r=this.getPoint(0,this._tmpVec2A),d=0;a.push(0);for(var v=1;v<=s;v++)c=this.getPoint(v/s,this._tmpVec2B),d+=c.distance(r),a.push(d),r.copy(c);return this.cacheArcLengths=a,a},getPointAt:function(s,a){var c=this.getUtoTmapping(s);return this.getPoint(c,a)},getPoints:function(s,a,c){c===void 0&&(c=[]),s||(a?s=this.getLength()/a:s=this.defaultDivisions);for(var r=0;r<=s;r++)c.push(this.getPoint(r/s));return c},getRandomPoint:function(s){return s===void 0&&(s=new l),this.getPoint(Math.random(),s)},getSpacedPoints:function(s,a,c){c===void 0&&(c=[]),s||(a?s=this.getLength()/a:s=this.defaultDivisions);for(var r=0;r<=s;r++){var d=this.getUtoTmapping(r/s,null,s);c.push(this.getPoint(d))}return c},getStartPoint:function(s){return s===void 0&&(s=new l),this.getPointAt(0,s)},getTangent:function(s,a){a===void 0&&(a=new l);var c=1e-4,r=s-c,d=s+c;return r<0&&(r=0),d>1&&(d=1),this.getPoint(r,this._tmpVec2A),this.getPoint(d,a),a.subtract(this._tmpVec2A).normalize()},getTangentAt:function(s,a){var c=this.getUtoTmapping(s);return this.getTangent(c,a)},getTFromDistance:function(s,a){return s<=0?0:this.getUtoTmapping(0,s,a)},getUtoTmapping:function(s,a,c){var r=this.getLengths(c),d=0,v=r.length,p;a?p=Math.min(a,r[v-1]):p=s*r[v-1];for(var m=0,x=v-1,E;m<=x;)if(d=Math.floor(m+(x-m)/2),E=r[d]-p,E<0)m=d+1;else if(E>0)x=d-1;else{x=d;break}if(d=x,r[d]===p)return d/(v-1);var w=r[d],C=r[d+1],P=C-w,R=(p-w)/P;return(d+R)/(v-1)},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()}});h.exports=o},73825:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(80021),f=e(39506),l=e(35154),o=e(43396),s=e(26099),a=new u({Extends:y,initialize:function(r,d,v,p,m,x,E,w){if(typeof r=="object"){var C=r;r=l(C,"x",0),d=l(C,"y",0),v=l(C,"xRadius",0),p=l(C,"yRadius",v),m=l(C,"startAngle",0),x=l(C,"endAngle",360),E=l(C,"clockwise",!1),w=l(C,"rotation",0)}else p===void 0&&(p=v),m===void 0&&(m=0),x===void 0&&(x=360),E===void 0&&(E=!1),w===void 0&&(w=0);y.call(this,"EllipseCurve"),this.p0=new s(r,d),this._xRadius=v,this._yRadius=p,this._startAngle=f(m),this._endAngle=f(x),this._clockwise=E,this._rotation=f(w)},getStartPoint:function(c){return c===void 0&&(c=new s),this.getPoint(0,c)},getResolution:function(c){return c*2},getPoint:function(c,r){r===void 0&&(r=new s);for(var d=Math.PI*2,v=this._endAngle-this._startAngle,p=Math.abs(v)<Number.EPSILON;v<0;)v+=d;for(;v>d;)v-=d;v<Number.EPSILON&&(p?v=0:v=d),this._clockwise&&!p&&(v===d?v=-d:v=v-d);var m=this._startAngle+c*v,x=this.p0.x+this._xRadius*Math.cos(m),E=this.p0.y+this._yRadius*Math.sin(m);if(this._rotation!==0){var w=Math.cos(this._rotation),C=Math.sin(this._rotation),P=x-this.p0.x,R=E-this.p0.y;x=P*w-R*C+this.p0.x,E=P*C+R*w+this.p0.y}return r.set(x,E)},setXRadius:function(c){return this.xRadius=c,this},setYRadius:function(c){return this.yRadius=c,this},setWidth:function(c){return this.xRadius=c/2,this},setHeight:function(c){return this.yRadius=c/2,this},setStartAngle:function(c){return this.startAngle=c,this},setEndAngle:function(c){return this.endAngle=c,this},setClockwise:function(c){return this.clockwise=c,this},setRotation:function(c){return this.rotation=c,this},x:{get:function(){return this.p0.x},set:function(c){this.p0.x=c}},y:{get:function(){return this.p0.y},set:function(c){this.p0.y=c}},xRadius:{get:function(){return this._xRadius},set:function(c){this._xRadius=c}},yRadius:{get:function(){return this._yRadius},set:function(c){this._yRadius=c}},startAngle:{get:function(){return o(this._startAngle)},set:function(c){this._startAngle=f(c)}},endAngle:{get:function(){return o(this._endAngle)},set:function(c){this._endAngle=f(c)}},clockwise:{get:function(){return this._clockwise},set:function(c){this._clockwise=c}},angle:{get:function(){return o(this._rotation)},set:function(c){this._rotation=f(c)}},rotation:{get:function(){return this._rotation},set:function(c){this._rotation=c}},toJSON:function(){return{type:this.type,x:this.p0.x,y:this.p0.y,xRadius:this._xRadius,yRadius:this._yRadius,startAngle:o(this._startAngle),endAngle:o(this._endAngle),clockwise:this._clockwise,rotation:o(this._rotation)}}});a.fromJSON=function(c){return new a(c)},h.exports=a},33951:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(80021),f=e(19217),l=e(87841),o=e(26099),s=new u({Extends:y,initialize:function(c,r){y.call(this,"LineCurve"),Array.isArray(c)&&(r=new o(c[2],c[3]),c=new o(c[0],c[1])),this.p0=c,this.p1=r,this.arcLengthDivisions=1},getBounds:function(a){return a===void 0&&(a=new l),f([this.p0,this.p1],a)},getStartPoint:function(a){return a===void 0&&(a=new o),a.copy(this.p0)},getResolution:function(a){return a===void 0&&(a=1),a},getPoint:function(a,c){return c===void 0&&(c=new o),a===1?c.copy(this.p1):(c.copy(this.p1).subtract(this.p0).scale(a).add(this.p0),c)},getPointAt:function(a,c){return this.getPoint(a,c)},getTangent:function(a,c){return c===void 0&&(c=new o),c.copy(this.p1).subtract(this.p0).normalize(),c},getUtoTmapping:function(a,c,r){var d;if(c){var v=this.getLengths(r),p=v[v.length-1],m=Math.min(c,p);d=m/p}else d=a;return d},draw:function(a){return a.lineBetween(this.p0.x,this.p0.y,this.p1.x,this.p1.y),a},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y]}}});s.fromJSON=function(a){var c=a.points,r=new o(c[0],c[1]),d=new o(c[2],c[3]);return new s(r,d)},h.exports=s},14744:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(80021),f=e(32112),l=e(26099),o=new u({Extends:y,initialize:function(a,c,r){y.call(this,"QuadraticBezierCurve"),Array.isArray(a)&&(r=new l(a[4],a[5]),c=new l(a[2],a[3]),a=new l(a[0],a[1])),this.p0=a,this.p1=c,this.p2=r},getStartPoint:function(s){return s===void 0&&(s=new l),s.copy(this.p0)},getResolution:function(s){return s},getPoint:function(s,a){a===void 0&&(a=new l);var c=this.p0,r=this.p1,d=this.p2;return a.set(f(s,c.x,r.x,d.x),f(s,c.y,r.y,d.y))},draw:function(s,a){a===void 0&&(a=32);var c=this.getPoints(a);s.beginPath(),s.moveTo(this.p0.x,this.p0.y);for(var r=1;r<c.length;r++)s.lineTo(c[r].x,c[r].y);return s.strokePath(),s},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y]}}});o.fromJSON=function(s){var a=s.points,c=new l(a[0],a[1]),r=new l(a[2],a[3]),d=new l(a[4],a[5]);return new o(c,r,d)},h.exports=o},42534:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(87842),y=e(83419),f=e(80021),l=e(26099),o=new y({Extends:f,initialize:function(a){a===void 0&&(a=[]),f.call(this,"SplineCurve"),this.points=[],this.addPoints(a)},addPoints:function(s){for(var a=0;a<s.length;a++){var c=new l;typeof s[a]=="number"?(c.x=s[a],c.y=s[a+1],a++):Array.isArray(s[a])?(c.x=s[a][0],c.y=s[a][1]):(c.x=s[a].x,c.y=s[a].y),this.points.push(c)}return this},addPoint:function(s,a){var c=new l(s,a);return this.points.push(c),c},getStartPoint:function(s){return s===void 0&&(s=new l),s.copy(this.points[0])},getResolution:function(s){return s*this.points.length},getPoint:function(s,a){a===void 0&&(a=new l);var c=this.points,r=(c.length-1)*s,d=Math.floor(r),v=r-d,p=c[d===0?d:d-1],m=c[d],x=c[d>c.length-2?c.length-1:d+1],E=c[d>c.length-3?c.length-1:d+2];return a.set(u(v,p.x,m.x,x.x,E.x),u(v,p.y,m.y,x.y,E.y))},toJSON:function(){for(var s=[],a=0;a<this.points.length;a++)s.push(this.points[a].x),s.push(this.points[a].y);return{type:this.type,points:s}}});o.fromJSON=function(s){return new o(s.points)},h.exports=o},25410:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={Path:e(46669),MoveTo:e(68618),CubicBezier:e(46728),Curve:e(80021),Ellipse:e(73825),Line:e(33951),QuadraticBezier:e(14744),Spline:e(42534)}},68618:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(26099),f=new u({initialize:function(o,s){this.active=!1,this.p0=new y(o,s)},getPoint:function(l,o){return o===void 0&&(o=new y),o.copy(this.p0)},getPointAt:function(l,o){return this.getPoint(l,o)},getResolution:function(){return 1},getLength:function(){return 0},toJSON:function(){return{type:"MoveTo",points:[this.p0.x,this.p0.y]}}});h.exports=f},46669:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(46728),f=e(73825),l=e(39429),o=e(33951),s=e(68618),a=e(14744),c=e(87841),r=e(42534),d=e(26099),v=e(36383),p=new u({initialize:function(x,E){x===void 0&&(x=0),E===void 0&&(E=0),this.name="",this.defaultDivisions=12,this.curves=[],this.cacheLengths=[],this.autoClose=!1,this.startPoint=new d,this._tmpVec2A=new d,this._tmpVec2B=new d,typeof x=="object"?this.fromJSON(x):this.startPoint.set(x,E)},add:function(m){return this.curves.push(m),this},circleTo:function(m,x,E){return x===void 0&&(x=!1),this.ellipseTo(m,m,0,360,x,E)},closePath:function(){var m=this.curves[0].getPoint(0),x=this.curves[this.curves.length-1].getPoint(1);return m.equals(x)||this.curves.push(new o(x,m)),this},cubicBezierTo:function(m,x,E,w,C,P){var R=this.getEndPoint(),M,I,D;return m instanceof d?(M=m,I=x,D=E):(M=new d(E,w),I=new d(C,P),D=new d(m,x)),this.add(new y(R,M,I,D))},quadraticBezierTo:function(m,x,E,w){var C=this.getEndPoint(),P,R;return m instanceof d?(P=m,R=x):(P=new d(E,w),R=new d(m,x)),this.add(new a(C,P,R))},draw:function(m,x){for(var E=0;E<this.curves.length;E++){var w=this.curves[E];w.active&&w.draw(m,x)}return m},ellipseTo:function(m,x,E,w,C,P){var R=new f(0,0,m,x,E,w,C,P),M=this.getEndPoint(this._tmpVec2A),I=R.getStartPoint(this._tmpVec2B);return M.subtract(I),R.x=M.x,R.y=M.y,this.add(R)},fromJSON:function(m){this.curves=[],this.cacheLengths=[],this.startPoint.set(m.x,m.y),this.autoClose=m.autoClose;for(var x=0;x<m.curves.length;x++){var E=m.curves[x];switch(E.type){case"LineCurve":this.add(o.fromJSON(E));break;case"EllipseCurve":this.add(f.fromJSON(E));break;case"SplineCurve":this.add(r.fromJSON(E));break;case"CubicBezierCurve":this.add(y.fromJSON(E));break;case"QuadraticBezierCurve":this.add(a.fromJSON(E));break}}return this},getBounds:function(m,x){m===void 0&&(m=new c),x===void 0&&(x=16),m.x=Number.MAX_VALUE,m.y=Number.MAX_VALUE;for(var E=new c,w=v.MIN_SAFE_INTEGER,C=v.MIN_SAFE_INTEGER,P=0;P<this.curves.length;P++){var R=this.curves[P];R.active&&(R.getBounds(E,x),m.x=Math.min(m.x,E.x),m.y=Math.min(m.y,E.y),w=Math.max(w,E.right),C=Math.max(C,E.bottom))}return m.right=w,m.bottom=C,m},getCurveLengths:function(){if(this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var m=[],x=0,E=0;E<this.curves.length;E++)x+=this.curves[E].getLength(),m.push(x);return this.cacheLengths=m,m},getCurveAt:function(m){for(var x=m*this.getLength(),E=this.getCurveLengths(),w=0;w<E.length;){if(E[w]>=x)return this.curves[w];w++}return null},getEndPoint:function(m){return m===void 0&&(m=new d),this.curves.length>0?this.curves[this.curves.length-1].getPoint(1,m):m.copy(this.startPoint),m},getLength:function(){var m=this.getCurveLengths();return m[m.length-1]},getPoint:function(m,x){x===void 0&&(x=new d);for(var E=m*this.getLength(),w=this.getCurveLengths(),C=0;C<w.length;){if(w[C]>=E){var P=w[C]-E,R=this.curves[C],M=R.getLength(),I=M===0?0:1-P/M;return R.getPointAt(I,x)}C++}return null},getPoints:function(m,x){!m&&!x&&(m=this.defaultDivisions);for(var E=[],w,C=0;C<this.curves.length;C++){var P=this.curves[C];if(P.active)for(var R=P.getResolution(m),M=P.getPoints(R,x),I=0;I<M.length;I++){var D=M[I];w&&w.equals(D)||(E.push(D),w=D)}}return this.autoClose&&E.length>1&&!E[E.length-1].equals(E[0])&&E.push(E[0]),E},getRandomPoint:function(m){return m===void 0&&(m=new d),this.getPoint(Math.random(),m)},getSpacedPoints:function(m){m===void 0&&(m=40);for(var x=[],E=0;E<=m;E++)x.push(this.getPoint(E/m));return this.autoClose&&x.push(x[0]),x},getStartPoint:function(m){return m===void 0&&(m=new d),m.copy(this.startPoint)},getTangent:function(m,x){x===void 0&&(x=new d);for(var E=m*this.getLength(),w=this.getCurveLengths(),C=0;C<w.length;){if(w[C]>=E){var P=w[C]-E,R=this.curves[C],M=R.getLength(),I=M===0?0:1-P/M;return R.getTangentAt(I,x)}C++}return null},lineTo:function(m,x){m instanceof d?this._tmpVec2B.copy(m):typeof m=="object"?this._tmpVec2B.setFromObject(m):this._tmpVec2B.set(m,x);var E=this.getEndPoint(this._tmpVec2A);return this.add(new o([E.x,E.y,this._tmpVec2B.x,this._tmpVec2B.y]))},splineTo:function(m){return m.unshift(this.getEndPoint()),this.add(new r(m))},moveTo:function(m,x){return m instanceof d?this.add(new s(m.x,m.y)):this.add(new s(m,x))},toJSON:function(){for(var m=[],x=0;x<this.curves.length;x++)m.push(this.curves[x].toJSON());return{type:"Path",x:this.startPoint.x,y:this.startPoint.y,autoClose:this.autoClose,curves:m}},updateArcLengths:function(){this.cacheLengths=[],this.getCurveLengths()},destroy:function(){this.curves.length=0,this.cacheLengths.length=0,this.startPoint=void 0}});l.register("path",function(m,x){return new p(m,x)}),h.exports=p},45893:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(24882),f=new u({initialize:function(o,s){this.parent=o,this.events=s,s||(this.events=o.events?o.events:o),this.list={},this.values={},this._frozen=!1,!o.hasOwnProperty("sys")&&this.events&&this.events.once(y.DESTROY,this.destroy,this)},get:function(l){var o=this.list;if(Array.isArray(l)){for(var s=[],a=0;a<l.length;a++)s.push(o[l[a]]);return s}else return o[l]},getAll:function(){var l={};for(var o in this.list)this.list.hasOwnProperty(o)&&(l[o]=this.list[o]);return l},query:function(l){var o={};for(var s in this.list)this.list.hasOwnProperty(s)&&s.match(l)&&(o[s]=this.list[s]);return o},set:function(l,o){if(this._frozen)return this;if(typeof l=="string")return this.setValue(l,o);for(var s in l)this.setValue(s,l[s]);return this},inc:function(l,o){if(this._frozen)return this;o===void 0&&(o=1);var s=this.get(l);return s===void 0&&(s=0),this.set(l,s+o),this},toggle:function(l){return this._frozen?this:(this.set(l,!this.get(l)),this)},setValue:function(l,o){if(this._frozen)return this;if(this.has(l))this.values[l]=o;else{var s=this,a=this.list,c=this.events,r=this.parent;Object.defineProperty(this.values,l,{enumerable:!0,configurable:!0,get:function(){return a[l]},set:function(d){if(!s._frozen){var v=a[l];a[l]=d,c.emit(y.CHANGE_DATA,r,l,d,v),c.emit(y.CHANGE_DATA_KEY+l,r,d,v)}}}),a[l]=o,c.emit(y.SET_DATA,r,l,o)}return this},each:function(l,o){for(var s=[this.parent,null,void 0],a=1;a<arguments.length;a++)s.push(arguments[a]);for(var c in this.list)s[1]=c,s[2]=this.list[c],l.apply(o,s);return this},merge:function(l,o){o===void 0&&(o=!0);for(var s in l)l.hasOwnProperty(s)&&(o||!o&&!this.has(s))&&this.setValue(s,l[s]);return this},remove:function(l){if(this._frozen)return this;if(Array.isArray(l))for(var o=0;o<l.length;o++)this.removeValue(l[o]);else return this.removeValue(l);return this},removeValue:function(l){if(this.has(l)){var o=this.list[l];delete this.list[l],delete this.values[l],this.events.emit(y.REMOVE_DATA,this.parent,l,o)}return this},pop:function(l){var o=void 0;return!this._frozen&&this.has(l)&&(o=this.list[l],delete this.list[l],delete this.values[l],this.events.emit(y.REMOVE_DATA,this.parent,l,o)),o},has:function(l){return this.list.hasOwnProperty(l)},setFreeze:function(l){return this._frozen=l,this},reset:function(){for(var l in this.list)delete this.list[l],delete this.values[l];return this._frozen=!1,this},destroy:function(){this.reset(),this.events.off(y.CHANGE_DATA),this.events.off(y.SET_DATA),this.events.off(y.REMOVE_DATA),this.parent=null},freeze:{get:function(){return this._frozen},set:function(l){this._frozen=!!l}},count:{get:function(){var l=0;for(var o in this.list)this.list[o]!==void 0&&l++;return l}}});h.exports=f},63646:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(45893),f=e(37277),l=e(44594),o=new u({Extends:y,initialize:function(a){y.call(this,a,a.sys.events),this.scene=a,this.systems=a.sys,a.sys.events.once(l.BOOT,this.boot,this),a.sys.events.on(l.START,this.start,this)},boot:function(){this.events=this.systems.events,this.events.once(l.DESTROY,this.destroy,this)},start:function(){this.events.once(l.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.systems.events.off(l.SHUTDOWN,this.shutdown,this)},destroy:function(){y.prototype.destroy.call(this),this.events.off(l.START,this.start,this),this.scene=null,this.systems=null}});f.register("DataManagerPlugin",o,"data"),h.exports=o},10700:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="changedata"},93608:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="changedata-"},60883:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="destroy"},69780:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="removedata"},22166:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="setdata"},24882:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={CHANGE_DATA:e(10700),CHANGE_DATA_KEY:e(93608),DESTROY:e(60883),REMOVE_DATA:e(69780),SET_DATA:e(22166)}},44965:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={DataManager:e(45893),DataManagerPlugin:e(63646),Events:e(24882)}},7098:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(84148),y={flac:!1,aac:!1,audioData:!1,dolby:!1,m4a:!1,mp3:!1,ogg:!1,opus:!1,wav:!1,webAudio:!1,webm:!1};function f(){if(typeof importScripts=="function")return y;y.audioData=!!window.Audio,y.webAudio=!!(window.AudioContext||window.webkitAudioContext);var l=document.createElement("audio"),o=!!l.canPlayType;try{if(o){var s=function(r,d){var v=l.canPlayType("audio/"+r).replace(/^no$/,"");return d?!!(v||l.canPlayType("audio/"+d).replace(/^no$/,"")):!!v};if(y.ogg=s('ogg; codecs="vorbis"'),y.opus=s('ogg; codecs="opus"',"opus"),y.mp3=s("mpeg"),y.wav=s("wav"),y.m4a=s("x-m4a"),y.aac=s("aac"),y.flac=s("flac","x-flac"),y.webm=s('webm; codecs="vorbis"'),l.canPlayType('audio/mp4; codecs="ec-3"')!==""){if(u.edge)y.dolby=!0;else if(u.safari&&u.safariVersion>=9&&/Mac OS X (\d+)_(\d+)/.test(navigator.userAgent)){var a=parseInt(RegExp.$1,10),c=parseInt(RegExp.$2,10);(a===10&&c>=11||a>10)&&(y.dolby=!0)}}}}catch{}return y}h.exports=f()},84148:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(25892),y={chrome:!1,chromeVersion:0,edge:!1,firefox:!1,firefoxVersion:0,ie:!1,ieVersion:0,mobileSafari:!1,opera:!1,safari:!1,safariVersion:0,silk:!1,trident:!1,tridentVersion:0,es2019:!1};function f(){var l=navigator.userAgent;return/Edg\/\d+/.test(l)?(y.edge=!0,y.es2019=!0):/OPR/.test(l)?(y.opera=!0,y.es2019=!0):/Chrome\/(\d+)/.test(l)&&!u.windowsPhone?(y.chrome=!0,y.chromeVersion=parseInt(RegExp.$1,10),y.es2019=y.chromeVersion>69):/Firefox\D+(\d+)/.test(l)?(y.firefox=!0,y.firefoxVersion=parseInt(RegExp.$1,10),y.es2019=y.firefoxVersion>10):/AppleWebKit\/(?!.*CriOS)/.test(l)&&u.iOS?(y.mobileSafari=!0,y.es2019=!0):/MSIE (\d+\.\d+);/.test(l)?(y.ie=!0,y.ieVersion=parseInt(RegExp.$1,10)):/Version\/(\d+\.\d+(\.\d+)?) Safari/.test(l)&&!u.windowsPhone?(y.safari=!0,y.safariVersion=parseInt(RegExp.$1,10),y.es2019=y.safariVersion>10):/Trident\/(\d+\.\d+)(.*)rv:(\d+\.\d+)/.test(l)&&(y.ie=!0,y.trident=!0,y.tridentVersion=parseInt(RegExp.$1,10),y.ieVersion=parseInt(RegExp.$3,10)),/Silk/.test(l)&&(y.silk=!0),y}h.exports=f()},89289:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(27919),y={supportInverseAlpha:!1,supportNewBlendModes:!1};function f(){var s="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAABAQMAAADD8p2OAAAAA1BMVEX/",a="AAAACklEQVQI12NgAAAAAgAB4iG8MwAAAABJRU5ErkJggg==",c=new Image;return c.onload=function(){var r=new Image;r.onload=function(){var d=u.create2D(r,6),v=d.getContext("2d",{willReadFrequently:!0});if(v.globalCompositeOperation="multiply",v.drawImage(c,0,0),v.drawImage(r,2,0),!v.getImageData(2,0,1,1))return!1;var p=v.getImageData(2,0,1,1).data;u.remove(r),y.supportNewBlendModes=p[0]===255&&p[1]===0&&p[2]===0},r.src=s+"/wCKxvRF"+a},c.src=s+"AP804Oa6"+a,!1}function l(){var s=u.create2D(this,2),a=s.getContext("2d",{willReadFrequently:!0});a.fillStyle="rgba(10, 20, 30, 0.5)",a.fillRect(0,0,1,1);var c=a.getImageData(0,0,1,1);if(c===null)return!1;a.putImageData(c,1,0);var r=a.getImageData(1,0,1,1),d=r.data[0]===c.data[0]&&r.data[1]===c.data[1]&&r.data[2]===c.data[2]&&r.data[3]===c.data[3];return u.remove(this),d}function o(){return typeof importScripts!="function"&&document!==void 0&&(y.supportNewBlendModes=f(),y.supportInverseAlpha=l()),y}h.exports=o()},89357:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(25892),y=e(84148),f=e(27919),l={canvas:!1,canvasBitBltShift:null,file:!1,fileSystem:!1,getUserMedia:!0,littleEndian:!1,localStorage:!1,pointerLock:!1,stableSort:!1,support32bit:!1,vibration:!1,webGL:!1,worker:!1};function o(){var a=new ArrayBuffer(4),c=new Uint8Array(a),r=new Uint32Array(a);return c[0]=161,c[1]=178,c[2]=195,c[3]=212,r[0]===3569595041?!0:r[0]===2712847316?!1:null}function s(){if(typeof importScripts=="function")return l;l.canvas=!!window.CanvasRenderingContext2D;try{l.localStorage=!!localStorage.getItem}catch{l.localStorage=!1}l.file=!!window.File&&!!window.FileReader&&!!window.FileList&&!!window.Blob,l.fileSystem=!!window.requestFileSystem;var a=!1,c=function(){if(window.WebGLRenderingContext)try{var r=f.createWebGL(this),d=r.getContext("webgl")||r.getContext("experimental-webgl"),v=f.create2D(this),p=v.getContext("2d",{willReadFrequently:!0}),m=p.createImageData(1,1);return a=m.data instanceof Uint8ClampedArray,f.remove(r),f.remove(v),!!d}catch{return!1}return!1};return l.webGL=c(),l.worker=!!window.Worker,l.pointerLock="pointerLockElement"in document||"mozPointerLockElement"in document||"webkitPointerLockElement"in document,navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia||navigator.oGetUserMedia,window.URL=window.URL||window.webkitURL||window.mozURL||window.msURL,l.getUserMedia=l.getUserMedia&&!!navigator.getUserMedia&&!!window.URL,y.firefox&&y.firefoxVersion<21&&(l.getUserMedia=!1),!u.iOS&&(y.ie||y.firefox||y.chrome)&&(l.canvasBitBltShift=!0),(y.safari||y.mobileSafari)&&(l.canvasBitBltShift=!1),navigator.vibrate=navigator.vibrate||navigator.webkitVibrate||navigator.mozVibrate||navigator.msVibrate,navigator.vibrate&&(l.vibration=!0),typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint32Array<"u"&&(l.littleEndian=o()),l.support32bit=typeof ArrayBuffer<"u"&&typeof Uint8ClampedArray<"u"&&typeof Int32Array<"u"&&l.littleEndian!==null&&a,l}h.exports=s()},91639:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={available:!1,cancel:"",keyboard:!1,request:""};function e(){if(typeof importScripts=="function")return S;var u,y="Fullscreen",f="FullScreen",l=["request"+y,"request"+f,"webkitRequest"+y,"webkitRequest"+f,"msRequest"+y,"msRequest"+f,"mozRequest"+f,"mozRequest"+y];for(u=0;u<l.length;u++)if(document.documentElement[l[u]]){S.available=!0,S.request=l[u];break}var o=["cancel"+f,"exit"+y,"webkitCancel"+f,"webkitExit"+y,"msCancel"+f,"msExit"+y,"mozCancel"+f,"mozExit"+y];if(S.available){for(u=0;u<o.length;u++)if(document[o[u]]){S.cancel=o[u];break}}return window.Element&&Element.ALLOW_KEYBOARD_INPUT&&!/ Version\/5\.1(?:\.\d+)? Safari\//.test(navigator.userAgent)&&(S.keyboard=!0),Object.defineProperty(S,"active",{get:function(){return!!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)}}),S}h.exports=e()},31784:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(84148),y={gamepads:!1,mspointer:!1,touch:!1,wheelEvent:null};function f(){return typeof importScripts=="function"||(("ontouchstart"in document.documentElement||navigator.maxTouchPoints&&navigator.maxTouchPoints>=1)&&(y.touch=!0),(navigator.msPointerEnabled||navigator.pointerEnabled)&&(y.mspointer=!0),navigator.getGamepads&&(y.gamepads=!0),"onwheel"in window||u.ie&&"WheelEvent"in window?y.wheelEvent="wheel":"onmousewheel"in window?y.wheelEvent="mousewheel":u.firefox&&"MouseScrollEvent"in window&&(y.wheelEvent="DOMMouseScroll")),y}h.exports=f()},25892:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={android:!1,chromeOS:!1,cordova:!1,crosswalk:!1,desktop:!1,ejecta:!1,electron:!1,iOS:!1,iOSVersion:0,iPad:!1,iPhone:!1,kindle:!1,linux:!1,macOS:!1,node:!1,nodeWebkit:!1,pixelRatio:1,webApp:!1,windows:!1,windowsPhone:!1};function e(){if(typeof importScripts=="function")return S;var u=navigator.userAgent;/Windows/.test(u)?S.windows=!0:/Mac OS/.test(u)&&!/like Mac OS/.test(u)?navigator.maxTouchPoints&&navigator.maxTouchPoints>2?(S.iOS=!0,S.iPad=!0,navigator.appVersion.match(/Version\/(\d+)/),S.iOSVersion=parseInt(RegExp.$1,10)):S.macOS=!0:/Android/.test(u)?S.android=!0:/Linux/.test(u)?S.linux=!0:/iP[ao]d|iPhone/i.test(u)?(S.iOS=!0,navigator.appVersion.match(/OS (\d+)/),S.iOSVersion=parseInt(RegExp.$1,10),S.iPhone=u.toLowerCase().indexOf("iphone")!==-1,S.iPad=u.toLowerCase().indexOf("ipad")!==-1):/Kindle/.test(u)||/\bKF[A-Z][A-Z]+/.test(u)||/Silk.*Mobile Safari/.test(u)?S.kindle=!0:/CrOS/.test(u)&&(S.chromeOS=!0),(/Windows Phone/i.test(u)||/IEMobile/i.test(u))&&(S.android=!1,S.iOS=!1,S.macOS=!1,S.windows=!0,S.windowsPhone=!0);var y=/Silk/.test(u);return(S.windows||S.macOS||S.linux&&!y||S.chromeOS)&&(S.desktop=!0),(S.windowsPhone||/Windows NT/i.test(u)&&/Touch/i.test(u))&&(S.desktop=!1),navigator.standalone&&(S.webApp=!0),typeof importScripts!="function"&&(window.cordova!==void 0&&(S.cordova=!0),window.ejecta!==void 0&&(S.ejecta=!0)),typeof process<"u"&&process.versions&&process.versions.node&&(S.node=!0),S.node&&typeof process.versions=="object"&&(S.nodeWebkit=!!process.versions["node-webkit"],S.electron=!!process.versions.electron),/Crosswalk/.test(u)&&(S.crosswalk=!0),S.pixelRatio=window.devicePixelRatio||1,S}h.exports=e()},43267:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(95540),y={h264:!1,hls:!1,mp4:!1,m4v:!1,ogg:!1,vp9:!1,webm:!1,hasRequestVideoFrame:!1};function f(){if(typeof importScripts=="function")return y;var l=document.createElement("video"),o=!!l.canPlayType,s=/^no$/;try{o&&(l.canPlayType('video/ogg; codecs="theora"').replace(s,"")&&(y.ogg=!0),l.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(s,"")&&(y.h264=!0,y.mp4=!0),l.canPlayType("video/x-m4v").replace(s,"")&&(y.m4v=!0),l.canPlayType('video/webm; codecs="vp8, vorbis"').replace(s,"")&&(y.webm=!0),l.canPlayType('video/webm; codecs="vp9"').replace(s,"")&&(y.vp9=!0),l.canPlayType('application/x-mpegURL; codecs="avc1.42E01E"').replace(s,"")&&(y.hls=!0))}catch{}return l.parentNode&&l.parentNode.removeChild(l),y.getVideoURL=function(a){Array.isArray(a)||(a=[a]);for(var c=0;c<a.length;c++){var r=u(a[c],"url",a[c]);if(r.indexOf("blob:")===0)return{url:r,type:""};var d;if(r.indexOf("data:")===0?d=r.split(",")[0].match(/\/(.*?);/):d=r.match(/\.([a-zA-Z0-9]+)($|\?)/),d=u(a[c],"type",d?d[1]:"").toLowerCase(),y[d])return{url:r,type:d}}return null},y}h.exports=f()},82264:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={os:e(25892),browser:e(84148),features:e(89357),input:e(31784),audio:e(7098),video:e(43267),fullscreen:e(91639),canvasFeatures:e(89289)}},89422:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=new Float32Array(20),f=new u({initialize:function(){this._matrix=new Float32Array(20),this.alpha=1,this._dirty=!0,this._data=new Float32Array(20),this.reset()},set:function(l){return this._matrix.set(l),this._dirty=!0,this},reset:function(){var l=this._matrix;return l.fill(0),l[0]=1,l[6]=1,l[12]=1,l[18]=1,this.alpha=1,this._dirty=!0,this},getData:function(){var l=this._data;return this._dirty&&(l.set(this._matrix),l[4]/=255,l[9]/=255,l[14]/=255,l[19]/=255,this._dirty=!1),l},brightness:function(l,o){l===void 0&&(l=0),o===void 0&&(o=!1);var s=l;return this.multiply([s,0,0,0,0,0,s,0,0,0,0,0,s,0,0,0,0,0,1,0],o)},saturate:function(l,o){l===void 0&&(l=0),o===void 0&&(o=!1);var s=l*2/3+1,a=(s-1)*-.5;return this.multiply([s,a,a,0,0,a,s,a,0,0,a,a,s,0,0,0,0,0,1,0],o)},desaturate:function(l){return l===void 0&&(l=!1),this.saturate(-1,l)},hue:function(l,o){l===void 0&&(l=0),o===void 0&&(o=!1),l=l/180*Math.PI;var s=Math.cos(l),a=Math.sin(l),c=.213,r=.715,d=.072;return this.multiply([c+s*(1-c)+a*-c,r+s*-r+a*-r,d+s*-d+a*(1-d),0,0,c+s*-c+a*.143,r+s*(1-r)+a*.14,d+s*-d+a*-.283,0,0,c+s*-c+a*-(1-c),r+s*-r+a*r,d+s*(1-d)+a*d,0,0,0,0,0,1,0],o)},grayscale:function(l,o){return l===void 0&&(l=1),o===void 0&&(o=!1),this.saturate(-l,o)},blackWhite:function(l){return l===void 0&&(l=!1),this.multiply(f.BLACK_WHITE,l)},contrast:function(l,o){l===void 0&&(l=0),o===void 0&&(o=!1);var s=l+1,a=-.5*(s-1);return this.multiply([s,0,0,0,a,0,s,0,0,a,0,0,s,0,a,0,0,0,1,0],o)},negative:function(l){return l===void 0&&(l=!1),this.multiply(f.NEGATIVE,l)},desaturateLuminance:function(l){return l===void 0&&(l=!1),this.multiply(f.DESATURATE_LUMINANCE,l)},sepia:function(l){return l===void 0&&(l=!1),this.multiply(f.SEPIA,l)},night:function(l,o){return l===void 0&&(l=.1),o===void 0&&(o=!1),this.multiply([l*-2,-l,0,0,0,-l,0,l,0,0,0,l,l*2,0,0,0,0,0,1,0],o)},lsd:function(l){return l===void 0&&(l=!1),this.multiply(f.LSD,l)},brown:function(l){return l===void 0&&(l=!1),this.multiply(f.BROWN,l)},vintagePinhole:function(l){return l===void 0&&(l=!1),this.multiply(f.VINTAGE,l)},kodachrome:function(l){return l===void 0&&(l=!1),this.multiply(f.KODACHROME,l)},technicolor:function(l){return l===void 0&&(l=!1),this.multiply(f.TECHNICOLOR,l)},polaroid:function(l){return l===void 0&&(l=!1),this.multiply(f.POLAROID,l)},shiftToBGR:function(l){return l===void 0&&(l=!1),this.multiply(f.SHIFT_BGR,l)},multiply:function(l,o){o===void 0&&(o=!1),o||this.reset();var s=this._matrix,a=y;return a.set(s),s.set([a[0]*l[0]+a[1]*l[5]+a[2]*l[10]+a[3]*l[15],a[0]*l[1]+a[1]*l[6]+a[2]*l[11]+a[3]*l[16],a[0]*l[2]+a[1]*l[7]+a[2]*l[12]+a[3]*l[17],a[0]*l[3]+a[1]*l[8]+a[2]*l[13]+a[3]*l[18],a[0]*l[4]+a[1]*l[9]+a[2]*l[14]+a[3]*l[19]+a[4],a[5]*l[0]+a[6]*l[5]+a[7]*l[10]+a[8]*l[15],a[5]*l[1]+a[6]*l[6]+a[7]*l[11]+a[8]*l[16],a[5]*l[2]+a[6]*l[7]+a[7]*l[12]+a[8]*l[17],a[5]*l[3]+a[6]*l[8]+a[7]*l[13]+a[8]*l[18],a[5]*l[4]+a[6]*l[9]+a[7]*l[14]+a[8]*l[19]+a[9],a[10]*l[0]+a[11]*l[5]+a[12]*l[10]+a[13]*l[15],a[10]*l[1]+a[11]*l[6]+a[12]*l[11]+a[13]*l[16],a[10]*l[2]+a[11]*l[7]+a[12]*l[12]+a[13]*l[17],a[10]*l[3]+a[11]*l[8]+a[12]*l[13]+a[13]*l[18],a[10]*l[4]+a[11]*l[9]+a[12]*l[14]+a[13]*l[19]+a[14],a[15]*l[0]+a[16]*l[5]+a[17]*l[10]+a[18]*l[15],a[15]*l[1]+a[16]*l[6]+a[17]*l[11]+a[18]*l[16],a[15]*l[2]+a[16]*l[7]+a[17]*l[12]+a[18]*l[17],a[15]*l[3]+a[16]*l[8]+a[17]*l[13]+a[18]*l[18],a[15]*l[4]+a[16]*l[9]+a[17]*l[14]+a[18]*l[19]+a[19]]),this._dirty=!0,this}});f.BLACK_WHITE=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],f.NEGATIVE=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],f.DESATURATE_LUMINANCE=[.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,0,0,0,1,0],f.SEPIA=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],f.LSD=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],f.BROWN=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],f.VINTAGE=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],f.KODACHROME=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],f.TECHNICOLOR=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],f.POLAROID=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],f.SHIFT_BGR=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],h.exports=f},51767:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(29747),f=new u({initialize:function(o,s,a){this._rgb=[0,0,0],this.onChangeCallback=y,this.dirty=!1,this.set(o,s,a)},set:function(l,o,s){return l===void 0&&(l=0),o===void 0&&(o=0),s===void 0&&(s=0),this._rgb=[l,o,s],this.onChange(),this},equals:function(l,o,s){var a=this._rgb;return a[0]===l&&a[1]===o&&a[2]===s},onChange:function(){this.dirty=!0;var l=this._rgb;this.onChangeCallback.call(this,l[0],l[1],l[2])},r:{get:function(){return this._rgb[0]},set:function(l){this._rgb[0]=l,this.onChange()}},g:{get:function(){return this._rgb[1]},set:function(l){this._rgb[1]=l,this.onChange()}},b:{get:function(){return this._rgb[2]},set:function(l){this._rgb[2]=l,this.onChange()}},destroy:function(){this.onChangeCallback=null}});h.exports=f},60461:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={TOP_LEFT:0,TOP_CENTER:1,TOP_RIGHT:2,LEFT_TOP:3,LEFT_CENTER:4,LEFT_BOTTOM:5,CENTER:6,RIGHT_TOP:7,RIGHT_CENTER:8,RIGHT_BOTTOM:9,BOTTOM_LEFT:10,BOTTOM_CENTER:11,BOTTOM_RIGHT:12};h.exports=S},54312:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(62235),y=e(35893),f=e(86327),l=e(88417),o=function(s,a,c,r){return c===void 0&&(c=0),r===void 0&&(r=0),l(s,y(a)+c),f(s,u(a)+r),s};h.exports=o},46768:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(62235),y=e(26541),f=e(86327),l=e(385),o=function(s,a,c,r){return c===void 0&&(c=0),r===void 0&&(r=0),l(s,y(a)-c),f(s,u(a)+r),s};h.exports=o},35827:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(62235),y=e(54380),f=e(86327),l=e(40136),o=function(s,a,c,r){return c===void 0&&(c=0),r===void 0&&(r=0),l(s,y(a)+c),f(s,u(a)+r),s};h.exports=o},46871:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(66786),y=e(35893),f=e(7702),l=function(o,s,a,c){return a===void 0&&(a=0),c===void 0&&(c=0),u(o,y(s)+a,f(s)+c),o};h.exports=l},5198:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(7702),y=e(26541),f=e(20786),l=e(385),o=function(s,a,c,r){return c===void 0&&(c=0),r===void 0&&(r=0),l(s,y(a)-c),f(s,u(a)+r),s};h.exports=o},11879:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(60461),y=[];y[u.BOTTOM_CENTER]=e(54312),y[u.BOTTOM_LEFT]=e(46768),y[u.BOTTOM_RIGHT]=e(35827),y[u.CENTER]=e(46871),y[u.LEFT_CENTER]=e(5198),y[u.RIGHT_CENTER]=e(80503),y[u.TOP_CENTER]=e(89698),y[u.TOP_LEFT]=e(922),y[u.TOP_RIGHT]=e(21373),y[u.LEFT_BOTTOM]=y[u.BOTTOM_LEFT],y[u.LEFT_TOP]=y[u.TOP_LEFT],y[u.RIGHT_BOTTOM]=y[u.BOTTOM_RIGHT],y[u.RIGHT_TOP]=y[u.TOP_RIGHT];var f=function(l,o,s,a,c){return y[s](l,o,a,c)};h.exports=f},80503:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(7702),y=e(54380),f=e(20786),l=e(40136),o=function(s,a,c,r){return c===void 0&&(c=0),r===void 0&&(r=0),l(s,y(a)+c),f(s,u(a)+r),s};h.exports=o},89698:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(35893),y=e(17717),f=e(88417),l=e(66737),o=function(s,a,c,r){return c===void 0&&(c=0),r===void 0&&(r=0),f(s,u(a)+c),l(s,y(a)-r),s};h.exports=o},922:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(26541),y=e(17717),f=e(385),l=e(66737),o=function(s,a,c,r){return c===void 0&&(c=0),r===void 0&&(r=0),f(s,u(a)-c),l(s,y(a)-r),s};h.exports=o},21373:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(54380),y=e(17717),f=e(40136),l=e(66737),o=function(s,a,c,r){return c===void 0&&(c=0),r===void 0&&(r=0),f(s,u(a)+c),l(s,y(a)-r),s};h.exports=o},91660:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={BottomCenter:e(54312),BottomLeft:e(46768),BottomRight:e(35827),Center:e(46871),LeftCenter:e(5198),QuickSet:e(11879),RightCenter:e(80503),TopCenter:e(89698),TopLeft:e(922),TopRight:e(21373)}},71926:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(60461),y=e(79291),f={In:e(91660),To:e(16694)};f=y(!1,f,u),h.exports=f},21578:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(62235),y=e(35893),f=e(88417),l=e(66737),o=function(s,a,c,r){return c===void 0&&(c=0),r===void 0&&(r=0),f(s,y(a)+c),l(s,u(a)+r),s};h.exports=o},10210:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(62235),y=e(26541),f=e(385),l=e(66737),o=function(s,a,c,r){return c===void 0&&(c=0),r===void 0&&(r=0),f(s,y(a)-c),l(s,u(a)+r),s};h.exports=o},82341:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(62235),y=e(54380),f=e(40136),l=e(66737),o=function(s,a,c,r){return c===void 0&&(c=0),r===void 0&&(r=0),f(s,y(a)+c),l(s,u(a)+r),s};h.exports=o},87958:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(62235),y=e(26541),f=e(86327),l=e(40136),o=function(s,a,c,r){return c===void 0&&(c=0),r===void 0&&(r=0),l(s,y(a)-c),f(s,u(a)+r),s};h.exports=o},40080:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(7702),y=e(26541),f=e(20786),l=e(40136),o=function(s,a,c,r){return c===void 0&&(c=0),r===void 0&&(r=0),l(s,y(a)-c),f(s,u(a)+r),s};h.exports=o},88466:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(26541),y=e(17717),f=e(40136),l=e(66737),o=function(s,a,c,r){return c===void 0&&(c=0),r===void 0&&(r=0),f(s,u(a)-c),l(s,y(a)-r),s};h.exports=o},38829:(h,S,e)=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(60461),y=[];y[u.BOTTOM_CENTER]=e(21578),y[u.BOTTOM_LEFT]=e(10210),y[u.BOTTOM_RIGHT]=e(82341),y[u.LEFT_BOTTOM]=e(87958),y[u.LEFT_CENTER]=e(40080),y[u.LEFT_TOP]=e(88466),y[u.RIGHT_BOTTOM]=e(19211),y[u.RIGHT_CENTER]=e(34609),y[u.RIGHT_TOP]=e(48741),y[u.TOP_CENTER]=e(49440),y[u.TOP_LEFT]=e(81288),y[u.TOP_RIGHT]=e(61323);var f=function(l,o,s,a,c){return y[s](l,o,a,c)};h.exports=f},19211:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(62235),y=e(54380),f=e(86327),l=e(385),o=function(s,a,c,r){return c===void 0&&(c=0),r===void 0&&(r=0),l(s,y(a)+c),f(s,u(a)+r),s};h.exports=o},34609:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(7702),y=e(54380),f=e(20786),l=e(385),o=function(s,a,c,r){return c===void 0&&(c=0),r===void 0&&(r=0),l(s,y(a)+c),f(s,u(a)+r),s};h.exports=o},48741:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(54380),y=e(17717),f=e(385),l=e(66737),o=function(s,a,c,r){return c===void 0&&(c=0),r===void 0&&(r=0),f(s,u(a)+c),l(s,y(a)-r),s};h.exports=o},49440:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(35893),y=e(17717),f=e(86327),l=e(88417),o=function(s,a,c,r){return c===void 0&&(c=0),r===void 0&&(r=0),l(s,u(a)+c),f(s,y(a)-r),s};h.exports=o},81288:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(26541),y=e(17717),f=e(86327),l=e(385),o=function(s,a,c,r){return c===void 0&&(c=0),r===void 0&&(r=0),l(s,u(a)-c),f(s,y(a)-r),s};h.exports=o},61323:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(54380),y=e(17717),f=e(86327),l=e(40136),o=function(s,a,c,r){return c===void 0&&(c=0),r===void 0&&(r=0),l(s,u(a)+c),f(s,y(a)-r),s};h.exports=o},16694:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={BottomCenter:e(21578),BottomLeft:e(10210),BottomRight:e(82341),LeftBottom:e(87958),LeftCenter:e(40080),LeftTop:e(88466),QuickSet:e(38829),RightBottom:e(19211),RightCenter:e(34609),RightTop:e(48741),TopCenter:e(49440),TopLeft:e(81288),TopRight:e(61323)}},66786:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(88417),y=e(20786),f=function(l,o,s){return u(l,o),y(l,s)};h.exports=f},62235:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e){return e.y+e.height-e.height*e.originY};h.exports=S},72873:(h,S,e)=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(62235),y=e(26541),f=e(54380),l=e(17717),o=e(87841),s=function(a,c){c===void 0&&(c=new o);var r=y(a),d=l(a);return c.x=r,c.y=d,c.width=f(a)-r,c.height=u(a)-d,c};h.exports=s},35893:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e){return e.x-e.width*e.originX+e.width*.5};h.exports=S},7702:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e){return e.y-e.height*e.originY+e.height*.5};h.exports=S},26541:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e){return e.x-e.width*e.originX};h.exports=S},87431:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e){return e.width*e.originX};h.exports=S},46928:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e){return e.height*e.originY};h.exports=S},54380:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e){return e.x+e.width-e.width*e.originX};h.exports=S},17717:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e){return e.y-e.height*e.originY};h.exports=S},86327:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u){return e.y=u-e.height+e.height*e.originY,e};h.exports=S},88417:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u){var y=e.width*e.originX;return e.x=u+y-e.width*.5,e};h.exports=S},20786:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u){var y=e.height*e.originY;return e.y=u+y-e.height*.5,e};h.exports=S},385:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u){return e.x=u+e.width*e.originX,e};h.exports=S},40136:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u){return e.x=u-e.width+e.width*e.originX,e};h.exports=S},66737:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u){return e.y=u+e.height*e.originY,e};h.exports=S},58724:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={CenterOn:e(66786),GetBottom:e(62235),GetBounds:e(72873),GetCenterX:e(35893),GetCenterY:e(7702),GetLeft:e(26541),GetOffsetX:e(87431),GetOffsetY:e(46928),GetRight:e(54380),GetTop:e(17717),SetBottom:e(86327),SetCenterX:e(88417),SetCenterY:e(20786),SetLeft:e(385),SetRight:e(40136),SetTop:e(66737)}},20623:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setCrisp:function(e){var u=["optimizeSpeed","-moz-crisp-edges","-o-crisp-edges","-webkit-optimize-contrast","optimize-contrast","crisp-edges","pixelated"];return u.forEach(function(y){e.style["image-rendering"]=y}),e.style.msInterpolationMode="nearest-neighbor",e},setBicubic:function(e){return e.style["image-rendering"]="auto",e.style.msInterpolationMode="bicubic",e}};h.exports=S},27919:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(8054),y=e(68703),f=[],l=!1,o=function(){var s=function(E,w,C,P,R){w===void 0&&(w=1),C===void 0&&(C=1),P===void 0&&(P=u.CANVAS),R===void 0&&(R=!1);var M,I=r(P);return I===null?(I={parent:E,canvas:document.createElement("canvas"),type:P},P===u.CANVAS&&f.push(I),M=I.canvas):(I.parent=E,M=I.canvas),R&&(I.parent=M),M.width=w,M.height=C,l&&P===u.CANVAS&&y.disable(M.getContext("2d",{willReadFrequently:!1})),M},a=function(E,w,C){return s(E,w,C,u.CANVAS)},c=function(E,w,C){return s(E,w,C,u.WEBGL)},r=function(E){if(E===void 0&&(E=u.CANVAS),E===u.WEBGL)return null;for(var w=0;w<f.length;w++){var C=f[w];if(!C.parent&&C.type===E)return C}return null},d=function(E){var w=E instanceof HTMLCanvasElement;f.forEach(function(C){(w&&C.canvas===E||!w&&C.parent===E)&&(C.parent=null,C.canvas.width=1,C.canvas.height=1)})},v=function(){var E=0;return f.forEach(function(w){w.parent&&E++}),E},p=function(){return f.length-v()},m=function(){l=!0},x=function(){l=!1};return{create2D:a,create:s,createWebGL:c,disableSmoothing:m,enableSmoothing:x,first:r,free:p,pool:f,remove:d,total:v}};h.exports=o()},68703:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S="",e=function(){var u=function(o){for(var s=["i","webkitI","msI","mozI","oI"],a=0;a<s.length;a++){var c=s[a]+"mageSmoothingEnabled";if(c in o)return c}return null},y=function(o){return S===""&&(S=u(o)),S&&(o[S]=!0),o},f=function(o){return S===""&&(S=u(o)),S&&(o[S]=!1),o},l=function(o){return S!==null?o[S]:null};return{disable:f,enable:y,getPrefix:u,isEnabled:l}};h.exports=e()},65208:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u){return u===void 0&&(u="none"),e.style.msTouchAction=u,e.style["ms-touch-action"]=u,e.style["touch-action"]=u,e};h.exports=S},91610:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u){u===void 0&&(u="none");var y=["-webkit-","-khtml-","-moz-","-ms-",""];return y.forEach(function(f){e.style[f+"user-select"]=u}),e.style["-webkit-touch-callout"]=u,e.style["-webkit-tap-highlight-color"]="rgba(0, 0, 0, 0)",e};h.exports=S},26253:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={CanvasInterpolation:e(20623),CanvasPool:e(27919),Smoothing:e(68703),TouchAction:e(65208),UserSelect:e(91610)}},40987:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(37589),f=e(1e3),l=e(7537),o=e(87837),s=new u({initialize:function(c,r,d,v){c===void 0&&(c=0),r===void 0&&(r=0),d===void 0&&(d=0),v===void 0&&(v=255),this.r=0,this.g=0,this.b=0,this.a=255,this._h=0,this._s=0,this._v=0,this._locked=!1,this.gl=[0,0,0,1],this._color=0,this._color32=0,this._rgba="",this.setTo(c,r,d,v)},transparent:function(){return this._locked=!0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this._locked=!1,this.update(!0)},setTo:function(a,c,r,d,v){return d===void 0&&(d=255),v===void 0&&(v=!0),this._locked=!0,this.red=a,this.green=c,this.blue=r,this.alpha=d,this._locked=!1,this.update(v)},setGLTo:function(a,c,r,d){return d===void 0&&(d=1),this._locked=!0,this.redGL=a,this.greenGL=c,this.blueGL=r,this.alphaGL=d,this._locked=!1,this.update(!0)},setFromRGB:function(a){return this._locked=!0,this.red=a.r,this.green=a.g,this.blue=a.b,a.hasOwnProperty("a")&&(this.alpha=a.a),this._locked=!1,this.update(!0)},setFromHSV:function(a,c,r){return l(a,c,r,this)},update:function(a){if(a===void 0&&(a=!1),this._locked)return this;var c=this.r,r=this.g,d=this.b,v=this.a;return this._color=y(c,r,d),this._color32=f(c,r,d,v),this._rgba="rgba("+c+","+r+","+d+","+v/255+")",a&&o(c,r,d,this),this},updateHSV:function(){var a=this.r,c=this.g,r=this.b;return o(a,c,r,this),this},clone:function(){return new s(this.r,this.g,this.b,this.a)},gray:function(a){return this.setTo(a,a,a)},random:function(a,c){a===void 0&&(a=0),c===void 0&&(c=255);var r=Math.floor(a+Math.random()*(c-a)),d=Math.floor(a+Math.random()*(c-a)),v=Math.floor(a+Math.random()*(c-a));return this.setTo(r,d,v)},randomGray:function(a,c){a===void 0&&(a=0),c===void 0&&(c=255);var r=Math.floor(a+Math.random()*(c-a));return this.setTo(r,r,r)},saturate:function(a){return this.s+=a/100,this},desaturate:function(a){return this.s-=a/100,this},lighten:function(a){return this.v+=a/100,this},darken:function(a){return this.v-=a/100,this},brighten:function(a){var c=this.r,r=this.g,d=this.b;return c=Math.max(0,Math.min(255,c-Math.round(255*-(a/100)))),r=Math.max(0,Math.min(255,r-Math.round(255*-(a/100)))),d=Math.max(0,Math.min(255,d-Math.round(255*-(a/100)))),this.setTo(c,r,d)},color:{get:function(){return this._color}},color32:{get:function(){return this._color32}},rgba:{get:function(){return this._rgba}},redGL:{get:function(){return this.gl[0]},set:function(a){this.gl[0]=Math.min(Math.abs(a),1),this.r=Math.floor(this.gl[0]*255),this.update(!0)}},greenGL:{get:function(){return this.gl[1]},set:function(a){this.gl[1]=Math.min(Math.abs(a),1),this.g=Math.floor(this.gl[1]*255),this.update(!0)}},blueGL:{get:function(){return this.gl[2]},set:function(a){this.gl[2]=Math.min(Math.abs(a),1),this.b=Math.floor(this.gl[2]*255),this.update(!0)}},alphaGL:{get:function(){return this.gl[3]},set:function(a){this.gl[3]=Math.min(Math.abs(a),1),this.a=Math.floor(this.gl[3]*255),this.update()}},red:{get:function(){return this.r},set:function(a){a=Math.floor(Math.abs(a)),this.r=Math.min(a,255),this.gl[0]=a/255,this.update(!0)}},green:{get:function(){return this.g},set:function(a){a=Math.floor(Math.abs(a)),this.g=Math.min(a,255),this.gl[1]=a/255,this.update(!0)}},blue:{get:function(){return this.b},set:function(a){a=Math.floor(Math.abs(a)),this.b=Math.min(a,255),this.gl[2]=a/255,this.update(!0)}},alpha:{get:function(){return this.a},set:function(a){a=Math.floor(Math.abs(a)),this.a=Math.min(a,255),this.gl[3]=a/255,this.update()}},h:{get:function(){return this._h},set:function(a){this._h=a,l(a,this._s,this._v,this)}},s:{get:function(){return this._s},set:function(a){this._s=a,l(this._h,a,this._v,this)}},v:{get:function(){return this._v},set:function(a){this._v=a,l(this._h,this._s,a,this)}}});h.exports=s},92728:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(37589),y=function(f){f===void 0&&(f=1024);var l=[],o=255,s,a=255,c=0,r=0;for(s=0;s<=o;s++)l.push({r:a,g:s,b:r,color:u(a,s,r)});for(c=255,s=o;s>=0;s--)l.push({r:s,g:c,b:r,color:u(s,c,r)});for(a=0,s=0;s<=o;s++,c--)l.push({r:a,g:c,b:s,color:u(a,c,s)});for(c=0,r=255,s=0;s<=o;s++,r--,a++)l.push({r:a,g:c,b:r,color:u(a,c,r)});if(f===1024)return l;var d=[],v=0,p=1024/f;for(s=0;s<f;s++)d.push(l[Math.floor(v)]),v+=p;return d};h.exports=y},91588:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e){var u={r:e>>16&255,g:e>>8&255,b:e&255,a:255};return e>16777215&&(u.a=e>>>24),u};h.exports=S},62957:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e){var u=e.toString(16);return u.length===1?"0"+u:u};h.exports=S},37589:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u,y){return e<<16|u<<8|y};h.exports=S},1e3:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u,y,f){return f<<24|e<<16|u<<8|y};h.exports=S},62183:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(40987),y=e(89528),f=function(l,o,s){var a=s,c=s,r=s;if(o!==0){var d=s<.5?s*(1+o):s+o-s*o,v=2*s-d;a=y(v,d,l+1/3),c=y(v,d,l),r=y(v,d,l-1/3)}var p=new u;return p.setGLTo(a,c,r,1)};h.exports=f},27939:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(7537),y=function(f,l){f===void 0&&(f=1),l===void 0&&(l=1);for(var o=[],s=0;s<=359;s++)o.push(u(s/359,f,l));return o};h.exports=y},7537:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(37589);function y(l,o,s,a){var c=(l+o*6)%6,r=Math.min(c,4-c,1);return Math.round(255*(a-a*s*Math.max(0,r)))}var f=function(l,o,s,a){o===void 0&&(o=1),s===void 0&&(s=1);var c=y(5,l,o,s),r=y(3,l,o,s),d=y(1,l,o,s);return a?a.setTo?a.setTo(c,r,d,a.alpha,!0):(a.r=c,a.g=r,a.b=d,a.color=u(c,r,d),a):{r:c,g:r,b:d,color:u(c,r,d)}};h.exports=f},70238:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(40987),y=function(f){var l=new u;f=f.replace(/^(?:#|0x)?([a-f\d])([a-f\d])([a-f\d])$/i,function(r,d,v,p){return d+d+v+v+p+p});var o=/^(?:#|0x)?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(f);if(o){var s=parseInt(o[1],16),a=parseInt(o[2],16),c=parseInt(o[3],16);l.setTo(s,a,c)}return l};h.exports=y},89528:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u,y){return y<0&&(y+=1),y>1&&(y-=1),y<.16666666666666666?e+(u-e)*6*y:y<.5?u:y<.6666666666666666?e+(u-e)*(.6666666666666666-y)*6:e};h.exports=S},30100:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(40987),y=e(90664),f=function(l){var o=y(l);return new u(o.r,o.g,o.b,o.a)};h.exports=f},90664:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e){return e>16777215?{a:e>>>24,r:e>>16&255,g:e>>8&255,b:e&255}:{a:255,r:e>>16&255,g:e>>8&255,b:e&255}};h.exports=S},13699:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(28915),y=e(37589),f=function(s,a,c,r,d,v,p,m){p===void 0&&(p=100),m===void 0&&(m=0);var x=m/p,E=u(s,r,x),w=u(a,d,x),C=u(c,v,x);return{r:E,g:w,b:C,a:255,color:y(E,w,C)}},l=function(s,a,c,r){return c===void 0&&(c=100),r===void 0&&(r=0),f(s.r,s.g,s.b,a.r,a.g,a.b,c,r)},o=function(s,a,c,r,d,v){return d===void 0&&(d=100),v===void 0&&(v=0),f(s.r,s.g,s.b,a,c,r,d,v)};h.exports={RGBWithRGB:f,ColorWithRGB:o,ColorWithColor:l}},68957:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(40987),y=function(f){return new u(f.r,f.g,f.b,f.a)};h.exports=y},87388:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(40987),y=function(f){var l=new u,o=/^rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d+(?:\.\d+)?))?\s*\)$/.exec(f.toLowerCase());if(o){var s=parseInt(o[1],10),a=parseInt(o[2],10),c=parseInt(o[3],10),r=o[4]!==void 0?parseFloat(o[4]):1;l.setTo(s,a,c,r*255)}return l};h.exports=y},87837:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u,y,f){f===void 0&&(f={h:0,s:0,v:0}),e/=255,u/=255,y/=255;var l=Math.min(e,u,y),o=Math.max(e,u,y),s=o-l,a=0,c=o===0?0:s/o,r=o;return o!==l&&(o===e?a=(u-y)/s+(u<y?6:0):o===u?a=(y-e)/s+2:o===y&&(a=(e-u)/s+4),a/=6),f.hasOwnProperty("_h")?(f._h=a,f._s=c,f._v=r):(f.h=a,f.s=c,f.v=r),f};h.exports=S},75723:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(62957),y=function(f,l,o,s,a){return s===void 0&&(s=255),a===void 0&&(a="#"),a==="#"?"#"+((1<<24)+(f<<16)+(l<<8)+o).toString(16).slice(1,7):"0x"+u(s)+u(f)+u(l)+u(o)};h.exports=y},85386:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(30976),y=e(40987),f=function(l,o){return l===void 0&&(l=0),o===void 0&&(o=255),new y(u(l,o),u(l,o),u(l,o))};h.exports=f},80333:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(70238),y=e(30100),f=e(68957),l=e(87388),o=function(s){var a=typeof s;switch(a){case"string":return s.substr(0,3).toLowerCase()==="rgb"?l(s):u(s);case"number":return y(s);case"object":return f(s)}};h.exports=o},3956:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(40987);u.ColorSpectrum=e(92728),u.ColorToRGBA=e(91588),u.ComponentToHex=e(62957),u.GetColor=e(37589),u.GetColor32=e(1e3),u.HexStringToColor=e(70238),u.HSLToColor=e(62183),u.HSVColorWheel=e(27939),u.HSVToRGB=e(7537),u.HueToComponent=e(89528),u.IntegerToColor=e(30100),u.IntegerToRGB=e(90664),u.Interpolate=e(13699),u.ObjectToColor=e(68957),u.RandomRGB=e(85386),u.RGBStringToColor=e(87388),u.RGBToHSV=e(87837),u.RGBToString=e(75723),u.ValueToColor=e(80333),h.exports=u},27460:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={Align:e(71926),BaseShader:e(73894),Bounds:e(58724),Canvas:e(26253),Color:e(3956),ColorMatrix:e(89422),Masks:e(69781),RGB:e(51767)}},6858:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(39429),f=new u({initialize:function(o,s,a,c,r,d){s||(s=o.sys.make.image({x:a,y:c,key:r,frame:d,add:!1})),this.bitmapMask=s,this.invertAlpha=!1,this.isStencil=!1},setBitmap:function(l){this.bitmapMask=l},preRenderWebGL:function(l,o,s){l.pipelines.BITMAPMASK_PIPELINE.beginMask(this,o,s)},postRenderWebGL:function(l,o,s){l.pipelines.BITMAPMASK_PIPELINE.endMask(this,o,s)},preRenderCanvas:function(){},postRenderCanvas:function(){},destroy:function(){this.bitmapMask=null}});y.register("bitmapMask",function(l,o,s,a,c){return new f(this.scene,l,o,s,a,c)}),h.exports=f},80661:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=new u({initialize:function(l,o){this.geometryMask=o,this.invertAlpha=!1,this.isStencil=!0,this.level=0},setShape:function(f){return this.geometryMask=f,this},setInvertAlpha:function(f){return f===void 0&&(f=!0),this.invertAlpha=f,this},preRenderWebGL:function(f,l,o){var s=f.gl;f.flush(),f.maskStack.length===0&&(s.enable(s.STENCIL_TEST),s.clear(s.STENCIL_BUFFER_BIT),f.maskCount=0),f.currentCameraMask.mask!==this&&(f.currentMask.mask=this),f.maskStack.push({mask:this,camera:o}),this.applyStencil(f,o,!0),f.maskCount++},applyStencil:function(f,l,o){var s=f.gl,a=this.geometryMask,c=f.maskCount,r=255;s.colorMask(!1,!1,!1,!1),o?(s.stencilFunc(s.EQUAL,c,r),s.stencilOp(s.KEEP,s.KEEP,s.INCR),c++):(s.stencilFunc(s.EQUAL,c+1,r),s.stencilOp(s.KEEP,s.KEEP,s.DECR)),this.level=c,a.renderWebGL(f,a,l),f.flush(),s.colorMask(!0,!0,!0,!0),s.stencilOp(s.KEEP,s.KEEP,s.KEEP),this.invertAlpha?s.stencilFunc(s.NOTEQUAL,c,r):s.stencilFunc(s.EQUAL,c,r)},postRenderWebGL:function(f){var l=f.gl;f.maskStack.pop(),f.maskCount--,f.flush();var o=f.currentMask;if(f.maskStack.length===0)o.mask=null,l.disable(l.STENCIL_TEST);else{var s=f.maskStack[f.maskStack.length-1];s.mask.applyStencil(f,s.camera,!1),f.currentCameraMask.mask!==s.mask?(o.mask=s.mask,o.camera=s.camera):o.mask=null}},preRenderCanvas:function(f,l,o){var s=this.geometryMask;f.currentContext.save(),s.renderCanvas(f,s,o,null,null,!0),f.currentContext.clip()},postRenderCanvas:function(f){f.currentContext.restore()},destroy:function(){this.geometryMask=null}});h.exports=y},69781:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={BitmapMask:e(6858),GeometryMask:e(80661)}},73894:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=new u({initialize:function(l,o,s,a){(!o||o==="")&&(o=["precision mediump float;","uniform vec2 resolution;","varying vec2 fragCoord;","void main () {","    vec2 uv = fragCoord / resolution.xy;","    gl_FragColor = vec4(uv.xyx, 1.0);","}"].join(`
`)),(!s||s==="")&&(s=["precision mediump float;","uniform mat4 uProjectionMatrix;","uniform mat4 uViewMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","varying vec2 fragCoord;","varying vec2 outTexCoord;","void main () {","   gl_Position = uProjectionMatrix * uViewMatrix * vec4(inPosition, 1.0, 1.0);","   fragCoord = vec2(inPosition.x, uResolution.y - inPosition.y);","   outTexCoord = vec2(inPosition.x / uResolution.x, fragCoord.y / uResolution.y);","}"].join(`
`)),a===void 0&&(a=null),this.key=l,this.fragmentSrc=o,this.vertexSrc=s,this.uniforms=a}});h.exports=y},40366:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u){var y;if(u)typeof u=="string"?y=document.getElementById(u):typeof u=="object"&&u.nodeType===1&&(y=u);else if(e.parentElement||u===null)return e;return y||(y=document.body),y.appendChild(e),e};h.exports=S},83719:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(40366),y=function(f){var l=f.config;if(!(!l.parent||!l.domCreateContainer)){var o=document.createElement("div");o.style.cssText=["display: block;","width: "+f.scale.width+"px;","height: "+f.scale.height+"px;","padding: 0; margin: 0;","position: absolute;","overflow: hidden;","pointer-events: "+l.domPointerEvents+";","transform: scale(1);","transform-origin: left top;"].join(" "),f.domContainer=o,u(o,l.parent)}};h.exports=y},57264:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(25892),y=function(f){if(document.readyState==="complete"||document.readyState==="interactive"){f();return}var l=function(){document.removeEventListener("deviceready",l,!0),document.removeEventListener("DOMContentLoaded",l,!0),window.removeEventListener("load",l,!0),f()};document.body?u.cordova?document.addEventListener("deviceready",l,!1):(document.addEventListener("DOMContentLoaded",l,!0),window.addEventListener("load",l,!0)):window.setTimeout(l,20)};h.exports=y},57811:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e){if(!e)return window.innerHeight;var u=Math.abs(window.orientation),y={w:0,h:0},f=document.createElement("div");return f.setAttribute("style","position: fixed; height: 100vh; width: 0; top: 0"),document.documentElement.appendChild(f),y.w=u===90?f.offsetHeight:window.innerWidth,y.h=u===90?window.innerWidth:f.offsetHeight,document.documentElement.removeChild(f),f=null,Math.abs(window.orientation)!==90?y.h:y.w};h.exports=S},45818:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(13560),y=function(f,l){var o=window.screen,s=o?o.orientation||o.mozOrientation||o.msOrientation:!1;if(s&&typeof s.type=="string")return s.type;if(typeof s=="string")return s;if(typeof window.orientation=="number")return window.orientation===0||window.orientation===180?u.ORIENTATION.PORTRAIT:u.ORIENTATION.LANDSCAPE;if(window.matchMedia){if(window.matchMedia("(orientation: portrait)").matches)return u.ORIENTATION.PORTRAIT;if(window.matchMedia("(orientation: landscape)").matches)return u.ORIENTATION.LANDSCAPE}else return l>f?u.ORIENTATION.PORTRAIT:u.ORIENTATION.LANDSCAPE};h.exports=y},74403:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e){var u;return e!==""&&(typeof e=="string"?u=document.getElementById(e):e&&e.nodeType===1&&(u=e)),u||(u=document.body),u};h.exports=S},56836:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e){var u="";try{if(window.DOMParser){var y=new DOMParser;u=y.parseFromString(e,"text/xml")}else u=new ActiveXObject("Microsoft.XMLDOM"),u.loadXML(e)}catch{u=null}return!u||!u.documentElement||u.getElementsByTagName("parsererror").length?null:u};h.exports=S},35846:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e){e.parentNode&&e.parentNode.removeChild(e)};h.exports=S},43092:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(29747),f=new u({initialize:function(){this.isRunning=!1,this.callback=y,this.isSetTimeOut=!1,this.timeOutID=null,this.delay=0;var o=this;this.step=function s(a){o.callback(a),o.isRunning&&(o.timeOutID=window.requestAnimationFrame(s))},this.stepTimeout=function s(){o.isRunning&&(o.timeOutID=window.setTimeout(s,o.delay)),o.callback(window.performance.now())}},start:function(l,o,s){this.isRunning||(this.callback=l,this.isSetTimeOut=o,this.delay=s,this.isRunning=!0,this.timeOutID=o?window.setTimeout(this.stepTimeout,0):window.requestAnimationFrame(this.step))},stop:function(){this.isRunning=!1,this.isSetTimeOut?clearTimeout(this.timeOutID):window.cancelAnimationFrame(this.timeOutID)},destroy:function(){this.stop(),this.callback=y}});h.exports=f},84902:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u={AddToDOM:e(40366),DOMContentLoaded:e(57264),GetInnerHeight:e(57811),GetScreenOrientation:e(45818),GetTarget:e(74403),ParseXML:e(56836),RemoveFromDOM:e(35846),RequestAnimationFrame:e(43092)};h.exports=u},47565:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(50792),f=e(37277),l=new u({Extends:y,initialize:function(){y.call(this)},shutdown:function(){this.removeAllListeners()},destroy:function(){this.removeAllListeners()}});f.register("EventEmitter",l,"events"),h.exports=l},93055:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={EventEmitter:e(47565)}},20122:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(72898),f=e(14811),l=new u({Extends:y,initialize:function(s,a){a===void 0&&(a=1),y.call(this,f.BARREL,s),this.amount=a}});h.exports=l},32251:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(72898),f=e(14811),l=new u({Extends:y,initialize:function(s,a,c,r,d,v,p){c===void 0&&(c=1),r===void 0&&(r=1),d===void 0&&(d=1),v===void 0&&(v=1),p===void 0&&(p=4),y.call(this,f.BLOOM,s),this.steps=p,this.offsetX=c,this.offsetY=r,this.blurStrength=d,this.strength=v,this.glcolor=[1,1,1],a!=null&&(this.color=a)},color:{get:function(){var o=this.glcolor;return(o[0]*255<<16)+(o[1]*255<<8)+(o[2]*255|0)},set:function(o){var s=this.glcolor;s[0]=(o>>16&255)/255,s[1]=(o>>8&255)/255,s[2]=(o&255)/255}}});h.exports=l},9047:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(72898),f=e(14811),l=new u({Extends:y,initialize:function(s,a,c,r,d,v,p){a===void 0&&(a=0),c===void 0&&(c=2),r===void 0&&(r=2),d===void 0&&(d=1),p===void 0&&(p=4),y.call(this,f.BLUR,s),this.quality=a,this.x=c,this.y=r,this.steps=p,this.strength=d,this.glcolor=[1,1,1],v!=null&&(this.color=v)},color:{get:function(){var o=this.glcolor;return(o[0]*255<<16)+(o[1]*255<<8)+(o[2]*255|0)},set:function(o){var s=this.glcolor;s[0]=(o>>16&255)/255,s[1]=(o>>8&255)/255,s[2]=(o&255)/255}}});h.exports=l},27885:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(72898),f=e(14811),l=new u({Extends:y,initialize:function(s,a,c,r,d,v,p,m){a===void 0&&(a=.5),c===void 0&&(c=1),r===void 0&&(r=.2),d===void 0&&(d=!1),v===void 0&&(v=1),p===void 0&&(p=1),m===void 0&&(m=1),y.call(this,f.BOKEH,s),this.radius=a,this.amount=c,this.contrast=r,this.isTiltShift=d,this.strength=m,this.blurX=v,this.blurY=p}});h.exports=l},12578:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(72898),f=e(14811),l=new u({Extends:y,initialize:function(s,a,c,r,d,v){a===void 0&&(a=8),d===void 0&&(d=1),v===void 0&&(v=.005),y.call(this,f.CIRCLE,s),this.scale=d,this.feather=v,this.thickness=a,this.glcolor=[1,.2,.7],this.glcolor2=[1,0,0,.4],c!=null&&(this.color=c),r!=null&&(this.backgroundColor=r)},color:{get:function(){var o=this.glcolor;return(o[0]*255<<16)+(o[1]*255<<8)+(o[2]*255|0)},set:function(o){var s=this.glcolor;s[0]=(o>>16&255)/255,s[1]=(o>>8&255)/255,s[2]=(o&255)/255}},backgroundColor:{get:function(){var o=this.glcolor2;return(o[0]*255<<16)+(o[1]*255<<8)+(o[2]*255|0)},set:function(o){var s=this.glcolor2;s[0]=(o>>16&255)/255,s[1]=(o>>8&255)/255,s[2]=(o&255)/255}},backgroundAlpha:{get:function(){return this.glcolor2[3]},set:function(o){this.glcolor2[3]=o}}});h.exports=l},15802:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(89422),f=e(14811),l=new u({Extends:y,initialize:function(s){y.call(this),this.type=f.COLOR_MATRIX,this.gameObject=s,this.active=!0},destroy:function(){this.gameObject=null,this._matrix=null,this._data=null}});h.exports=l},72898:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=new u({initialize:function(l,o){this.type=l,this.gameObject=o,this.active=!0},setActive:function(f){return this.active=f,this},destroy:function(){this.gameObject=null,this.active=!1}});h.exports=y},44553:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(72898),f=e(14811),l=new u({Extends:y,initialize:function(s,a,c,r){a===void 0&&(a="__WHITE"),c===void 0&&(c=.005),r===void 0&&(r=.005),y.call(this,f.DISPLACEMENT,s),this.x=c,this.y=r,this.glTexture,this.setTexture(a)},setTexture:function(o){var s=this.gameObject.scene.sys.textures.getFrame(o);return s&&(this.glTexture=s.glTexture),this}});h.exports=l},68531:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(72898),f=e(14811),l=new u({Extends:y,initialize:function(s,a,c,r,d){c===void 0&&(c=4),r===void 0&&(r=0),d===void 0&&(d=!1),y.call(this,f.GLOW,s),this.outerStrength=c,this.innerStrength=r,this.knockout=d,this.glcolor=[1,1,1,1],a!==void 0&&(this.color=a)},color:{get:function(){var o=this.glcolor;return(o[0]*255<<16)+(o[1]*255<<8)+(o[2]*255|0)},set:function(o){var s=this.glcolor;s[0]=(o>>16&255)/255,s[1]=(o>>8&255)/255,s[2]=(o&255)/255}}});h.exports=l},37102:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(72898),f=e(14811),l=new u({Extends:y,initialize:function(s,a,c,r,d,v,p,m,x){r===void 0&&(r=.2),d===void 0&&(d=0),v===void 0&&(v=0),p===void 0&&(p=0),m===void 0&&(m=1),x===void 0&&(x=0),y.call(this,f.GRADIENT,s),this.alpha=r,this.size=x,this.fromX=d,this.fromY=v,this.toX=p,this.toY=m,this.glcolor1=[255,0,0],this.glcolor2=[0,255,0],a!=null&&(this.color1=a),c!=null&&(this.color2=c)},color1:{get:function(){var o=this.glcolor1;return(o[0]<<16)+(o[1]<<8)+(o[2]|0)},set:function(o){var s=this.glcolor1;s[0]=o>>16&255,s[1]=o>>8&255,s[2]=o&255}},color2:{get:function(){var o=this.glcolor2;return(o[0]<<16)+(o[1]<<8)+(o[2]|0)},set:function(o){var s=this.glcolor2;s[0]=o>>16&255,s[1]=o>>8&255,s[2]=o&255}}});h.exports=l},86886:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(72898),f=e(14811),l=new u({Extends:y,initialize:function(s,a){a===void 0&&(a=1),y.call(this,f.PIXELATE,s),this.amount=a}});h.exports=l},92322:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(72898),f=e(14811),l=new u({Extends:y,initialize:function(s,a,c,r,d,v,p,m){a===void 0&&(a=0),c===void 0&&(c=0),r===void 0&&(r=.1),d===void 0&&(d=1),p===void 0&&(p=6),m===void 0&&(m=1),y.call(this,f.SHADOW,s),this.x=a,this.y=c,this.decay=r,this.power=d,this.glcolor=[0,0,0,1],this.samples=p,this.intensity=m,v!==void 0&&(this.color=v)},color:{get:function(){var o=this.glcolor;return(o[0]*255<<16)+(o[1]*255<<8)+(o[2]*255|0)},set:function(o){var s=this.glcolor;s[0]=(o>>16&255)/255,s[1]=(o>>8&255)/255,s[2]=(o&255)/255}}});h.exports=l},39563:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(72898),f=e(14811),l=new u({Extends:y,initialize:function(s,a,c,r,d){a===void 0&&(a=.5),c===void 0&&(c=.5),r===void 0&&(r=3),d===void 0&&(d=!1),y.call(this,f.SHINE,s),this.speed=a,this.lineWidth=c,this.gradient=r,this.reveal=d}});h.exports=l},56448:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(72898),f=e(14811),l=new u({Extends:y,initialize:function(s,a,c,r,d){a===void 0&&(a=.5),c===void 0&&(c=.5),r===void 0&&(r=.5),d===void 0&&(d=.5),y.call(this,f.VIGNETTE,s),this.x=a,this.y=c,this.radius=r,this.strength=d}});h.exports=l},38433:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(72898),f=e(14811),l=new u({Extends:y,initialize:function(s,a,c,r,d){a===void 0&&(a=.1),c===void 0&&(c=0),r===void 0&&(r=0),d===void 0&&(d=!1),y.call(this,f.WIPE,s),this.progress=0,this.wipeWidth=a,this.direction=c,this.axis=r,this.reveal=d}});h.exports=l},14811:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={GLOW:4,SHADOW:5,PIXELATE:6,VIGNETTE:7,SHINE:8,BLUR:9,GRADIENT:12,BLOOM:13,COLOR_MATRIX:14,CIRCLE:15,BARREL:16,DISPLACEMENT:17,WIPE:18,BOKEH:19};h.exports=S},66064:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(79291),y=e(14811),f={Barrel:e(20122),Controller:e(72898),Bloom:e(32251),Blur:e(9047),Bokeh:e(27885),Circle:e(12578),ColorMatrix:e(15802),Displacement:e(44553),Glow:e(68531),Gradient:e(37102),Pixelate:e(86886),Shadow:e(92322),Shine:e(39563),Vignette:e(56448),Wipe:e(38433)};f=u(!1,f,y),h.exports=f},25305:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(10312),y=e(23568),f=function(l,o,s){o.x=y(s,"x",0),o.y=y(s,"y",0),o.depth=y(s,"depth",0),o.flipX=y(s,"flipX",!1),o.flipY=y(s,"flipY",!1);var a=y(s,"scale",null);typeof a=="number"?o.setScale(a):a!==null&&(o.scaleX=y(a,"x",1),o.scaleY=y(a,"y",1));var c=y(s,"scrollFactor",null);typeof c=="number"?o.setScrollFactor(c):c!==null&&(o.scrollFactorX=y(c,"x",1),o.scrollFactorY=y(c,"y",1)),o.rotation=y(s,"rotation",0);var r=y(s,"angle",null);r!==null&&(o.angle=r),o.alpha=y(s,"alpha",1);var d=y(s,"origin",null);if(typeof d=="number")o.setOrigin(d);else if(d!==null){var v=y(d,"x",.5),p=y(d,"y",.5);o.setOrigin(v,p)}o.blendMode=y(s,"blendMode",u.NORMAL),o.visible=y(s,"visible",!0);var m=y(s,"add",!0);return m&&l.sys.displayList.add(o),o.preUpdate&&l.sys.updateList.add(o),o};h.exports=f},13059:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(23568),y=function(f,l){var o=u(l,"anims",null);if(o===null)return f;if(typeof o=="string")f.anims.play(o);else if(typeof o=="object"){var s=f.anims,a=u(o,"key",void 0);if(a){var c=u(o,"startFrame",void 0),r=u(o,"delay",0),d=u(o,"repeat",0),v=u(o,"repeatDelay",0),p=u(o,"yoyo",!1),m=u(o,"play",!1),x=u(o,"delayedPlay",0),E={key:a,delay:r,repeat:d,repeatDelay:v,yoyo:p,startFrame:c};m?s.play(E):x>0?s.playAfterDelay(E,x):s.load(E)}}return f};h.exports=y},8050:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(73162),f=e(37277),l=e(51708),o=e(44594),s=e(19186),a=new u({Extends:y,initialize:function(r){y.call(this,r),this.sortChildrenFlag=!1,this.scene=r,this.systems=r.sys,this.events=r.sys.events,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.events.once(o.BOOT,this.boot,this),this.events.on(o.START,this.start,this)},boot:function(){this.events.once(o.DESTROY,this.destroy,this)},addChildCallback:function(c){c.displayList&&c.displayList!==this&&c.removeFromDisplayList(),c.parentContainer&&c.parentContainer.remove(c),c.displayList||(this.queueDepthSort(),c.displayList=this,c.emit(l.ADDED_TO_SCENE,c,this.scene),this.events.emit(o.ADDED_TO_SCENE,c,this.scene))},removeChildCallback:function(c){this.queueDepthSort(),c.displayList=null,c.emit(l.REMOVED_FROM_SCENE,c,this.scene),this.events.emit(o.REMOVED_FROM_SCENE,c,this.scene)},start:function(){this.events.once(o.SHUTDOWN,this.shutdown,this)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(s(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(c,r){return c._depth-r._depth},getChildren:function(){return this.list},shutdown:function(){for(var c=this.list,r=c.length;r--;)c[r]&&c[r].destroy(!0);c.length=0,this.events.off(o.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(o.START,this.start,this),this.scene=null,this.systems=null,this.events=null}});f.register("DisplayList",a,"displayList"),h.exports=a},95643:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(53774),f=e(45893),l=e(50792),o=e(51708),s=e(44594),a=new u({Extends:l,initialize:function(r,d){l.call(this),this.scene=r,this.displayList=null,this.type=d,this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.on(o.ADDED_TO_SCENE,this.addedToScene,this),this.on(o.REMOVED_FROM_SCENE,this.removedFromScene,this),r.sys.queueDepthSort()},setActive:function(c){return this.active=c,this},setName:function(c){return this.name=c,this},setState:function(c){return this.state=c,this},setDataEnabled:function(){return this.data||(this.data=new f(this)),this},setData:function(c,r){return this.data||(this.data=new f(this)),this.data.set(c,r),this},incData:function(c,r){return this.data||(this.data=new f(this)),this.data.inc(c,r),this},toggleData:function(c){return this.data||(this.data=new f(this)),this.data.toggle(c),this},getData:function(c){return this.data||(this.data=new f(this)),this.data.get(c)},setInteractive:function(c,r,d){return this.scene.sys.input.enable(this,c,r,d),this},disableInteractive:function(c){return c===void 0&&(c=!1),this.scene.sys.input.disable(this,c),this},removeInteractive:function(c){return c===void 0&&(c=!1),this.scene.sys.input.clear(this),c&&this.scene.sys.input.resetCursor(),this.input=void 0,this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return y(this)},willRender:function(c){var r=this.displayList&&this.displayList.active?this.displayList.willRender(c):!0;return!(!r||a.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&c.id)},getIndexList:function(){for(var c=this,r=this.parentContainer,d=[];r&&(d.unshift(r.getIndex(c)),c=r,r.parentContainer);)r=r.parentContainer;return this.displayList?d.unshift(this.displayList.getIndex(c)):d.unshift(this.scene.sys.displayList.getIndex(c)),d},addToDisplayList:function(c){return c===void 0&&(c=this.scene.sys.displayList),this.displayList&&this.displayList!==c&&this.removeFromDisplayList(),c.exists(this)||(this.displayList=c,c.add(this,!0),c.queueDepthSort(),this.emit(o.ADDED_TO_SCENE,this,this.scene),c.events.emit(s.ADDED_TO_SCENE,this,this.scene)),this},addToUpdateList:function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.add(this),this},removeFromDisplayList:function(){var c=this.displayList||this.scene.sys.displayList;return c&&c.exists(this)&&(c.remove(this,!0),c.queueDepthSort(),this.displayList=null,this.emit(o.REMOVED_FROM_SCENE,this,this.scene),c.events.emit(s.REMOVED_FROM_SCENE,this,this.scene)),this},removeFromUpdateList:function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.remove(this),this},getDisplayList:function(){var c=null;return this.parentContainer?c=this.parentContainer.list:this.displayList&&(c=this.displayList.list),c},destroy:function(c){!this.scene||this.ignoreDestroy||(c===void 0&&(c=!1),this.preDestroy&&this.preDestroy.call(this),this.emit(o.DESTROY,this,c),this.removeAllListeners(),this.postPipelines&&this.resetPostPipeline(!0),this.removeFromDisplayList(),this.removeFromUpdateList(),this.input&&(this.scene.sys.input.clear(this),this.input=void 0),this.data&&(this.data.destroy(),this.data=void 0),this.body&&(this.body.destroy(),this.body=void 0),this.preFX&&(this.preFX.destroy(),this.preFX=void 0),this.postFX&&(this.postFX.destroy(),this.postFX=void 0),this.active=!1,this.visible=!1,this.scene=void 0,this.parentContainer=void 0)}});a.RENDER_MASK=15,h.exports=a},44603:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(37277),f=e(44594),l=new u({initialize:function(s){this.scene=s,this.systems=s.sys,this.events=s.sys.events,this.displayList,this.updateList,this.events.once(f.BOOT,this.boot,this),this.events.on(f.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(f.DESTROY,this.destroy,this)},start:function(){this.events.once(f.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.events.off(f.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(f.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null}});l.register=function(o,s){l.prototype.hasOwnProperty(o)||(l.prototype[o]=s)},l.remove=function(o){l.prototype.hasOwnProperty(o)&&delete l.prototype[o]},y.register("GameObjectCreator",l,"make"),h.exports=l},39429:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(37277),f=e(44594),l=new u({initialize:function(s){this.scene=s,this.systems=s.sys,this.events=s.sys.events,this.displayList,this.updateList,this.events.once(f.BOOT,this.boot,this),this.events.on(f.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(f.DESTROY,this.destroy,this)},start:function(){this.events.once(f.SHUTDOWN,this.shutdown,this)},existing:function(o){return(o.renderCanvas||o.renderWebGL)&&this.displayList.add(o),o.preUpdate&&this.updateList.add(o),o},shutdown:function(){this.events.off(f.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(f.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null}});l.register=function(o,s){l.prototype.hasOwnProperty(o)||(l.prototype[o]=s)},l.remove=function(o){l.prototype.hasOwnProperty(o)&&delete l.prototype[o]},y.register("GameObjectFactory",l,"add"),h.exports=l},91296:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(61340),y=new u,f=new u,l=new u,o={camera:y,sprite:f,calc:l},s=function(a,c,r){var d=y,v=f,p=l;return v.applyITRS(a.x,a.y,a.rotation,a.scaleX,a.scaleY),d.copyFrom(c.matrix),r?(d.multiplyWithOffset(r,-c.scrollX*a.scrollFactorX,-c.scrollY*a.scrollFactorY),v.e=a.x,v.f=a.y):(v.e-=c.scrollX*a.scrollFactorX,v.f-=c.scrollY*a.scrollFactorY),d.multiply(v,p),o};h.exports=s},45027:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(25774),f=e(37277),l=e(44594),o=new u({Extends:y,initialize:function(a){y.call(this),this.checkQueue=!0,this.scene=a,this.systems=a.sys,a.sys.events.once(l.BOOT,this.boot,this),a.sys.events.on(l.START,this.start,this)},boot:function(){this.systems.events.once(l.DESTROY,this.destroy,this)},start:function(){var s=this.systems.events;s.on(l.PRE_UPDATE,this.update,this),s.on(l.UPDATE,this.sceneUpdate,this),s.once(l.SHUTDOWN,this.shutdown,this)},sceneUpdate:function(s,a){for(var c=this._active,r=c.length,d=0;d<r;d++){var v=c[d];v.active&&v.preUpdate.call(v,s,a)}},shutdown:function(){for(var s=this._active.length;s--;)this._active[s].destroy(!0);for(s=this._pending.length;s--;)this._pending[s].destroy(!0);for(s=this._destroy.length;s--;)this._destroy[s].destroy(!0);this._toProcess=0,this._pending=[],this._active=[],this._destroy=[],this.removeAllListeners();var a=this.systems.events;a.off(l.PRE_UPDATE,this.update,this),a.off(l.UPDATE,this.sceneUpdate,this),a.off(l.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.systems.events.off(l.START,this.start,this),this.scene=null,this.systems=null}});f.register("UpdateList",o,"updateList"),h.exports=o},3217:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u,y,f,l,o,s,a,c,r,d,v,p,m,x){var E=y.x-u.displayOriginX+l,w=y.y-u.displayOriginY+o,C=E+y.w,P=w+y.h,R=s.a,M=s.b,I=s.c,D=s.d,L=s.e,F=s.f,O=E*R+w*I+L,N=E*M+w*D+F,b=E*R+P*I+L,V=E*M+P*D+F,Y=C*R+P*I+L,W=C*M+P*D+F,U=C*R+w*I+L,z=C*M+w*D+F;a&&(O=Math.round(O),N=Math.round(N),b=Math.round(b),V=Math.round(V),Y=Math.round(Y),W=Math.round(W),U=Math.round(U),z=Math.round(z)),e.batchQuad(u,O,N,b,V,Y,W,U,z,f.u0,f.v0,f.u1,f.v1,c,r,d,v,p,m,x)};h.exports=S},53048:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u,y,f){if(y===void 0&&(y=!1),f===void 0)return f={local:{x:0,y:0,width:0,height:0},global:{x:0,y:0,width:0,height:0},lines:{shortest:0,longest:0,lengths:null,height:0},wrappedText:"",words:[],characters:[],scaleX:0,scaleY:0},f;var l=e.text,o=l.length,s=e.maxWidth,a=e.wordWrapCharCode,c=Number.MAX_VALUE,r=Number.MAX_VALUE,d=0,v=0,p=e.fontData.chars,m=e.fontData.lineHeight,x=e.letterSpacing,E=e.lineSpacing,w=0,C=0,P=0,R=null,M=e._align,I=0,D=0,L=e.fontSize/e.fontData.size,F=L*e.scaleX,O=L*e.scaleY,N=null,b=0,V=[],Y=Number.MAX_VALUE,W=0,U=0,z=0,B,X,G,H=[],$=[],k=null,j=function($t,fe){for(var Nt=0,kt=0;kt<$t.length;kt++){var _t=$t.charCodeAt(kt),Le=fe.chars[_t];Le&&(Nt+=Le.xAdvance)}return Nt*F};if(s>0){G=l.split(`
`);var Q=[];for(B=0;B<G.length;B++){var J=G[B],q="",Z="",it="",rt="";for(X=0;X<J.length;X++)if(P=J.charCodeAt(X),q+=J[X],P===a||X===J.length-1){rt=it+q;var et=j(rt,e.fontData);et<=s?it=rt:(Z=Z.slice(0,-1),Z+=(Z?`
`:"")+it,it=q),q=""}Z=Z.slice(0,-1),Z+=(Z?`
`:"")+it,Q.push(Z)}l=Q.join(`
`),f.wrappedText=l,o=l.length}var ct=0;for(B=0;B<o;B++){if(P=l.charCodeAt(B),P===10){k!==null&&(H.push({word:k.word,i:k.i,x:k.x*F,y:k.y*O,w:k.w*F,h:k.h*O}),k=null),N=null,V[U]=z,z>W&&(W=z),z<Y&&(Y=z),U++,z=0,w=0,C=(m+E)*U;continue}if(R=p[P],!!R){if(I=w,D=C,N!==null){var pt=R.kerning[b];I+=pt!==void 0?pt:0}c>I&&(c=I),r>D&&(r=D);var mt=I+R.xAdvance,nt=D+m;d<mt&&(d=mt),v<nt&&(v=nt);var lt=R.xOffset+R.xAdvance+(pt!==void 0?pt:0);P===a?k!==null&&(H.push({word:k.word,i:k.i,x:k.x*F,y:k.y*O,w:k.w*F,h:k.h*O}),k=null):(k===null&&(k={word:"",i:ct,x:w,y:C,w:0,h:m}),k.word=k.word.concat(l[B]),k.w+=lt),$.push({i:ct,idx:B,char:l[B],code:P,x:(R.xOffset+I)*L,y:(R.yOffset+C)*L,w:R.width*L,h:R.height*L,t:C*L,r:mt*L,b:m*L,line:U,glyph:R}),w+=R.xAdvance+x+(pt!==void 0?pt:0),N=R,b=P,z=mt*L,ct++}}if(k!==null&&H.push({word:k.word,i:k.i,x:k.x*F,y:k.y*O,w:k.w*F,h:k.h*O}),V[U]=z,z>W&&(W=z),z<Y&&(Y=z),M>0)for(var ht=0;ht<$.length;ht++){var Tt=$[ht];if(M===1){var It=(W-V[Tt.line])/2;Tt.x+=It,Tt.r+=It}else if(M===2){var Vt=W-V[Tt.line];Tt.x+=Vt,Tt.r+=Vt}}var At=f.local,Rt=f.global;return G=f.lines,At.x=c*L,At.y=r*L,At.width=d*L,At.height=v*L,Rt.x=e.x-e._displayOriginX+c*F,Rt.y=e.y-e._displayOriginY+r*O,Rt.width=d*F,Rt.height=v*O,G.shortest=Y,G.longest=W,G.lengths=V,u&&(At.x=Math.ceil(At.x),At.y=Math.ceil(At.y),At.width=Math.ceil(At.width),At.height=Math.ceil(At.height),Rt.x=Math.ceil(Rt.x),Rt.y=Math.ceil(Rt.y),Rt.width=Math.ceil(Rt.width),Rt.height=Math.ceil(Rt.height),G.shortest=Math.ceil(Y),G.longest=Math.ceil(W)),y&&(e._displayOriginX=e.originX*At.width,e._displayOriginY=e.originY*At.height,Rt.x=e.x-e._displayOriginX*e.scaleX,Rt.y=e.y-e._displayOriginY*e.scaleY,u&&(Rt.x=Math.ceil(Rt.x),Rt.y=Math.ceil(Rt.y))),f.words=H,f.characters=$,f.lines.height=m,f.scale=L,f.scaleX=e.scaleX,f.scaleY=e.scaleY,f};h.exports=S},61327:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(21859),y=function(f,l,o,s,a,c,r){var d=f.sys.textures.get(o),v=d.get(s),p=f.sys.cache.xml.get(a);if(v&&p){var m=u(p,v,c,r,d);return f.sys.cache.bitmapFont.add(l,{data:m,texture:o,frame:s,fromAtlas:!0}),!0}else return!1};h.exports=y},6925:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(35154),y=function(f,l){var o=l.width,s=l.height,a=Math.floor(o/2),c=Math.floor(s/2),r=u(l,"chars","");if(r!==""){var d=u(l,"image",""),v=f.sys.textures.getFrame(d),p=v.cutX,m=v.cutY,x=v.source.width,E=v.source.height,w=u(l,"offset.x",0),C=u(l,"offset.y",0),P=u(l,"spacing.x",0),R=u(l,"spacing.y",0),M=u(l,"lineSpacing",0),I=u(l,"charsPerRow",null);I===null&&(I=x/o,I>r.length&&(I=r.length));for(var D=w,L=C,F={retroFont:!0,font:d,size:o,lineHeight:s+M,chars:{}},O=0,N=0;N<r.length;N++){var b=r.charCodeAt(N),V=(p+D)/x,Y=(m+L)/E,W=(p+D+o)/x,U=(m+L+s)/E;F.chars[b]={x:D,y:L,width:o,height:s,centerX:a,centerY:c,xOffset:0,yOffset:0,xAdvance:o,data:{},kerning:{},u0:V,v0:Y,u1:W,v1:U},O++,O===I?(O=0,D=w,L+=s+R):D+=o+P}var z={data:F,frame:null,texture:d};return z}};h.exports=y},21859:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function S(u,y){return parseInt(u.getAttribute(y),10)}var e=function(u,y,f,l,o){f===void 0&&(f=0),l===void 0&&(l=0);var s=y.cutX,a=y.cutY,c=y.source.width,r=y.source.height,d=y.sourceIndex,v={},p=u.getElementsByTagName("info")[0],m=u.getElementsByTagName("common")[0];v.font=p.getAttribute("face"),v.size=S(p,"size"),v.lineHeight=S(m,"lineHeight")+l,v.chars={};var x=u.getElementsByTagName("char"),E=y!==void 0&&y.trimmed;if(E)var w=y.height,C=y.width;for(var P=0;P<x.length;P++){var R=x[P],M=S(R,"id"),I=String.fromCharCode(M),D=S(R,"x"),L=S(R,"y"),F=S(R,"width"),O=S(R,"height");E&&(D<C&&(C=D),L<w&&(w=L)),E&&w!==0&&C!==0&&(D-=y.x,L-=y.y);var N=(s+D)/c,b=(a+L)/r,V=(s+D+F)/c,Y=(a+L+O)/r;if(v.chars[M]={x:D,y:L,width:F,height:O,centerX:Math.floor(F/2),centerY:Math.floor(O/2),xOffset:S(R,"xoffset"),yOffset:S(R,"yoffset"),xAdvance:S(R,"xadvance")+f,data:{},kerning:{},u0:N,v0:b,u1:V,v1:Y},o&&F!==0&&O!==0){var W=o.add(I,d,D,L,F,O);W&&W.setUVs(F,O,N,b,V,Y)}}var U=u.getElementsByTagName("kerning");for(P=0;P<U.length;P++){var z=U[P],B=S(z,"first"),X=S(z,"second"),G=S(z,"amount");v.chars[X].kerning[B]=G}return v};h.exports=e},196:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(87662),y=e(79291),f={Parse:e(6925)};f=y(!1,f,u),h.exports=f},87662:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={TEXT_SET1:" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~",TEXT_SET2:` !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ`,TEXT_SET3:"ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789 ",TEXT_SET4:"ABCDEFGHIJKLMNOPQRSTUVWXYZ 0123456789",TEXT_SET5:"ABCDEFGHIJKLMNOPQRSTUVWXYZ.,/() '!?-*:0123456789",TEXT_SET6:`ABCDEFGHIJKLMNOPQRSTUVWXYZ!?:;0123456789"(),-.' `,TEXT_SET7:`AGMSY+:4BHNTZ!;5CIOU.?06DJPV,(17EKQW")28FLRX-'39`,TEXT_SET8:"0123456789 .ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET9:`ABCDEFGHIJKLMNOPQRSTUVWXYZ()-0123456789.:,'"?!`,TEXT_SET10:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET11:`ABCDEFGHIJKLMNOPQRSTUVWXYZ.,"-+!?()':;0123456789`};h.exports=S},2638:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(22186),y=e(83419),f=e(12310),l=new y({Extends:u,Mixins:[f],initialize:function(s,a,c,r,d,v,p){u.call(this,s,a,c,r,d,v,p),this.type="DynamicBitmapText",this.scrollX=0,this.scrollY=0,this.cropWidth=0,this.cropHeight=0,this.displayCallback,this.callbackData={parent:this,color:0,tint:{topLeft:0,topRight:0,bottomLeft:0,bottomRight:0},index:0,charCode:0,x:0,y:0,scale:0,rotation:0,data:0}},setSize:function(o,s){return this.cropWidth=o,this.cropHeight=s,this},setDisplayCallback:function(o){return this.displayCallback=o,this},setScrollX:function(o){return this.scrollX=o,this},setScrollY:function(o){return this.scrollY=o,this}});h.exports=l},86741:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(20926),y=function(f,l,o,s){var a=l._text,c=a.length,r=f.currentContext;if(!(c===0||!u(f,r,l,o,s))){o.addToRenderList(l);var d=l.fromAtlas?l.frame:l.texture.frames.__BASE,v=l.displayCallback,p=l.callbackData,m=l.fontData.chars,x=l.fontData.lineHeight,E=l._letterSpacing,w=0,C=0,P=0,R=null,M=0,I=0,D=0,L=0,F=0,O=0,N=null,b=0,V=l.frame.source.image,Y=d.cutX,W=d.cutY,U=0,z=0,B=l._fontSize/l.fontData.size,X=l._align,G=0,H=0;l.getTextBounds(!1);var $=l._bounds.lines;X===1?H=($.longest-$.lengths[0])/2:X===2&&(H=$.longest-$.lengths[0]),r.translate(-l.displayOriginX,-l.displayOriginY);var k=o.roundPixels;l.cropWidth>0&&l.cropHeight>0&&(r.beginPath(),r.rect(0,0,l.cropWidth,l.cropHeight),r.clip());for(var j=0;j<c;j++){if(z=B,U=0,P=a.charCodeAt(j),P===10){G++,X===1?H=($.longest-$.lengths[G])/2:X===2&&(H=$.longest-$.lengths[G]),w=0,C+=x,N=null;continue}if(R=m[P],!!R){if(M=Y+R.x,I=W+R.y,D=R.width,L=R.height,F=R.xOffset+w-l.scrollX,O=R.yOffset+C-l.scrollY,N!==null){var Q=R.kerning[b];F+=Q!==void 0?Q:0}if(v){p.index=j,p.charCode=P,p.x=F,p.y=O,p.scale=z,p.rotation=U,p.data=R.data;var J=v(p);F=J.x,O=J.y,z=J.scale,U=J.rotation}F*=z,O*=z,F+=H,w+=R.xAdvance+E+(Q!==void 0?Q:0),N=R,b=P,!(D===0||L===0||P===32)&&(k&&(F=Math.round(F),O=Math.round(O)),r.save(),r.translate(F,O),r.rotate(U),r.scale(z,z),r.drawImage(V,M,I,D,L,0,0,D,L),r.restore())}}r.restore()}};h.exports=y},11164:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(2638),y=e(25305),f=e(44603),l=e(23568);f.register("dynamicBitmapText",function(o,s){o===void 0&&(o={});var a=l(o,"font",""),c=l(o,"text",""),r=l(o,"size",!1),d=new u(this.scene,0,0,a,c,r);return s!==void 0&&(o.add=s),y(this.scene,d,o),d})},72566:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(2638),y=e(39429);y.register("dynamicBitmapText",function(f,l,o,s,a){return this.displayList.add(new u(this.scene,f,l,o,s,a))})},12310:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(29747),y=u,f=u;y=e(73482),f=e(86741),h.exports={renderWebGL:y,renderCanvas:f}},73482:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(91296),y=e(61340),f=e(70554),l=new y,o=function(s,a,c,r){var d=a.text,v=d.length;if(v!==0){c.addToRenderList(a);var p=s.pipelines.set(a.pipeline,a),m=u(a,c,r);s.pipelines.preBatch(a);var x=m.sprite,E=m.calc,w=l,C=a.cropWidth>0||a.cropHeight>0;C&&(p.flush(),s.pushScissor(E.tx,E.ty,a.cropWidth*E.scaleX,a.cropHeight*E.scaleY));var P=a.frame,R=P.glTexture,M=a.tintFill,I=f.getTintAppendFloatAlpha(a.tintTopLeft,c.alpha*a._alphaTL),D=f.getTintAppendFloatAlpha(a.tintTopRight,c.alpha*a._alphaTR),L=f.getTintAppendFloatAlpha(a.tintBottomLeft,c.alpha*a._alphaBL),F=f.getTintAppendFloatAlpha(a.tintBottomRight,c.alpha*a._alphaBR),O=p.setGameObject(a),N=0,b=0,V=0,Y=0,W=a.letterSpacing,U,z=0,B=0,X,G=a.scrollX,H=a.scrollY,$=a.fontData,k=$.chars,j=$.lineHeight,Q=a.fontSize/$.size,J=0,q=a._align,Z=0,it=0,rt=a.getTextBounds(!1);a.maxWidth>0&&(d=rt.wrappedText,v=d.length);var et=a._bounds.lines;q===1?it=(et.longest-et.lengths[0])/2:q===2&&(it=et.longest-et.lengths[0]);for(var ct=c.roundPixels,pt=a.displayCallback,mt=a.callbackData,nt=0;nt<v;nt++){if(V=d.charCodeAt(nt),V===10){Z++,q===1?it=(et.longest-et.lengths[Z])/2:q===2&&(it=et.longest-et.lengths[Z]),N=0,b+=j,X=null;continue}if(U=k[V],!!U){z=U.width,B=U.height;var lt=U.xOffset+N-G,ht=U.yOffset+b-H;if(X!==null){var Tt=U.kerning[Y]||0;lt+=Tt,N+=Tt}if(N+=U.xAdvance+W,X=U,Y=V,!(z===0||B===0||V===32)){if(Q=a.fontSize/a.fontData.size,J=0,pt){mt.color=0,mt.tint.topLeft=I,mt.tint.topRight=D,mt.tint.bottomLeft=L,mt.tint.bottomRight=F,mt.index=nt,mt.charCode=V,mt.x=lt,mt.y=ht,mt.scale=Q,mt.rotation=J,mt.data=U.data;var It=pt(mt);lt=It.x,ht=It.y,Q=It.scale,J=It.rotation,It.color?(I=It.color,D=It.color,L=It.color,F=It.color):(I=It.tint.topLeft,D=It.tint.topRight,L=It.tint.bottomLeft,F=It.tint.bottomRight),I=f.getTintAppendFloatAlpha(I,c.alpha*a._alphaTL),D=f.getTintAppendFloatAlpha(D,c.alpha*a._alphaTR),L=f.getTintAppendFloatAlpha(L,c.alpha*a._alphaBL),F=f.getTintAppendFloatAlpha(F,c.alpha*a._alphaBR)}lt*=Q,ht*=Q,lt-=a.displayOriginX,ht-=a.displayOriginY,lt+=it,w.applyITRS(lt,ht,J,Q,Q),E.multiply(w,x);var Vt=U.u0,At=U.v0,Rt=U.u1,$t=U.v1,fe=z,Nt=B,kt=x.e,_t=x.f,Le=Nt*x.c+x.e,cs=Nt*x.d+x.f,vs=fe*x.a+Nt*x.c+x.e,ps=fe*x.b+Nt*x.d+x.f,ms=fe*x.a+x.e,gs=fe*x.b+x.f;ct&&(kt=Math.round(kt),_t=Math.round(_t),Le=Math.round(Le),cs=Math.round(cs),vs=Math.round(vs),ps=Math.round(ps),ms=Math.round(ms),gs=Math.round(gs)),p.shouldFlush(6)&&(p.flush(),O=p.setGameObject(a)),p.batchQuad(a,kt,_t,Le,cs,vs,ps,ms,gs,Vt,At,Rt,$t,I,D,L,F,M,R,O)}}}C&&(p.flush(),s.popScissor()),s.pipelines.postBatch(a)}};h.exports=o},22186:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(45319),f=e(31401),l=e(95643),o=e(53048),s=e(61327),a=e(21859),c=e(87841),r=e(18658),d=new u({Extends:l,Mixins:[f.Alpha,f.BlendMode,f.Depth,f.GetBounds,f.Mask,f.Origin,f.Pipeline,f.PostPipeline,f.ScrollFactor,f.Texture,f.Tint,f.Transform,f.Visible,r],initialize:function(p,m,x,E,w,C,P){w===void 0&&(w=""),P===void 0&&(P=0),l.call(this,p,"BitmapText"),this.font=E;var R=this.scene.sys.cache.bitmapFont.get(E);if(!R)throw new Error("Invalid BitmapText key: "+E);this.fontData=R.data,this._text="",this._fontSize=C||this.fontData.size,this._letterSpacing=0,this._lineSpacing=0,this._align=P,this._bounds=o(),this._dirty=!0,this._maxWidth=0,this.wordWrapCharCode=32,this.charColors=[],this.dropShadowX=0,this.dropShadowY=0,this.dropShadowColor=0,this.dropShadowAlpha=.5,this.fromAtlas=R.fromAtlas,this.setTexture(R.texture,R.frame),this.setPosition(m,x),this.setOrigin(0,0),this.initPipeline(),this.initPostPipeline(),this.setText(w)},setLeftAlign:function(){return this._align=d.ALIGN_LEFT,this._dirty=!0,this},setCenterAlign:function(){return this._align=d.ALIGN_CENTER,this._dirty=!0,this},setRightAlign:function(){return this._align=d.ALIGN_RIGHT,this._dirty=!0,this},setFontSize:function(v){return this._fontSize=v,this._dirty=!0,this},setLetterSpacing:function(v){return v===void 0&&(v=0),this._letterSpacing=v,this._dirty=!0,this},setLineSpacing:function(v){return v===void 0&&(v=0),this.lineSpacing=v,this},setText:function(v){return!v&&v!==0&&(v=""),Array.isArray(v)&&(v=v.join(`
`)),v!==this.text&&(this._text=v.toString(),this._dirty=!0,this.updateDisplayOrigin()),this},setDropShadow:function(v,p,m,x){return v===void 0&&(v=0),p===void 0&&(p=0),m===void 0&&(m=0),x===void 0&&(x=.5),this.dropShadowX=v,this.dropShadowY=p,this.dropShadowColor=m,this.dropShadowAlpha=x,this},setCharacterTint:function(v,p,m,x,E,w,C){v===void 0&&(v=0),p===void 0&&(p=1),m===void 0&&(m=!1),x===void 0&&(x=-1),E===void 0&&(E=x,w=x,C=x);var P=this.text.length;p===-1&&(p=P),v<0&&(v=P+v),v=y(v,0,P-1);for(var R=y(v+p,v,P),M=this.charColors,I=v;I<R;I++){var D=M[I];if(x===-1)M[I]=null;else{var L=m?1:0;D?(D.tintEffect=L,D.tintTL=x,D.tintTR=E,D.tintBL=w,D.tintBR=C):M[I]={tintEffect:L,tintTL:x,tintTR:E,tintBL:w,tintBR:C}}}return this},setWordTint:function(v,p,m,x,E,w,C){p===void 0&&(p=1);for(var P=this.getTextBounds(),R=P.words,M=typeof v=="number",I=0,D=0;D<R.length;D++){var L=R[D];if((M&&D===v||!M&&L.word===v)&&(this.setCharacterTint(L.i,L.word.length,m,x,E,w,C),I++,I===p))return this}return this},getTextBounds:function(v){var p=this._bounds;return(this._dirty||v||this.scaleX!==p.scaleX||this.scaleY!==p.scaleY)&&(o(this,v,!0,p),this._dirty=!1),p},getCharacterAt:function(v,p,m){for(var x=this.getLocalPoint(v,p,null,m),E=this.getTextBounds(),w=E.characters,C=new c,P=0;P<w.length;P++){var R=w[P];if(C.setTo(R.x,R.t,R.r-R.x,R.b),C.contains(x.x,x.y))return R}return null},updateDisplayOrigin:function(){return this._dirty=!0,this.getTextBounds(!1),this},setFont:function(v,p,m){p===void 0&&(p=this._fontSize),m===void 0&&(m=this._align);var x=this.scene.sys.cache.bitmapFont.get(v);return x&&(this.font=v,this.fontData=x.data,this._fontSize=p,this._align=m,this.fromAtlas=x.fromAtlas===!0,this.setTexture(x.texture,x.frame),o(this,!1,!0,this._bounds)),this},setMaxWidth:function(v,p){return this._maxWidth=v,this._dirty=!0,p!==void 0&&(this.wordWrapCharCode=p),this},setDisplaySize:function(v,p){this.setScale(1,1),this.getTextBounds(!1);var m=v/this.width,x=p/this.height;return this.setScale(m,x),this},align:{set:function(v){this._align=v,this._dirty=!0},get:function(){return this._align}},text:{set:function(v){this.setText(v)},get:function(){return this._text}},fontSize:{set:function(v){this._fontSize=v,this._dirty=!0},get:function(){return this._fontSize}},letterSpacing:{set:function(v){this._letterSpacing=v,this._dirty=!0},get:function(){return this._letterSpacing}},lineSpacing:{set:function(v){this._lineSpacing=v,this._dirty=!0},get:function(){return this._lineSpacing}},maxWidth:{set:function(v){this._maxWidth=v,this._dirty=!0},get:function(){return this._maxWidth}},width:{get:function(){return this.getTextBounds(!1),this._bounds.global.width}},height:{get:function(){return this.getTextBounds(!1),this._bounds.global.height}},displayWidth:{set:function(v){this.setScaleX(1),this.getTextBounds(!1);var p=v/this.width;this.setScaleX(p)},get:function(){return this.width}},displayHeight:{set:function(v){this.setScaleY(1),this.getTextBounds(!1);var p=v/this.height;this.setScaleY(p)},get:function(){return this.height}},toJSON:function(){var v=f.ToJSON(this),p={font:this.font,text:this.text,fontSize:this.fontSize,letterSpacing:this.letterSpacing,lineSpacing:this.lineSpacing,align:this.align};return v.data=p,v},preDestroy:function(){this.charColors.length=0,this._bounds=null,this.fontData=null}});d.ALIGN_LEFT=0,d.ALIGN_CENTER=1,d.ALIGN_RIGHT=2,d.ParseFromAtlas=s,d.ParseXMLBitmapFont=a,h.exports=d},37289:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(20926),y=function(f,l,o,s){var a=l._text,c=a.length,r=f.currentContext;if(!(c===0||!u(f,r,l,o,s))){o.addToRenderList(l);var d=l.fromAtlas?l.frame:l.texture.frames.__BASE,v=l.fontData.chars,p=l.fontData.lineHeight,m=l._letterSpacing,x=l._lineSpacing,E=0,w=0,C=0,P=null,R=0,M=0,I=0,D=0,L=0,F=0,O=null,N=0,b=d.source.image,V=d.cutX,Y=d.cutY,W=l._fontSize/l.fontData.size,U=l._align,z=0,B=0,X=l.getTextBounds(!1);l.maxWidth>0&&(a=X.wrappedText,c=a.length);var G=l._bounds.lines;U===1?B=(G.longest-G.lengths[0])/2:U===2&&(B=G.longest-G.lengths[0]),r.translate(-l.displayOriginX,-l.displayOriginY);for(var H=o.roundPixels,$=0;$<c;$++){if(C=a.charCodeAt($),C===10){z++,U===1?B=(G.longest-G.lengths[z])/2:U===2&&(B=G.longest-G.lengths[z]),E=0,w+=p+x,O=null;continue}if(P=v[C],!!P){if(R=V+P.x,M=Y+P.y,I=P.width,D=P.height,L=P.xOffset+E,F=P.yOffset+w,O!==null){var k=P.kerning[N];L+=k!==void 0?k:0}L*=W,F*=W,L+=B,E+=P.xAdvance+m+(k!==void 0?k:0),O=P,N=C,!(I===0||D===0||C===32)&&(H&&(L=Math.round(L),F=Math.round(F)),r.save(),r.translate(L,F),r.scale(W,W),r.drawImage(b,R,M,I,D,0,0,I,D),r.restore())}}r.restore()}};h.exports=y},57336:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(22186),y=e(25305),f=e(44603),l=e(23568),o=e(35154);f.register("bitmapText",function(s,a){s===void 0&&(s={});var c=o(s,"font",""),r=l(s,"text",""),d=l(s,"size",!1),v=o(s,"align",0),p=new u(this.scene,0,0,c,r,d,v);return a!==void 0&&(s.add=a),y(this.scene,p,s),p})},34914:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(22186),y=e(39429);y.register("bitmapText",function(f,l,o,s,a,c){return this.displayList.add(new u(this.scene,f,l,o,s,a,c))})},18658:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(29747),y=u,f=u;y=e(33590),f=e(37289),h.exports={renderWebGL:y,renderCanvas:f}},33590:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(3217),y=e(91296),f=e(70554),l=function(o,s,a,c){var r=s._text,d=r.length;if(d!==0){a.addToRenderList(s);var v=o.pipelines.set(s.pipeline,s),p=y(s,a,c).calc;o.pipelines.preBatch(s);var m=a.roundPixels,x=a.alpha,E=s.charColors,w=s.tintFill,C=f.getTintAppendFloatAlpha,P=C(s.tintTopLeft,x*s._alphaTL),R=C(s.tintTopRight,x*s._alphaTR),M=C(s.tintBottomLeft,x*s._alphaBL),I=C(s.tintBottomRight,x*s._alphaBR),D=s.frame.glTexture,L=v.setGameObject(s),F=s.getTextBounds(!1),O,N,b,V=F.characters,Y=s.dropShadowX,W=s.dropShadowY,U=Y!==0||W!==0;if(U){var z=s.dropShadowColor,B=s.dropShadowAlpha,X=C(z,x*B*s._alphaTL),G=C(z,x*B*s._alphaTR),H=C(z,x*B*s._alphaBL),$=C(z,x*B*s._alphaBR);for(O=0;O<V.length;O++)N=V[O],b=N.glyph,!(N.code===32||b.width===0||b.height===0)&&u(v,s,N,b,Y,W,p,m,X,G,H,$,1,D,L)}for(O=0;O<V.length;O++)if(N=V[O],b=N.glyph,!(N.code===32||b.width===0||b.height===0))if(v.shouldFlush(6)&&(v.flush(),L=v.setGameObject(s)),E[N.i]){var k=E[N.i],j=k.tintEffect,Q=C(k.tintTL,x*s._alphaTL),J=C(k.tintTR,x*s._alphaTR),q=C(k.tintBL,x*s._alphaBL),Z=C(k.tintBR,x*s._alphaBR);u(v,s,N,b,0,0,p,m,Q,J,q,Z,j,D,L)}else u(v,s,N,b,0,0,p,m,P,R,M,I,w,D,L);o.pipelines.postBatch(s)}};h.exports=l},6107:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(48011),y=e(46590),f=e(83419),l=e(31401),o=e(4327),s=e(95643),a=e(73162),c=new f({Extends:s,Mixins:[l.Alpha,l.BlendMode,l.Depth,l.Mask,l.Pipeline,l.PostPipeline,l.ScrollFactor,l.Size,l.Texture,l.Transform,l.Visible,u],initialize:function(d,v,p,m,x){s.call(this,d,"Blitter"),this.setTexture(m,x),this.setPosition(v,p),this.initPipeline(),this.initPostPipeline(),this.children=new a,this.renderList=[],this.dirty=!1},create:function(r,d,v,p,m){p===void 0&&(p=!0),m===void 0&&(m=this.children.length),v===void 0?v=this.frame:v instanceof o||(v=this.texture.get(v));var x=new y(this,r,d,v,p);return this.children.addAt(x,m,!1),this.dirty=!0,x},createFromCallback:function(r,d,v,p){for(var m=this.createMultiple(d,v,p),x=0;x<m.length;x++){var E=m[x];r.call(this,E,x)}return m},createMultiple:function(r,d,v){d===void 0&&(d=this.frame.name),v===void 0&&(v=!0),Array.isArray(d)||(d=[d]);var p=[],m=this;return d.forEach(function(x){for(var E=0;E<r;E++)p.push(m.create(0,0,x,v))}),p},childCanRender:function(r){return r.visible&&r.alpha>0},getRenderList:function(){return this.dirty&&(this.renderList=this.children.list.filter(this.childCanRender,this),this.dirty=!1),this.renderList},clear:function(){this.children.removeAll(),this.dirty=!0},preDestroy:function(){this.children.destroy(),this.renderList=[]}});h.exports=c},72396:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u,y,f){var l=u.getRenderList();if(l.length!==0){var o=e.currentContext,s=y.alpha*u.alpha;if(s!==0){y.addToRenderList(u),o.globalCompositeOperation=e.blendModes[u.blendMode],o.imageSmoothingEnabled=!u.frame.source.scaleMode;var a=u.x-y.scrollX*u.scrollFactorX,c=u.y-y.scrollY*u.scrollFactorY;o.save(),f&&f.copyToContext(o);for(var r=y.roundPixels,d=0;d<l.length;d++){var v=l[d],p=v.flipX||v.flipY,m=v.frame,x=m.canvasData,E=m.x,w=m.y,C=1,P=1,R=v.alpha*s;R!==0&&(o.globalAlpha=R,p?(v.flipX&&(C=-1,E-=x.width),v.flipY&&(P=-1,w-=x.height),x.width>0&&x.height>0&&(o.save(),o.translate(v.x+a,v.y+c),o.scale(C,P),o.drawImage(m.source.image,x.x,x.y,x.width,x.height,E,w,x.width,x.height),o.restore())):(r&&(E=Math.round(E),w=Math.round(w)),x.width>0&&x.height>0&&o.drawImage(m.source.image,x.x,x.y,x.width,x.height,E+v.x+a,w+v.y+c,x.width,x.height)))}o.restore()}}};h.exports=S},9403:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(6107),y=e(25305),f=e(44603),l=e(23568);f.register("blitter",function(o,s){o===void 0&&(o={});var a=l(o,"key",null),c=l(o,"frame",null),r=new u(this.scene,0,0,a,c);return s!==void 0&&(o.add=s),y(this.scene,r,o),r})},12709:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(6107),y=e(39429);y.register("blitter",function(f,l,o,s){return this.displayList.add(new u(this.scene,f,l,o,s))})},48011:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(29747),y=u,f=u;y=e(99485),f=e(72396),h.exports={renderWebGL:y,renderCanvas:f}},99485:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(61340),y=e(70554),f=new u,l=function(o,s,a,c){var r=s.getRenderList(),d=a.alpha*s.alpha;if(!(r.length===0||d===0)){a.addToRenderList(s);var v=o.pipelines.set(this.pipeline,s),p=a.scrollX*s.scrollFactorX,m=a.scrollY*s.scrollFactorY,x=f.copyFrom(a.matrix);c&&(x.multiplyWithOffset(c,-p,-m),p=0,m=0);var E=s.x-p,w=s.y-m,C=-1,P=!1,R=a.roundPixels;o.pipelines.preBatch(s);for(var M=0;M<r.length;M++){var I=r[M],D=I.frame,L=I.alpha*d;if(L!==0){var F=D.width,O=D.height,N=E+I.x+D.x,b=w+I.y+D.y;I.flipX&&(F*=-1,N+=D.width),I.flipY&&(O*=-1,b+=D.height);var V=x.setQuad(N,b,N+F,b+O,R),Y=y.getTintAppendFloatAlpha(I.tint,L);if(D.sourceIndex!==C){var W=v.setGameObject(s,D);C=D.sourceIndex}v.batchQuad(s,V[0],V[1],V[2],V[3],V[4],V[5],V[6],V[7],D.u0,D.v0,D.u1,D.v1,Y,Y,Y,Y,P,D.glTexture,W)&&(C=-1)}}o.pipelines.postBatch(s)}};h.exports=l},46590:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(4327),f=new u({initialize:function(o,s,a,c,r){this.parent=o,this.x=s,this.y=a,this.frame=c,this.data={},this.tint=16777215,this._visible=r,this._alpha=1,this.flipX=!1,this.flipY=!1,this.hasTransformComponent=!0},setFrame:function(l){return l===void 0?this.frame=this.parent.frame:l instanceof y&&l.texture===this.parent.texture?this.frame=l:this.frame=this.parent.texture.get(l),this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this},reset:function(l,o,s){return this.x=l,this.y=o,this.flipX=!1,this.flipY=!1,this._alpha=1,this._visible=!0,this.parent.dirty=!0,s&&this.setFrame(s),this},setPosition:function(l,o){return this.x=l,this.y=o,this},setFlipX:function(l){return this.flipX=l,this},setFlipY:function(l){return this.flipY=l,this},setFlip:function(l,o){return this.flipX=l,this.flipY=o,this},setVisible:function(l){return this.visible=l,this},setAlpha:function(l){return this.alpha=l,this},setTint:function(l){return this.tint=l,this},destroy:function(){this.parent.dirty=!0,this.parent.children.remove(this),this.parent=void 0,this.frame=void 0,this.data=void 0},visible:{get:function(){return this._visible},set:function(l){this.parent.dirty|=this._visible!==l,this._visible=l}},alpha:{get:function(){return this._alpha},set:function(l){this.parent.dirty|=this._alpha>0!=l>0,this._alpha=l}}});h.exports=f},16005:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(45319),y=2,f={_alpha:1,_alphaTL:1,_alphaTR:1,_alphaBL:1,_alphaBR:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(l,o,s,a){return l===void 0&&(l=1),o===void 0?this.alpha=l:(this._alphaTL=u(l,0,1),this._alphaTR=u(o,0,1),this._alphaBL=u(s,0,1),this._alphaBR=u(a,0,1)),this},alpha:{get:function(){return this._alpha},set:function(l){var o=u(l,0,1);this._alpha=o,this._alphaTL=o,this._alphaTR=o,this._alphaBL=o,this._alphaBR=o,o===0?this.renderFlags&=~y:this.renderFlags|=y}},alphaTopLeft:{get:function(){return this._alphaTL},set:function(l){var o=u(l,0,1);this._alphaTL=o,o!==0&&(this.renderFlags|=y)}},alphaTopRight:{get:function(){return this._alphaTR},set:function(l){var o=u(l,0,1);this._alphaTR=o,o!==0&&(this.renderFlags|=y)}},alphaBottomLeft:{get:function(){return this._alphaBL},set:function(l){var o=u(l,0,1);this._alphaBL=o,o!==0&&(this.renderFlags|=y)}},alphaBottomRight:{get:function(){return this._alphaBR},set:function(l){var o=u(l,0,1);this._alphaBR=o,o!==0&&(this.renderFlags|=y)}}};h.exports=f},88509:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(45319),y=2,f={_alpha:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(l){return l===void 0&&(l=1),this.alpha=l,this},alpha:{get:function(){return this._alpha},set:function(l){var o=u(l,0,1);this._alpha=o,o===0?this.renderFlags&=~y:this.renderFlags|=y}}};h.exports=f},90065:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(10312),y={_blendMode:u.NORMAL,blendMode:{get:function(){return this._blendMode},set:function(f){typeof f=="string"&&(f=u[f]),f|=0,f>=-1&&(this._blendMode=f)}},setBlendMode:function(f){return this.blendMode=f,this}};h.exports=y},94215:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={width:0,height:0,displayWidth:{get:function(){return this.scaleX*this.width},set:function(e){this.scaleX=e/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(e){this.scaleY=e/this.height}},setSize:function(e,u){return this.width=e,this.height=u,this},setDisplaySize:function(e,u){return this.displayWidth=e,this.displayHeight=u,this}};h.exports=S},61683:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={texture:null,frame:null,isCropped:!1,setCrop:function(e,u,y,f){if(e===void 0)this.isCropped=!1;else if(this.frame){if(typeof e=="number")this.frame.setCropUVs(this._crop,e,u,y,f,this.flipX,this.flipY);else{var l=e;this.frame.setCropUVs(this._crop,l.x,l.y,l.width,l.height,this.flipX,this.flipY)}this.isCropped=!0}return this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}};h.exports=S},89272:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(37105),y={_depth:0,depth:{get:function(){return this._depth},set:function(f){this.displayList&&this.displayList.queueDepthSort(),this._depth=f}},setDepth:function(f){return f===void 0&&(f=0),this.depth=f,this},setToTop:function(){var f=this.getDisplayList();return f&&u.BringToTop(f,this),this},setToBack:function(){var f=this.getDisplayList();return f&&u.SendToBack(f,this),this},setAbove:function(f){var l=this.getDisplayList();return l&&f&&u.MoveAbove(l,this,f),this},setBelow:function(f){var l=this.getDisplayList();return l&&f&&u.MoveBelow(l,this,f),this}};h.exports=y},47059:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(66064),f=e(19133),l=new u({initialize:function(s,a){this.gameObject=s,this.isPost=a,this.enabled=!1,this.list=[],this.padding=0},setPadding:function(o){return o===void 0&&(o=0),this.padding=o,this.gameObject},onFXCopy:function(){},onFX:function(){},enable:function(o){if(!this.isPost){var s=this.gameObject.scene.sys.renderer;s&&s.pipelines?(this.gameObject.pipeline=s.pipelines.FX_PIPELINE,o!==void 0&&(this.padding=o),this.enabled=!0):this.enabled=!1}},clear:function(){if(this.isPost)this.gameObject.resetPostPipeline(!0);else{for(var o=this.list,s=0;s<o.length;s++)o[s].destroy();this.list=[]}return this.enabled=!1,this.gameObject},remove:function(o){var s;if(this.isPost){var a=this.gameObject.getPostPipeline(String(o.type));for(Array.isArray(a)||(a=[a]),s=0;s<a.length;s++){var c=a[s];if(c.controller===o){this.gameObject.removePostPipeline(c),o.destroy();break}}}else{var r=this.list;for(s=0;s<r.length;s++)r[s]===o&&(f(r,s),o.destroy())}return this.gameObject},disable:function(o){return o===void 0&&(o=!1),this.isPost||this.gameObject.resetPipeline(),this.enabled=!1,o&&this.clear(),this.gameObject},add:function(o,s){if(this.isPost){var a=String(o.type);this.gameObject.setPostPipeline(a,s);var c=this.gameObject.getPostPipeline(a);if(c)return Array.isArray(c)&&(c=c.pop()),c&&(c.controller=o),o}else return this.enabled||this.enable(),this.list.push(o),o},addGlow:function(o,s,a,c,r,d){return this.add(new y.Glow(this.gameObject,o,s,a,c),{quality:r,distance:d})},addShadow:function(o,s,a,c,r,d,v){return this.add(new y.Shadow(this.gameObject,o,s,a,c,r,d,v))},addPixelate:function(o){return this.add(new y.Pixelate(this.gameObject,o))},addVignette:function(o,s,a,c){return this.add(new y.Vignette(this.gameObject,o,s,a,c))},addShine:function(o,s,a,c){return this.add(new y.Shine(this.gameObject,o,s,a,c))},addBlur:function(o,s,a,c,r,d){return this.add(new y.Blur(this.gameObject,o,s,a,c,r,d))},addGradient:function(o,s,a,c,r,d,v,p){return this.add(new y.Gradient(this.gameObject,o,s,a,c,r,d,v,p))},addBloom:function(o,s,a,c,r,d){return this.add(new y.Bloom(this.gameObject,o,s,a,c,r,d))},addColorMatrix:function(){return this.add(new y.ColorMatrix(this.gameObject))},addCircle:function(o,s,a,c,r){return this.add(new y.Circle(this.gameObject,o,s,a,c,r))},addBarrel:function(o){return this.add(new y.Barrel(this.gameObject,o))},addDisplacement:function(o,s,a){return this.add(new y.Displacement(this.gameObject,o,s,a))},addWipe:function(o,s,a){return this.add(new y.Wipe(this.gameObject,o,s,a))},addReveal:function(o,s,a){return this.add(new y.Wipe(this.gameObject,o,s,a,!0))},addBokeh:function(o,s,a){return this.add(new y.Bokeh(this.gameObject,o,s,a))},addTiltShift:function(o,s,a,c,r,d){return this.add(new y.Bokeh(this.gameObject,o,s,a,!0,c,r,d))},destroy:function(){this.clear(),this.gameObject=null}});h.exports=l},54434:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={flipX:!1,flipY:!1,toggleFlipX:function(){return this.flipX=!this.flipX,this},toggleFlipY:function(){return this.flipY=!this.flipY,this},setFlipX:function(e){return this.flipX=e,this},setFlipY:function(e){return this.flipY=e,this},setFlip:function(e,u){return this.flipX=e,this.flipY=u,this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this}};h.exports=S},8004:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(87841),y=e(11520),f=e(26099),l={prepareBoundsOutput:function(o,s){if(s===void 0&&(s=!1),this.rotation!==0&&y(o,this.x,this.y,this.rotation),s&&this.parentContainer){var a=this.parentContainer.getBoundsTransformMatrix();a.transformPoint(o.x,o.y,o)}return o},getCenter:function(o,s){return o===void 0&&(o=new f),o.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,o.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(o,s)},getTopLeft:function(o,s){return o||(o=new f),o.x=this.x-this.displayWidth*this.originX,o.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(o,s)},getTopCenter:function(o,s){return o||(o=new f),o.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,o.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(o,s)},getTopRight:function(o,s){return o||(o=new f),o.x=this.x-this.displayWidth*this.originX+this.displayWidth,o.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(o,s)},getLeftCenter:function(o,s){return o||(o=new f),o.x=this.x-this.displayWidth*this.originX,o.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(o,s)},getRightCenter:function(o,s){return o||(o=new f),o.x=this.x-this.displayWidth*this.originX+this.displayWidth,o.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(o,s)},getBottomLeft:function(o,s){return o||(o=new f),o.x=this.x-this.displayWidth*this.originX,o.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(o,s)},getBottomCenter:function(o,s){return o||(o=new f),o.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,o.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(o,s)},getBottomRight:function(o,s){return o||(o=new f),o.x=this.x-this.displayWidth*this.originX+this.displayWidth,o.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(o,s)},getBounds:function(o){o===void 0&&(o=new u);var s,a,c,r,d,v,p,m;if(this.parentContainer){var x=this.parentContainer.getBoundsTransformMatrix();this.getTopLeft(o),x.transformPoint(o.x,o.y,o),s=o.x,a=o.y,this.getTopRight(o),x.transformPoint(o.x,o.y,o),c=o.x,r=o.y,this.getBottomLeft(o),x.transformPoint(o.x,o.y,o),d=o.x,v=o.y,this.getBottomRight(o),x.transformPoint(o.x,o.y,o),p=o.x,m=o.y}else this.getTopLeft(o),s=o.x,a=o.y,this.getTopRight(o),c=o.x,r=o.y,this.getBottomLeft(o),d=o.x,v=o.y,this.getBottomRight(o),p=o.x,m=o.y;return o.x=Math.min(s,c,d,p),o.y=Math.min(a,r,v,m),o.width=Math.max(s,c,d,p)-o.x,o.height=Math.max(a,r,v,m)-o.y,o}};h.exports=l},8573:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(6858),y=e(80661),f={mask:null,setMask:function(l){return this.mask=l,this},clearMask:function(l){return l===void 0&&(l=!1),l&&this.mask&&this.mask.destroy(),this.mask=null,this},createBitmapMask:function(l,o,s,a,c){return l===void 0&&(this.texture||this.shader||this.geom)&&(l=this),new u(this.scene,l,o,s,a,c)},createGeometryMask:function(l){return l===void 0&&(this.type==="Graphics"||this.geom)&&(l=this),new y(this.scene,l)}};h.exports=f},27387:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={_originComponent:!0,originX:.5,originY:.5,_displayOriginX:0,_displayOriginY:0,displayOriginX:{get:function(){return this._displayOriginX},set:function(e){this._displayOriginX=e,this.originX=e/this.width}},displayOriginY:{get:function(){return this._displayOriginY},set:function(e){this._displayOriginY=e,this.originY=e/this.height}},setOrigin:function(e,u){return e===void 0&&(e=.5),u===void 0&&(u=e),this.originX=e,this.originY=u,this.updateDisplayOrigin()},setOriginFromFrame:function(){return!this.frame||!this.frame.customPivot?this.setOrigin():(this.originX=this.frame.pivotX,this.originY=this.frame.pivotY,this.updateDisplayOrigin())},setDisplayOrigin:function(e,u){return e===void 0&&(e=0),u===void 0&&(u=e),this.displayOriginX=e,this.displayOriginY=u,this},updateDisplayOrigin:function(){return this._displayOriginX=this.originX*this.width,this._displayOriginY=this.originY*this.height,this}};h.exports=S},37640:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(39506),y=e(57355),f=e(35154),l=e(86353),o=e(26099),s={path:null,rotateToPath:!1,pathRotationOffset:0,pathOffset:null,pathVector:null,pathDelta:null,pathTween:null,pathConfig:null,_prevDirection:l.PLAYING_FORWARD,setPath:function(a,c){c===void 0&&(c=this.pathConfig);var r=this.pathTween;return r&&r.isPlaying()&&r.stop(),this.path=a,c&&this.startFollow(c),this},setRotateToPath:function(a,c){return c===void 0&&(c=0),this.rotateToPath=a,this.pathRotationOffset=c,this},isFollowing:function(){var a=this.pathTween;return a&&a.isPlaying()},startFollow:function(a,c){a===void 0&&(a={}),c===void 0&&(c=0);var r=this.pathTween;r&&r.isPlaying()&&r.stop(),typeof a=="number"&&(a={duration:a}),a.from=f(a,"from",0),a.to=f(a,"to",1);var d=y(a,"positionOnPath",!1);this.rotateToPath=y(a,"rotateToPath",!1),this.pathRotationOffset=f(a,"rotationOffset",0);var v=f(a,"startAt",c);if(v&&(a.onStart=function(m){var x=m.data[0];x.progress=v,x.elapsed=x.duration*v;var E=x.ease(x.progress);x.current=x.start+(x.end-x.start)*E,x.setTargetValue()}),this.pathOffset||(this.pathOffset=new o(this.x,this.y)),this.pathVector||(this.pathVector=new o),this.pathDelta||(this.pathDelta=new o),this.pathDelta.reset(),a.persist=!0,this.pathTween=this.scene.sys.tweens.addCounter(a),this.path.getStartPoint(this.pathOffset),d&&(this.x=this.pathOffset.x,this.y=this.pathOffset.y),this.pathOffset.x=this.x-this.pathOffset.x,this.pathOffset.y=this.y-this.pathOffset.y,this._prevDirection=l.PLAYING_FORWARD,this.rotateToPath){var p=this.path.getPoint(.1);this.rotation=Math.atan2(p.y-this.y,p.x-this.x)+u(this.pathRotationOffset)}return this.pathConfig=a,this},pauseFollow:function(){var a=this.pathTween;return a&&a.isPlaying()&&a.pause(),this},resumeFollow:function(){var a=this.pathTween;return a&&a.isPaused()&&a.resume(),this},stopFollow:function(){var a=this.pathTween;return a&&a.isPlaying()&&a.stop(),this},pathUpdate:function(){var a=this.pathTween;if(a&&a.data){var c=a.data[0],r=this.pathDelta,d=this.pathVector;if(r.copy(d).negate(),c.state===l.COMPLETE){this.path.getPoint(c.end,d),r.add(d),d.add(this.pathOffset),this.setPosition(d.x,d.y);return}else if(c.state!==l.PLAYING_FORWARD&&c.state!==l.PLAYING_BACKWARD)return;this.path.getPoint(a.getValue(),d),r.add(d),d.add(this.pathOffset);var v=this.x,p=this.y;this.setPosition(d.x,d.y);var m=this.x-v,x=this.y-p;if(m===0&&x===0)return;if(c.state!==this._prevDirection){this._prevDirection=c.state;return}this.rotateToPath&&(this.rotation=Math.atan2(x,m)+u(this.pathRotationOffset))}}};h.exports=s},72699:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(62644),y={defaultPipeline:null,pipeline:null,pipelineData:null,initPipeline:function(f){this.pipelineData={};var l=this.scene.sys.renderer;if(!l)return!1;var o=l.pipelines;if(o){f===void 0&&(f=o.default);var s=o.get(f);if(s)return this.defaultPipeline=s,this.pipeline=s,!0}return!1},setPipeline:function(f,l,o){var s=this.scene.sys.renderer;if(!s)return this;var a=s.pipelines;if(a){var c=a.get(f);c&&(this.pipeline=c),l&&(this.pipelineData=o?u(l):l)}return this},setPipelineData:function(f,l){var o=this.pipelineData;return l===void 0?delete o[f]:o[f]=l,this},resetPipeline:function(f){return f===void 0&&(f=!1),this.pipeline=this.defaultPipeline,f&&(this.pipelineData={}),this.pipeline!==null},getPipelineName:function(){return this.pipeline===null?null:this.pipeline.name}};h.exports=y},17581:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(62644),y=e(47059),f=e(19133),l={hasPostPipeline:!1,postPipelines:null,postPipelineData:null,preFX:null,postFX:null,initPostPipeline:function(o){this.postPipelines=[],this.postPipelineData={},this.postFX=new y(this,!0),o&&(this.preFX=new y(this,!1))},setPostPipeline:function(o,s,a){var c=this.scene.sys.renderer;if(!c)return this;var r=c.pipelines;if(r){Array.isArray(o)||(o=[o]);for(var d=0;d<o.length;d++){var v=r.getPostPipeline(o[d],this,s);v&&this.postPipelines.push(v)}s&&(this.postPipelineData=a?u(s):s)}return this.hasPostPipeline=this.postPipelines.length>0,this},setPostPipelineData:function(o,s){var a=this.postPipelineData;return s===void 0?delete a[o]:a[o]=s,this},getPostPipeline:function(o){for(var s=typeof o=="string",a=this.postPipelines,c=[],r=0;r<a.length;r++){var d=a[r];(s&&d.name===o||!s&&d instanceof o)&&c.push(d)}return c.length===1?c[0]:c},resetPostPipeline:function(o){o===void 0&&(o=!1);for(var s=this.postPipelines,a=0;a<s.length;a++)s[a].destroy();this.postPipelines=[],this.hasPostPipeline=!1,o&&(this.postPipelineData={})},removePostPipeline:function(o){for(var s=typeof o=="string",a=this.postPipelines,c=a.length-1;c>=0;c--){var r=a[c];(s&&r.name===o||!s&&r===o)&&(r.destroy(),f(a,c))}return this.hasPostPipeline=this.postPipelines.length>0,this},clearFX:function(){return this.preFX&&this.preFX.clear(),this.postFX&&this.postFX.clear(),this}};h.exports=l},80227:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={scrollFactorX:1,scrollFactorY:1,setScrollFactor:function(e,u){return u===void 0&&(u=e),this.scrollFactorX=e,this.scrollFactorY=u,this}};h.exports=S},16736:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={_sizeComponent:!0,width:0,height:0,displayWidth:{get:function(){return Math.abs(this.scaleX*this.frame.realWidth)},set:function(e){this.scaleX=e/this.frame.realWidth}},displayHeight:{get:function(){return Math.abs(this.scaleY*this.frame.realHeight)},set:function(e){this.scaleY=e/this.frame.realHeight}},setSizeToFrame:function(e){e||(e=this.frame),this.width=e.realWidth,this.height=e.realHeight;var u=this.input;return u&&!u.customHitArea&&(u.hitArea.width=this.width,u.hitArea.height=this.height),this},setSize:function(e,u){return this.width=e,this.height=u,this},setDisplaySize:function(e,u){return this.displayWidth=e,this.displayHeight=u,this}};h.exports=S},37726:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(4327),y=8,f={texture:null,frame:null,isCropped:!1,setTexture:function(l,o,s,a){return this.texture=this.scene.sys.textures.get(l),this.setFrame(o,s,a)},setFrame:function(l,o,s){return o===void 0&&(o=!0),s===void 0&&(s=!0),l instanceof u?(this.texture=this.scene.sys.textures.get(l.texture.key),this.frame=l):this.frame=this.texture.get(l),!this.frame.cutWidth||!this.frame.cutHeight?this.renderFlags&=~y:this.renderFlags|=y,this._sizeComponent&&o&&this.setSizeToFrame(),this._originComponent&&s&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this}};h.exports=f},79812:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(4327),y=8,f={texture:null,frame:null,isCropped:!1,setCrop:function(l,o,s,a){if(l===void 0)this.isCropped=!1;else if(this.frame){if(typeof l=="number")this.frame.setCropUVs(this._crop,l,o,s,a,this.flipX,this.flipY);else{var c=l;this.frame.setCropUVs(this._crop,c.x,c.y,c.width,c.height,this.flipX,this.flipY)}this.isCropped=!0}return this},setTexture:function(l,o){return this.texture=this.scene.sys.textures.get(l),this.setFrame(o)},setFrame:function(l,o,s){return o===void 0&&(o=!0),s===void 0&&(s=!0),l instanceof u?(this.texture=this.scene.sys.textures.get(l.texture.key),this.frame=l):this.frame=this.texture.get(l),!this.frame.cutWidth||!this.frame.cutHeight?this.renderFlags&=~y:this.renderFlags|=y,this._sizeComponent&&o&&this.setSizeToFrame(),this._originComponent&&s&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this.isCropped&&this.frame.updateCropUVs(this._crop,this.flipX,this.flipY),this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}};h.exports=f},27472:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={tintTopLeft:16777215,tintTopRight:16777215,tintBottomLeft:16777215,tintBottomRight:16777215,tintFill:!1,clearTint:function(){return this.setTint(16777215),this},setTint:function(e,u,y,f){return e===void 0&&(e=16777215),u===void 0&&(u=e,y=e,f=e),this.tintTopLeft=e,this.tintTopRight=u,this.tintBottomLeft=y,this.tintBottomRight=f,this.tintFill=!1,this},setTintFill:function(e,u,y,f){return this.setTint(e,u,y,f),this.tintFill=!0,this},tint:{get:function(){return this.tintTopLeft},set:function(e){this.setTint(e,e,e,e)}},isTinted:{get:function(){var e=16777215;return this.tintFill||this.tintTopLeft!==e||this.tintTopRight!==e||this.tintBottomLeft!==e||this.tintBottomRight!==e}}};h.exports=S},53774:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e){var u={name:e.name,type:e.type,x:e.x,y:e.y,depth:e.depth,scale:{x:e.scaleX,y:e.scaleY},origin:{x:e.originX,y:e.originY},flipX:e.flipX,flipY:e.flipY,rotation:e.rotation,alpha:e.alpha,visible:e.visible,blendMode:e.blendMode,textureKey:"",frameKey:"",data:{}};return e.texture&&(u.textureKey=e.texture.key,u.frameKey=e.frame.name),u};h.exports=S},16901:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(36383),y=e(61340),f=e(85955),l=e(86554),o=e(30954),s=e(26099),a=4,c={hasTransformComponent:!0,_scaleX:1,_scaleY:1,_rotation:0,x:0,y:0,z:0,w:0,scale:{get:function(){return(this._scaleX+this._scaleY)/2},set:function(r){this._scaleX=r,this._scaleY=r,r===0?this.renderFlags&=~a:this.renderFlags|=a}},scaleX:{get:function(){return this._scaleX},set:function(r){this._scaleX=r,r===0?this.renderFlags&=~a:this._scaleY!==0&&(this.renderFlags|=a)}},scaleY:{get:function(){return this._scaleY},set:function(r){this._scaleY=r,r===0?this.renderFlags&=~a:this._scaleX!==0&&(this.renderFlags|=a)}},angle:{get:function(){return o(this._rotation*u.RAD_TO_DEG)},set:function(r){this.rotation=o(r)*u.DEG_TO_RAD}},rotation:{get:function(){return this._rotation},set:function(r){this._rotation=l(r)}},setPosition:function(r,d,v,p){return r===void 0&&(r=0),d===void 0&&(d=r),v===void 0&&(v=0),p===void 0&&(p=0),this.x=r,this.y=d,this.z=v,this.w=p,this},copyPosition:function(r){return r.x!==void 0&&(this.x=r.x),r.y!==void 0&&(this.y=r.y),r.z!==void 0&&(this.z=r.z),r.w!==void 0&&(this.w=r.w),this},setRandomPosition:function(r,d,v,p){return r===void 0&&(r=0),d===void 0&&(d=0),v===void 0&&(v=this.scene.sys.scale.width),p===void 0&&(p=this.scene.sys.scale.height),this.x=r+Math.random()*v,this.y=d+Math.random()*p,this},setRotation:function(r){return r===void 0&&(r=0),this.rotation=r,this},setAngle:function(r){return r===void 0&&(r=0),this.angle=r,this},setScale:function(r,d){return r===void 0&&(r=1),d===void 0&&(d=r),this.scaleX=r,this.scaleY=d,this},setX:function(r){return r===void 0&&(r=0),this.x=r,this},setY:function(r){return r===void 0&&(r=0),this.y=r,this},setZ:function(r){return r===void 0&&(r=0),this.z=r,this},setW:function(r){return r===void 0&&(r=0),this.w=r,this},getLocalTransformMatrix:function(r){return r===void 0&&(r=new y),r.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY)},getWorldTransformMatrix:function(r,d){r===void 0&&(r=new y);var v=this.parentContainer;if(!v)return this.getLocalTransformMatrix(r);var p=!1;for(d||(d=new y,p=!0),r.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY);v;)d.applyITRS(v.x,v.y,v._rotation,v._scaleX,v._scaleY),d.multiply(r,r),v=v.parentContainer;return p&&d.destroy(),r},getLocalPoint:function(r,d,v,p){v||(v=new s),p||(p=this.scene.sys.cameras.main);var m=p.scrollX,x=p.scrollY,E=r+m*this.scrollFactorX-m,w=d+x*this.scrollFactorY-x;return this.parentContainer?this.getWorldTransformMatrix().applyInverse(E,w,v):f(E,w,this.x,this.y,this.rotation,this.scaleX,this.scaleY,v),this._originComponent&&(v.x+=this._displayOriginX,v.y+=this._displayOriginY),v},getWorldPoint:function(r,d,v){r===void 0&&(r=new s);var p=this.parentContainer;if(!p)return r.x=this.x,r.y=this.y,r;var m=this.getWorldTransformMatrix(d,v);return r.x=m.tx,r.y=m.ty,r},getParentRotation:function(){for(var r=0,d=this.parentContainer;d;)r+=d.rotation,d=d.parentContainer;return r}};h.exports=c},61340:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(36383),f=e(26099),l=new u({initialize:function(s,a,c,r,d,v){s===void 0&&(s=1),a===void 0&&(a=0),c===void 0&&(c=0),r===void 0&&(r=1),d===void 0&&(d=0),v===void 0&&(v=0),this.matrix=new Float32Array([s,a,c,r,d,v,0,0,1]),this.decomposedMatrix={translateX:0,translateY:0,scaleX:1,scaleY:1,rotation:0},this.quad=new Float32Array(8)},a:{get:function(){return this.matrix[0]},set:function(o){this.matrix[0]=o}},b:{get:function(){return this.matrix[1]},set:function(o){this.matrix[1]=o}},c:{get:function(){return this.matrix[2]},set:function(o){this.matrix[2]=o}},d:{get:function(){return this.matrix[3]},set:function(o){this.matrix[3]=o}},e:{get:function(){return this.matrix[4]},set:function(o){this.matrix[4]=o}},f:{get:function(){return this.matrix[5]},set:function(o){this.matrix[5]=o}},tx:{get:function(){return this.matrix[4]},set:function(o){this.matrix[4]=o}},ty:{get:function(){return this.matrix[5]},set:function(o){this.matrix[5]=o}},rotation:{get:function(){return Math.acos(this.a/this.scaleX)*(Math.atan(-this.c/this.a)<0?-1:1)}},rotationNormalized:{get:function(){var o=this.matrix,s=o[0],a=o[1],c=o[2],r=o[3];return s||a?a>0?Math.acos(s/this.scaleX):-Math.acos(s/this.scaleX):c||r?y.TAU-(r>0?Math.acos(-c/this.scaleY):-Math.acos(c/this.scaleY)):0}},scaleX:{get:function(){return Math.sqrt(this.a*this.a+this.b*this.b)}},scaleY:{get:function(){return Math.sqrt(this.c*this.c+this.d*this.d)}},loadIdentity:function(){var o=this.matrix;return o[0]=1,o[1]=0,o[2]=0,o[3]=1,o[4]=0,o[5]=0,this},translate:function(o,s){var a=this.matrix;return a[4]=a[0]*o+a[2]*s+a[4],a[5]=a[1]*o+a[3]*s+a[5],this},scale:function(o,s){var a=this.matrix;return a[0]*=o,a[1]*=o,a[2]*=s,a[3]*=s,this},rotate:function(o){var s=Math.sin(o),a=Math.cos(o),c=this.matrix,r=c[0],d=c[1],v=c[2],p=c[3];return c[0]=r*a+v*s,c[1]=d*a+p*s,c[2]=r*-s+v*a,c[3]=d*-s+p*a,this},multiply:function(o,s){var a=this.matrix,c=o.matrix,r=a[0],d=a[1],v=a[2],p=a[3],m=a[4],x=a[5],E=c[0],w=c[1],C=c[2],P=c[3],R=c[4],M=c[5],I=s===void 0?a:s.matrix;return I[0]=E*r+w*v,I[1]=E*d+w*p,I[2]=C*r+P*v,I[3]=C*d+P*p,I[4]=R*r+M*v+m,I[5]=R*d+M*p+x,I},multiplyWithOffset:function(o,s,a){var c=this.matrix,r=o.matrix,d=c[0],v=c[1],p=c[2],m=c[3],x=c[4],E=c[5],w=s*d+a*p+x,C=s*v+a*m+E,P=r[0],R=r[1],M=r[2],I=r[3],D=r[4],L=r[5];return c[0]=P*d+R*p,c[1]=P*v+R*m,c[2]=M*d+I*p,c[3]=M*v+I*m,c[4]=D*d+L*p+w,c[5]=D*v+L*m+C,this},transform:function(o,s,a,c,r,d){var v=this.matrix,p=v[0],m=v[1],x=v[2],E=v[3],w=v[4],C=v[5];return v[0]=o*p+s*x,v[1]=o*m+s*E,v[2]=a*p+c*x,v[3]=a*m+c*E,v[4]=r*p+d*x+w,v[5]=r*m+d*E+C,this},transformPoint:function(o,s,a){a===void 0&&(a={x:0,y:0});var c=this.matrix,r=c[0],d=c[1],v=c[2],p=c[3],m=c[4],x=c[5];return a.x=o*r+s*v+m,a.y=o*d+s*p+x,a},invert:function(){var o=this.matrix,s=o[0],a=o[1],c=o[2],r=o[3],d=o[4],v=o[5],p=s*r-a*c;return o[0]=r/p,o[1]=-a/p,o[2]=-c/p,o[3]=s/p,o[4]=(c*v-r*d)/p,o[5]=-(s*v-a*d)/p,this},copyFrom:function(o){var s=this.matrix;return s[0]=o.a,s[1]=o.b,s[2]=o.c,s[3]=o.d,s[4]=o.e,s[5]=o.f,this},copyFromArray:function(o){var s=this.matrix;return s[0]=o[0],s[1]=o[1],s[2]=o[2],s[3]=o[3],s[4]=o[4],s[5]=o[5],this},copyToContext:function(o){var s=this.matrix;return o.transform(s[0],s[1],s[2],s[3],s[4],s[5]),o},setToContext:function(o){return o.setTransform(this.a,this.b,this.c,this.d,this.e,this.f),o},copyToArray:function(o){var s=this.matrix;return o===void 0?o=[s[0],s[1],s[2],s[3],s[4],s[5]]:(o[0]=s[0],o[1]=s[1],o[2]=s[2],o[3]=s[3],o[4]=s[4],o[5]=s[5]),o},setTransform:function(o,s,a,c,r,d){var v=this.matrix;return v[0]=o,v[1]=s,v[2]=a,v[3]=c,v[4]=r,v[5]=d,this},decomposeMatrix:function(){var o=this.decomposedMatrix,s=this.matrix,a=s[0],c=s[1],r=s[2],d=s[3],v=a*d-c*r;if(o.translateX=s[4],o.translateY=s[5],a||c){var p=Math.sqrt(a*a+c*c);o.rotation=c>0?Math.acos(a/p):-Math.acos(a/p),o.scaleX=p,o.scaleY=v/p}else if(r||d){var m=Math.sqrt(r*r+d*d);o.rotation=Math.PI*.5-(d>0?Math.acos(-r/m):-Math.acos(r/m)),o.scaleX=v/m,o.scaleY=m}else o.rotation=0,o.scaleX=0,o.scaleY=0;return o},applyITRS:function(o,s,a,c,r){var d=this.matrix,v=Math.sin(a),p=Math.cos(a);return d[4]=o,d[5]=s,d[0]=p*c,d[1]=v*c,d[2]=-v*r,d[3]=p*r,this},applyInverse:function(o,s,a){a===void 0&&(a=new f);var c=this.matrix,r=c[0],d=c[1],v=c[2],p=c[3],m=c[4],x=c[5],E=1/(r*p+v*-d);return a.x=p*E*o+-v*E*s+(x*v-m*p)*E,a.y=r*E*s+-d*E*o+(-x*r+m*d)*E,a},setQuad:function(o,s,a,c,r,d){r===void 0&&(r=!1),d===void 0&&(d=this.quad);var v=this.matrix,p=v[0],m=v[1],x=v[2],E=v[3],w=v[4],C=v[5],P=o*p+s*x+w,R=o*m+s*E+C,M=o*p+c*x+w,I=o*m+c*E+C,D=a*p+c*x+w,L=a*m+c*E+C,F=a*p+s*x+w,O=a*m+s*E+C;if(r){var N=Math.floor(P+.5),b=Math.floor(R+.5),V=N-P,Y=b-R;d[0]=N,d[1]=b,d[2]=M+V,d[3]=I+Y,d[4]=D+V,d[5]=L+Y,d[6]=F+V,d[7]=O+Y}else d[0]=P,d[1]=R,d[2]=M,d[3]=I,d[4]=D,d[5]=L,d[6]=F,d[7]=O;return d},getX:function(o,s){return o*this.a+s*this.c+this.e},getY:function(o,s){return o*this.b+s*this.d+this.f},getXRound:function(o,s,a){var c=this.getX(o,s);return a&&(c=Math.floor(c+.5)),c},getYRound:function(o,s,a){var c=this.getY(o,s);return a&&(c=Math.floor(c+.5)),c},getCSSMatrix:function(){var o=this.matrix;return"matrix("+o[0]+","+o[1]+","+o[2]+","+o[3]+","+o[4]+","+o[5]+")"},destroy:function(){this.matrix=null,this.quad=null,this.decomposedMatrix=null}});h.exports=l},59715:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=1,e={_visible:!0,visible:{get:function(){return this._visible},set:function(u){u?(this._visible=!0,this.renderFlags|=S):(this._visible=!1,this.renderFlags&=~S)}},setVisible:function(u){return this.visible=u,this}};h.exports=e},31401:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={Alpha:e(16005),AlphaSingle:e(88509),BlendMode:e(90065),ComputedSize:e(94215),Crop:e(61683),Depth:e(89272),Flip:e(54434),FX:e(47059),GetBounds:e(8004),Mask:e(8573),Origin:e(27387),PathFollower:e(37640),Pipeline:e(72699),PostPipeline:e(17581),ScrollFactor:e(80227),Size:e(16736),Texture:e(37726),TextureCrop:e(79812),Tint:e(27472),ToJSON:e(53774),Transform:e(16901),TransformMatrix:e(61340),Visible:e(59715)}},31559:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(37105),y=e(10312),f=e(83419),l=e(31401),o=e(51708),s=e(95643),a=e(87841),c=e(29959),r=e(36899),d=e(26099),v=new l.TransformMatrix,p=new f({Extends:s,Mixins:[l.AlphaSingle,l.BlendMode,l.ComputedSize,l.Depth,l.Mask,l.PostPipeline,l.Transform,l.Visible,c],initialize:function(x,E,w,C){s.call(this,x,"Container"),this.list=[],this.exclusive=!0,this.maxSize=-1,this.position=0,this.localTransform=new l.TransformMatrix,this._sortKey="",this._sysEvents=x.sys.events,this.scrollFactorX=1,this.scrollFactorY=1,this.initPostPipeline(),this.setPosition(E,w),this.setBlendMode(y.SKIP_CHECK),C&&this.add(C)},originX:{get:function(){return .5}},originY:{get:function(){return .5}},displayOriginX:{get:function(){return this.width*.5}},displayOriginY:{get:function(){return this.height*.5}},setExclusive:function(m){return m===void 0&&(m=!0),this.exclusive=m,this},getBounds:function(m){if(m===void 0&&(m=new a),m.setTo(this.x,this.y,0,0),this.parentContainer){var x=this.parentContainer.getBoundsTransformMatrix(),E=x.transformPoint(this.x,this.y);m.setTo(E.x,E.y,0,0)}if(this.list.length>0){var w=this.list,C=new a,P=!1;m.setEmpty();for(var R=0;R<w.length;R++){var M=w[R];M.getBounds&&(M.getBounds(C),P?r(C,m,m):(m.setTo(C.x,C.y,C.width,C.height),P=!0))}}return m},addHandler:function(m){m.once(o.DESTROY,this.onChildDestroyed,this),this.exclusive&&(m.parentContainer&&m.parentContainer.remove(m),m.parentContainer=this,m.removeFromDisplayList(),m.addedToScene())},removeHandler:function(m){m.off(o.DESTROY,this.remove,this),this.exclusive&&(m.parentContainer=null,m.removedFromScene(),m.addToDisplayList())},pointToContainer:function(m,x){x===void 0&&(x=new d),this.parentContainer?this.parentContainer.pointToContainer(m,x):(x.x=m.x,x.y=m.y);var E=v;return E.applyITRS(this.x,this.y,this.rotation,this.scaleX,this.scaleY),E.invert(),E.transformPoint(m.x,m.y,x),x},getBoundsTransformMatrix:function(){return this.getWorldTransformMatrix(v,this.localTransform)},add:function(m){return u.Add(this.list,m,this.maxSize,this.addHandler,this),this},addAt:function(m,x){return u.AddAt(this.list,m,x,this.maxSize,this.addHandler,this),this},getAt:function(m){return this.list[m]},getIndex:function(m){return this.list.indexOf(m)},sort:function(m,x){return m?(x===void 0&&(x=function(E,w){return E[m]-w[m]}),u.StableSort(this.list,x),this):this},getByName:function(m){return u.GetFirst(this.list,"name",m)},getRandom:function(m,x){return u.GetRandom(this.list,m,x)},getFirst:function(m,x,E,w){return u.GetFirst(this.list,m,x,E,w)},getAll:function(m,x,E,w){return u.GetAll(this.list,m,x,E,w)},count:function(m,x,E,w){return u.CountAllMatching(this.list,m,x,E,w)},swap:function(m,x){return u.Swap(this.list,m,x),this},moveTo:function(m,x){return u.MoveTo(this.list,m,x),this},moveAbove:function(m,x){return u.MoveAbove(this.list,m,x),this},moveBelow:function(m,x){return u.MoveBelow(this.list,m,x),this},remove:function(m,x){var E=u.Remove(this.list,m,this.removeHandler,this);if(x&&E){Array.isArray(E)||(E=[E]);for(var w=0;w<E.length;w++)E[w].destroy()}return this},removeAt:function(m,x){var E=u.RemoveAt(this.list,m,this.removeHandler,this);return x&&E&&E.destroy(),this},removeBetween:function(m,x,E){var w=u.RemoveBetween(this.list,m,x,this.removeHandler,this);if(E)for(var C=0;C<w.length;C++)w[C].destroy();return this},removeAll:function(m){var x=this.list;if(m){for(var E=0;E<x.length;E++)x[E]&&x[E].scene&&(x[E].off(o.DESTROY,this.onChildDestroyed,this),x[E].destroy());this.list=[]}else u.RemoveBetween(x,0,x.length,this.removeHandler,this);return this},bringToTop:function(m){return u.BringToTop(this.list,m),this},sendToBack:function(m){return u.SendToBack(this.list,m),this},moveUp:function(m){return u.MoveUp(this.list,m),this},moveDown:function(m){return u.MoveDown(this.list,m),this},reverse:function(){return this.list.reverse(),this},shuffle:function(){return u.Shuffle(this.list),this},replace:function(m,x,E){var w=u.Replace(this.list,m,x);return w&&(this.addHandler(x),this.removeHandler(m),E&&m.destroy()),this},exists:function(m){return this.list.indexOf(m)>-1},setAll:function(m,x,E,w){return u.SetAll(this.list,m,x,E,w),this},each:function(m,x){var E=[null],w,C=this.list.slice(),P=C.length;for(w=2;w<arguments.length;w++)E.push(arguments[w]);for(w=0;w<P;w++)E[0]=C[w],m.apply(x,E);return this},iterate:function(m,x){var E=[null],w;for(w=2;w<arguments.length;w++)E.push(arguments[w]);for(w=0;w<this.list.length;w++)E[0]=this.list[w],m.apply(x,E);return this},setScrollFactor:function(m,x,E){return x===void 0&&(x=m),E===void 0&&(E=!1),this.scrollFactorX=m,this.scrollFactorY=x,E&&(u.SetAll(this.list,"scrollFactorX",m),u.SetAll(this.list,"scrollFactorY",x)),this},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}},preDestroy:function(){this.removeAll(!!this.exclusive),this.localTransform.destroy(),this.list=[]},onChildDestroyed:function(m){u.Remove(this.list,m),this.exclusive&&(m.parentContainer=null,m.removedFromScene())}});h.exports=p},53584:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u,y,f){y.addToRenderList(u);var l=u.list;if(l.length!==0){var o=u.localTransform;f?(o.loadIdentity(),o.multiply(f),o.translate(u.x,u.y),o.rotate(u.rotation),o.scale(u.scaleX,u.scaleY)):o.applyITRS(u.x,u.y,u.rotation,u.scaleX,u.scaleY);var s=u.blendMode!==-1;s||e.setBlendMode(0);var a=u._alpha,c=u.scrollFactorX,r=u.scrollFactorY;u.mask&&u.mask.preRenderCanvas(e,null,y);for(var d=0;d<l.length;d++){var v=l[d];if(v.willRender(y)){var p=v.alpha,m=v.scrollFactorX,x=v.scrollFactorY;!s&&v.blendMode!==e.currentBlendMode&&e.setBlendMode(v.blendMode),v.setScrollFactor(m*c,x*r),v.setAlpha(p*a),v.renderCanvas(e,v,y,o),v.setAlpha(p),v.setScrollFactor(m,x)}}u.mask&&u.mask.postRenderCanvas(e)}};h.exports=S},77143:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(25305),y=e(31559),f=e(44603),l=e(23568),o=e(95540);f.register("container",function(s,a){s===void 0&&(s={});var c=l(s,"x",0),r=l(s,"y",0),d=o(s,"children",null),v=new y(this.scene,c,r,d);return a!==void 0&&(s.add=a),u(this.scene,v,s),v})},24961:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(31559),y=e(39429);y.register("container",function(f,l,o){return this.displayList.add(new u(this.scene,f,l,o))})},29959:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(29747),y=u,f=u;y=e(72249),f=e(53584),h.exports={renderWebGL:y,renderCanvas:f}},72249:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u,y,f){y.addToRenderList(u);var l=u.list,o=l.length;if(o!==0){var s=u.localTransform;f?(s.loadIdentity(),s.multiply(f),s.translate(u.x,u.y),s.rotate(u.rotation),s.scale(u.scaleX,u.scaleY)):s.applyITRS(u.x,u.y,u.rotation,u.scaleX,u.scaleY),e.pipelines.preBatch(u);var a=u.blendMode!==-1;a||e.setBlendMode(0);for(var c=u.alpha,r=u.scrollFactorX,d=u.scrollFactorY,v=0;v<o;v++){var p=l[v];if(p.willRender(y)){var m,x,E,w;if(p.alphaTopLeft!==void 0)m=p.alphaTopLeft,x=p.alphaTopRight,E=p.alphaBottomLeft,w=p.alphaBottomRight;else{var C=p.alpha;m=C,x=C,E=C,w=C}var P=p.scrollFactorX,R=p.scrollFactorY;!a&&p.blendMode!==e.currentBlendMode&&e.setBlendMode(p.blendMode);var M=p.mask;M&&M.preRenderWebGL(e,p,y);var I=p.type;I!==e.currentType&&(e.newType=!0,e.currentType=I),e.nextTypeMatch=v<o-1?l[v+1].type===e.currentType:!1,p.setScrollFactor(P*r,R*d),p.setAlpha(m*c,x*c,E*c,w*c),p.renderWebGL(e,p,y,s,u),p.setAlpha(m,x,E,w),p.setScrollFactor(P,R),M&&M.postRenderWebGL(e,y),e.newType=!1}}e.pipelines.postBatch(u)}};h.exports=S},47407:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports=["normal","multiply","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]},3069:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(31401),f=e(441),l=e(95643),o=e(41212),s=e(35846),a=e(44594),c=e(61369),r=new u({Extends:l,Mixins:[y.AlphaSingle,y.BlendMode,y.Depth,y.Origin,y.ScrollFactor,y.Transform,y.Visible,f],initialize:function(v,p,m,x,E,w){if(l.call(this,v,"DOMElement"),this.parent=v.sys.game.domContainer,!this.parent)throw new Error("No DOM Container set in game config");this.cache=v.sys.cache.html,this.node,this.transformOnly=!1,this.skewX=0,this.skewY=0,this.rotate3d=new c,this.rotate3dAngle="deg",this.pointerEvents="auto",this.width=0,this.height=0,this.displayWidth=0,this.displayHeight=0,this.handler=this.dispatchNativeEvent.bind(this),this.setPosition(p,m),typeof x=="string"?x[0]==="#"?this.setElement(x.substr(1),E,w):this.createElement(x,E,w):x&&this.setElement(x,E,w),v.sys.events.on(a.SLEEP,this.handleSceneEvent,this),v.sys.events.on(a.WAKE,this.handleSceneEvent,this),v.sys.events.on(a.PRE_RENDER,this.preRender,this)},handleSceneEvent:function(d){var v=this.node,p=v.style;v&&(p.display=d.settings.visible?"block":"none")},setSkew:function(d,v){return d===void 0&&(d=0),v===void 0&&(v=d),this.skewX=d,this.skewY=v,this},setPerspective:function(d){return this.parent.style.perspective=d+"px",this},perspective:{get:function(){return parseFloat(this.parent.style.perspective)},set:function(d){this.parent.style.perspective=d+"px"}},addListener:function(d){if(this.node){d=d.split(" ");for(var v=0;v<d.length;v++)this.node.addEventListener(d[v],this.handler,!1)}return this},removeListener:function(d){if(this.node){d=d.split(" ");for(var v=0;v<d.length;v++)this.node.removeEventListener(d[v],this.handler)}return this},dispatchNativeEvent:function(d){this.emit(d.type,d)},createElement:function(d,v,p){return this.setElement(document.createElement(d),v,p)},setElement:function(d,v,p){this.removeElement();var m;if(typeof d=="string"?(d[0]==="#"&&(d=d.substr(1)),m=document.getElementById(d)):typeof d=="object"&&d.nodeType===1&&(m=d),!m)return this;if(this.node=m,v&&o(v))for(var x in v)m.style[x]=v[x];else typeof v=="string"&&(m.style=v);return m.style.zIndex="0",m.style.display="inline",m.style.position="absolute",m.phaser=this,this.parent.appendChild(m),p&&(m.innerText=p),this.updateSize()},createFromCache:function(d,v){var p=this.cache.get(d);return p&&this.createFromHTML(p,v),this},createFromHTML:function(d,v){v===void 0&&(v="div"),this.removeElement();var p=document.createElement(v);return this.node=p,p.style.zIndex="0",p.style.display="inline",p.style.position="absolute",p.phaser=this,this.parent.appendChild(p),p.innerHTML=d,this.updateSize()},removeElement:function(){return this.node&&(s(this.node),this.node=null),this},updateSize:function(){var d=this.node;return this.width=d.clientWidth,this.height=d.clientHeight,this.displayWidth=this.width*this.scaleX,this.displayHeight=this.height*this.scaleY,this},getChildByProperty:function(d,v){if(this.node){for(var p=this.node.querySelectorAll("*"),m=0;m<p.length;m++)if(p[m][d]===v)return p[m]}return null},getChildByID:function(d){return this.getChildByProperty("id",d)},getChildByName:function(d){return this.getChildByProperty("name",d)},setClassName:function(d){return this.node&&(this.node.className=d,this.updateSize()),this},setText:function(d){return this.node&&(this.node.innerText=d,this.updateSize()),this},setHTML:function(d){return this.node&&(this.node.innerHTML=d,this.updateSize()),this},preRender:function(){var d=this.parentContainer,v=this.node;v&&d&&!d.willRender()&&(v.style.display="none")},willRender:function(){return!0},preDestroy:function(){this.removeElement(),this.scene.sys.events.off(a.SLEEP,this.handleSceneEvent,this),this.scene.sys.events.off(a.WAKE,this.handleSceneEvent,this),this.scene.sys.events.off(a.PRE_RENDER,this.preRender,this)}});h.exports=r},49381:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(47407),y=e(95643),f=e(61340),l=new f,o=new f,s=new f,a=function(c,r,d,v){if(r.node){var p=r.node.style,m=r.scene.sys.settings;if(!p||!m.visible||y.RENDER_MASK!==r.renderFlags||r.cameraFilter!==0&&r.cameraFilter&d.id||r.parentContainer&&!r.parentContainer.willRender()){p.display="none";return}var x=r.parentContainer,E=d.alpha*r.alpha;x&&(E*=x.alpha);var w=l,C=o,P=s,R=0,M=0,I="0%",D="0%";v?(R=r.width*r.scaleX*r.originX,M=r.height*r.scaleY*r.originY,C.applyITRS(r.x-R,r.y-M,r.rotation,r.scaleX,r.scaleY),w.copyFrom(d.matrix),w.multiplyWithOffset(v,-d.scrollX*r.scrollFactorX,-d.scrollY*r.scrollFactorY),C.e=r.x-R,C.f=r.y-M,w.multiply(C,P)):(R=r.width*r.originX,M=r.height*r.originY,C.applyITRS(r.x,r.y,r.rotation,r.scaleX,r.scaleY),w.copyFrom(d.matrix),I=100*r.originX+"%",D=100*r.originY+"%",C.e-=d.scrollX*r.scrollFactorX,C.f-=d.scrollY*r.scrollFactorY,w.multiply(C,P),P.e-=R,P.f-=M),r.transformOnly||(p.display="block",p.opacity=E,p.zIndex=r._depth,p.pointerEvents=r.pointerEvents,p.mixBlendMode=u[r._blendMode]),p.transform=P.getCSSMatrix()+" skew("+r.skewX+"rad, "+r.skewY+"rad) rotate3d("+r.rotate3d.x+","+r.rotate3d.y+","+r.rotate3d.z+","+r.rotate3d.w+r.rotate3dAngle+")",p.transformOrigin=I+" "+D}};h.exports=a},2611:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(3069),y=e(39429);y.register("dom",function(f,l,o,s,a){var c=new u(this.scene,f,l,o,s,a);return this.displayList.add(c),c})},441:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(29747),y=u,f=u;y=e(49381),f=e(49381),h.exports={renderWebGL:y,renderCanvas:f}},62980:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="addedtoscene"},41337:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="destroy"},44947:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="removedfromscene"},49358:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="complete"},35163:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="created"},97249:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="error"},19483:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="locked"},56059:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="loop"},26772:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="metadata"},64437:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="playing"},83411:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="play"},75780:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="seeked"},67799:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="seeking"},63500:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="stalled"},55541:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="stop"},53208:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="textureready"},4992:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="unlocked"},12:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="unsupported"},51708:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={ADDED_TO_SCENE:e(62980),DESTROY:e(41337),REMOVED_FROM_SCENE:e(44947),VIDEO_COMPLETE:e(49358),VIDEO_CREATED:e(35163),VIDEO_ERROR:e(97249),VIDEO_LOCKED:e(19483),VIDEO_LOOP:e(56059),VIDEO_METADATA:e(26772),VIDEO_PLAY:e(83411),VIDEO_PLAYING:e(64437),VIDEO_SEEKED:e(75780),VIDEO_SEEKING:e(67799),VIDEO_STALLED:e(63500),VIDEO_STOP:e(55541),VIDEO_TEXTURE:e(53208),VIDEO_UNLOCKED:e(4992),VIDEO_UNSUPPORTED:e(12)}},42421:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(31401),f=e(95643),l=e(64993),o=new u({Extends:f,Mixins:[y.Alpha,y.BlendMode,y.Depth,y.Flip,y.Origin,y.ScrollFactor,y.Size,y.Texture,y.Tint,y.Transform,y.Visible,l],initialize:function(a){f.call(this,a,"Extern")},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(){},render:function(){}});h.exports=o},70217:()=>{},56315:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(42421),y=e(39429);y.register("extern",function(){var f=new u(this.scene);return this.displayList.add(f),f})},64993:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(29747),y=u,f=u;y=e(80287),f=e(70217),h.exports={renderWebGL:y,renderCanvas:f}},80287:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(91296),y=function(f,l,o,s){f.pipelines.clear();var a=u(l,o,s).calc;l.render.call(l,f,o,a),f.pipelines.rebind()};h.exports=y},85592:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={ARC:0,BEGIN_PATH:1,CLOSE_PATH:2,FILL_RECT:3,LINE_TO:4,MOVE_TO:5,LINE_STYLE:6,FILL_STYLE:7,FILL_PATH:8,STROKE_PATH:9,FILL_TRIANGLE:10,STROKE_TRIANGLE:11,SAVE:14,RESTORE:15,TRANSLATE:16,SCALE:17,ROTATE:18,GRADIENT_FILL_STYLE:21,GRADIENT_LINE_STYLE:22}},43831:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(71911),y=e(83419),f=e(85592),l=e(31401),o=e(8497),s=e(95643),a=e(95540),c=e(35154),r=e(36383),d=e(84503),v=new y({Extends:s,Mixins:[l.AlphaSingle,l.BlendMode,l.Depth,l.Mask,l.Pipeline,l.PostPipeline,l.Transform,l.Visible,l.ScrollFactor,d],initialize:function(m,x){var E=c(x,"x",0),w=c(x,"y",0);s.call(this,m,"Graphics"),this.setPosition(E,w),this.initPipeline(),this.initPostPipeline(),this.displayOriginX=0,this.displayOriginY=0,this.commandBuffer=[],this.defaultFillColor=-1,this.defaultFillAlpha=1,this.defaultStrokeWidth=1,this.defaultStrokeColor=-1,this.defaultStrokeAlpha=1,this._lineWidth=1,this.lineStyle(1,0,0),this.fillStyle(0,0),this.setDefaultStyles(x)},setDefaultStyles:function(p){return c(p,"lineStyle",null)&&(this.defaultStrokeWidth=c(p,"lineStyle.width",1),this.defaultStrokeColor=c(p,"lineStyle.color",16777215),this.defaultStrokeAlpha=c(p,"lineStyle.alpha",1),this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha)),c(p,"fillStyle",null)&&(this.defaultFillColor=c(p,"fillStyle.color",16777215),this.defaultFillAlpha=c(p,"fillStyle.alpha",1),this.fillStyle(this.defaultFillColor,this.defaultFillAlpha)),this},lineStyle:function(p,m,x){return x===void 0&&(x=1),this.commandBuffer.push(f.LINE_STYLE,p,m,x),this._lineWidth=p,this},fillStyle:function(p,m){return m===void 0&&(m=1),this.commandBuffer.push(f.FILL_STYLE,p,m),this},fillGradientStyle:function(p,m,x,E,w,C,P,R){return w===void 0&&(w=1),C===void 0&&(C=w),P===void 0&&(P=w),R===void 0&&(R=w),this.commandBuffer.push(f.GRADIENT_FILL_STYLE,w,C,P,R,p,m,x,E),this},lineGradientStyle:function(p,m,x,E,w,C){return C===void 0&&(C=1),this.commandBuffer.push(f.GRADIENT_LINE_STYLE,p,C,m,x,E,w),this},beginPath:function(){return this.commandBuffer.push(f.BEGIN_PATH),this},closePath:function(){return this.commandBuffer.push(f.CLOSE_PATH),this},fillPath:function(){return this.commandBuffer.push(f.FILL_PATH),this},fill:function(){return this.commandBuffer.push(f.FILL_PATH),this},strokePath:function(){return this.commandBuffer.push(f.STROKE_PATH),this},stroke:function(){return this.commandBuffer.push(f.STROKE_PATH),this},fillCircleShape:function(p){return this.fillCircle(p.x,p.y,p.radius)},strokeCircleShape:function(p){return this.strokeCircle(p.x,p.y,p.radius)},fillCircle:function(p,m,x){return this.beginPath(),this.arc(p,m,x,0,r.PI2),this.fillPath(),this},strokeCircle:function(p,m,x){return this.beginPath(),this.arc(p,m,x,0,r.PI2),this.strokePath(),this},fillRectShape:function(p){return this.fillRect(p.x,p.y,p.width,p.height)},strokeRectShape:function(p){return this.strokeRect(p.x,p.y,p.width,p.height)},fillRect:function(p,m,x,E){return this.commandBuffer.push(f.FILL_RECT,p,m,x,E),this},strokeRect:function(p,m,x,E){var w=this._lineWidth/2,C=p-w,P=p+w;return this.beginPath(),this.moveTo(p,m),this.lineTo(p,m+E),this.strokePath(),this.beginPath(),this.moveTo(p+x,m),this.lineTo(p+x,m+E),this.strokePath(),this.beginPath(),this.moveTo(C,m),this.lineTo(P+x,m),this.strokePath(),this.beginPath(),this.moveTo(C,m+E),this.lineTo(P+x,m+E),this.strokePath(),this},fillRoundedRect:function(p,m,x,E,w){w===void 0&&(w=20);var C=w,P=w,R=w,M=w;typeof w!="number"&&(C=a(w,"tl",20),P=a(w,"tr",20),R=a(w,"bl",20),M=a(w,"br",20));var I=C>=0,D=P>=0,L=R>=0,F=M>=0;return C=Math.abs(C),P=Math.abs(P),R=Math.abs(R),M=Math.abs(M),this.beginPath(),this.moveTo(p+C,m),this.lineTo(p+x-P,m),D?this.arc(p+x-P,m+P,P,-r.TAU,0):this.arc(p+x,m,P,Math.PI,r.TAU,!0),this.lineTo(p+x,m+E-M),F?this.arc(p+x-M,m+E-M,M,0,r.TAU):this.arc(p+x,m+E,M,-r.TAU,Math.PI,!0),this.lineTo(p+R,m+E),L?this.arc(p+R,m+E-R,R,r.TAU,Math.PI):this.arc(p,m+E,R,0,-r.TAU,!0),this.lineTo(p,m+C),I?this.arc(p+C,m+C,C,-Math.PI,-r.TAU):this.arc(p,m,C,r.TAU,0,!0),this.fillPath(),this},strokeRoundedRect:function(p,m,x,E,w){w===void 0&&(w=20);var C=w,P=w,R=w,M=w,I=Math.min(x,E)/2;typeof w!="number"&&(C=a(w,"tl",20),P=a(w,"tr",20),R=a(w,"bl",20),M=a(w,"br",20));var D=C>=0,L=P>=0,F=R>=0,O=M>=0;return C=Math.min(Math.abs(C),I),P=Math.min(Math.abs(P),I),R=Math.min(Math.abs(R),I),M=Math.min(Math.abs(M),I),this.beginPath(),this.moveTo(p+C,m),this.lineTo(p+x-P,m),this.moveTo(p+x-P,m),L?this.arc(p+x-P,m+P,P,-r.TAU,0):this.arc(p+x,m,P,Math.PI,r.TAU,!0),this.lineTo(p+x,m+E-M),this.moveTo(p+x,m+E-M),O?this.arc(p+x-M,m+E-M,M,0,r.TAU):this.arc(p+x,m+E,M,-r.TAU,Math.PI,!0),this.lineTo(p+R,m+E),this.moveTo(p+R,m+E),F?this.arc(p+R,m+E-R,R,r.TAU,Math.PI):this.arc(p,m+E,R,0,-r.TAU,!0),this.lineTo(p,m+C),this.moveTo(p,m+C),D?this.arc(p+C,m+C,C,-Math.PI,-r.TAU):this.arc(p,m,C,r.TAU,0,!0),this.strokePath(),this},fillPointShape:function(p,m){return this.fillPoint(p.x,p.y,m)},fillPoint:function(p,m,x){return!x||x<1?x=1:(p-=x/2,m-=x/2),this.commandBuffer.push(f.FILL_RECT,p,m,x,x),this},fillTriangleShape:function(p){return this.fillTriangle(p.x1,p.y1,p.x2,p.y2,p.x3,p.y3)},strokeTriangleShape:function(p){return this.strokeTriangle(p.x1,p.y1,p.x2,p.y2,p.x3,p.y3)},fillTriangle:function(p,m,x,E,w,C){return this.commandBuffer.push(f.FILL_TRIANGLE,p,m,x,E,w,C),this},strokeTriangle:function(p,m,x,E,w,C){return this.commandBuffer.push(f.STROKE_TRIANGLE,p,m,x,E,w,C),this},strokeLineShape:function(p){return this.lineBetween(p.x1,p.y1,p.x2,p.y2)},lineBetween:function(p,m,x,E){return this.beginPath(),this.moveTo(p,m),this.lineTo(x,E),this.strokePath(),this},lineTo:function(p,m){return this.commandBuffer.push(f.LINE_TO,p,m),this},moveTo:function(p,m){return this.commandBuffer.push(f.MOVE_TO,p,m),this},strokePoints:function(p,m,x,E){m===void 0&&(m=!1),x===void 0&&(x=!1),E===void 0&&(E=p.length),this.beginPath(),this.moveTo(p[0].x,p[0].y);for(var w=1;w<E;w++)this.lineTo(p[w].x,p[w].y);return m&&this.lineTo(p[0].x,p[0].y),x&&this.closePath(),this.strokePath(),this},fillPoints:function(p,m,x,E){m===void 0&&(m=!1),x===void 0&&(x=!1),E===void 0&&(E=p.length),this.beginPath(),this.moveTo(p[0].x,p[0].y);for(var w=1;w<E;w++)this.lineTo(p[w].x,p[w].y);return m&&this.lineTo(p[0].x,p[0].y),x&&this.closePath(),this.fillPath(),this},strokeEllipseShape:function(p,m){m===void 0&&(m=32);var x=p.getPoints(m);return this.strokePoints(x,!0)},strokeEllipse:function(p,m,x,E,w){w===void 0&&(w=32);var C=new o(p,m,x,E),P=C.getPoints(w);return this.strokePoints(P,!0)},fillEllipseShape:function(p,m){m===void 0&&(m=32);var x=p.getPoints(m);return this.fillPoints(x,!0)},fillEllipse:function(p,m,x,E,w){w===void 0&&(w=32);var C=new o(p,m,x,E),P=C.getPoints(w);return this.fillPoints(P,!0)},arc:function(p,m,x,E,w,C,P){return C===void 0&&(C=!1),P===void 0&&(P=0),this.commandBuffer.push(f.ARC,p,m,x,E,w,C,P),this},slice:function(p,m,x,E,w,C,P){return C===void 0&&(C=!1),P===void 0&&(P=0),this.commandBuffer.push(f.BEGIN_PATH),this.commandBuffer.push(f.MOVE_TO,p,m),this.commandBuffer.push(f.ARC,p,m,x,E,w,C,P),this.commandBuffer.push(f.CLOSE_PATH),this},save:function(){return this.commandBuffer.push(f.SAVE),this},restore:function(){return this.commandBuffer.push(f.RESTORE),this},translateCanvas:function(p,m){return this.commandBuffer.push(f.TRANSLATE,p,m),this},scaleCanvas:function(p,m){return this.commandBuffer.push(f.SCALE,p,m),this},rotateCanvas:function(p){return this.commandBuffer.push(f.ROTATE,p),this},clear:function(){return this.commandBuffer.length=0,this.defaultFillColor>-1&&this.fillStyle(this.defaultFillColor,this.defaultFillAlpha),this.defaultStrokeColor>-1&&this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha),this},generateTexture:function(p,m,x){var E=this.scene.sys,w=E.game.renderer;m===void 0&&(m=E.scale.width),x===void 0&&(x=E.scale.height),v.TargetCamera.setScene(this.scene),v.TargetCamera.setViewport(0,0,m,x),v.TargetCamera.scrollX=this.x,v.TargetCamera.scrollY=this.y;var C,P,R={willReadFrequently:!0};if(typeof p=="string")if(E.textures.exists(p)){C=E.textures.get(p);var M=C.getSourceImage();M instanceof HTMLCanvasElement&&(P=M.getContext("2d",R))}else C=E.textures.createCanvas(p,m,x),P=C.getSourceImage().getContext("2d",R);else p instanceof HTMLCanvasElement&&(P=p.getContext("2d",R));return P&&(this.renderCanvas(w,this,v.TargetCamera,null,P,!1),C&&C.refresh()),this},preDestroy:function(){this.commandBuffer=[]}});v.TargetCamera=new u,h.exports=v},32768:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(85592),y=e(20926),f=function(l,o,s,a,c,r){var d=o.commandBuffer,v=d.length,p=c||l.currentContext;if(!(v===0||!y(l,p,o,s,a))){s.addToRenderList(o);var m=1,x=1,E=0,w=0,C=1,P=0,R=0,M=0;p.beginPath();for(var I=0;I<v;++I){var D=d[I];switch(D){case u.ARC:p.arc(d[I+1],d[I+2],d[I+3],d[I+4],d[I+5],d[I+6]),I+=7;break;case u.LINE_STYLE:C=d[I+1],E=d[I+2],m=d[I+3],P=(E&16711680)>>>16,R=(E&65280)>>>8,M=E&255,p.strokeStyle="rgba("+P+","+R+","+M+","+m+")",p.lineWidth=C,I+=3;break;case u.FILL_STYLE:w=d[I+1],x=d[I+2],P=(w&16711680)>>>16,R=(w&65280)>>>8,M=w&255,p.fillStyle="rgba("+P+","+R+","+M+","+x+")",I+=2;break;case u.BEGIN_PATH:p.beginPath();break;case u.CLOSE_PATH:p.closePath();break;case u.FILL_PATH:r||p.fill();break;case u.STROKE_PATH:r||p.stroke();break;case u.FILL_RECT:r?p.rect(d[I+1],d[I+2],d[I+3],d[I+4]):p.fillRect(d[I+1],d[I+2],d[I+3],d[I+4]),I+=4;break;case u.FILL_TRIANGLE:p.beginPath(),p.moveTo(d[I+1],d[I+2]),p.lineTo(d[I+3],d[I+4]),p.lineTo(d[I+5],d[I+6]),p.closePath(),r||p.fill(),I+=6;break;case u.STROKE_TRIANGLE:p.beginPath(),p.moveTo(d[I+1],d[I+2]),p.lineTo(d[I+3],d[I+4]),p.lineTo(d[I+5],d[I+6]),p.closePath(),r||p.stroke(),I+=6;break;case u.LINE_TO:p.lineTo(d[I+1],d[I+2]),I+=2;break;case u.MOVE_TO:p.moveTo(d[I+1],d[I+2]),I+=2;break;case u.LINE_FX_TO:p.lineTo(d[I+1],d[I+2]),I+=5;break;case u.MOVE_FX_TO:p.moveTo(d[I+1],d[I+2]),I+=5;break;case u.SAVE:p.save();break;case u.RESTORE:p.restore();break;case u.TRANSLATE:p.translate(d[I+1],d[I+2]),I+=2;break;case u.SCALE:p.scale(d[I+1],d[I+2]),I+=2;break;case u.ROTATE:p.rotate(d[I+1]),I+=1;break;case u.GRADIENT_FILL_STYLE:I+=5;break;case u.GRADIENT_LINE_STYLE:I+=6;break}}p.restore()}};h.exports=f},87079:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(44603),y=e(43831);u.register("graphics",function(f,l){f===void 0&&(f={}),l!==void 0&&(f.add=l);var o=new y(this.scene,f);return f.add&&this.scene.sys.displayList.add(o),o})},1201:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(43831),y=e(39429);y.register("graphics",function(f){return this.displayList.add(new u(this.scene,f))})},84503:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(29747),y=u,f=u;y=e(77545),f=e(32768),f=e(32768),h.exports={renderWebGL:y,renderCanvas:f}},77545:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(85592),y=e(91296),f=e(61340),l=e(70554),o=function(d,v,p){this.x=d,this.y=v,this.width=p},s=function(d,v,p){this.points=[],this.pointsLength=1,this.points[0]=new o(d,v,p)},a=[],c=new f,r=function(d,v,p,m){if(v.commandBuffer.length!==0){p.addToRenderList(v);var x=d.pipelines.set(v.pipeline,v);d.pipelines.preBatch(v);for(var E=y(v,p,m).calc,w=c.loadIdentity(),C=v.commandBuffer,P=p.alpha*v.alpha,R=1,M=x.fillTint,I=x.strokeTint,D=0,L=0,F=0,O=.01,N=Math.PI*2,b,V=[],Y=0,W=!0,U=null,z=l.getTintAppendFloatAlpha,B=0;B<C.length;B++)switch(b=C[B],b){case u.BEGIN_PATH:{V.length=0,U=null,W=!0;break}case u.CLOSE_PATH:{W=!1,U&&U.points.length&&U.points.push(U.points[0]);break}case u.FILL_PATH:{for(Y=0;Y<V.length;Y++)x.batchFillPath(V[Y].points,w,E);break}case u.STROKE_PATH:{for(Y=0;Y<V.length;Y++)x.batchStrokePath(V[Y].points,R,W,w,E);break}case u.LINE_STYLE:{R=C[++B];var X=C[++B],G=C[++B]*P,H=z(X,G);I.TL=H,I.TR=H,I.BL=H,I.BR=H;break}case u.FILL_STYLE:{var $=C[++B],k=C[++B]*P,j=z($,k);M.TL=j,M.TR=j,M.BL=j,M.BR=j;break}case u.GRADIENT_FILL_STYLE:{var Q=C[++B]*P,J=C[++B]*P,q=C[++B]*P,Z=C[++B]*P;M.TL=z(C[++B],Q),M.TR=z(C[++B],J),M.BL=z(C[++B],q),M.BR=z(C[++B],Z);break}case u.GRADIENT_LINE_STYLE:{R=C[++B];var it=C[++B]*P;I.TL=z(C[++B],it),I.TR=z(C[++B],it),I.BL=z(C[++B],it),I.BR=z(C[++B],it);break}case u.ARC:{var rt=0,et=C[++B],ct=C[++B],pt=C[++B],mt=C[++B],nt=C[++B],lt=C[++B],ht=C[++B];for(nt-=mt,lt?nt<-N?nt=-N:nt>0&&(nt=-N+nt%N):nt>N?nt=N:nt<0&&(nt=N+nt%N),U===null&&(U=new s(et+Math.cos(mt)*pt,ct+Math.sin(mt)*pt,R),V.push(U),rt+=O);rt<1+ht;)F=nt*rt+mt,D=et+Math.cos(F)*pt,L=ct+Math.sin(F)*pt,U.points.push(new o(D,L,R)),rt+=O;F=nt+mt,D=et+Math.cos(F)*pt,L=ct+Math.sin(F)*pt,U.points.push(new o(D,L,R));break}case u.FILL_RECT:{x.batchFillRect(C[++B],C[++B],C[++B],C[++B],w,E);break}case u.FILL_TRIANGLE:{x.batchFillTriangle(C[++B],C[++B],C[++B],C[++B],C[++B],C[++B],w,E);break}case u.STROKE_TRIANGLE:{x.batchStrokeTriangle(C[++B],C[++B],C[++B],C[++B],C[++B],C[++B],R,w,E);break}case u.LINE_TO:{U!==null?U.points.push(new o(C[++B],C[++B],R)):(U=new s(C[++B],C[++B],R),V.push(U));break}case u.MOVE_TO:{U=new s(C[++B],C[++B],R),V.push(U);break}case u.SAVE:{a.push(w.copyToArray());break}case u.RESTORE:{w.copyFromArray(a.pop());break}case u.TRANSLATE:{et=C[++B],ct=C[++B],w.translate(et,ct);break}case u.SCALE:{et=C[++B],ct=C[++B],w.scale(et,ct);break}case u.ROTATE:{w.rotate(C[++B]);break}}d.pipelines.postBatch(v)}};h.exports=r},26479:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(61061),y=e(83419),f=e(51708),l=e(50792),o=e(46710),s=e(95540),a=e(35154),c=e(97022),r=e(41212),d=e(88492),v=e(35072),p=e(68287),m=new y({Extends:l,initialize:function(E,w,C){l.call(this),C?w&&!Array.isArray(w)&&(w=[w]):Array.isArray(w)?r(w[0])&&(C=w,w=null):r(w)&&(C=w,w=null),this.scene=E,this.children=new v,this.isParent=!0,this.type="Group",this.classType=s(C,"classType",p),this.name=s(C,"name",""),this.active=s(C,"active",!0),this.maxSize=s(C,"maxSize",-1),this.defaultKey=s(C,"defaultKey",null),this.defaultFrame=s(C,"defaultFrame",null),this.runChildUpdate=s(C,"runChildUpdate",!1),this.createCallback=s(C,"createCallback",null),this.removeCallback=s(C,"removeCallback",null),this.createMultipleCallback=s(C,"createMultipleCallback",null),this.internalCreateCallback=s(C,"internalCreateCallback",null),this.internalRemoveCallback=s(C,"internalRemoveCallback",null),w&&this.addMultiple(w),C&&this.createMultiple(C),this.on(f.ADDED_TO_SCENE,this.addedToScene,this),this.on(f.REMOVED_FROM_SCENE,this.removedFromScene,this)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},create:function(x,E,w,C,P,R){if(x===void 0&&(x=0),E===void 0&&(E=0),w===void 0&&(w=this.defaultKey),C===void 0&&(C=this.defaultFrame),P===void 0&&(P=!0),R===void 0&&(R=!0),this.isFull())return null;var M=new this.classType(this.scene,x,E,w,C);return M.addToDisplayList(this.scene.sys.displayList),M.addToUpdateList(),M.visible=P,M.setActive(R),this.add(M),M},createMultiple:function(x){if(this.isFull())return[];Array.isArray(x)||(x=[x]);var E=[];if(x[0].key)for(var w=0;w<x.length;w++){var C=this.createFromConfig(x[w]);E=E.concat(C)}return E},createFromConfig:function(x){if(this.isFull())return[];this.classType=s(x,"classType",this.classType);var E=s(x,"key",void 0),w=s(x,"frame",null),C=s(x,"visible",!0),P=s(x,"active",!0),R=[];if(E===void 0)return R;Array.isArray(E)||(E=[E]),Array.isArray(w)||(w=[w]);var M=s(x,"repeat",0),I=s(x,"randomKey",!1),D=s(x,"randomFrame",!1),L=s(x,"yoyo",!1),F=s(x,"quantity",!1),O=s(x,"frameQuantity",1),N=s(x,"max",0),b=d(E,w,{max:N,qty:F||O,random:I,randomB:D,repeat:M,yoyo:L});x.createCallback&&(this.createCallback=x.createCallback),x.removeCallback&&(this.removeCallback=x.removeCallback),x.internalCreateCallback&&(this.internalCreateCallback=x.internalCreateCallback),x.internalRemoveCallback&&(this.internalRemoveCallback=x.internalRemoveCallback);for(var V=0;V<b.length;V++){var Y=this.create(0,0,b[V].a,b[V].b,C,P);if(!Y)break;R.push(Y)}if(c(x,"setXY")){var W=a(x,"setXY.x",0),U=a(x,"setXY.y",0),z=a(x,"setXY.stepX",0),B=a(x,"setXY.stepY",0);u.SetXY(R,W,U,z,B)}if(c(x,"setRotation")){var X=a(x,"setRotation.value",0),G=a(x,"setRotation.step",0);u.SetRotation(R,X,G)}if(c(x,"setScale")){var H=a(x,"setScale.x",1),$=a(x,"setScale.y",H),k=a(x,"setScale.stepX",0),j=a(x,"setScale.stepY",0);u.SetScale(R,H,$,k,j)}if(c(x,"setOrigin")){var Q=a(x,"setOrigin.x",.5),J=a(x,"setOrigin.y",Q),q=a(x,"setOrigin.stepX",0),Z=a(x,"setOrigin.stepY",0);u.SetOrigin(R,Q,J,q,Z)}if(c(x,"setAlpha")){var it=a(x,"setAlpha.value",1),rt=a(x,"setAlpha.step",0);u.SetAlpha(R,it,rt)}if(c(x,"setDepth")){var et=a(x,"setDepth.value",0),ct=a(x,"setDepth.step",0);u.SetDepth(R,et,ct)}if(c(x,"setScrollFactor")){var pt=a(x,"setScrollFactor.x",1),mt=a(x,"setScrollFactor.y",pt),nt=a(x,"setScrollFactor.stepX",0),lt=a(x,"setScrollFactor.stepY",0);u.SetScrollFactor(R,pt,mt,nt,lt)}var ht=s(x,"hitArea",null),Tt=s(x,"hitAreaCallback",null);ht&&u.SetHitArea(R,ht,Tt);var It=s(x,"gridAlign",!1);return It&&u.GridAlign(R,It),this.createMultipleCallback&&this.createMultipleCallback.call(this,R),R},preUpdate:function(x,E){if(!(!this.runChildUpdate||this.children.size===0))for(var w=this.children.entries.slice(),C=0;C<w.length;C++){var P=w[C];P.active&&P.update(x,E)}},add:function(x,E){return E===void 0&&(E=!1),this.isFull()?this:(this.children.set(x),this.internalCreateCallback&&this.internalCreateCallback.call(this,x),this.createCallback&&this.createCallback.call(this,x),E&&(x.addToDisplayList(this.scene.sys.displayList),x.addToUpdateList()),x.on(f.DESTROY,this.remove,this),this)},addMultiple:function(x,E){if(E===void 0&&(E=!1),Array.isArray(x))for(var w=0;w<x.length;w++)this.add(x[w],E);return this},remove:function(x,E,w){return E===void 0&&(E=!1),w===void 0&&(w=!1),this.children.contains(x)?(this.children.delete(x),this.internalRemoveCallback&&this.internalRemoveCallback.call(this,x),this.removeCallback&&this.removeCallback.call(this,x),x.off(f.DESTROY,this.remove,this),w?x.destroy():E&&(x.removeFromDisplayList(),x.removeFromUpdateList()),this):this},clear:function(x,E){x===void 0&&(x=!1),E===void 0&&(E=!1);for(var w=this.children,C=0;C<w.size;C++){var P=w.entries[C];P.off(f.DESTROY,this.remove,this),E?P.destroy():x&&(P.removeFromDisplayList(),P.removeFromUpdateList())}return this.children.clear(),this},contains:function(x){return this.children.contains(x)},getChildren:function(){return this.children.entries},getLength:function(){return this.children.size},getMatching:function(x,E,w,C){return o(this.children.entries,x,E,w,C)},getFirst:function(x,E,w,C,P,R,M){return this.getHandler(!0,1,x,E,w,C,P,R,M)},getFirstNth:function(x,E,w,C,P,R,M,I){return this.getHandler(!0,x,E,w,C,P,R,M,I)},getLast:function(x,E,w,C,P,R,M){return this.getHandler(!1,1,x,E,w,C,P,R,M)},getLastNth:function(x,E,w,C,P,R,M,I){return this.getHandler(!1,x,E,w,C,P,R,M,I)},getHandler:function(x,E,w,C,P,R,M,I,D){w===void 0&&(w=!1),C===void 0&&(C=!1);var L,F,O=0,N=this.children.entries;if(x)for(F=0;F<N.length;F++)if(L=N[F],L.active===w){if(O++,O===E)break}else L=null;else for(F=N.length-1;F>=0;F--)if(L=N[F],L.active===w){if(O++,O===E)break}else L=null;return L?(typeof P=="number"&&(L.x=P),typeof R=="number"&&(L.y=R),L):C?this.create(P,R,M,I,D):null},get:function(x,E,w,C,P){return this.getFirst(!1,!0,x,E,w,C,P)},getFirstAlive:function(x,E,w,C,P,R){return this.getFirst(!0,x,E,w,C,P,R)},getFirstDead:function(x,E,w,C,P,R){return this.getFirst(!1,x,E,w,C,P,R)},playAnimation:function(x,E){return u.PlayAnimation(this.children.entries,x,E),this},isFull:function(){return this.maxSize===-1?!1:this.children.size>=this.maxSize},countActive:function(x){x===void 0&&(x=!0);for(var E=0,w=0;w<this.children.size;w++)this.children.entries[w].active===x&&E++;return E},getTotalUsed:function(){return this.countActive()},getTotalFree:function(){var x=this.getTotalUsed(),E=this.maxSize===-1?999999999999:this.maxSize;return E-x},setActive:function(x){return this.active=x,this},setName:function(x){return this.name=x,this},propertyValueSet:function(x,E,w,C,P){return u.PropertyValueSet(this.children.entries,x,E,w,C,P),this},propertyValueInc:function(x,E,w,C,P){return u.PropertyValueInc(this.children.entries,x,E,w,C,P),this},setX:function(x,E){return u.SetX(this.children.entries,x,E),this},setY:function(x,E){return u.SetY(this.children.entries,x,E),this},setXY:function(x,E,w,C){return u.SetXY(this.children.entries,x,E,w,C),this},incX:function(x,E){return u.IncX(this.children.entries,x,E),this},incY:function(x,E){return u.IncY(this.children.entries,x,E),this},incXY:function(x,E,w,C){return u.IncXY(this.children.entries,x,E,w,C),this},shiftPosition:function(x,E,w){return u.ShiftPosition(this.children.entries,x,E,w),this},angle:function(x,E){return u.Angle(this.children.entries,x,E),this},rotate:function(x,E){return u.Rotate(this.children.entries,x,E),this},rotateAround:function(x,E){return u.RotateAround(this.children.entries,x,E),this},rotateAroundDistance:function(x,E,w){return u.RotateAroundDistance(this.children.entries,x,E,w),this},setAlpha:function(x,E){return u.SetAlpha(this.children.entries,x,E),this},setTint:function(x,E,w,C){return u.SetTint(this.children.entries,x,E,w,C),this},setOrigin:function(x,E,w,C){return u.SetOrigin(this.children.entries,x,E,w,C),this},scaleX:function(x,E){return u.ScaleX(this.children.entries,x,E),this},scaleY:function(x,E){return u.ScaleY(this.children.entries,x,E),this},scaleXY:function(x,E,w,C){return u.ScaleXY(this.children.entries,x,E,w,C),this},setDepth:function(x,E){return u.SetDepth(this.children.entries,x,E),this},setBlendMode:function(x){return u.SetBlendMode(this.children.entries,x),this},setHitArea:function(x,E){return u.SetHitArea(this.children.entries,x,E),this},shuffle:function(){return u.Shuffle(this.children.entries),this},kill:function(x){this.children.contains(x)&&x.setActive(!1)},killAndHide:function(x){this.children.contains(x)&&(x.setActive(!1),x.setVisible(!1))},setVisible:function(x,E,w){return u.SetVisible(this.children.entries,x,E,w),this},toggleVisible:function(){return u.ToggleVisible(this.children.entries),this},destroy:function(x,E){x===void 0&&(x=!1),E===void 0&&(E=!1),!(!this.scene||this.ignoreDestroy)&&(this.emit(f.DESTROY,this),this.removeAllListeners(),this.scene.sys.updateList.remove(this),this.clear(E,x),this.scene=void 0,this.children=void 0)}});h.exports=m},94975:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(44603),y=e(26479);u.register("group",function(f){return new y(this.scene,null,f)})},3385:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(26479),y=e(39429);y.register("group",function(f,l){return this.updateList.add(new u(this.scene,f,l))})},88571:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(31401),f=e(95643),l=e(59819),o=new u({Extends:f,Mixins:[y.Alpha,y.BlendMode,y.Depth,y.Flip,y.GetBounds,y.Mask,y.Origin,y.Pipeline,y.PostPipeline,y.ScrollFactor,y.Size,y.TextureCrop,y.Tint,y.Transform,y.Visible,l],initialize:function(a,c,r,d,v){f.call(this,a,"Image"),this._crop=this.resetCropObject(),this.setTexture(d,v),this.setPosition(c,r),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)}});h.exports=o},40652:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u,y,f){y.addToRenderList(u),e.batchSprite(u,u.frame,y,f)};h.exports=S},82459:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(25305),y=e(44603),f=e(23568),l=e(88571);y.register("image",function(o,s){o===void 0&&(o={});var a=f(o,"key",null),c=f(o,"frame",null),r=new l(this.scene,0,0,a,c);return s!==void 0&&(o.add=s),u(this.scene,r,o),r})},2117:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(88571),y=e(39429);y.register("image",function(f,l,o,s){return this.displayList.add(new u(this.scene,f,l,o,s))})},59819:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(29747),y=u,f=u;y=e(99517),f=e(40652),h.exports={renderWebGL:y,renderCanvas:f}},99517:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u,y,f){y.addToRenderList(u),this.pipeline.batchSprite(u,y,f)};h.exports=S},77856:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u={Events:e(51708),DisplayList:e(8050),GameObjectCreator:e(44603),GameObjectFactory:e(39429),UpdateList:e(45027),Components:e(31401),GetCalcMatrix:e(91296),BuildGameObject:e(25305),BuildGameObjectAnimation:e(13059),GameObject:e(95643),BitmapText:e(22186),Blitter:e(6107),Bob:e(46590),Container:e(31559),DOMElement:e(3069),DynamicBitmapText:e(2638),Extern:e(42421),Graphics:e(43831),Group:e(26479),Image:e(88571),Layer:e(93595),Particles:e(18404),PathFollower:e(1159),RenderTexture:e(591),RetroFont:e(196),Rope:e(77757),Sprite:e(68287),Text:e(50171),GetTextSize:e(14220),MeasureText:e(79557),TextStyle:e(35762),TileSprite:e(20839),Zone:e(41481),Video:e(18471),Shape:e(17803),Arc:e(23629),Curve:e(89),Ellipse:e(19921),Grid:e(30479),IsoBox:e(61475),IsoTriangle:e(16933),Line:e(57847),Polygon:e(24949),Rectangle:e(74561),Star:e(55911),Triangle:e(36931),Factories:{Blitter:e(12709),Container:e(24961),DOMElement:e(2611),DynamicBitmapText:e(72566),Extern:e(56315),Graphics:e(1201),Group:e(3385),Image:e(2117),Layer:e(20005),Particles:e(676),PathFollower:e(90145),RenderTexture:e(60505),Rope:e(96819),Sprite:e(46409),StaticBitmapText:e(34914),Text:e(68005),TileSprite:e(91681),Zone:e(84175),Video:e(89025),Arc:e(42563),Curve:e(40511),Ellipse:e(1543),Grid:e(34137),IsoBox:e(3933),IsoTriangle:e(49803),Line:e(2481),Polygon:e(64827),Rectangle:e(87959),Star:e(93697),Triangle:e(45245)},Creators:{Blitter:e(9403),Container:e(77143),DynamicBitmapText:e(11164),Graphics:e(87079),Group:e(94975),Image:e(82459),Layer:e(25179),Particles:e(92730),RenderTexture:e(34495),Rope:e(26209),Sprite:e(15567),StaticBitmapText:e(57336),Text:e(71259),TileSprite:e(14167),Zone:e(95261),Video:e(11511)}};u.Shader=e(20071),u.Mesh=e(4703),u.NineSlice=e(28103),u.PointLight=e(80321),u.Plane=e(33663),u.Factories.Shader=e(74177),u.Factories.Mesh=e(9225),u.Factories.NineSlice=e(47521),u.Factories.PointLight=e(71255),u.Factories.Plane=e(30985),u.Creators.Shader=e(54935),u.Creators.Mesh=e(20527),u.Creators.NineSlice=e(28279),u.Creators.PointLight=e(39829),u.Creators.Plane=e(56015),u.Light=e(41432),u.LightsManager=e(61356),u.LightsPlugin=e(88992),h.exports=u},93595:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(10312),y=e(83419),f=e(31401),l=e(53774),o=e(45893),s=e(50792),a=e(51708),c=e(73162),r=e(33963),d=e(44594),v=e(19186),p=new y({Extends:c,Mixins:[f.AlphaSingle,f.BlendMode,f.Depth,f.Mask,f.PostPipeline,f.Visible,s,r],initialize:function(x,E){c.call(this,x),s.call(this),this.scene=x,this.displayList=null,this.type="Layer",this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.systems=x.sys,this.events=x.sys.events,this.sortChildrenFlag=!1,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.initPostPipeline(),this.clearAlpha(),this.setBlendMode(u.SKIP_CHECK),E&&this.add(E),x.sys.queueDepthSort()},setActive:function(m){return this.active=m,this},setName:function(m){return this.name=m,this},setState:function(m){return this.state=m,this},setDataEnabled:function(){return this.data||(this.data=new o(this)),this},setData:function(m,x){return this.data||(this.data=new o(this)),this.data.set(m,x),this},incData:function(m,x){return this.data||(this.data=new o(this)),this.data.inc(m,x),this},toggleData:function(m){return this.data||(this.data=new o(this)),this.data.toggle(m),this},getData:function(m){return this.data||(this.data=new o(this)),this.data.get(m)},setInteractive:function(){return this},disableInteractive:function(){return this},removeInteractive:function(){return this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return l(this)},willRender:function(m){return!(this.renderFlags!==15||this.list.length===0||this.cameraFilter!==0&&this.cameraFilter&m.id)},getIndexList:function(){for(var m=this,x=this.parentContainer,E=[];x&&(E.unshift(x.getIndex(m)),m=x,x.parentContainer);)x=x.parentContainer;return E.unshift(this.displayList.getIndex(m)),E},addChildCallback:function(m){var x=m.displayList;x&&x!==this&&m.removeFromDisplayList(),m.displayList||(this.queueDepthSort(),m.displayList=this,m.emit(a.ADDED_TO_SCENE,m,this.scene),this.events.emit(d.ADDED_TO_SCENE,m,this.scene))},removeChildCallback:function(m){this.queueDepthSort(),m.displayList=null,m.emit(a.REMOVED_FROM_SCENE,m,this.scene),this.events.emit(d.REMOVED_FROM_SCENE,m,this.scene)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(v(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(m,x){return m._depth-x._depth},getChildren:function(){return this.list},addToDisplayList:function(m){return m===void 0&&(m=this.scene.sys.displayList),this.displayList&&this.displayList!==m&&this.removeFromDisplayList(),m.exists(this)||(this.displayList=m,m.add(this,!0),m.queueDepthSort(),this.emit(a.ADDED_TO_SCENE,this,this.scene),m.events.emit(d.ADDED_TO_SCENE,this,this.scene)),this},removeFromDisplayList:function(){var m=this.displayList||this.scene.sys.displayList;return m.exists(this)&&(m.remove(this,!0),m.queueDepthSort(),this.displayList=null,this.emit(a.REMOVED_FROM_SCENE,this,this.scene),m.events.emit(d.REMOVED_FROM_SCENE,this,this.scene)),this},getDisplayList:function(){var m=null;return this.parentContainer?m=this.parentContainer.list:this.displayList&&(m=this.displayList.list),m},destroy:function(m){if(!(!this.scene||this.ignoreDestroy)){this.emit(a.DESTROY,this);for(var x=this.list;x.length;)x[0].destroy(m);this.removeAllListeners(),this.resetPostPipeline(!0),this.displayList&&(this.displayList.remove(this,!0,!1),this.displayList.queueDepthSort()),this.data&&(this.data.destroy(),this.data=void 0),this.active=!1,this.visible=!1,this.list=void 0,this.scene=void 0,this.displayList=void 0,this.systems=void 0,this.events=void 0}}});h.exports=p},2956:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u,y){var f=u.list;if(f.length!==0){u.depthSort();var l=u.blendMode!==-1;l||e.setBlendMode(0);var o=u._alpha;u.mask&&u.mask.preRenderCanvas(e,null,y);for(var s=0;s<f.length;s++){var a=f[s];if(a.willRender(y)){var c=a.alpha;!l&&a.blendMode!==e.currentBlendMode&&e.setBlendMode(a.blendMode),a.setAlpha(c*o),a.renderCanvas(e,a,y),a.setAlpha(c)}}u.mask&&u.mask.postRenderCanvas(e)}};h.exports=S},25179:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(25305),y=e(93595),f=e(44603),l=e(23568);f.register("layer",function(o,s){o===void 0&&(o={});var a=l(o,"children",null),c=new y(this.scene,a);return s!==void 0&&(o.add=s),u(this.scene,c,o),c})},20005:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(93595),y=e(39429);y.register("layer",function(f){return this.displayList.add(new u(this.scene,f))})},33963:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(29747),y=u,f=u;y=e(15869),f=e(2956),h.exports={renderWebGL:y,renderCanvas:f}},15869:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u,y){var f=u.list,l=f.length;if(l!==0){u.depthSort(),e.pipelines.preBatch(u);var o=u.blendMode!==-1;o||e.setBlendMode(0);for(var s=u.alpha,a=0;a<l;a++){var c=f[a];if(c.willRender(y)){var r,d,v,p;if(c.alphaTopLeft!==void 0)r=c.alphaTopLeft,d=c.alphaTopRight,v=c.alphaBottomLeft,p=c.alphaBottomRight;else{var m=c.alpha;r=m,d=m,v=m,p=m}!o&&c.blendMode!==e.currentBlendMode&&e.setBlendMode(c.blendMode);var x=c.mask;x&&x.preRenderWebGL(e,c,y);var E=c.type;E!==e.currentType&&(e.newType=!0,e.currentType=E),e.nextTypeMatch=a<l-1?f[a+1].type===e.currentType:!1,c.setAlpha(r*s,d*s,v*s,p*s),c.renderWebGL(e,c,y),c.setAlpha(r,d,v,p),x&&x.postRenderWebGL(e,y),e.newType=!1}}e.pipelines.postBatch(u)}};h.exports=S},41432:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(96503),y=e(83419),f=e(31401),l=e(51767),o=e(70554),s=new y({Extends:u,Mixins:[f.Origin,f.ScrollFactor,f.Visible],initialize:function(c,r,d,v,p,m,x){u.call(this,c,r,d),this.color=new l(v,p,m),this.intensity=x,this.renderFlags=15,this.cameraFilter=0,this.setScrollFactor(1,1),this.setOrigin(),this.setDisplayOrigin(d)},displayWidth:{get:function(){return this.diameter},set:function(a){this.diameter=a}},displayHeight:{get:function(){return this.diameter},set:function(a){this.diameter=a}},width:{get:function(){return this.diameter},set:function(a){this.diameter=a}},height:{get:function(){return this.diameter},set:function(a){this.diameter=a}},willRender:function(a){return!(s.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&a.id)},setColor:function(a){var c=o.getFloatsFromUintRGB(a);return this.color.set(c[0],c[1],c[2]),this},setIntensity:function(a){return this.intensity=a,this},setRadius:function(a){return this.radius=a,this}});s.RENDER_MASK=15,h.exports=s},61356:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(81491),y=e(83419),f=e(20339),l=e(41432),o=e(80321),s=e(51767),a=e(19133),c=e(19186),r=e(70554),d=new y({initialize:function(){this.lights=[],this.ambientColor=new s(.1,.1,.1),this.active=!1,this.maxLights=-1,this.visibleLights=0},addPointLight:function(v,p,m,x,E,w){return this.systems.displayList.add(new o(this.scene,v,p,m,x,E,w))},enable:function(){return this.maxLights===-1&&(this.maxLights=this.systems.renderer.config.maxLights),this.active=!0,this},disable:function(){return this.active=!1,this},getLights:function(v){for(var p=this.lights,m=v.worldView,x=[],E=0;E<p.length;E++){var w=p[E];w.willRender(v)&&u(w,m)&&x.push({light:w,distance:f(w.x,w.y,m.centerX,m.centerY)})}return x.length>this.maxLights&&(c(x,this.sortByDistance),x=x.slice(0,this.maxLights)),this.visibleLights=x.length,x},sortByDistance:function(v,p){return v.distance>=p.distance},setAmbientColor:function(v){var p=r.getFloatsFromUintRGB(v);return this.ambientColor.set(p[0],p[1],p[2]),this},getMaxVisibleLights:function(){return this.maxLights},getLightCount:function(){return this.lights.length},addLight:function(v,p,m,x,E){v===void 0&&(v=0),p===void 0&&(p=0),m===void 0&&(m=128),x===void 0&&(x=16777215),E===void 0&&(E=1);var w=r.getFloatsFromUintRGB(x),C=new l(v,p,m,w[0],w[1],w[2],E);return this.lights.push(C),C},removeLight:function(v){var p=this.lights.indexOf(v);return p>=0&&a(this.lights,p),this},shutdown:function(){this.lights.length=0},destroy:function(){this.shutdown()}});h.exports=d},88992:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(61356),f=e(37277),l=e(44594),o=new u({Extends:y,initialize:function(a){this.scene=a,this.systems=a.sys,a.sys.settings.isBooted||a.sys.events.once(l.BOOT,this.boot,this),y.call(this)},boot:function(){var s=this.systems.events;s.on(l.SHUTDOWN,this.shutdown,this),s.on(l.DESTROY,this.destroy,this)},destroy:function(){this.shutdown(),this.scene=void 0,this.systems=void 0}});f.register("LightsPlugin",o,"lights"),h.exports=o},4703:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(31401),f=e(39506),l=e(83997),o=e(95643),s=e(34684),a=e(92515),c=e(91296),r=e(37867),d=e(29807),v=e(43396),p=e(19186),m=e(25836),x=e(39318),E=new u({Extends:o,Mixins:[y.AlphaSingle,y.BlendMode,y.Depth,y.Mask,y.Pipeline,y.PostPipeline,y.ScrollFactor,y.Size,y.Texture,y.Transform,y.Visible,d],initialize:function(C,P,R,M,I,D,L,F,O,N,b,V){P===void 0&&(P=0),R===void 0&&(R=0),M===void 0&&(M="__WHITE"),o.call(this,C,"Mesh"),this.faces=[],this.vertices=[],this.tintFill=!1,this.debugCallback=null,this.debugGraphic=null,this.hideCCW=!0,this.modelPosition=new m,this.modelScale=new m(1,1,1),this.modelRotation=new m,this.dirtyCache=[0,0,0,0,0,0,0,0,0,0,0,0],this.transformMatrix=new r,this.viewPosition=new m,this.viewMatrix=new r,this.projectionMatrix=new r,this.totalRendered=0,this.totalFrame=0,this.ignoreDirtyCache=!1,this.fov,this.displayOriginX=0,this.displayOriginY=0;var Y=C.sys.renderer;this.setPosition(P,R),this.setTexture(M,I),this.setSize(Y.width,Y.height),this.initPipeline(),this.initPostPipeline(),this.setPerspective(Y.width,Y.height),D&&this.addVertices(D,L,F,O,N,b,V)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},panX:function(w){return this.viewPosition.addScale(m.LEFT,w),this.dirtyCache[10]=1,this},panY:function(w){return this.viewPosition.y+=m.DOWN.y*w,this.dirtyCache[10]=1,this},panZ:function(w){return this.viewPosition.z+=w,this.dirtyCache[10]=1,this},setPerspective:function(w,C,P,R,M){return P===void 0&&(P=45),R===void 0&&(R=.01),M===void 0&&(M=1e3),this.fov=P,this.projectionMatrix.perspective(f(P),w/C,R,M),this.dirtyCache[10]=1,this.dirtyCache[11]=0,this},setOrtho:function(w,C,P,R){return w===void 0&&(w=this.scene.sys.renderer.getAspectRatio()),C===void 0&&(C=1),P===void 0&&(P=-1e3),R===void 0&&(R=1e3),this.fov=0,this.projectionMatrix.ortho(-w,w,-C,C,P,R),this.dirtyCache[10]=1,this.dirtyCache[11]=1,this},clear:function(){return this.faces.forEach(function(w){w.destroy()}),this.faces=[],this.vertices=[],this},addVerticesFromObj:function(w,C,P,R,M,I,D,L,F){var O=this.scene.sys.cache.obj.get(w),N;return O&&(N=s(O,this,C,P,R,M,I,D,L,F)),(!N||N.verts.length===0)&&console.warn("Mesh.addVerticesFromObj data empty:",w),this},sortByDepth:function(w,C){return w.depth-C.depth},depthSort:function(){return p(this.faces,this.sortByDepth),this},addVertex:function(w,C,P,R,M,I,D){var L=new x(w,C,P,R,M,I,D);return this.vertices.push(L),L},addFace:function(w,C,P){var R=new l(w,C,P);return this.faces.push(R),this.dirtyCache[9]=-1,R},addVertices:function(w,C,P,R,M,I,D){var L=a(w,C,P,R,M,I,D);return L?(this.faces=this.faces.concat(L.faces),this.vertices=this.vertices.concat(L.vertices)):console.warn("Mesh.addVertices data empty or invalid"),this.dirtyCache[9]=-1,this},getFaceCount:function(){return this.faces.length},getVertexCount:function(){return this.vertices.length},getFace:function(w){return this.faces[w]},hasFaceAt:function(w,C,P){P===void 0&&(P=this.scene.sys.cameras.main);for(var R=c(this,P).calc,M=this.faces,I=0;I<M.length;I++){var D=M[I];if(D.contains(w,C,R))return!0}return!1},getFaceAt:function(w,C,P){P===void 0&&(P=this.scene.sys.cameras.main);for(var R=c(this,P).calc,M=this.faces,I=[],D=0;D<M.length;D++){var L=M[D];L.contains(w,C,R)&&I.push(L)}return p(I,this.sortByDepth)},setDebug:function(w,C){return this.debugGraphic=w,!w&&!C?this.debugCallback=null:C?this.debugCallback=C:this.debugCallback=this.renderDebug,this},isDirty:function(){var w=this.modelPosition,C=this.modelRotation,P=this.modelScale,R=this.dirtyCache,M=w.x,I=w.y,D=w.z,L=C.x,F=C.y,O=C.z,N=P.x,b=P.y,V=P.z,Y=this.getFaceCount(),W=R[0],U=R[1],z=R[2],B=R[3],X=R[4],G=R[5],H=R[6],$=R[7],k=R[8],j=R[9];return R[0]=M,R[1]=I,R[2]=D,R[3]=L,R[4]=F,R[5]=O,R[6]=N,R[7]=b,R[8]=V,R[9]=Y,W!==M||U!==I||z!==D||B!==L||X!==F||G!==O||H!==N||$!==b||k!==V||j!==Y},preUpdate:function(){this.totalRendered=this.totalFrame,this.totalFrame=0;var w=this.dirtyCache;if(!(!this.ignoreDirtyCache&&!w[10]&&!this.isDirty())){var C=this.width,P=this.height,R=this.viewMatrix,M=this.viewPosition;w[10]&&(R.identity(),R.translate(M),R.invert(),w[10]=0);var I=this.transformMatrix;I.setWorldMatrix(this.modelRotation,this.modelPosition,this.modelScale,this.viewMatrix,this.projectionMatrix);for(var D=M.z,L=this.faces,F=0;F<L.length;F++)L[F].transformCoordinatesLocal(I,C,P,D);this.depthSort()}},renderDebug:function(w,C){for(var P=w.debugGraphic,R=0;R<C.length;R++){var M=C[R],I=M.vertex1.tx,D=M.vertex1.ty,L=M.vertex2.tx,F=M.vertex2.ty,O=M.vertex3.tx,N=M.vertex3.ty;P.strokeTriangle(I,D,L,F,O,N)}},preDestroy:function(){this.clear(),this.debugCallback=null,this.debugGraphic=null},clearTint:function(){return this.setTint()},setInteractive:function(w){w===void 0&&(w={});var C=(function(P,R,M){for(var I=this.faces,D=0;D<I.length;D++){var L=I[D];if(L.contains(R,M))return!0}return!1}).bind(this);return this.scene.sys.input.enable(this,w,C),this},setTint:function(w){w===void 0&&(w=16777215);for(var C=this.vertices,P=0;P<C.length;P++)C[P].color=w;return this},uvScroll:function(w,C){for(var P=this.faces,R=0;R<P.length;R++)P[R].scrollUV(w,C);return this},uvScale:function(w,C){for(var P=this.faces,R=0;R<P.length;R++)P[R].scaleUV(w,C);return this},tint:{set:function(w){this.setTint(w)}},rotateX:{get:function(){return v(this.modelRotation.x)},set:function(w){this.modelRotation.x=f(w)}},rotateY:{get:function(){return v(this.modelRotation.y)},set:function(w){this.modelRotation.y=f(w)}},rotateZ:{get:function(){return v(this.modelRotation.z)},set:function(w){this.modelRotation.z=f(w)}}});h.exports=E},36488:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(){};h.exports=S},20527:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(25305),y=e(44603),f=e(23568),l=e(35154),o=e(4703);y.register("mesh",function(s,a){s===void 0&&(s={});var c=f(s,"key",null),r=f(s,"frame",null),d=l(s,"vertices",[]),v=l(s,"uvs",[]),p=l(s,"indicies",[]),m=l(s,"containsZ",!1),x=l(s,"normals",[]),E=l(s,"colors",16777215),w=l(s,"alphas",1),C=new o(this.scene,0,0,c,r,d,v,p,m,x,E,w);return a!==void 0&&(s.add=a),u(this.scene,C,s),C})},9225:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(4703),y=e(39429);y.register("mesh",function(f,l,o,s,a,c,r,d,v,p,m){return this.displayList.add(new u(this.scene,f,l,o,s,a,c,r,d,v,p,m))})},29807:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(29747),y=u,f=u;y=e(48833),f=e(36488),h.exports={renderWebGL:y,renderCanvas:f}},48833:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(91296),y=function(f,l,o,s){var a=l.faces,c=a.length;if(c!==0){o.addToRenderList(l);var r=f.pipelines.set(l.pipeline,l),d=u(l,o,s).calc;f.pipelines.preBatch(l);for(var v=r.setGameObject(l),p=r.vertexViewF32,m=r.vertexViewU32,x=r.vertexCount*r.currentShader.vertexComponentCount-1,E=l.tintFill,w=[],C=l.debugCallback,P=d.a,R=d.b,M=d.c,I=d.d,D=d.e,L=d.f,F=l.viewPosition.z,O=l.hideCCW,N=o.roundPixels,b=o.alpha*l.alpha,V=0,Y=0;Y<c;Y++){var W=a[Y];W.isInView(o,O,F,b,P,R,M,I,D,L,N)&&(r.shouldFlush(3)&&(r.flush(),v=r.setGameObject(l),x=r.vertexCount*r.currentShader.vertexComponentCount-1),x=W.load(p,m,x,v,E),V++,r.vertexCount+=3,r.currentBatch.count=r.vertexCount-r.currentBatch.start,C&&w.push(W))}l.totalFrame+=V,C&&C.call(l,l,w),f.pipelines.postBatch(l)}};h.exports=y},28103:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(31401),f=e(95643),l=e(78023),o=e(39318),s=new u({Extends:f,Mixins:[y.AlphaSingle,y.BlendMode,y.Depth,y.GetBounds,y.Mask,y.Origin,y.Pipeline,y.PostPipeline,y.ScrollFactor,y.Texture,y.Transform,y.Visible,l],initialize:function(c,r,d,v,p,m,x,E,w,C,P){f.call(this,c,"NineSlice"),this._width,this._height,this._originX=.5,this._originY=.5,this._sizeComponent=!0,this.vertices=[],this.leftWidth,this.rightWidth,this.topHeight,this.bottomHeight,this.tint=16777215,this.tintFill=!1;var R=c.textures.getFrame(v,p);this.is3Slice=!C&&!P,R&&R.scale9&&(this.is3Slice=R.is3Slice);for(var M=this.is3Slice?18:54,I=0;I<M;I++)this.vertices.push(new o);this.setPosition(r,d),this.setTexture(v,p),this.setSlices(m,x,E,w,C,P,!1),this.updateDisplayOrigin(),this.initPipeline(),this.initPostPipeline()},setSlices:function(a,c,r,d,v,p,m){r===void 0&&(r=10),d===void 0&&(d=10),v===void 0&&(v=0),p===void 0&&(p=0),m===void 0&&(m=!1);var x=this.frame,E=!1;if(this.is3Slice&&m&&v!==0&&p!==0&&(E=!0),E)console.warn("Cannot change 9 slice to 3 slice");else{if(x&&x.scale9&&!m){var w=x.data.scale9Borders,C=w.x,P=w.y;r=C,d=x.width-w.w-C,v=P,p=x.height-w.h-P,a===void 0&&(a=x.width),c===void 0&&(c=x.height)}else a===void 0&&(a=256),c===void 0&&(c=256);this._width=a,this._height=c,this.leftWidth=r,this.rightWidth=d,this.topHeight=v,this.bottomHeight=p,this.is3Slice&&(c=x.height,this._height=c,this.topHeight=c,this.bottomHeight=0),this.updateVertices(),this.updateUVs()}return this},updateUVs:function(){var a=this.leftWidth,c=this.rightWidth,r=this.topHeight,d=this.bottomHeight,v=this.frame.width,p=this.frame.height;this.updateQuadUVs(0,0,0,a/v,r/p),this.updateQuadUVs(6,a/v,0,1-c/v,r/p),this.updateQuadUVs(12,1-c/v,0,1,r/p),this.is3Slice||(this.updateQuadUVs(18,0,r/p,a/v,1-d/p),this.updateQuadUVs(24,a/v,r/p,1-c/v,1-d/p),this.updateQuadUVs(30,1-c/v,r/p,1,1-d/p),this.updateQuadUVs(36,0,1-d/p,a/v,1),this.updateQuadUVs(42,a/v,1-d/p,1-c/v,1),this.updateQuadUVs(48,1-c/v,1-d/p,1,1))},updateVertices:function(){var a=this.leftWidth,c=this.rightWidth,r=this.topHeight,d=this.bottomHeight,v=this.width,p=this.height;this.updateQuad(0,-.5,.5,-.5+a/v,.5-r/p),this.updateQuad(6,-.5+a/v,.5,.5-c/v,.5-r/p),this.updateQuad(12,.5-c/v,.5,.5,.5-r/p),this.is3Slice||(this.updateQuad(18,-.5,.5-r/p,-.5+a/v,-.5+d/p),this.updateQuad(24,-.5+a/v,.5-r/p,.5-c/v,-.5+d/p),this.updateQuad(30,.5-c/v,.5-r/p,.5,-.5+d/p),this.updateQuad(36,-.5,-.5+d/p,-.5+a/v,-.5),this.updateQuad(42,-.5+a/v,-.5+d/p,.5-c/v,-.5),this.updateQuad(48,.5-c/v,-.5+d/p,.5,-.5))},updateQuad:function(a,c,r,d,v){var p=this.width,m=this.height,x=this.originX,E=this.originY,w=this.vertices;w[a+0].resize(c,r,p,m,x,E),w[a+1].resize(c,v,p,m,x,E),w[a+2].resize(d,r,p,m,x,E),w[a+3].resize(c,v,p,m,x,E),w[a+4].resize(d,v,p,m,x,E),w[a+5].resize(d,r,p,m,x,E)},updateQuadUVs:function(a,c,r,d,v){var p=this.vertices,m=this.frame,x=m.u0,E=m.v0,w=m.u1,C=m.v1;if(x!==0||w!==1){var P=w-x;c=x+c*P,d=x+d*P}if(E!==0||C!==1){var R=C-E;r=E+r*R,v=E+v*R}p[a+0].setUVs(c,r),p[a+1].setUVs(c,v),p[a+2].setUVs(d,r),p[a+3].setUVs(c,v),p[a+4].setUVs(d,v),p[a+5].setUVs(d,r)},clearTint:function(){return this.setTint(16777215),this},setTint:function(a){return a===void 0&&(a=16777215),this.tint=a,this.tintFill=!1,this},setTintFill:function(a){return this.setTint(a),this.tintFill=!0,this},isTinted:{get:function(){return this.tint!==16777215}},width:{get:function(){return this._width},set:function(a){this._width=Math.max(a,this.leftWidth+this.rightWidth),this.updateVertices()}},height:{get:function(){return this._height},set:function(a){this.is3Slice||(this._height=Math.max(a,this.topHeight+this.bottomHeight),this.updateVertices())}},displayWidth:{get:function(){return this.scaleX*this.width},set:function(a){this.scaleX=a/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(a){this.scaleY=a/this.height}},setSize:function(a,c){this.width=a,this.height=c,this.updateDisplayOrigin();var r=this.input;return r&&!r.customHitArea&&(r.hitArea.width=this.width,r.hitArea.height=this.height),this},setDisplaySize:function(a,c){return this.displayWidth=a,this.displayHeight=c,this},originX:{get:function(){return this._originX},set:function(a){this._originX=a,this.updateVertices()}},originY:{get:function(){return this._originY},set:function(a){this._originY=a,this.updateVertices()}},setOrigin:function(a,c){return a===void 0&&(a=.5),c===void 0&&(c=a),this._originX=a,this._originY=c,this.updateVertices(),this.updateDisplayOrigin()},setSizeToFrame:function(){if(this.is3Slice){var a=this.frame.height;this._height=a,this.topHeight=a,this.bottomHeight=0}return this.updateUVs(),this},preDestroy:function(){this.vertices=[]}});h.exports=s},28279:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(25305),y=e(44603),f=e(23568),l=e(35154),o=e(28103);y.register("nineslice",function(s,a){s===void 0&&(s={});var c=f(s,"key",null),r=f(s,"frame",null),d=l(s,"width",256),v=l(s,"height",256),p=l(s,"leftWidth",10),m=l(s,"rightWidth",10),x=l(s,"topHeight",0),E=l(s,"bottomHeight",0),w=new o(this.scene,0,0,c,r,d,v,p,m,x,E);return a!==void 0&&(s.add=a),u(this.scene,w,s),w})},47521:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(28103),y=e(39429);y.register("nineslice",function(f,l,o,s,a,c,r,d,v,p){return this.displayList.add(new u(this.scene,f,l,o,s,a,c,r,d,v,p))})},78023:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(29747),y=u,f=u;y=e(52230),h.exports={renderWebGL:y,renderCanvas:f}},52230:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(91296),y=e(70554),f=function(l,o,s,a){var c=o.vertices,r=c.length;if(r!==0){s.addToRenderList(o);var d=l.pipelines.set(o.pipeline,o),v=u(o,s,a,!1).calc;l.pipelines.preBatch(o);var p=d.setGameObject(o),m=d.vertexViewF32,x=d.vertexViewU32,E=d.vertexCount*d.currentShader.vertexComponentCount-1,w=s.roundPixels,C=o.tintFill,P=s.alpha*o.alpha,R=y.getTintAppendFloatAlpha(o.tint,P),M=d.vertexAvailable(),I=-1;M<r&&(I=M);for(var D=0;D<r;D++){var L=c[D];D===I&&(d.flush(),p=d.setGameObject(o),E=0),m[++E]=v.getXRound(L.vx,L.vy,w),m[++E]=v.getYRound(L.vx,L.vy,w),m[++E]=L.u,m[++E]=L.v,m[++E]=p,m[++E]=C,x[++E]=R,d.vertexCount++,d.currentBatch.count=d.vertexCount-d.currentBatch.start}l.pipelines.postBatch(o)}};h.exports=f},76472:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(44777),f=e(37589),l=e(6113),o=e(91389),s=e(90664),a=new u({Extends:y,initialize:function(r){y.call(this,r,null,!1),this.active=!1,this.easeName="Linear",this.r=[],this.g=[],this.b=[]},getMethod:function(){return this.propertyValue===null?0:9},setMethods:function(){var c=this.propertyValue,r=c,d=this.defaultEmit,v=this.defaultUpdate;if(this.method===9){this.start=c[0],this.ease=l("Linear"),this.interpolation=o("linear"),d=this.easedValueEmit,v=this.easeValueUpdate,r=c[0],this.active=!0,this.r.length=0,this.g.length=0,this.b.length=0;for(var p=0;p<c.length;p++){var m=s(c[p]);this.r.push(m.r),this.g.push(m.g),this.b.push(m.b)}}return this.onEmit=d,this.onUpdate=v,this.current=r,this},setEase:function(c){this.easeName=c,this.ease=l(c)},easedValueEmit:function(){return this.current=this.start,this.start},easeValueUpdate:function(c,r,d){var v=this.ease(d),p=this.interpolation(this.r,v),m=this.interpolation(this.g,v),x=this.interpolation(this.b,v),E=f(p,m,x);return this.current=E,E}});h.exports=a},44777:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(30976),y=e(45319),f=e(83419),l=e(99472),o=e(6113),s=e(95540),a=e(91389),c=e(77720),r=e(15994),d=new f({initialize:function(p,m,x){x===void 0&&(x=!1),this.propertyKey=p,this.propertyValue=m,this.defaultValue=m,this.steps=0,this.counter=0,this.yoyo=!1,this.direction=0,this.start=0,this.current=0,this.end=0,this.ease=null,this.interpolation=null,this.emitOnly=x,this.onEmit=this.defaultEmit,this.onUpdate=this.defaultUpdate,this.active=!0,this.method=0,this._onEmit,this._onUpdate},loadConfig:function(v,p){v===void 0&&(v={}),p&&(this.propertyKey=p),this.propertyValue=s(v,this.propertyKey,this.defaultValue),this.method=this.getMethod(),this.setMethods(),this.emitOnly&&(this.onUpdate=this.defaultUpdate)},toJSON:function(){return JSON.stringify(this.propertyValue)},onChange:function(v){var p;switch(this.method){case 1:case 3:case 8:p=v;break;case 2:this.propertyValue.indexOf(v)>=0&&(p=v);break;case 4:var m=(this.end-this.start)/this.steps;p=c(v,m),this.counter=p;break;case 5:case 6:case 7:p=y(v,this.start,this.end);break;case 9:p=this.start[0];break}return this.current=p,this},getMethod:function(){var v=this.propertyValue;if(v===null)return 0;var p=typeof v;if(p==="number")return 1;if(Array.isArray(v))return 2;if(p==="function")return 3;if(p==="object"){if(this.hasBoth(v,"start","end"))return this.has(v,"steps")?4:5;if(this.hasBoth(v,"min","max"))return 6;if(this.has(v,"random"))return 7;if(this.hasEither(v,"onEmit","onUpdate"))return 8;if(this.hasEither(v,"values","interpolation"))return 9}return 0},setMethods:function(){var v=this.propertyValue,p=v,m=this.defaultEmit,x=this.defaultUpdate;switch(this.method){case 1:m=this.staticValueEmit;break;case 2:m=this.randomStaticValueEmit,p=v[0];break;case 3:this._onEmit=v,m=this.proxyEmit,p=this.defaultValue;break;case 4:this.start=v.start,this.end=v.end,this.steps=v.steps,this.counter=this.start,this.yoyo=this.has(v,"yoyo")?v.yoyo:!1,this.direction=0,m=this.steppedEmit,p=this.start;break;case 5:this.start=v.start,this.end=v.end;var E=this.has(v,"ease")?v.ease:"Linear";this.ease=o(E,v.easeParams),m=this.has(v,"random")&&v.random?this.randomRangedValueEmit:this.easedValueEmit,x=this.easeValueUpdate,p=this.start;break;case 6:this.start=v.min,this.end=v.max,m=this.has(v,"int")&&v.int?this.randomRangedIntEmit:this.randomRangedValueEmit,p=this.start;break;case 7:var w=v.random;Array.isArray(w)&&(this.start=w[0],this.end=w[1]),m=this.randomRangedIntEmit,p=this.start;break;case 8:this._onEmit=this.has(v,"onEmit")?v.onEmit:this.defaultEmit,this._onUpdate=this.has(v,"onUpdate")?v.onUpdate:this.defaultUpdate,m=this.proxyEmit,x=this.proxyUpdate,p=this.defaultValue;break;case 9:this.start=v.values;var C=this.has(v,"ease")?v.ease:"Linear";this.ease=o(C,v.easeParams),this.interpolation=a(v.interpolation),m=this.easedValueEmit,x=this.easeValueUpdate,p=this.start[0];break}return this.onEmit=m,this.onUpdate=x,this.current=p,this},has:function(v,p){return v.hasOwnProperty(p)},hasBoth:function(v,p,m){return v.hasOwnProperty(p)&&v.hasOwnProperty(m)},hasEither:function(v,p,m){return v.hasOwnProperty(p)||v.hasOwnProperty(m)},defaultEmit:function(){return this.defaultValue},defaultUpdate:function(v,p,m,x){return x},proxyEmit:function(v,p,m){var x=this._onEmit(v,p,m);return this.current=x,x},proxyUpdate:function(v,p,m,x){var E=this._onUpdate(v,p,m,x);return this.current=E,E},staticValueEmit:function(){return this.current},staticValueUpdate:function(){return this.current},randomStaticValueEmit:function(){var v=Math.floor(Math.random()*this.propertyValue.length);return this.current=this.propertyValue[v],this.current},randomRangedValueEmit:function(v,p){var m=l(this.start,this.end);return v&&v.data[p]&&(v.data[p].min=m,v.data[p].max=this.end),this.current=m,m},randomRangedIntEmit:function(v,p){var m=u(this.start,this.end);return v&&v.data[p]&&(v.data[p].min=m,v.data[p].max=this.end),this.current=m,m},steppedEmit:function(){var v=this.counter,p=v,m=(this.end-this.start)/this.steps;if(this.yoyo){var x;this.direction===0?(p+=m,p>=this.end&&(x=p-this.end,p=this.end-x,this.direction=1)):(p-=m,p<=this.start&&(x=this.start-p,p=this.start+x,this.direction=0)),this.counter=p}else this.counter=r(p+m,this.start,this.end);return this.current=v,v},easedValueEmit:function(v,p){if(v&&v.data[p]){var m=v.data[p];m.min=this.start,m.max=this.end}return this.current=this.start,this.start},easeValueUpdate:function(v,p,m){var x=v.data[p],E,w=this.ease(m);return this.interpolation?E=this.interpolation(this.start,w):E=(x.max-x.min)*w+x.min,this.current=E,E},destroy:function(){this.propertyValue=null,this.defaultValue=null,this.ease=null,this.interpolation=null,this._onEmit=null,this._onUpdate=null}});h.exports=d},24502:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(95540),f=e(20286),l=new u({Extends:f,initialize:function(s,a,c,r,d){if(typeof s=="object"){var v=s;s=y(v,"x",0),a=y(v,"y",0),c=y(v,"power",0),r=y(v,"epsilon",100),d=y(v,"gravity",50)}else s===void 0&&(s=0),a===void 0&&(a=0),c===void 0&&(c=0),r===void 0&&(r=100),d===void 0&&(d=50);f.call(this,s,a,!0),this._gravity=d,this._power=c*d,this._epsilon=r*r},update:function(o,s){var a=this.x-o.x,c=this.y-o.y,r=a*a+c*c;if(r!==0){var d=Math.sqrt(r);r<this._epsilon&&(r=this._epsilon);var v=this._power*s/(r*d)*100;o.velocityX+=a*v,o.velocityY+=c*v}},epsilon:{get:function(){return Math.sqrt(this._epsilon)},set:function(o){this._epsilon=o*o}},power:{get:function(){return this._power/this._gravity},set:function(o){this._power=o*this._gravity}},gravity:{get:function(){return this._gravity},set:function(o){var s=this.power;this._gravity=o,this.power=s}}});h.exports=l},56480:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(9674),y=e(45319),f=e(83419),l=e(39506),o=e(87841),s=e(11520),a=e(26099),c=new f({initialize:function(d){this.emitter=d,this.texture=null,this.frame=null,this.x=0,this.y=0,this.worldPosition=new a,this.velocityX=0,this.velocityY=0,this.accelerationX=0,this.accelerationY=0,this.maxVelocityX=1e4,this.maxVelocityY=1e4,this.bounce=0,this.scaleX=1,this.scaleY=1,this.alpha=1,this.angle=0,this.rotation=0,this.tint=16777215,this.life=1e3,this.lifeCurrent=1e3,this.delayCurrent=0,this.holdCurrent=0,this.lifeT=0,this.data={tint:{min:16777215,max:16777215},alpha:{min:1,max:1},rotate:{min:0,max:0},scaleX:{min:1,max:1},scaleY:{min:1,max:1},x:{min:0,max:0},y:{min:0,max:0},accelerationX:{min:0,max:0},accelerationY:{min:0,max:0},maxVelocityX:{min:0,max:0},maxVelocityY:{min:0,max:0},moveToX:{min:0,max:0},moveToY:{min:0,max:0},bounce:{min:0,max:0}},this.isCropped=!1,this.scene=d.scene,this.anims=null,this.emitter.anims.length>0&&(this.anims=new u(this)),this.bounds=new o},emit:function(r,d,v,p,m,x){return this.emitter.emit(r,d,v,p,m,x)},isAlive:function(){return this.lifeCurrent>0},kill:function(){this.lifeCurrent=0},setPosition:function(r,d){r===void 0&&(r=0),d===void 0&&(d=0),this.x=r,this.y=d},fire:function(r,d){var v=this.emitter,p=v.ops,m=v.getAnim();if(m?this.anims.play(m):(this.frame=v.getFrame(),this.texture=this.frame.texture),!this.frame)throw new Error("Particle has no texture frame");if(v.getEmitZone(this),r===void 0?this.x+=p.x.onEmit(this,"x"):p.x.steps>0?this.x+=r+p.x.onEmit(this,"x"):this.x+=r,d===void 0?this.y+=p.y.onEmit(this,"y"):p.y.steps>0?this.y+=d+p.y.onEmit(this,"y"):this.y+=d,this.life=p.lifespan.onEmit(this,"lifespan"),this.lifeCurrent=this.life,this.lifeT=0,this.delayCurrent=p.delay.onEmit(this,"delay"),this.holdCurrent=p.hold.onEmit(this,"hold"),this.scaleX=p.scaleX.onEmit(this,"scaleX"),this.scaleY=p.scaleY.active?p.scaleY.onEmit(this,"scaleY"):this.scaleX,this.angle=p.rotate.onEmit(this,"rotate"),this.rotation=l(this.angle),v.worldMatrix.transformPoint(this.x,this.y,this.worldPosition),this.delayCurrent===0&&v.getDeathZone(this))return this.lifeCurrent=0,!1;var x=p.speedX.onEmit(this,"speedX"),E=p.speedY.active?p.speedY.onEmit(this,"speedY"):x;if(v.radial){var w=l(p.angle.onEmit(this,"angle"));this.velocityX=Math.cos(w)*Math.abs(x),this.velocityY=Math.sin(w)*Math.abs(E)}else if(v.moveTo){var C=p.moveToX.onEmit(this,"moveToX"),P=p.moveToY.onEmit(this,"moveToY"),R=this.life/1e3;this.velocityX=(C-this.x)/R,this.velocityY=(P-this.y)/R}else this.velocityX=x,this.velocityY=E;return v.acceleration&&(this.accelerationX=p.accelerationX.onEmit(this,"accelerationX"),this.accelerationY=p.accelerationY.onEmit(this,"accelerationY")),this.maxVelocityX=p.maxVelocityX.onEmit(this,"maxVelocityX"),this.maxVelocityY=p.maxVelocityY.onEmit(this,"maxVelocityY"),this.bounce=p.bounce.onEmit(this,"bounce"),this.alpha=p.alpha.onEmit(this,"alpha"),p.color.active?this.tint=p.color.onEmit(this,"tint"):this.tint=p.tint.onEmit(this,"tint"),!0},update:function(r,d,v){if(this.lifeCurrent<=0)return this.holdCurrent>0?(this.holdCurrent-=r,this.holdCurrent<=0):!0;if(this.delayCurrent>0)return this.delayCurrent-=r,!1;this.anims&&this.anims.update(0,r);var p=this.emitter,m=p.ops,x=1-this.lifeCurrent/this.life;if(this.lifeT=x,this.x=m.x.onUpdate(this,"x",x,this.x),this.y=m.y.onUpdate(this,"y",x,this.y),p.moveTo){var E=m.moveToX.onUpdate(this,"moveToX",x,p.moveToX),w=m.moveToY.onUpdate(this,"moveToY",x,p.moveToY),C=this.lifeCurrent/1e3;this.velocityX=(E-this.x)/C,this.velocityY=(w-this.y)/C}return this.computeVelocity(p,r,d,v,x),this.scaleX=m.scaleX.onUpdate(this,"scaleX",x,this.scaleX),m.scaleY.active?this.scaleY=m.scaleY.onUpdate(this,"scaleY",x,this.scaleY):this.scaleY=this.scaleX,this.angle=m.rotate.onUpdate(this,"rotate",x,this.angle),this.rotation=l(this.angle),p.getDeathZone(this)?(this.lifeCurrent=0,!0):(this.alpha=y(m.alpha.onUpdate(this,"alpha",x,this.alpha),0,1),m.color.active?this.tint=m.color.onUpdate(this,"color",x,this.tint):this.tint=m.tint.onUpdate(this,"tint",x,this.tint),this.lifeCurrent-=r,this.lifeCurrent<=0&&this.holdCurrent<=0)},computeVelocity:function(r,d,v,p,m){var x=r.ops,E=this.velocityX,w=this.velocityY,C=x.accelerationX.onUpdate(this,"accelerationX",m,this.accelerationX),P=x.accelerationY.onUpdate(this,"accelerationY",m,this.accelerationY),R=x.maxVelocityX.onUpdate(this,"maxVelocityX",m,this.maxVelocityX),M=x.maxVelocityY.onUpdate(this,"maxVelocityY",m,this.maxVelocityY);this.bounce=x.bounce.onUpdate(this,"bounce",m,this.bounce),E+=r.gravityX*v+C*v,w+=r.gravityY*v+P*v,E=y(E,-R,R),w=y(w,-M,M),this.velocityX=E,this.velocityY=w,this.x+=E*v,this.y+=w*v,r.worldMatrix.transformPoint(this.x,this.y,this.worldPosition);for(var I=0;I<p.length;I++){var D=p[I];D.active&&D.update(this,d,v,m)}},setSizeToFrame:function(){},getBounds:function(r){r===void 0&&(r=this.emitter.getWorldTransformMatrix());var d=Math.abs(r.scaleX)*this.scaleX,v=Math.abs(r.scaleY)*this.scaleY,p=this.x,m=this.y,x=this.rotation,E=this.frame.width*d/2,w=this.frame.height*v/2,C=this.bounds,P=new a(p-E,m-w),R=new a(p+E,m-w),M=new a(p-E,m+w),I=new a(p+E,m+w);return x!==0&&(s(P,p,m,x),s(R,p,m,x),s(M,p,m,x),s(I,p,m,x)),r.transformPoint(P.x,P.y,P),r.transformPoint(R.x,R.y,R),r.transformPoint(M.x,M.y,M),r.transformPoint(I.x,I.y,I),C.x=Math.min(P.x,R.x,M.x,I.x),C.y=Math.min(P.y,R.y,M.y,I.y),C.width=Math.max(P.x,R.x,M.x,I.x)-C.x,C.height=Math.max(P.y,R.y,M.y,I.y)-C.y,C},destroy:function(){this.anims&&this.anims.destroy(),this.anims=null,this.emitter=null,this.texture=null,this.frame=null,this.scene=null}});h.exports=c},69601:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(20286),f=e(87841),l=new u({Extends:y,initialize:function(s,a,c,r,d,v,p,m){d===void 0&&(d=!0),v===void 0&&(v=!0),p===void 0&&(p=!0),m===void 0&&(m=!0),y.call(this,s,a,!0),this.bounds=new f(s,a,c,r),this.collideLeft=d,this.collideRight=v,this.collideTop=p,this.collideBottom=m},update:function(o){var s=this.bounds,a=-o.bounce,c=o.worldPosition;c.x<s.x&&this.collideLeft?(o.x+=s.x-c.x,o.velocityX*=a):c.x>s.right&&this.collideRight&&(o.x-=c.x-s.right,o.velocityX*=a),c.y<s.y&&this.collideTop?(o.y+=s.y-c.y,o.velocityY*=a):c.y>s.bottom&&this.collideBottom&&(o.y-=c.y-s.bottom,o.velocityY*=a)}});h.exports=l},31600:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(31401),f=e(53774),l=e(43459),o=e(26388),s=e(19909),a=e(76472),c=e(44777),r=e(20696),d=e(95643),v=e(95540),p=e(26546),m=e(24502),x=e(69036),E=e(1985),w=e(97022),C=e(86091),P=e(73162),R=e(20074),M=e(269),I=e(56480),D=e(69601),L=e(68875),F=e(87841),O=e(59996),N=e(72905),b=e(90668),V=e(19186),Y=e(61340),W=e(26099),U=e(15994),z=["active","advance","blendMode","colorEase","deathCallback","deathCallbackScope","duration","emitCallback","emitCallbackScope","follow","frequency","gravityX","gravityY","maxAliveParticles","maxParticles","name","emitting","particleBringToTop","particleClass","radial","sortCallback","sortOrderAsc","sortProperty","stopAfter","tintFill","timeScale","trackVisible","visible"],B=["accelerationX","accelerationY","alpha","angle","bounce","color","delay","hold","lifespan","maxVelocityX","maxVelocityY","moveToX","moveToY","quantity","rotate","scaleX","scaleY","speedX","speedY","tint","x","y"],X=new u({Extends:d,Mixins:[y.AlphaSingle,y.BlendMode,y.Depth,y.Mask,y.Pipeline,y.PostPipeline,y.ScrollFactor,y.Texture,y.Transform,y.Visible,b],initialize:function(H,$,k,j,Q){d.call(this,H,"ParticleEmitter"),this.particleClass=I,this.config=null,this.ops={accelerationX:new c("accelerationX",0),accelerationY:new c("accelerationY",0),alpha:new c("alpha",1),angle:new c("angle",{min:0,max:360},!0),bounce:new c("bounce",0),color:new a("color"),delay:new c("delay",0,!0),hold:new c("hold",0,!0),lifespan:new c("lifespan",1e3,!0),maxVelocityX:new c("maxVelocityX",1e4),maxVelocityY:new c("maxVelocityY",1e4),moveToX:new c("moveToX",0),moveToY:new c("moveToY",0),quantity:new c("quantity",1,!0),rotate:new c("rotate",0),scaleX:new c("scaleX",1),scaleY:new c("scaleY",1),speedX:new c("speedX",0,!0),speedY:new c("speedY",0,!0),tint:new c("tint",16777215),x:new c("x",0),y:new c("y",0)},this.radial=!0,this.gravityX=0,this.gravityY=0,this.acceleration=!1,this.moveTo=!1,this.emitCallback=null,this.emitCallbackScope=null,this.deathCallback=null,this.deathCallbackScope=null,this.maxParticles=0,this.maxAliveParticles=0,this.stopAfter=0,this.duration=0,this.frequency=0,this.emitting=!0,this.particleBringToTop=!0,this.timeScale=1,this.emitZones=[],this.deathZones=[],this.viewBounds=null,this.follow=null,this.followOffset=new W,this.trackVisible=!1,this.frames=[],this.randomFrame=!0,this.frameQuantity=1,this.anims=[],this.randomAnim=!0,this.animQuantity=1,this.dead=[],this.alive=[],this.counters=new Float32Array(10),this.skipping=!1,this.worldMatrix=new Y,this.sortProperty="",this.sortOrderAsc=!0,this.sortCallback=this.depthSortCallback,this.processors=new P(this),this.tintFill=!1,this.initPipeline(),this.initPostPipeline(),this.setPosition($,k),this.setTexture(j),Q&&this.setConfig(Q)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},setConfig:function(G){if(!G)return this;this.config=G;var H=0,$="",k=this.ops;for(H=0;H<B.length;H++)$=B[H],k[$].loadConfig(G);for(H=0;H<z.length;H++)$=z[H],w(G,$)&&(this[$]=v(G,$));if(this.acceleration=this.accelerationX!==0||this.accelerationY!==0,this.moveTo=x(G,["moveToX","moveToY"]),w(G,"speed")&&(k.speedX.loadConfig(G,"speed"),k.speedY.active=!1),(E(G,["speedX","speedY"])||this.moveTo)&&(this.radial=!1),w(G,"scale")&&(k.scaleX.loadConfig(G,"scale"),k.scaleY.active=!1),w(G,"callbackScope")){var j=v(G,"callbackScope",null);this.emitCallbackScope=j,this.deathCallbackScope=j}if(w(G,"emitZone")&&this.addEmitZone(G.emitZone),w(G,"deathZone")&&this.addDeathZone(G.deathZone),w(G,"bounds")){var Q=this.addParticleBounds(G.bounds);Q.collideLeft=v(G,"collideLeft",!0),Q.collideRight=v(G,"collideRight",!0),Q.collideTop=v(G,"collideTop",!0),Q.collideBottom=v(G,"collideBottom",!0)}return w(G,"followOffset")&&this.followOffset.setFromObject(v(G,"followOffset",0)),w(G,"texture")&&this.setTexture(G.texture),w(G,"frame")?this.setEmitterFrame(G.frame):w(G,"anim")&&this.setAnim(G.anim),w(G,"reserve")&&this.reserve(G.reserve),w(G,"advance")&&this.fastForward(G.advance),this.resetCounters(this.frequency,this.emitting),this.emitting&&this.emit(r.START,this),this},updateConfig:function(G){return G&&(this.config?this.setConfig(M(this.config,G)):this.setConfig(G)),this},toJSON:function(){var G=f(this),H=0,$="";for(H=0;H<z.length;H++)$=z[H],G[$]=this[$];var k=this.ops;for(H=0;H<B.length;H++)$=B[H],k[$]&&(G[$]=k[$].toJSON());return k.speedY.active||(delete G.speedX,G.speed=k.speedX.toJSON()),this.scaleX===this.scaleY&&(delete G.scaleX,delete G.scaleY,G.scale=k.scaleX.toJSON()),G},resetCounters:function(G,H){var $=this.counters;$.fill(0),$[0]=G,H&&($[5]=1)},startFollow:function(G,H,$,k){return H===void 0&&(H=0),$===void 0&&($=0),k===void 0&&(k=!1),this.follow=G,this.followOffset.set(H,$),this.trackVisible=k,this},stopFollow:function(){return this.follow=null,this.followOffset.set(0,0),this.trackVisible=!1,this},getFrame:function(){var G=this.frames,H=G.length,$;return H===1?$=G[0]:this.randomFrame?$=p(G):($=G[this.currentFrame],this.frameCounter++,this.frameCounter===this.frameQuantity&&(this.frameCounter=0,this.currentFrame++,this.currentFrame===H&&(this.currentFrame=0))),this.texture.get($)},setEmitterFrame:function(G,H,$){H===void 0&&(H=!0),$===void 0&&($=1),this.randomFrame=H,this.frameQuantity=$,this.currentFrame=0;var k=typeof G;if(this.frames.length=0,Array.isArray(G))this.frames=this.frames.concat(G);else if(k==="string"||k==="number")this.frames.push(G);else if(k==="object"){var j=G;G=v(j,"frames",null),G&&(this.frames=this.frames.concat(G));var Q=v(j,"cycle",!1);this.randomFrame=!Q,this.frameQuantity=v(j,"quantity",$)}return this.frames.length===1&&(this.frameQuantity=1,this.randomFrame=!1),this},getAnim:function(){var G=this.anims,H=G.length;if(H===0)return null;if(H===1)return G[0];if(this.randomAnim)return p(G);var $=G[this.currentAnim];return this.animCounter++,this.animCounter>=this.animQuantity&&(this.animCounter=0,this.currentAnim=U(this.currentAnim+1,0,H)),$},setAnim:function(G,H,$){H===void 0&&(H=!0),$===void 0&&($=1),this.randomAnim=H,this.animQuantity=$,this.currentAnim=0;var k=typeof G;if(this.anims.length=0,Array.isArray(G))this.anims=this.anims.concat(G);else if(k==="string")this.anims.push(G);else if(k==="object"){var j=G;G=v(j,"anims",null),G&&(this.anims=this.anims.concat(G));var Q=v(j,"cycle",!1);this.randomAnim=!Q,this.animQuantity=v(j,"quantity",$)}return this.anims.length===1&&(this.animQuantity=1,this.randomAnim=!1),this},setRadial:function(G){return G===void 0&&(G=!0),this.radial=G,this},addParticleBounds:function(G,H,$,k,j,Q,J,q){if(typeof G=="object"){var Z=G;G=Z.x,H=Z.y,$=w(Z,"w")?Z.w:Z.width,k=w(Z,"h")?Z.h:Z.height}return this.addParticleProcessor(new D(G,H,$,k,j,Q,J,q))},setParticleSpeed:function(G,H){return H===void 0&&(H=G),this.ops.speedX.onChange(G),G===H?this.ops.speedY.active=!1:this.ops.speedY.onChange(H),this.radial=!0,this},setParticleScale:function(G,H){return G===void 0&&(G=1),H===void 0&&(H=G),this.ops.scaleX.onChange(G),this.ops.scaleY.onChange(H),this},setParticleGravity:function(G,H){return this.gravityX=G,this.gravityY=H,this},setParticleAlpha:function(G){return this.ops.alpha.onChange(G),this},setParticleTint:function(G){return this.ops.tint.onChange(G),this},setEmitterAngle:function(G){return this.ops.angle.onChange(G),this},setParticleLifespan:function(G){return this.ops.lifespan.onChange(G),this},setQuantity:function(G){return this.quantity=G,this},setFrequency:function(G,H){return this.frequency=G,this.flowCounter=G>0?G:0,H&&(this.quantity=H),this},addDeathZone:function(G){Array.isArray(G)||(G=[G]);for(var H,$=[],k=0;k<G.length;k++)if(H=G[k],H instanceof o)$.push(H);else if(typeof H.contains=="function")H=new o(H,!0),$.push(H);else{var j=v(H,"type","onEnter"),Q=v(H,"source",null);if(Q&&typeof Q.contains=="function"){var J=j==="onEnter";H=new o(Q,J),$.push(H)}}return this.deathZones=this.deathZones.concat($),$},removeDeathZone:function(G){return N(this.deathZones,G),this},clearDeathZones:function(){return this.deathZones.length=0,this},addEmitZone:function(G){Array.isArray(G)||(G=[G]);for(var H,$=[],k=0;k<G.length;k++)if(H=G[k],H instanceof L||H instanceof s)$.push(H);else{var j=v(H,"source",null);if(j){var Q=v(H,"type","random");if(Q==="random"&&typeof j.getRandomPoint=="function")H=new L(j),$.push(H);else if(Q==="edge"&&typeof j.getPoints=="function"){var J=v(H,"quantity",1),q=v(H,"stepRate",0),Z=v(H,"yoyo",!1),it=v(H,"seamless",!0),rt=v(H,"total",-1);H=new s(j,J,q,Z,it,rt),$.push(H)}}}return this.emitZones=this.emitZones.concat($),$},removeEmitZone:function(G){return N(this.emitZones,G),this.zoneIndex=0,this},clearEmitZones:function(){return this.emitZones.length=0,this.zoneIndex=0,this},getEmitZone:function(G){var H=this.emitZones,$=H.length;if($!==0){var k=H[this.zoneIndex];k.getPoint(G),k.total>-1&&(this.zoneTotal++,this.zoneTotal===k.total&&(this.zoneTotal=0,this.zoneIndex++,this.zoneIndex===$&&(this.zoneIndex=0)))}},getDeathZone:function(G){for(var H=this.deathZones,$=0;$<H.length;$++){var k=H[$];if(k.willKill(G))return this.emit(r.DEATH_ZONE,this,G,k),!0}return!1},setEmitZone:function(G){var H;return isFinite(G)?H=G:H=this.emitZones.indexOf(G),H>=0&&(this.zoneIndex=H),this},addParticleProcessor:function(G){return this.processors.exists(G)||(G.emitter&&G.emitter.removeParticleProcessor(G),this.processors.add(G),G.emitter=this),G},removeParticleProcessor:function(G){return this.processors.exists(G)&&(this.processors.remove(G,!0),G.emitter=null),G},getProcessors:function(){return this.processors.getAll("active",!0)},createGravityWell:function(G){return this.addParticleProcessor(new m(G))},reserve:function(G){var H=this.dead;if(this.maxParticles>0){var $=this.getParticleCount();$+G>this.maxParticles&&(G=this.maxParticles-($+G))}for(var k=0;k<G;k++)H.push(new this.particleClass(this));return this},getAliveParticleCount:function(){return this.alive.length},getDeadParticleCount:function(){return this.dead.length},getParticleCount:function(){return this.getAliveParticleCount()+this.getDeadParticleCount()},atLimit:function(){return this.maxParticles>0&&this.getParticleCount()>=this.maxParticles?!0:this.maxAliveParticles>0&&this.getAliveParticleCount()>=this.maxAliveParticles},onParticleEmit:function(G,H){return G===void 0?(this.emitCallback=null,this.emitCallbackScope=null):typeof G=="function"&&(this.emitCallback=G,H&&(this.emitCallbackScope=H)),this},onParticleDeath:function(G,H){return G===void 0?(this.deathCallback=null,this.deathCallbackScope=null):typeof G=="function"&&(this.deathCallback=G,H&&(this.deathCallbackScope=H)),this},killAll:function(){for(var G=this.dead,H=this.alive;H.length>0;)G.push(H.pop());return this},forEachAlive:function(G,H){for(var $=this.alive,k=$.length,j=0;j<k;j++)G.call(H,$[j],this);return this},forEachDead:function(G,H){for(var $=this.dead,k=$.length,j=0;j<k;j++)G.call(H,$[j],this);return this},start:function(G,H){return G===void 0&&(G=0),this.emitting||(G>0&&this.fastForward(G),this.emitting=!0,this.resetCounters(this.frequency,!0),H!==void 0&&(this.duration=Math.abs(H)),this.emit(r.START,this)),this},stop:function(G){return G===void 0&&(G=!1),this.emitting&&(this.emitting=!1,G&&this.killAll(),this.emit(r.STOP,this)),this},pause:function(){return this.active=!1,this},resume:function(){return this.active=!0,this},setSortProperty:function(G,H){return G===void 0&&(G=""),H===void 0&&(H=this.true),this.sortProperty=G,this.sortOrderAsc=H,this.sortCallback=this.depthSortCallback,this},setSortCallback:function(G){return this.sortProperty!==""?G=this.depthSortCallback:G=null,this.sortCallback=G,this},depthSort:function(){return V(this.alive,this.sortCallback.bind(this)),this},depthSortCallback:function(G,H){var $=this.sortProperty;return this.sortOrderAsc?G[$]-H[$]:H[$]-G[$]},flow:function(G,H,$){return H===void 0&&(H=1),this.emitting=!1,this.frequency=G,this.quantity=H,$!==void 0&&(this.stopAfter=$),this.start()},explode:function(G,H,$){this.frequency=-1,this.resetCounters(-1,!0);var k=this.emitParticle(G,H,$);return this.emit(r.EXPLODE,this,k),k},emitParticleAt:function(G,H,$){return this.emitParticle($,G,H)},emitParticle:function(G,H,$){if(!this.atLimit()){G===void 0&&(G=this.ops.quantity.onEmit());for(var k=this.dead,j=this.stopAfter,Q=this.follow?this.follow.x+this.followOffset.x:H,J=this.follow?this.follow.y+this.followOffset.y:$,q=0;q<G;q++){var Z=k.pop();if(Z||(Z=new this.particleClass(this)),Z.fire(Q,J)?(this.particleBringToTop?this.alive.push(Z):this.alive.unshift(Z),this.emitCallback&&this.emitCallback.call(this.emitCallbackScope,Z,this)):this.dead.push(Z),j>0&&(this.stopCounter++,this.stopCounter>=j)||this.atLimit())break}return Z}},fastForward:function(G,H){H===void 0&&(H=1e3/60);var $=0;for(this.skipping=!0;$<Math.abs(G);)this.preUpdate(0,H),$+=H;return this.skipping=!1,this},preUpdate:function(G,H){H*=this.timeScale;var $=H/1e3;this.trackVisible&&(this.visible=this.follow.visible),this.getWorldTransformMatrix(this.worldMatrix);var k=this.getProcessors(),j=this.alive,Q=this.dead,J=0,q=[],Z=j.length;for(J=0;J<Z;J++){var it=j[J];it.update(H,$,k)&&q.push({index:J,particle:it})}if(Z=q.length,Z>0){var rt=this.deathCallback,et=this.deathCallbackScope;for(J=Z-1;J>=0;J--){var ct=q[J];j.splice(ct.index,1),Q.push(ct.particle),rt&&rt.call(et,ct.particle),ct.particle.setPosition()}}if(!this.emitting&&!this.skipping){this.completeFlag===1&&j.length===0&&(this.completeFlag=0,this.emit(r.COMPLETE,this));return}if(this.frequency===0)this.emitParticle();else if(this.frequency>0)for(this.flowCounter-=H;this.flowCounter<=0;)this.emitParticle(),this.flowCounter+=this.frequency;this.skipping||(this.duration>0&&(this.elapsed+=H,this.elapsed>=this.duration&&this.stop()),this.stopAfter>0&&this.stopCounter>=this.stopAfter&&this.stop())},overlap:function(G){for(var H=this.getWorldTransformMatrix(),$=this.alive,k=$.length,j=[],Q=0;Q<k;Q++){var J=$[Q];O(G,J.getBounds(H))&&j.push(J)}return j},getBounds:function(G,H,$,k){G===void 0&&(G=0),H===void 0&&(H=0),$===void 0&&($=1e3/60),k===void 0&&(k=new F);var j=this.getWorldTransformMatrix(),Q,J,q=this.alive,Z=!1;if(k.setTo(0,0,0,0),H>0){var it=0;for(this.skipping=!0;it<Math.abs(H);){for(this.preUpdate(0,$),Q=0;Q<q.length;Q++)J=q[Q].getBounds(j),Z?R(k,J):(Z=!0,l(J,k));it+=$}this.skipping=!1}else for(Q=0;Q<q.length;Q++)J=q[Q].getBounds(j),Z?R(k,J):(Z=!0,l(J,k));return G>0&&C(k,G,G),k},createEmitter:function(){throw new Error("createEmitter removed. See ParticleEmitter docs for info")},particleX:{get:function(){return this.ops.x.current},set:function(G){this.ops.x.onChange(G)}},particleY:{get:function(){return this.ops.y.current},set:function(G){this.ops.y.onChange(G)}},accelerationX:{get:function(){return this.ops.accelerationX.current},set:function(G){this.ops.accelerationX.onChange(G)}},accelerationY:{get:function(){return this.ops.accelerationY.current},set:function(G){this.ops.accelerationY.onChange(G)}},maxVelocityX:{get:function(){return this.ops.maxVelocityX.current},set:function(G){this.ops.maxVelocityX.onChange(G)}},maxVelocityY:{get:function(){return this.ops.maxVelocityY.current},set:function(G){this.ops.maxVelocityY.onChange(G)}},speed:{get:function(){return this.ops.speedX.current},set:function(G){this.ops.speedX.onChange(G),this.ops.speedY.onChange(G)}},speedX:{get:function(){return this.ops.speedX.current},set:function(G){this.ops.speedX.onChange(G)}},speedY:{get:function(){return this.ops.speedY.current},set:function(G){this.ops.speedY.onChange(G)}},moveToX:{get:function(){return this.ops.moveToX.current},set:function(G){this.ops.moveToX.onChange(G)}},moveToY:{get:function(){return this.ops.moveToY.current},set:function(G){this.ops.moveToY.onChange(G)}},bounce:{get:function(){return this.ops.bounce.current},set:function(G){this.ops.bounce.onChange(G)}},particleScaleX:{get:function(){return this.ops.scaleX.current},set:function(G){this.ops.scaleX.onChange(G)}},particleScaleY:{get:function(){return this.ops.scaleY.current},set:function(G){this.ops.scaleY.onChange(G)}},particleColor:{get:function(){return this.ops.color.current},set:function(G){this.ops.color.onChange(G)}},colorEase:{get:function(){return this.ops.color.easeName},set:function(G){this.ops.color.setEase(G)}},particleTint:{get:function(){return this.ops.tint.current},set:function(G){this.ops.tint.onChange(G)}},particleAlpha:{get:function(){return this.ops.alpha.current},set:function(G){this.ops.alpha.onChange(G)}},lifespan:{get:function(){return this.ops.lifespan.current},set:function(G){this.ops.lifespan.onChange(G)}},particleAngle:{get:function(){return this.ops.angle.current},set:function(G){this.ops.angle.onChange(G)}},particleRotate:{get:function(){return this.ops.rotate.current},set:function(G){this.ops.rotate.onChange(G)}},quantity:{get:function(){return this.ops.quantity.current},set:function(G){this.ops.quantity.onChange(G)}},delay:{get:function(){return this.ops.delay.current},set:function(G){this.ops.delay.onChange(G)}},hold:{get:function(){return this.ops.hold.current},set:function(G){this.ops.hold.onChange(G)}},flowCounter:{get:function(){return this.counters[0]},set:function(G){this.counters[0]=G}},frameCounter:{get:function(){return this.counters[1]},set:function(G){this.counters[1]=G}},animCounter:{get:function(){return this.counters[2]},set:function(G){this.counters[2]=G}},elapsed:{get:function(){return this.counters[3]},set:function(G){this.counters[3]=G}},stopCounter:{get:function(){return this.counters[4]},set:function(G){this.counters[4]=G}},completeFlag:{get:function(){return this.counters[5]},set:function(G){this.counters[5]=G}},zoneIndex:{get:function(){return this.counters[6]},set:function(G){this.counters[6]=G}},zoneTotal:{get:function(){return this.counters[7]},set:function(G){this.counters[7]=G}},currentFrame:{get:function(){return this.counters[8]},set:function(G){this.counters[8]=G}},currentAnim:{get:function(){return this.counters[9]},set:function(G){this.counters[9]=G}},preDestroy:function(){this.texture=null,this.frames=null,this.anims=null,this.emitCallback=null,this.emitCallbackScope=null,this.deathCallback=null,this.deathCallbackScope=null,this.emitZones=null,this.deathZones=null,this.bounds=null,this.follow=null,this.counters=null;var G,H=this.ops;for(G=0;G<B.length;G++){var $=B[G];H[$].destroy()}for(G=0;G<this.alive.length;G++)this.alive[G].destroy();for(G=0;G<this.dead.length;G++)this.dead[G].destroy();this.ops=null,this.alive=[],this.dead=[],this.worldMatrix.destroy()}});h.exports=X},9871:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(59996),y=e(61340),f=new y,l=new y,o=new y,s=new y,a=function(c,r,d,v){var p=f,m=l,x=o,E=s;v?(E.loadIdentity(),E.multiply(v),E.translate(r.x,r.y),E.rotate(r.rotation),E.scale(r.scaleX,r.scaleY)):E.applyITRS(r.x,r.y,r.rotation,r.scaleX,r.scaleY);var w=c.currentContext,C=d.roundPixels,P=d.alpha,R=r.alpha,M=r.alive,I=M.length,D=r.viewBounds;if(!(!r.visible||I===0||D&&!u(D,d.worldView))){r.sortCallback&&r.depthSort(),d.addToRenderList(r);var L=r.scrollFactorX,F=r.scrollFactorY;w.save(),w.globalCompositeOperation=c.blendModes[r.blendMode];for(var O=0;O<I;O++){var N=M[O],b=N.alpha*R*P;if(!(b<=0||N.scaleX===0||N.scaleY===0)){x.applyITRS(N.x,N.y,N.rotation,N.scaleX,N.scaleY),p.copyFrom(d.matrix),p.multiplyWithOffset(E,-d.scrollX*L,-d.scrollY*F),x.e=N.x,x.f=N.y,p.multiply(x,m);var V=N.frame,Y=V.canvasData;if(Y.width>0&&Y.height>0){var W=-V.halfWidth,U=-V.halfHeight;w.globalAlpha=b,w.save(),m.setToContext(w),C&&(W=Math.round(W),U=Math.round(U)),w.imageSmoothingEnabled=!V.source.scaleMode,w.drawImage(V.source.image,Y.x,Y.y,Y.width,Y.height,W,U,Y.width,Y.height),w.restore()}}}w.restore()}};h.exports=a},92730:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(25305),y=e(44603),f=e(23568),l=e(95540),o=e(31600);y.register("particles",function(s,a){s===void 0&&(s={});var c=f(s,"key",null),r=l(s,"config",null),d=new o(this.scene,0,0,c);return a!==void 0&&(s.add=a),u(this.scene,d,s),r&&d.setConfig(r),d})},676:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(39429),y=e(31600);u.register("particles",function(f,l,o,s){return f!==void 0&&typeof f=="string"&&console.warn("ParticleEmitterManager was removed in Phaser 3.60. See documentation for details"),this.displayList.add(new y(this.scene,f,l,o,s))})},90668:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(29747),y=u,f=u;y=e(21188),f=e(9871),h.exports={renderWebGL:y,renderCanvas:f}},21188:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(59996),y=e(61340),f=e(70554),l=new y,o=new y,s=new y,a=new y,c=function(r,d,v,p){var m=r.pipelines.set(d.pipeline),x=l,E=o,w=s,C=a;p?(C.loadIdentity(),C.multiply(p),C.translate(d.x,d.y),C.rotate(d.rotation),C.scale(d.scaleX,d.scaleY)):C.applyITRS(d.x,d.y,d.rotation,d.scaleX,d.scaleY);var P=f.getTintAppendFloatAlpha,R=v.alpha,M=d.alpha;r.pipelines.preBatch(d);var I=d.alive,D=I.length,L=d.viewBounds;if(!(D===0||L&&!u(L,v.worldView))){d.sortCallback&&d.depthSort(),v.addToRenderList(d),x.copyFrom(v.matrix),x.multiplyWithOffset(C,-v.scrollX*d.scrollFactorX,-v.scrollY*d.scrollFactorY),r.setBlendMode(d.blendMode),d.mask&&(d.mask.preRenderWebGL(r,d,v),r.pipelines.set(d.pipeline));for(var F=d.tintFill,O,N,b=0;b<D;b++){var V=I[b],Y=V.alpha*M*R;if(!(Y<=0||V.scaleX===0||V.scaleY===0)){w.applyITRS(V.x,V.y,V.rotation,V.scaleX,V.scaleY),w.e=V.x,w.f=V.y,x.multiply(w,E);var W=V.frame;W.glTexture!==N&&(N=W.glTexture,O=m.setGameObject(d,W));var U=-W.halfWidth,z=-W.halfHeight,B=E.setQuad(U,z,U+W.width,z+W.height),X=P(V.tint,Y);m.shouldFlush(6)&&(m.flush(),O=m.setGameObject(d,W)),m.batchQuad(d,B[0],B[1],B[2],B[3],B[4],B[5],B[6],B[7],W.u0,W.v0,W.u1,W.v1,X,X,X,X,F,N,O)}}d.mask&&d.mask.postRenderWebGL(r,v),r.pipelines.postBatch(d)}};h.exports=c},20286:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=new u({initialize:function(l,o,s){l===void 0&&(l=0),o===void 0&&(o=0),s===void 0&&(s=!0),this.emitter,this.x=l,this.y=o,this.active=s},update:function(){},destroy:function(){this.emitter=null}});h.exports=y},9774:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="complete"},812:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="deathzone"},30522:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="explode"},96695:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="start"},18677:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="stop"},20696:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={COMPLETE:e(9774),DEATH_ZONE:e(812),EXPLODE:e(30522),START:e(96695),STOP:e(18677)}},18404:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={EmitterColorOp:e(76472),EmitterOp:e(44777),Events:e(20696),GravityWell:e(24502),Particle:e(56480),ParticleBounds:e(69601),ParticleEmitter:e(31600),ParticleProcessor:e(20286),Zones:e(21024)}},26388:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=new u({initialize:function(l,o){this.source=l,this.killOnEnter=o},willKill:function(f){var l=f.worldPosition,o=this.source.contains(l.x,l.y);return o&&this.killOnEnter||!o&&!this.killOnEnter}});h.exports=y},19909:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=new u({initialize:function(l,o,s,a,c,r){a===void 0&&(a=!1),c===void 0&&(c=!0),r===void 0&&(r=-1),this.source=l,this.points=[],this.quantity=o,this.stepRate=s,this.yoyo=a,this.counter=-1,this.seamless=c,this._length=0,this._direction=0,this.total=r,this.updateSource()},updateSource:function(){if(this.points=this.source.getPoints(this.quantity,this.stepRate),this.seamless){var f=this.points[0],l=this.points[this.points.length-1];f.x===l.x&&f.y===l.y&&this.points.pop()}var o=this._length;return this._length=this.points.length,this._length<o&&this.counter>this._length&&(this.counter=this._length-1),this},changeSource:function(f){return this.source=f,this.updateSource()},getPoint:function(f){this._direction===0?(this.counter++,this.counter>=this._length&&(this.yoyo?(this._direction=1,this.counter=this._length-1):this.counter=0)):(this.counter--,this.counter===-1&&(this.yoyo?(this._direction=0,this.counter=0):this.counter=this._length-1));var l=this.points[this.counter];l&&(f.x=l.x,f.y=l.y)}});h.exports=y},68875:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(26099),f=new u({initialize:function(o){this.source=o,this._tempVec=new y,this.total=-1},getPoint:function(l){var o=this._tempVec;this.source.getRandomPoint(o),l.x=o.x,l.y=o.y}});h.exports=f},21024:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={DeathZone:e(26388),EdgeZone:e(19909),RandomZone:e(68875)}},1159:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(31401),f=e(68287),l=new u({Extends:f,Mixins:[y.PathFollower],initialize:function(s,a,c,r,d,v){f.call(this,s,c,r,d,v),this.path=a},preUpdate:function(o,s){this.anims.update(o,s),this.pathUpdate(o)}});h.exports=l},90145:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(39429),y=e(1159);u.register("follower",function(f,l,o,s,a){var c=new y(this.scene,f,l,o,s,a);return this.displayList.add(c),this.updateList.add(c),c})},33663:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(9674),y=e(83419),f=e(48803),l=e(90664),o=e(4703),s=e(45650),a=new y({Extends:o,initialize:function(r,d,v,p,m,x,E,w){p||(p="__DEFAULT"),o.call(this,r,d,v,p,m),this.type="Plane",this.anims=new u(this),this.gridWidth,this.gridHeight,this.isTiled,this._checkerboard=null,this.hideCCW=!1,this.setGridSize(x,E,w),this.setSizeToFrame(!1),this.setViewHeight()},originX:{get:function(){return .5}},originY:{get:function(){return .5}},setGridSize:function(c,r,d){c===void 0&&(c=8),r===void 0&&(r=8),d===void 0&&(d=!1);var v=!1;return d&&(v=!0),this.gridWidth=c,this.gridHeight=r,this.isTiled=d,this.clear(),f({mesh:this,widthSegments:c,heightSegments:r,isOrtho:!1,tile:d,flipY:v}),this},setSizeToFrame:function(c){c===void 0&&(c=!0);var r=this.frame;if(this.setPerspective(this.width/r.width,this.height/r.height),this._checkerboard&&this._checkerboard!==this.texture&&this.removeCheckerboard(),!c)return this;var d=this.gridWidth,v=this.gridHeight,p=this.vertices,m=r.u0,x=r.u1,E=r.v0,w=r.v1,C,P,R=0;if(this.isTiled)for(E=r.v1,w=r.v0,P=0;P<v;P++)for(C=0;C<d;C++)p[R++].setUVs(m,w),p[R++].setUVs(m,E),p[R++].setUVs(x,w),p[R++].setUVs(m,E),p[R++].setUVs(x,E),p[R++].setUVs(x,w);else{var M=d+1,I=v+1,D=x-m,L=w-E,F=[];for(P=0;P<I;P++)for(C=0;C<M;C++){var O=m+D*(C/d),N=E+L*(P/v);F.push(O,N)}for(P=0;P<v;P++)for(C=0;C<d;C++){var b=(C+M*P)*2,V=(C+M*(P+1))*2,Y=(C+1+M*(P+1))*2,W=(C+1+M*P)*2;p[R++].setUVs(F[b],F[b+1]),p[R++].setUVs(F[V],F[V+1]),p[R++].setUVs(F[W],F[W+1]),p[R++].setUVs(F[V],F[V+1]),p[R++].setUVs(F[Y],F[Y+1]),p[R++].setUVs(F[W],F[W+1])}}return this},setViewHeight:function(c){c===void 0&&(c=this.frame.height);var r=this.fov*(Math.PI/180);this.viewPosition.z=this.height/c/Math.tan(r/2),this.dirtyCache[10]=1},createCheckerboard:function(c,r,d,v,p){c===void 0&&(c=16777215),r===void 0&&(r=255),d===void 0&&(d=255),v===void 0&&(v=255),p===void 0&&(p=128);for(var m=l(c),x=l(r),E=[],w=0;w<16;w++)for(var C=0;C<16;C++)w<8&&C<8||w>7&&C>7?E.push(m.r,m.g,m.b,d):E.push(x.r,x.g,x.b,v);var P=this.scene.sys.textures.addUint8Array(s(),new Uint8Array(E),16,16);return this.removeCheckerboard(),this.setTexture(P),this.setSizeToFrame(),this.setViewHeight(p),this},removeCheckerboard:function(){this._checkerboard&&(this._checkerboard.destroy(),this._checkerboard=null)},play:function(c,r){return this.anims.play(c,r)},playReverse:function(c,r){return this.anims.playReverse(c,r)},playAfterDelay:function(c,r){return this.anims.playAfterDelay(c,r)},playAfterRepeat:function(c,r){return this.anims.playAfterRepeat(c,r)},stop:function(){return this.anims.stop()},stopAfterDelay:function(c){return this.anims.stopAfterDelay(c)},stopAfterRepeat:function(c){return this.anims.stopAfterRepeat(c)},stopOnFrame:function(c){return this.anims.stopOnFrame(c)},preUpdate:function(c,r){o.prototype.preUpdate.call(this,c,r),this.anims.update(c,r)},preDestroy:function(){this.clear(),this.removeCheckerboard(),this.anims.destroy(),this.anims=void 0,this.debugCallback=null,this.debugGraphic=null}});h.exports=a},56015:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(25305),y=e(13059),f=e(44603),l=e(23568),o=e(35154),s=e(33663);f.register("plane",function(a,c){a===void 0&&(a={});var r=l(a,"key",null),d=l(a,"frame",null),v=o(a,"width",8),p=o(a,"height",8),m=o(a,"tile",!1),x=new s(this.scene,0,0,r,d,v,p,m);c!==void 0&&(a.add=c);var E=o(a,"checkerboard",null);if(E){var w=o(E,"color1",16777215),C=o(E,"color2",255),P=o(E,"alpha1",255),R=o(E,"alpha2",255),M=o(E,"height",128);x.createCheckerboard(w,C,P,R,M)}return u(this.scene,x,a),y(x,a),x})},30985:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(33663),y=e(39429);y.register("plane",function(f,l,o,s,a,c,r){return this.displayList.add(new u(this.scene,f,l,o,s,a,c,r))})},80321:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(31401),f=e(95643),l=e(30100),o=e(36060),s=e(67277),a=new u({Extends:f,Mixins:[y.AlphaSingle,y.BlendMode,y.Depth,y.Mask,y.Pipeline,y.PostPipeline,y.ScrollFactor,y.Transform,y.Visible,s],initialize:function(r,d,v,p,m,x,E){p===void 0&&(p=16777215),m===void 0&&(m=128),x===void 0&&(x=1),E===void 0&&(E=.1),f.call(this,r,"PointLight"),this.initPipeline(o.POINTLIGHT_PIPELINE),this.initPostPipeline(),this.setPosition(d,v),this.color=l(p),this.intensity=x,this.attenuation=E,this.width=m*2,this.height=m*2,this._radius=m},radius:{get:function(){return this._radius},set:function(c){this._radius=c,this.width=c*2,this.height=c*2}},originX:{get:function(){return .5}},originY:{get:function(){return .5}},displayOriginX:{get:function(){return this._radius}},displayOriginY:{get:function(){return this._radius}}});h.exports=a},39829:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(25305),y=e(44603),f=e(23568),l=e(80321);y.register("pointlight",function(o,s){o===void 0&&(o={});var a=f(o,"color",16777215),c=f(o,"radius",128),r=f(o,"intensity",1),d=f(o,"attenuation",.1),v=new l(this.scene,0,0,a,c,r,d);return s!==void 0&&(o.add=s),u(this.scene,v,o),v})},71255:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(39429),y=e(80321);u.register("pointlight",function(f,l,o,s,a,c){return this.displayList.add(new y(this.scene,f,l,o,s,a,c))})},67277:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(29747),y=u,f=u;y=e(57787),h.exports={renderWebGL:y,renderCanvas:f}},57787:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(91296),y=function(f,l,o,s){o.addToRenderList(l);var a=f.pipelines.set(l.pipeline),c=u(l,o,s).calc,r=l.width,d=l.height,v=-l._radius,p=-l._radius,m=v+r,x=p+d,E=c.getX(0,0),w=c.getY(0,0),C=c.getX(v,p),P=c.getY(v,p),R=c.getX(v,x),M=c.getY(v,x),I=c.getX(m,x),D=c.getY(m,x),L=c.getX(m,p),F=c.getY(m,p);f.pipelines.preBatch(l),a.batchPointLight(l,o,C,P,R,M,I,D,L,F,E,w),f.pipelines.postBatch(l)};h.exports=y},591:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(81320),f=e(88571),l=new u({Extends:f,initialize:function(s,a,c,r,d,v){a===void 0&&(a=0),c===void 0&&(c=0),r===void 0&&(r=32),d===void 0&&(d=32),v===void 0&&(v=!0);var p=new y(s.sys.textures,"",r,d,v);f.call(this,s,a,c,p),this.type="RenderTexture",this.camera=this.texture.camera,this._saved=!1},setSize:function(o,s){this.width=o,this.height=s,this.updateDisplayOrigin();var a=this.input;return a&&!a.customHitArea&&(a.hitArea.width=o,a.hitArea.height=s),this},resize:function(o,s,a){return this.texture.setSize(o,s,a),this.setSize(this.texture.width,this.texture.height),this},saveTexture:function(o){var s=this.texture;return s.key=o,s.manager.addDynamicTexture(s)&&(this._saved=!0),s},fill:function(o,s,a,c,r,d){return this.texture.fill(o,s,a,c,r,d),this},clear:function(){return this.texture.clear(),this},stamp:function(o,s,a,c,r){return this.texture.stamp(o,s,a,c,r),this},erase:function(o,s,a){return this.texture.erase(o,s,a),this},draw:function(o,s,a,c,r){return this.texture.draw(o,s,a,c,r),this},drawFrame:function(o,s,a,c,r,d){return this.texture.drawFrame(o,s,a,c,r,d),this},repeat:function(o,s,a,c,r,d,v,p,m){return this.texture.repeat(o,s,a,c,r,d,v,p,m),this},beginDraw:function(){return this.texture.beginDraw(),this},batchDraw:function(o,s,a,c,r){return this.texture.batchDraw(o,s,a,c,r),this},batchDrawFrame:function(o,s,a,c,r,d){return this.texture.batchDrawFrame(o,s,a,c,r,d),this},endDraw:function(o){return this.texture.endDraw(o),this},snapshotArea:function(o,s,a,c,r,d,v){return this.texture.snapshotArea(o,s,a,c,r,d,v),this},snapshot:function(o,s,a){return this.snapshotArea(0,0,this.width,this.height,o,s,a)},snapshotPixel:function(o,s,a){return this.snapshotArea(o,s,1,1,a,"pixel")},preDestroy:function(){this.camera=null,this._saved||this.texture.destroy()}});h.exports=l},34495:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(25305),y=e(44603),f=e(23568),l=e(591);y.register("renderTexture",function(o,s){o===void 0&&(o={});var a=f(o,"x",0),c=f(o,"y",0),r=f(o,"width",32),d=f(o,"height",32),v=new l(this.scene,a,c,r,d);return s!==void 0&&(o.add=s),u(this.scene,v,o),v})},60505:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(39429),y=e(591);u.register("renderTexture",function(f,l,o,s){return this.displayList.add(new y(this.scene,f,l,o,s))})},77757:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(9674),y=e(83419),f=e(31401),l=e(95643),o=e(36060),s=e(38745),a=e(26099),c=new y({Extends:l,Mixins:[f.AlphaSingle,f.BlendMode,f.Depth,f.Flip,f.Mask,f.Pipeline,f.PostPipeline,f.Size,f.Texture,f.Transform,f.Visible,f.ScrollFactor,s],initialize:function(d,v,p,m,x,E,w,C,P){m===void 0&&(m="__DEFAULT"),E===void 0&&(E=2),w===void 0&&(w=!0),l.call(this,d,"Rope"),this.anims=new u(this),this.points=E,this.vertices,this.uv,this.colors,this.alphas,this.tintFill=m==="__DEFAULT",this.dirty=!1,this.horizontal=w,this._flipX=!1,this._flipY=!1,this._perp=new a,this.debugCallback=null,this.debugGraphic=null,this.setTexture(m,x),this.setPosition(v,p),this.setSizeToFrame(),this.initPipeline(o.ROPE_PIPELINE),this.initPostPipeline(),Array.isArray(E)&&this.resizeArrays(E.length),this.setPoints(E,C,P),this.updateVertices()},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(r,d){var v=this.anims.currentFrame;this.anims.update(r,d),this.anims.currentFrame!==v&&(this.updateUVs(),this.updateVertices())},play:function(r,d,v){return this.anims.play(r,d,v),this},setDirty:function(){return this.dirty=!0,this},setHorizontal:function(r,d,v){return r===void 0&&(r=this.points.length),this.horizontal?this:(this.horizontal=!0,this.setPoints(r,d,v))},setVertical:function(r,d,v){return r===void 0&&(r=this.points.length),this.horizontal?(this.horizontal=!1,this.setPoints(r,d,v)):this},setTintFill:function(r){return r===void 0&&(r=!1),this.tintFill=r,this},setAlphas:function(r,d){var v=this.points.length;if(v<1)return this;var p=this.alphas;r===void 0?r=[1]:!Array.isArray(r)&&d===void 0&&(r=[r]);var m,x=0;if(d!==void 0)for(m=0;m<v;m++)x=m*2,p[x]=r,p[x+1]=d;else if(r.length===v)for(m=0;m<v;m++)x=m*2,p[x]=r[m],p[x+1]=r[m];else{var E=r[0];for(m=0;m<v;m++)x=m*2,r.length>x&&(E=r[x]),p[x]=E,r.length>x+1&&(E=r[x+1]),p[x+1]=E}return this},setColors:function(r){var d=this.points.length;if(d<1)return this;var v=this.colors;r===void 0?r=[16777215]:Array.isArray(r)||(r=[r]);var p,m=0;if(r.length===d)for(p=0;p<d;p++)m=p*2,v[m]=r[p],v[m+1]=r[p];else{var x=r[0];for(p=0;p<d;p++)m=p*2,r.length>m&&(x=r[m]),v[m]=x,r.length>m+1&&(x=r[m+1]),v[m+1]=x}return this},setPoints:function(r,d,v){if(r===void 0&&(r=2),typeof r=="number"){var p=r;p<2&&(p=2),r=[];var m,x,E;if(this.horizontal)for(E=-this.frame.halfWidth,x=this.frame.width/(p-1),m=0;m<p;m++)r.push({x:E+m*x,y:0});else for(E=-this.frame.halfHeight,x=this.frame.height/(p-1),m=0;m<p;m++)r.push({x:0,y:E+m*x})}var w=r.length,C=this.points.length;return w<1?(console.warn("Rope: Not enough points given"),this):(w===1&&(r.unshift({x:0,y:0}),w++),C!==w&&this.resizeArrays(w),this.dirty=!0,this.points=r,this.updateUVs(),d!=null&&this.setColors(d),v!=null&&this.setAlphas(v),this)},updateUVs:function(){for(var r=this.uv,d=this.points.length,v=this.frame.u0,p=this.frame.v0,m=this.frame.u1,x=this.frame.v1,E=(m-v)/(d-1),w=(x-p)/(d-1),C=0;C<d;C++){var P=C*4,R,M,I,D;this.horizontal?(this._flipX?(R=m-C*E,I=m-C*E):(R=v+C*E,I=v+C*E),this._flipY?(M=x,D=p):(M=p,D=x)):(this._flipX?(R=v,I=m):(R=m,I=v),this._flipY?(M=x-C*w,D=x-C*w):(M=p+C*w,D=p+C*w)),r[P+0]=R,r[P+1]=M,r[P+2]=I,r[P+3]=D}return this},resizeArrays:function(r){var d=this.colors,v=this.alphas;this.vertices=new Float32Array(r*4),this.uv=new Float32Array(r*4),d=new Uint32Array(r*2),v=new Float32Array(r*2);for(var p=0;p<r*2;p++)d[p]=16777215,v[p]=1;return this.colors=d,this.alphas=v,this.dirty=!0,this},updateVertices:function(){var r=this._perp,d=this.points,v=this.vertices,p=d.length;if(this.dirty=!1,!(p<1)){for(var m,x=d[0],E=this.horizontal?this.frame.halfHeight:this.frame.halfWidth,w=0;w<p;w++){var C=d[w],P=w*4;w<p-1?m=d[w+1]:m=C,r.x=m.y-x.y,r.y=-(m.x-x.x);var R=r.length();r.x/=R,r.y/=R,r.x*=E,r.y*=E,v[P]=C.x+r.x,v[P+1]=C.y+r.y,v[P+2]=C.x-r.x,v[P+3]=C.y-r.y,x=C}return this}},setDebug:function(r,d){return this.debugGraphic=r,!r&&!d?this.debugCallback=null:d?this.debugCallback=d:this.debugCallback=this.renderDebugVerts,this},renderDebugVerts:function(r,d,v){var p=r.debugGraphic,m=v[0],x=v[1],E=v[2],w=v[3];p.lineBetween(m,x,E,w);for(var C=4;C<d;C+=4){var P=v[C+0],R=v[C+1],M=v[C+2],I=v[C+3];p.lineBetween(m,x,P,R),p.lineBetween(E,w,M,I),p.lineBetween(E,w,P,R),p.lineBetween(P,R,M,I),m=P,x=R,E=M,w=I}},preDestroy:function(){this.anims.destroy(),this.anims=void 0,this.points=null,this.vertices=null,this.uv=null,this.colors=null,this.alphas=null,this.debugCallback=null,this.debugGraphic=null},flipX:{get:function(){return this._flipX},set:function(r){return this._flipX=r,this.updateUVs()}},flipY:{get:function(){return this._flipY},set:function(r){return this._flipY=r,this.updateUVs()}}});h.exports=c},95262:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(){};h.exports=S},26209:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(25305),y=e(44603),f=e(23568),l=e(35154),o=e(77757);y.register("rope",function(s,a){s===void 0&&(s={});var c=f(s,"key",null),r=f(s,"frame",null),d=f(s,"horizontal",!0),v=l(s,"points",void 0),p=l(s,"colors",void 0),m=l(s,"alphas",void 0),x=new o(this.scene,0,0,c,r,v,d,p,m);return a!==void 0&&(s.add=a),u(this.scene,x,s),x})},96819:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(77757),y=e(39429);y.register("rope",function(f,l,o,s,a,c,r,d){return this.displayList.add(new u(this.scene,f,l,o,s,a,c,r,d))})},38745:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(29747),y=u,f=u;y=e(20439),f=e(95262),h.exports={renderWebGL:y,renderCanvas:f}},20439:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(91296),y=e(70554),f=function(l,o,s,a){s.addToRenderList(o);var c=l.pipelines.set(o.pipeline,o),r=u(o,s,a).calc,d=o.vertices,v=o.uv,p=o.colors,m=o.alphas,x=o.alpha,E=y.getTintAppendFloatAlpha,w=s.roundPixels,C=d.length,P=Math.floor(C*.5);c.flush(),l.pipelines.preBatch(o);var R=c.setGameObject(o),M=c.vertexViewF32,I=c.vertexViewU32,D=c.vertexCount*c.currentShader.vertexComponentCount-1,L=0,F=o.tintFill;o.dirty&&o.updateVertices();for(var O=o.debugCallback,N=[],b=0;b<C;b+=2){var V=d[b+0],Y=d[b+1],W=V*r.a+Y*r.c+r.e,U=V*r.b+Y*r.d+r.f;w&&(W=Math.round(W),U=Math.round(U)),M[++D]=W,M[++D]=U,M[++D]=v[b+0],M[++D]=v[b+1],M[++D]=R,M[++D]=F,I[++D]=E(p[L],s.alpha*(m[L]*x)),L++,O&&(N[b+0]=W,N[b+1]=U)}O&&O.call(o,o,C,N),c.vertexCount+=P,c.currentBatch.count=c.vertexCount-c.currentBatch.start,l.pipelines.postBatch(o)};h.exports=f},20071:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(31401),f=e(95643),l=e(95540),o=e(79291),s=e(61622),a=e(25479),c=e(61340),r=e(95428),d=e(92503),v=new u({Extends:f,Mixins:[y.ComputedSize,y.Depth,y.GetBounds,y.Mask,y.Origin,y.ScrollFactor,y.Transform,y.Visible,a],initialize:function(m,x,E,w,C,P,R,M){E===void 0&&(E=0),w===void 0&&(w=0),C===void 0&&(C=128),P===void 0&&(P=128),f.call(this,m,"Shader"),this.blendMode=-1,this.shader;var I=m.sys.renderer;this.renderer=I,this.gl=I.gl,this.vertexData=new ArrayBuffer(6*(Float32Array.BYTES_PER_ELEMENT*2)),this.vertexBuffer=I.createVertexBuffer(this.vertexData.byteLength,this.gl.STREAM_DRAW),this._deferSetShader=null,this._deferProjOrtho=null,this.program=null,this.bytes=new Uint8Array(this.vertexData),this.vertexViewF32=new Float32Array(this.vertexData),this._tempMatrix1=new c,this._tempMatrix2=new c,this._tempMatrix3=new c,this.viewMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.projectionMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.uniforms={},this.pointer=null,this._rendererWidth=I.width,this._rendererHeight=I.height,this._textureCount=0,this.framebuffer=null,this.glTexture=null,this.renderToTexture=!1,this.texture=null,this.setPosition(E,w),this.setSize(C,P),this.setOrigin(.5,.5),this.setShader(x,R,M),this.renderer.on(d.RESTORE_WEBGL,this.onContextRestored,this)},willRender:function(p){return this.renderToTexture?!0:!(f.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&p.id)},setRenderToTexture:function(p,m){if(!this.renderToTexture){var x=this.width,E=this.height,w=this.renderer;this.glTexture=w.createTextureFromSource(null,x,E,0),this.framebuffer=w.createFramebuffer(x,E,this.glTexture,!1),this._rendererWidth=x,this._rendererHeight=E,this.renderToTexture=!0,this.projOrtho(0,this.width,this.height,0),p&&(this.texture=this.scene.sys.textures.addGLTexture(p,this.glTexture))}return this.shader&&(w.pipelines.clear(),this.load(),this.flush(),w.pipelines.rebind()),this},setShader:function(p,m,x){if(this.renderer.contextLost)return this._deferSetShader={key:p,textures:m,textureData:x},this;if(m===void 0&&(m=[]),typeof p=="string"){var E=this.scene.sys.cache.shader;if(!E.has(p))return console.warn("Shader missing: "+p),this;this.shader=E.get(p)}else this.shader=p;var w=this.gl,C=this.renderer;this.program&&C.deleteProgram(this.program);var P=C.createProgram(this.shader.vertexSrc,this.shader.fragmentSrc);w.uniformMatrix4fv(w.getUniformLocation(P.webGLProgram,"uViewMatrix"),!1,this.viewMatrix),w.uniformMatrix4fv(w.getUniformLocation(P.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),w.uniform2f(w.getUniformLocation(P.webGLProgram,"uResolution"),this.width,this.height),this.program=P;var R=new Date,M={resolution:{type:"2f",value:{x:this.width,y:this.height}},time:{type:"1f",value:0},mouse:{type:"2f",value:{x:this.width/2,y:this.height/2}},date:{type:"4fv",value:[R.getFullYear(),R.getMonth(),R.getDate(),R.getHours()*60*60+R.getMinutes()*60+R.getSeconds()]},sampleRate:{type:"1f",value:44100},iChannel0:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel1:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel2:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel3:{type:"sampler2D",value:null,textureData:{repeat:!0}}};this.shader.uniforms?this.uniforms=o(!0,{},this.shader.uniforms,M):this.uniforms=M;for(var I=0;I<4;I++)m[I]&&this.setSampler2D("iChannel"+I,m[I],I,x);return this.initUniforms(),this.projOrtho(0,this._rendererWidth,this._rendererHeight,0),this},setPointer:function(p){return this.pointer=p,this},projOrtho:function(p,m,x,E){if(this.renderer.contextLost){this._deferProjOrtho={left:p,right:m,bottom:x,top:E};return}var w=-1e3,C=1e3,P=1/(p-m),R=1/(x-E),M=1/(w-C),I=this.projectionMatrix;I[0]=-2*P,I[5]=-2*R,I[10]=2*M,I[12]=(p+m)*P,I[13]=(E+x)*R,I[14]=(C+w)*M;var D=this.program,L=this.gl,F=this.renderer;F.setProgram(D),L.uniformMatrix4fv(L.getUniformLocation(D.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),this._rendererWidth=m,this._rendererHeight=x},initUniforms:function(){var p=this.renderer.glFuncMap,m=this.program;this._textureCount=0;for(var x in this.uniforms){var E=this.uniforms[x],w=E.type,C=p[w];E.uniformLocation=this.renderer.createUniformLocation(m,x),w!=="sampler2D"&&(E.glMatrix=C.matrix,E.glValueLength=C.length,E.glFunc=C.func)}},setSampler2DBuffer:function(p,m,x,E,w,C){w===void 0&&(w=0),C===void 0&&(C={});var P=this.uniforms[p];return P.value=m,C.width=x,C.height=E,P.textureData=C,this._textureCount=w,this.initSampler2D(P),this},setSampler2D:function(p,m,x,E){x===void 0&&(x=0);var w=this.scene.sys.textures;if(w.exists(m)){var C=w.getFrame(m);if(C.glTexture&&C.glTexture.isRenderTexture)return this.setSampler2DBuffer(p,C.glTexture,C.width,C.height,x,E);var P=this.uniforms[p],R=C.source;P.textureKey=m,P.source=R.image,P.value=C.glTexture,R.isGLTexture&&(E||(E={}),E.width=R.width,E.height=R.height),E&&(P.textureData=E),this._textureCount=x,this.initSampler2D(P)}return this},setUniform:function(p,m){return s(this.uniforms,p,m),this},getUniform:function(p){return l(this.uniforms,p,null)},setChannel0:function(p,m){return this.setSampler2D("iChannel0",p,0,m)},setChannel1:function(p,m){return this.setSampler2D("iChannel1",p,1,m)},setChannel2:function(p,m){return this.setSampler2D("iChannel2",p,2,m)},setChannel3:function(p,m){return this.setSampler2D("iChannel3",p,3,m)},initSampler2D:function(p){if(p.value){var m=p.textureData;if(m&&!p.value.isRenderTexture){var x=this.gl,E=p.value,w=x[l(m,"magFilter","linear").toUpperCase()],C=x[l(m,"minFilter","linear").toUpperCase()],P=x[l(m,"wrapS","repeat").toUpperCase()],R=x[l(m,"wrapT","repeat").toUpperCase()],M=x[l(m,"format","rgba").toUpperCase()],I=l(m,"flipY",!1),D=l(m,"width",E.width),L=l(m,"height",E.height),F=l(m,"source",E.pixels);m.repeat&&(P=x.REPEAT,R=x.REPEAT),m.width&&(F=null),E.update(F,D,L,I,P,R,C,w,M)}this.renderer.setProgram(this.program),this._textureCount++}},syncUniforms:function(){var p=this.gl,m=this.uniforms,x,E,w,C,P,R=0;for(var M in m)x=m[M],w=x.glFunc,E=x.glValueLength,C=x.uniformLocation,P=x.value,P!==null&&(E===1?x.glMatrix?w.call(p,C.webGLUniformLocation,x.transpose,P):w.call(p,C.webGLUniformLocation,P):E===2?w.call(p,C.webGLUniformLocation,P.x,P.y):E===3?w.call(p,C.webGLUniformLocation,P.x,P.y,P.z):E===4?w.call(p,C.webGLUniformLocation,P.x,P.y,P.z,P.w):x.type==="sampler2D"&&(p.activeTexture(p.TEXTURE0+R),p.bindTexture(p.TEXTURE_2D,P.webGLTexture),p.uniform1i(C.webGLUniformLocation,R),R++))},load:function(p){var m=this.gl,x=this.width,E=this.height,w=this.renderer,C=this.program,P=this.viewMatrix;if(!this.renderToTexture){var R=-this._displayOriginX,M=-this._displayOriginY;P[0]=p[0],P[1]=p[1],P[4]=p[2],P[5]=p[3],P[8]=p[4],P[9]=p[5],P[12]=P[0]*R+P[4]*M,P[13]=P[1]*R+P[5]*M}m.useProgram(C.webGLProgram),m.uniformMatrix4fv(m.getUniformLocation(C.webGLProgram,"uViewMatrix"),!1,P),m.uniformMatrix4fv(m.getUniformLocation(C.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),m.uniform2f(m.getUniformLocation(C.webGLProgram,"uResolution"),this.width,this.height);var I=this.uniforms,D=I.resolution;D.value.x=x,D.value.y=E,I.time.value=w.game.loop.getDuration();var L=this.pointer;if(L){var F=I.mouse,O=L.x/x,N=1-L.y/E;F.value.x=O.toFixed(2),F.value.y=N.toFixed(2)}this.syncUniforms()},flush:function(){var p=this.width,m=this.height,x=this.program,E=this.gl,w=this.vertexBuffer,C=this.renderer,P=Float32Array.BYTES_PER_ELEMENT*2;this.renderToTexture&&(C.setFramebuffer(this.framebuffer),E.clearColor(0,0,0,0),E.clear(E.COLOR_BUFFER_BIT)),E.bindBuffer(E.ARRAY_BUFFER,w.webGLBuffer);var R=E.getAttribLocation(x.webGLProgram,"inPosition");R!==-1&&(E.enableVertexAttribArray(R),E.vertexAttribPointer(R,2,E.FLOAT,!1,P,0));var M=this.vertexViewF32;M[3]=m,M[4]=p,M[5]=m,M[8]=p,M[9]=m,M[10]=p;var I=6;E.bufferSubData(E.ARRAY_BUFFER,0,this.bytes.subarray(0,I*P)),E.drawArrays(E.TRIANGLES,0,I),this.renderToTexture&&C.setFramebuffer(null,!1)},setAlpha:function(){},setBlendMode:function(){},onContextRestored:function(){if(this._deferSetShader!==null){var p=this._deferSetShader.key,m=this._deferSetShader.textures,x=this._deferSetShader.textureData;this._deferSetShader=null,this.setShader(p,m,x)}if(this._deferProjOrtho!==null){var E=this._deferProjOrtho.left,w=this._deferProjOrtho.right,C=this._deferProjOrtho.bottom,P=this._deferProjOrtho.top;this._deferProjOrtho=null,this.projOrtho(E,w,C,P)}},preDestroy:function(){var p=this.renderer;p.off(d.RESTORE_WEBGL,this.onContextRestored,this),p.deleteProgram(this.program),p.deleteBuffer(this.vertexBuffer),this.renderToTexture&&(p.deleteFramebuffer(this.framebuffer),this.texture.destroy(),this.framebuffer=null,this.glTexture=null,this.texture=null),r(this.uniforms,function(m){p.deleteUniformLocation(m.uniformLocation),m.uniformLocation=null})}});h.exports=v},80464:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(){};h.exports=S},54935:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(25305),y=e(44603),f=e(23568),l=e(20071);y.register("shader",function(o,s){o===void 0&&(o={});var a=f(o,"key",null),c=f(o,"x",0),r=f(o,"y",0),d=f(o,"width",128),v=f(o,"height",128),p=new l(this.scene,a,c,r,d,v);return s!==void 0&&(o.add=s),u(this.scene,p,o),p})},74177:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(20071),y=e(39429);y.register("shader",function(f,l,o,s,a,c,r){return this.displayList.add(new u(this.scene,f,l,o,s,a,c,r))})},25479:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(29747),y=u,f=u;y=e(19257),f=e(80464),h.exports={renderWebGL:y,renderCanvas:f}},19257:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(91296),y=function(f,l,o,s){if(l.shader){if(o.addToRenderList(l),f.pipelines.clear(),l.renderToTexture)l.load(),l.flush();else{var a=u(l,o,s).calc;(f.width!==l._rendererWidth||f.height!==l._rendererHeight)&&l.projOrtho(0,f.width,f.height,0),l.load(a.matrix),l.flush()}f.pipelines.rebind()}};h.exports=y},10441:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(70554),y=function(f,l,o,s,a,c){for(var r=u.getTintAppendFloatAlpha(o.fillColor,o.fillAlpha*s),d=o.pathData,v=o.pathIndexes,p=0;p<v.length;p+=3){var m=v[p]*2,x=v[p+1]*2,E=v[p+2]*2,w=d[m+0]-a,C=d[m+1]-c,P=d[x+0]-a,R=d[x+1]-c,M=d[E+0]-a,I=d[E+1]-c,D=l.getX(w,C),L=l.getY(w,C),F=l.getX(P,R),O=l.getY(P,R),N=l.getX(M,I),b=l.getY(M,I);f.batchTri(o,D,L,F,O,N,b,0,0,1,1,r,r,r,2)}};h.exports=y},65960:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u,y,f){var l=y||u.fillColor,o=f||u.fillAlpha,s=(l&16711680)>>>16,a=(l&65280)>>>8,c=l&255;e.fillStyle="rgba("+s+","+a+","+c+","+o+")"};h.exports=S},75177:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u,y,f){var l=y||u.strokeColor,o=f||u.strokeAlpha,s=(l&16711680)>>>16,a=(l&65280)>>>8,c=l&255;e.strokeStyle="rgba("+s+","+a+","+c+","+o+")",e.lineWidth=u.lineWidth};h.exports=S},17803:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(31401),f=e(95643),l=e(23031),o=new u({Extends:f,Mixins:[y.AlphaSingle,y.BlendMode,y.Depth,y.GetBounds,y.Mask,y.Origin,y.Pipeline,y.PostPipeline,y.ScrollFactor,y.Transform,y.Visible],initialize:function(a,c,r){c===void 0&&(c="Shape"),f.call(this,a,c),this.geom=r,this.pathData=[],this.pathIndexes=[],this.fillColor=16777215,this.fillAlpha=1,this.strokeColor=16777215,this.strokeAlpha=1,this.lineWidth=1,this.isFilled=!1,this.isStroked=!1,this.closePath=!0,this._tempLine=new l,this.width=0,this.height=0,this.initPipeline(),this.initPostPipeline()},setFillStyle:function(s,a){return a===void 0&&(a=1),s===void 0?this.isFilled=!1:(this.fillColor=s,this.fillAlpha=a,this.isFilled=!0),this},setStrokeStyle:function(s,a,c){return c===void 0&&(c=1),s===void 0?this.isStroked=!1:(this.lineWidth=s,this.strokeColor=a,this.strokeAlpha=c,this.isStroked=!0),this},setClosePath:function(s){return this.closePath=s,this},setSize:function(s,a){return this.width=s,this.height=a,this},setDisplaySize:function(s,a){return this.displayWidth=s,this.displayHeight=a,this},preDestroy:function(){this.geom=null,this._tempLine=null,this.pathData=[],this.pathIndexes=[]},displayWidth:{get:function(){return this.scaleX*this.width},set:function(s){this.scaleX=s/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(s){this.scaleY=s/this.height}}});h.exports=o},34682:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(70554),y=function(f,l,o,s,a){var c=f.strokeTint,r=u.getTintAppendFloatAlpha(l.strokeColor,l.strokeAlpha*o);c.TL=r,c.TR=r,c.BL=r,c.BR=r;var d=l.pathData,v=d.length-1,p=l.lineWidth,m=p/2,x=d[0]-s,E=d[1]-a;l.closePath||(v-=2);for(var w=2;w<v;w+=2){var C=d[w]-s,P=d[w+1]-a;f.batchLine(x,E,C,P,m,m,p,w-2,l.closePath?w===v-1:!1),x=C,E=P}};h.exports=y},23629:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(13609),y=e(83419),f=e(39506),l=e(94811),o=e(96503),s=e(36383),a=e(17803),c=new y({Extends:a,Mixins:[u],initialize:function(d,v,p,m,x,E,w,C,P){v===void 0&&(v=0),p===void 0&&(p=0),m===void 0&&(m=128),x===void 0&&(x=0),E===void 0&&(E=360),w===void 0&&(w=!1),a.call(this,d,"Arc",new o(0,0,m)),this._startAngle=x,this._endAngle=E,this._anticlockwise=w,this._iterations=.01,this.setPosition(v,p);var R=this.geom.radius*2;this.setSize(R,R),C!==void 0&&this.setFillStyle(C,P),this.updateDisplayOrigin(),this.updateData()},iterations:{get:function(){return this._iterations},set:function(r){this._iterations=r,this.updateData()}},radius:{get:function(){return this.geom.radius},set:function(r){this.geom.radius=r;var d=r*2;this.setSize(d,d),this.updateDisplayOrigin(),this.updateData()}},startAngle:{get:function(){return this._startAngle},set:function(r){this._startAngle=r,this.updateData()}},endAngle:{get:function(){return this._endAngle},set:function(r){this._endAngle=r,this.updateData()}},anticlockwise:{get:function(){return this._anticlockwise},set:function(r){this._anticlockwise=r,this.updateData()}},setRadius:function(r){return this.radius=r,this},setIterations:function(r){return r===void 0&&(r=.01),this.iterations=r,this},setStartAngle:function(r,d){return this._startAngle=r,d!==void 0&&(this._anticlockwise=d),this.updateData()},setEndAngle:function(r,d){return this._endAngle=r,d!==void 0&&(this._anticlockwise=d),this.updateData()},updateData:function(){var r=this._iterations,d=r,v=this.geom.radius,p=f(this._startAngle),m=f(this._endAngle),x=this._anticlockwise,E=v,w=v;m-=p,x?m<-s.PI2?m=-s.PI2:m>0&&(m=-s.PI2+m%s.PI2):m>s.PI2?m=s.PI2:m<0&&(m=s.PI2+m%s.PI2);for(var C=[E+Math.cos(p)*v,w+Math.sin(p)*v],P;d<1;)P=m*d+p,C.push(E+Math.cos(P)*v,w+Math.sin(P)*v),d+=r;return P=m+p,C.push(E+Math.cos(P)*v,w+Math.sin(P)*v),C.push(E+Math.cos(p)*v,w+Math.sin(p)*v),this.pathIndexes=l(C),this.pathData=C,this}});h.exports=c},42542:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(39506),y=e(65960),f=e(75177),l=e(20926),o=function(s,a,c,r){c.addToRenderList(a);var d=s.currentContext;if(l(s,d,a,c,r)){var v=a.radius;d.beginPath(),d.arc(v-a.originX*(v*2),v-a.originY*(v*2),v,u(a._startAngle),u(a._endAngle),a.anticlockwise),a.closePath&&d.closePath(),a.isFilled&&(y(d,a),d.fill()),a.isStroked&&(f(d,a),d.stroke()),d.restore()}};h.exports=o},42563:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(23629),y=e(39429);y.register("arc",function(f,l,o,s,a,c,r,d){return this.displayList.add(new u(this.scene,f,l,o,s,a,c,r,d))}),y.register("circle",function(f,l,o,s,a){return this.displayList.add(new u(this.scene,f,l,o,0,360,!1,s,a))})},13609:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(29747),y=u,f=u;y=e(41447),f=e(42542),h.exports={renderWebGL:y,renderCanvas:f}},41447:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(91296),y=e(10441),f=e(34682),l=function(o,s,a,c){a.addToRenderList(s);var r=o.pipelines.set(s.pipeline),d=u(s,a,c),v=r.calcMatrix.copyFrom(d.calc),p=s._displayOriginX,m=s._displayOriginY,x=a.alpha*s.alpha;o.pipelines.preBatch(s),s.isFilled&&y(r,v,s,x,p,m),s.isStroked&&f(r,s,x,p,m),o.pipelines.postBatch(s)};h.exports=l},89:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(33141),f=e(94811),l=e(87841),o=e(17803),s=new u({Extends:o,Mixins:[y],initialize:function(c,r,d,v,p,m){r===void 0&&(r=0),d===void 0&&(d=0),o.call(this,c,"Curve",v),this._smoothness=32,this._curveBounds=new l,this.closePath=!1,this.setPosition(r,d),p!==void 0&&this.setFillStyle(p,m),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(a){this._smoothness=a,this.updateData()}},setSmoothness:function(a){return this._smoothness=a,this.updateData()},updateData:function(){var a=this._curveBounds,c=this._smoothness;this.geom.getBounds(a,c),this.setSize(a.width,a.height),this.updateDisplayOrigin();for(var r=[],d=this.geom.getPoints(c),v=0;v<d.length;v++)r.push(d[v].x,d[v].y);return r.push(d[0].x,d[0].y),this.pathIndexes=f(r),this.pathData=r,this}});h.exports=s},3170:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(65960),y=e(75177),f=e(20926),l=function(o,s,a,c){a.addToRenderList(s);var r=o.currentContext;if(f(o,r,s,a,c)){var d=s._displayOriginX+s._curveBounds.x,v=s._displayOriginY+s._curveBounds.y,p=s.pathData,m=p.length-1,x=p[0]-d,E=p[1]-v;r.beginPath(),r.moveTo(x,E),s.closePath||(m-=2);for(var w=2;w<m;w+=2){var C=p[w]-d,P=p[w+1]-v;r.lineTo(C,P)}s.closePath&&r.closePath(),s.isFilled&&(u(r,s),r.fill()),s.isStroked&&(y(r,s),r.stroke()),r.restore()}};h.exports=l},40511:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(39429),y=e(89);u.register("curve",function(f,l,o,s,a){return this.displayList.add(new y(this.scene,f,l,o,s,a))})},33141:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(29747),y=u,f=u;y=e(53987),f=e(3170),h.exports={renderWebGL:y,renderCanvas:f}},53987:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(10441),y=e(91296),f=e(34682),l=function(o,s,a,c){a.addToRenderList(s);var r=o.pipelines.set(s.pipeline),d=y(s,a,c),v=r.calcMatrix.copyFrom(d.calc),p=s._displayOriginX+s._curveBounds.x,m=s._displayOriginY+s._curveBounds.y,x=a.alpha*s.alpha;o.pipelines.preBatch(s),s.isFilled&&u(r,v,s,x,p,m),s.isStroked&&f(r,s,x,p,m),o.pipelines.postBatch(s)};h.exports=l},19921:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(94811),f=e(54205),l=e(8497),o=e(17803),s=new u({Extends:o,Mixins:[f],initialize:function(c,r,d,v,p,m,x){r===void 0&&(r=0),d===void 0&&(d=0),v===void 0&&(v=128),p===void 0&&(p=128),o.call(this,c,"Ellipse",new l(v/2,p/2,v,p)),this._smoothness=64,this.setPosition(r,d),this.width=v,this.height=p,m!==void 0&&this.setFillStyle(m,x),this.updateDisplayOrigin(),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(a){this._smoothness=a,this.updateData()}},setSize:function(a,c){return this.width=a,this.height=c,this.geom.setPosition(a/2,c/2),this.geom.setSize(a,c),this.updateDisplayOrigin(),this.updateData()},setSmoothness:function(a){return this._smoothness=a,this.updateData()},updateData:function(){for(var a=[],c=this.geom.getPoints(this._smoothness),r=0;r<c.length;r++)a.push(c[r].x,c[r].y);return a.push(c[0].x,c[0].y),this.pathIndexes=y(a),this.pathData=a,this}});h.exports=s},7930:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(65960),y=e(75177),f=e(20926),l=function(o,s,a,c){a.addToRenderList(s);var r=o.currentContext;if(f(o,r,s,a,c)){var d=s._displayOriginX,v=s._displayOriginY,p=s.pathData,m=p.length-1,x=p[0]-d,E=p[1]-v;r.beginPath(),r.moveTo(x,E),s.closePath||(m-=2);for(var w=2;w<m;w+=2){var C=p[w]-d,P=p[w+1]-v;r.lineTo(C,P)}r.closePath(),s.isFilled&&(u(r,s),r.fill()),s.isStroked&&(y(r,s),r.stroke()),r.restore()}};h.exports=l},1543:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(19921),y=e(39429);y.register("ellipse",function(f,l,o,s,a,c){return this.displayList.add(new u(this.scene,f,l,o,s,a,c))})},54205:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(29747),y=u,f=u;y=e(19467),f=e(7930),h.exports={renderWebGL:y,renderCanvas:f}},19467:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(10441),y=e(91296),f=e(34682),l=function(o,s,a,c){a.addToRenderList(s);var r=o.pipelines.set(s.pipeline),d=y(s,a,c),v=r.calcMatrix.copyFrom(d.calc),p=s._displayOriginX,m=s._displayOriginY,x=a.alpha*s.alpha;o.pipelines.preBatch(s),s.isFilled&&u(r,v,s,x,p,m),s.isStroked&&f(r,s,x,p,m),o.pipelines.postBatch(s)};h.exports=l},30479:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(17803),f=e(26015),l=new u({Extends:y,Mixins:[f],initialize:function(s,a,c,r,d,v,p,m,x,E,w){a===void 0&&(a=0),c===void 0&&(c=0),r===void 0&&(r=128),d===void 0&&(d=128),v===void 0&&(v=32),p===void 0&&(p=32),y.call(this,s,"Grid",null),this.cellWidth=v,this.cellHeight=p,this.showCells=!0,this.outlineFillColor=0,this.outlineFillAlpha=0,this.showOutline=!0,this.showAltCells=!1,this.altFillColor,this.altFillAlpha,this.setPosition(a,c),this.setSize(r,d),this.setFillStyle(m,x),E!==void 0&&this.setOutlineStyle(E,w),this.updateDisplayOrigin()},setFillStyle:function(o,s){return s===void 0&&(s=1),o===void 0?this.showCells=!1:(this.fillColor=o,this.fillAlpha=s,this.showCells=!0),this},setAltFillStyle:function(o,s){return s===void 0&&(s=1),o===void 0?this.showAltCells=!1:(this.altFillColor=o,this.altFillAlpha=s,this.showAltCells=!0),this},setOutlineStyle:function(o,s){return s===void 0&&(s=1),o===void 0?this.showOutline=!1:(this.outlineFillColor=o,this.outlineFillAlpha=s,this.showOutline=!0),this}});h.exports=l},49912:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(65960),y=e(75177),f=e(20926),l=function(o,s,a,c){a.addToRenderList(s);var r=o.currentContext;if(f(o,r,s,a,c)){var d=-s._displayOriginX,v=-s._displayOriginY,p=a.alpha*s.alpha,m=s.width,x=s.height,E=s.cellWidth,w=s.cellHeight,C=Math.ceil(m/E),P=Math.ceil(x/w),R=E,M=w,I=E-(C*E-m),D=w-(P*w-x),L=s.showCells,F=s.showAltCells,O=s.showOutline,N=0,b=0,V=0,Y=0,W=0;if(O&&(R--,M--,I===E&&I--,D===w&&D--),L&&s.fillAlpha>0)for(u(r,s),b=0;b<P;b++)for(F&&(V=b%2),N=0;N<C;N++){if(F&&V){V=0;continue}V++,Y=N<C-1?R:I,W=b<P-1?M:D,r.fillRect(d+N*E,v+b*w,Y,W)}if(F&&s.altFillAlpha>0)for(u(r,s,s.altFillColor,s.altFillAlpha*p),b=0;b<P;b++)for(F&&(V=b%2),N=0;N<C;N++){if(F&&!V){V=1;continue}V=0,Y=N<C-1?R:I,W=b<P-1?M:D,r.fillRect(d+N*E,v+b*w,Y,W)}if(O&&s.outlineFillAlpha>0){for(y(r,s,s.outlineFillColor,s.outlineFillAlpha*p),N=1;N<C;N++){var U=N*E;r.beginPath(),r.moveTo(U+d,v),r.lineTo(U+d,x+v),r.stroke()}for(b=1;b<P;b++){var z=b*w;r.beginPath(),r.moveTo(d,z+v),r.lineTo(d+m,z+v),r.stroke()}}r.restore()}};h.exports=l},34137:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(39429),y=e(30479);u.register("grid",function(f,l,o,s,a,c,r,d,v,p){return this.displayList.add(new y(this.scene,f,l,o,s,a,c,r,d,v,p))})},26015:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(29747),y=u,f=u;y=e(46161),f=e(49912),h.exports={renderWebGL:y,renderCanvas:f}},46161:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(91296),y=e(70554),f=function(l,o,s,a){s.addToRenderList(o);var c=l.pipelines.set(o.pipeline),r=u(o,s,a),d=c.calcMatrix.copyFrom(r.calc);d.translate(-o._displayOriginX,-o._displayOriginY);var v=s.alpha*o.alpha,p=o.width,m=o.height,x=o.cellWidth,E=o.cellHeight,w=Math.ceil(p/x),C=Math.ceil(m/E),P=x,R=E,M=x-(w*x-p),I=E-(C*E-m),D,L,F=o.showCells,O=o.showAltCells,N=o.showOutline,b=0,V=0,Y=0,W=0,U=0;if(N&&(P--,R--,M===x&&M--,I===E&&I--),l.pipelines.preBatch(o),F&&o.fillAlpha>0)for(D=c.fillTint,L=y.getTintAppendFloatAlpha(o.fillColor,o.fillAlpha*v),D.TL=L,D.TR=L,D.BL=L,D.BR=L,V=0;V<C;V++)for(O&&(Y=V%2),b=0;b<w;b++){if(O&&Y){Y=0;continue}Y++,W=b<w-1?P:M,U=V<C-1?R:I,c.batchFillRect(b*x,V*E,W,U)}if(O&&o.altFillAlpha>0)for(D=c.fillTint,L=y.getTintAppendFloatAlpha(o.altFillColor,o.altFillAlpha*v),D.TL=L,D.TR=L,D.BL=L,D.BR=L,V=0;V<C;V++)for(O&&(Y=V%2),b=0;b<w;b++){if(O&&!Y){Y=1;continue}Y=0,W=b<w-1?P:M,U=V<C-1?R:I,c.batchFillRect(b*x,V*E,W,U)}if(N&&o.outlineFillAlpha>0){var z=c.strokeTint,B=y.getTintAppendFloatAlpha(o.outlineFillColor,o.outlineFillAlpha*v);for(z.TL=B,z.TR=B,z.BL=B,z.BR=B,b=1;b<w;b++){var X=b*x;c.batchLine(X,0,X,m,o.lineWidth,o.lineWidth,1,0,!1)}for(V=1;V<C;V++){var G=V*E;c.batchLine(0,G,p,G,o.lineWidth,o.lineWidth,1,0,!1)}}l.pipelines.postBatch(o)};h.exports=f},61475:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(99651),y=e(83419),f=e(17803),l=new y({Extends:f,Mixins:[u],initialize:function(s,a,c,r,d,v,p,m){a===void 0&&(a=0),c===void 0&&(c=0),r===void 0&&(r=48),d===void 0&&(d=32),v===void 0&&(v=15658734),p===void 0&&(p=10066329),m===void 0&&(m=13421772),f.call(this,s,"IsoBox",null),this.projection=4,this.fillTop=v,this.fillLeft=p,this.fillRight=m,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isFilled=!0,this.setPosition(a,c),this.setSize(r,d),this.updateDisplayOrigin()},setProjection:function(o){return this.projection=o,this},setFaces:function(o,s,a){return o===void 0&&(o=!0),s===void 0&&(s=!0),a===void 0&&(a=!0),this.showTop=o,this.showLeft=s,this.showRight=a,this},setFillStyle:function(o,s,a){return this.fillTop=o,this.fillLeft=s,this.fillRight=a,this.isFilled=!0,this}});h.exports=l},11508:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(65960),y=e(20926),f=function(l,o,s,a){s.addToRenderList(o);var c=l.currentContext;if(y(l,c,o,s,a)&&o.isFilled){var r=o.width,d=o.height,v=r/2,p=r/o.projection;o.showTop&&(u(c,o,o.fillTop),c.beginPath(),c.moveTo(-v,-d),c.lineTo(0,-p-d),c.lineTo(v,-d),c.lineTo(v,-1),c.lineTo(0,p-1),c.lineTo(-v,-1),c.lineTo(-v,-d),c.fill()),o.showLeft&&(u(c,o,o.fillLeft),c.beginPath(),c.moveTo(-v,0),c.lineTo(0,p),c.lineTo(0,p-d),c.lineTo(-v,-d),c.lineTo(-v,0),c.fill()),o.showRight&&(u(c,o,o.fillRight),c.beginPath(),c.moveTo(v,0),c.lineTo(0,p),c.lineTo(0,p-d),c.lineTo(v,-d),c.lineTo(v,0),c.fill()),c.restore()}};h.exports=f},3933:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(39429),y=e(61475);u.register("isobox",function(f,l,o,s,a,c,r){return this.displayList.add(new y(this.scene,f,l,o,s,a,c,r))})},99651:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(29747),y=u,f=u;y=e(68149),f=e(11508),h.exports={renderWebGL:y,renderCanvas:f}},68149:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(91296),y=e(70554),f=function(l,o,s,a){s.addToRenderList(o);var c=l.pipelines.set(o.pipeline),r=u(o,s,a),d=c.calcMatrix.copyFrom(r.calc),v=o.width,p=o.height,m=v/2,x=v/o.projection,E=s.alpha*o.alpha;if(o.isFilled){var w,C,P,R,M,I,D,L,F;l.pipelines.preBatch(o),o.showTop&&(w=y.getTintAppendFloatAlpha(o.fillTop,E),C=d.getX(-m,-p),P=d.getY(-m,-p),R=d.getX(0,-x-p),M=d.getY(0,-x-p),I=d.getX(m,-p),D=d.getY(m,-p),L=d.getX(0,x-p),F=d.getY(0,x-p),c.batchQuad(o,C,P,R,M,I,D,L,F,0,0,1,1,w,w,w,w,2)),o.showLeft&&(w=y.getTintAppendFloatAlpha(o.fillLeft,E),C=d.getX(-m,0),P=d.getY(-m,0),R=d.getX(0,x),M=d.getY(0,x),I=d.getX(0,x-p),D=d.getY(0,x-p),L=d.getX(-m,-p),F=d.getY(-m,-p),c.batchQuad(o,C,P,R,M,I,D,L,F,0,0,1,1,w,w,w,w,2)),o.showRight&&(w=y.getTintAppendFloatAlpha(o.fillRight,E),C=d.getX(m,0),P=d.getY(m,0),R=d.getX(0,x),M=d.getY(0,x),I=d.getX(0,x-p),D=d.getY(0,x-p),L=d.getX(m,-p),F=d.getY(m,-p),c.batchQuad(o,C,P,R,M,I,D,L,F,0,0,1,1,w,w,w,w,2)),l.pipelines.postBatch(o)}};h.exports=f},16933:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(60561),f=e(17803),l=new u({Extends:f,Mixins:[y],initialize:function(s,a,c,r,d,v,p,m,x){a===void 0&&(a=0),c===void 0&&(c=0),r===void 0&&(r=48),d===void 0&&(d=32),v===void 0&&(v=!1),p===void 0&&(p=15658734),m===void 0&&(m=10066329),x===void 0&&(x=13421772),f.call(this,s,"IsoTriangle",null),this.projection=4,this.fillTop=p,this.fillLeft=m,this.fillRight=x,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isReversed=v,this.isFilled=!0,this.setPosition(a,c),this.setSize(r,d),this.updateDisplayOrigin()},setProjection:function(o){return this.projection=o,this},setReversed:function(o){return this.isReversed=o,this},setFaces:function(o,s,a){return o===void 0&&(o=!0),s===void 0&&(s=!0),a===void 0&&(a=!0),this.showTop=o,this.showLeft=s,this.showRight=a,this},setFillStyle:function(o,s,a){return this.fillTop=o,this.fillLeft=s,this.fillRight=a,this.isFilled=!0,this}});h.exports=l},79590:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(65960),y=e(20926),f=function(l,o,s,a){s.addToRenderList(o);var c=l.currentContext;if(y(l,c,o,s,a)&&o.isFilled){var r=o.width,d=o.height,v=r/2,p=r/o.projection,m=o.isReversed;o.showTop&&m&&(u(c,o,o.fillTop),c.beginPath(),c.moveTo(-v,-d),c.lineTo(0,-p-d),c.lineTo(v,-d),c.lineTo(0,p-d),c.fill()),o.showLeft&&(u(c,o,o.fillLeft),c.beginPath(),m?(c.moveTo(-v,-d),c.lineTo(0,p),c.lineTo(0,p-d)):(c.moveTo(-v,0),c.lineTo(0,p),c.lineTo(0,p-d)),c.fill()),o.showRight&&(u(c,o,o.fillRight),c.beginPath(),m?(c.moveTo(v,-d),c.lineTo(0,p),c.lineTo(0,p-d)):(c.moveTo(v,0),c.lineTo(0,p),c.lineTo(0,p-d)),c.fill()),c.restore()}};h.exports=f},49803:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(39429),y=e(16933);u.register("isotriangle",function(f,l,o,s,a,c,r,d){return this.displayList.add(new y(this.scene,f,l,o,s,a,c,r,d))})},60561:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(29747),y=u,f=u;y=e(51503),f=e(79590),h.exports={renderWebGL:y,renderCanvas:f}},51503:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(91296),y=e(70554),f=function(l,o,s,a){s.addToRenderList(o);var c=l.pipelines.set(o.pipeline),r=u(o,s,a),d=c.calcMatrix.copyFrom(r.calc),v=o.width,p=o.height,m=v/2,x=v/o.projection,E=o.isReversed,w=s.alpha*o.alpha;if(o.isFilled){l.pipelines.preBatch(o);var C,P,R,M,I,D,L;if(o.showTop&&E){C=y.getTintAppendFloatAlpha(o.fillTop,w),P=d.getX(-m,-p),R=d.getY(-m,-p),M=d.getX(0,-x-p),I=d.getY(0,-x-p),D=d.getX(m,-p),L=d.getY(m,-p);var F=d.getX(0,x-p),O=d.getY(0,x-p);c.batchQuad(o,P,R,M,I,D,L,F,O,0,0,1,1,C,C,C,C,2)}o.showLeft&&(C=y.getTintAppendFloatAlpha(o.fillLeft,w),E?(P=d.getX(-m,-p),R=d.getY(-m,-p),M=d.getX(0,x),I=d.getY(0,x),D=d.getX(0,x-p),L=d.getY(0,x-p)):(P=d.getX(-m,0),R=d.getY(-m,0),M=d.getX(0,x),I=d.getY(0,x),D=d.getX(0,x-p),L=d.getY(0,x-p)),c.batchTri(o,P,R,M,I,D,L,0,0,1,1,C,C,C,2)),o.showRight&&(C=y.getTintAppendFloatAlpha(o.fillRight,w),E?(P=d.getX(m,-p),R=d.getY(m,-p),M=d.getX(0,x),I=d.getY(0,x),D=d.getX(0,x-p),L=d.getY(0,x-p)):(P=d.getX(m,0),R=d.getY(m,0),M=d.getX(0,x),I=d.getY(0,x),D=d.getX(0,x-p),L=d.getY(0,x-p)),c.batchTri(o,P,R,M,I,D,L,0,0,1,1,C,C,C,2)),l.pipelines.postBatch(o)}};h.exports=f},57847:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(17803),f=e(23031),l=e(36823),o=new u({Extends:y,Mixins:[l],initialize:function(a,c,r,d,v,p,m,x,E){c===void 0&&(c=0),r===void 0&&(r=0),d===void 0&&(d=0),v===void 0&&(v=0),p===void 0&&(p=128),m===void 0&&(m=0),y.call(this,a,"Line",new f(d,v,p,m));var w=Math.max(1,this.geom.right-this.geom.left),C=Math.max(1,this.geom.bottom-this.geom.top);this.lineWidth=1,this._startWidth=1,this._endWidth=1,this.setPosition(c,r),this.setSize(w,C),x!==void 0&&this.setStrokeStyle(1,x,E),this.updateDisplayOrigin()},setLineWidth:function(s,a){return a===void 0&&(a=s),this._startWidth=s,this._endWidth=a,this.lineWidth=s,this},setTo:function(s,a,c,r){return this.geom.setTo(s,a,c,r),this}});h.exports=o},17440:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(75177),y=e(20926),f=function(l,o,s,a){s.addToRenderList(o);var c=l.currentContext;if(y(l,c,o,s,a)){var r=o._displayOriginX,d=o._displayOriginY;o.isStroked&&(u(c,o),c.beginPath(),c.moveTo(o.geom.x1-r,o.geom.y1-d),c.lineTo(o.geom.x2-r,o.geom.y2-d),c.stroke()),c.restore()}};h.exports=f},2481:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(39429),y=e(57847);u.register("line",function(f,l,o,s,a,c,r,d){return this.displayList.add(new y(this.scene,f,l,o,s,a,c,r,d))})},36823:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(29747),y=u,f=u;y=e(77385),f=e(17440),h.exports={renderWebGL:y,renderCanvas:f}},77385:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(91296),y=e(70554),f=function(l,o,s,a){s.addToRenderList(o);var c=l.pipelines.set(o.pipeline),r=u(o,s,a);c.calcMatrix.copyFrom(r.calc);var d=o._displayOriginX,v=o._displayOriginY,p=s.alpha*o.alpha;if(l.pipelines.preBatch(o),o.isStroked){var m=c.strokeTint,x=y.getTintAppendFloatAlpha(o.strokeColor,o.strokeAlpha*p);m.TL=x,m.TR=x,m.BL=x,m.BR=x,c.batchLine(o.geom.x1-d,o.geom.y1-v,o.geom.x2-d,o.geom.y2-v,o._startWidth/2,o._endWidth/2,1,0,!1,r.sprite,r.camera)}l.pipelines.postBatch(o)};h.exports=f},24949:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(90273),y=e(83419),f=e(94811),l=e(13829),o=e(25717),s=e(17803),a=e(5469),c=new y({Extends:s,Mixins:[u],initialize:function(d,v,p,m,x,E){v===void 0&&(v=0),p===void 0&&(p=0),s.call(this,d,"Polygon",new o(m));var w=l(this.geom);this.setPosition(v,p),this.setSize(w.width,w.height),x!==void 0&&this.setFillStyle(x,E),this.updateDisplayOrigin(),this.updateData()},smooth:function(r){r===void 0&&(r=1);for(var d=0;d<r;d++)a(this.geom);return this.updateData()},setTo:function(r){this.geom.setTo(r);var d=l(this.geom);return this.setSize(d.width,d.height),this.updateDisplayOrigin(),this.updateData()},updateData:function(){for(var r=[],d=this.geom.points,v=0;v<d.length;v++)r.push(d[v].x,d[v].y);return r.push(d[0].x,d[0].y),this.pathIndexes=f(r),this.pathData=r,this}});h.exports=c},38710:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(65960),y=e(75177),f=e(20926),l=function(o,s,a,c){a.addToRenderList(s);var r=o.currentContext;if(f(o,r,s,a,c)){var d=s._displayOriginX,v=s._displayOriginY,p=s.pathData,m=p.length-1,x=p[0]-d,E=p[1]-v;r.beginPath(),r.moveTo(x,E),s.closePath||(m-=2);for(var w=2;w<m;w+=2){var C=p[w]-d,P=p[w+1]-v;r.lineTo(C,P)}s.closePath&&r.closePath(),s.isFilled&&(u(r,s),r.fill()),s.isStroked&&(y(r,s),r.stroke()),r.restore()}};h.exports=l},64827:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(39429),y=e(24949);u.register("polygon",function(f,l,o,s,a){return this.displayList.add(new y(this.scene,f,l,o,s,a))})},90273:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(29747),y=u,f=u;y=e(73695),f=e(38710),h.exports={renderWebGL:y,renderCanvas:f}},73695:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(10441),y=e(91296),f=e(34682),l=function(o,s,a,c){a.addToRenderList(s);var r=o.pipelines.set(s.pipeline),d=y(s,a,c),v=r.calcMatrix.copyFrom(d.calc),p=s._displayOriginX,m=s._displayOriginY,x=a.alpha*s.alpha;o.pipelines.preBatch(s),s.isFilled&&u(r,v,s,x,p,m),s.isStroked&&f(r,s,x,p,m),o.pipelines.postBatch(s)};h.exports=l},74561:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(94811),f=e(87841),l=e(17803),o=e(95597),s=new u({Extends:l,Mixins:[o],initialize:function(c,r,d,v,p,m,x){r===void 0&&(r=0),d===void 0&&(d=0),v===void 0&&(v=128),p===void 0&&(p=128),l.call(this,c,"Rectangle",new f(0,0,v,p)),this.radius=20,this.isRounded=!1,this.setPosition(r,d),this.setSize(v,p),m!==void 0&&this.setFillStyle(m,x),this.updateDisplayOrigin(),this.updateData()},setRounded:function(a){return a===void 0&&(a=16),this.radius=a,this.isRounded=a>0,this.updateRoundedData()},setSize:function(a,c){this.width=a,this.height=c,this.geom.setSize(a,c),this.updateData(),this.updateDisplayOrigin();var r=this.input;return r&&!r.customHitArea&&(r.hitArea.width=a,r.hitArea.height=c),this},updateData:function(){if(this.isRounded)return this.updateRoundedData();var a=[],c=this.geom,r=this._tempLine;return c.getLineA(r),a.push(r.x1,r.y1,r.x2,r.y2),c.getLineB(r),a.push(r.x2,r.y2),c.getLineC(r),a.push(r.x2,r.y2),c.getLineD(r),a.push(r.x2,r.y2),this.pathData=a,this},updateRoundedData:function(){var a=[],c=this.width/2,r=this.height/2,d=Math.min(c,r),v=Math.min(this.radius,d),p=c,m=r,x=Math.max(1,Math.floor(v/5));return this.arcTo(a,p-c+v,m-r+v,v,Math.PI,Math.PI*1.5,x),a.push(p+c-v,m-r),this.arcTo(a,p+c-v,m-r+v,v,Math.PI*1.5,Math.PI*2,x),a.push(p+c,m+r-v),this.arcTo(a,p+c-v,m+r-v,v,0,Math.PI*.5,x),a.push(p-c+v,m+r),this.arcTo(a,p-c+v,m+r-v,v,Math.PI*.5,Math.PI,x),a.push(p-c,m-r+v),this.pathIndexes=y(a),this.pathData=a,this},arcTo:function(a,c,r,d,v,p,m){for(var x=(p-v)/m,E=0;E<=m;E++){var w=v+x*E;a.push(c+Math.cos(w)*d,r+Math.sin(w)*d)}}});h.exports=s},48682:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(65960),y=e(75177),f=e(20926),l=function(s,a,c,r,d,v){var p=Math.min(r/2,d/2),m=Math.min(v,p);if(m===0){s.rect(a,c,r,d);return}s.moveTo(a+m,c),s.lineTo(a+r-m,c),s.arcTo(a+r,c,a+r,c+m,m),s.lineTo(a+r,c+d-m),s.arcTo(a+r,c+d,a+r-m,c+d,m),s.lineTo(a+m,c+d),s.arcTo(a,c+d,a,c+d-m,m),s.lineTo(a,c+m),s.arcTo(a,c,a+m,c,m),s.closePath()},o=function(s,a,c,r){c.addToRenderList(a);var d=s.currentContext;if(f(s,d,a,c,r)){var v=a._displayOriginX,p=a._displayOriginY;a.isFilled&&(u(d,a),a.isRounded?(d.beginPath(),l(d,-v,-p,a.width,a.height,a.radius),d.fill()):d.fillRect(-v,-p,a.width,a.height)),a.isStroked&&(y(d,a),d.beginPath(),a.isRounded?l(d,-v,-p,a.width,a.height,a.radius):d.rect(-v,-p,a.width,a.height),d.stroke()),d.restore()}};h.exports=o},87959:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(39429),y=e(74561);u.register("rectangle",function(f,l,o,s,a,c){return this.displayList.add(new y(this.scene,f,l,o,s,a,c))})},95597:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(29747),y=u,f=u;y=e(52059),f=e(48682),h.exports={renderWebGL:y,renderCanvas:f}},52059:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(10441),y=e(91296),f=e(34682),l=e(70554),o=function(s,a,c,r){c.addToRenderList(a);var d=s.pipelines.set(a.pipeline),v=y(a,c,r);d.calcMatrix.copyFrom(v.calc);var p=a._displayOriginX,m=a._displayOriginY,x=c.alpha*a.alpha;if(s.pipelines.preBatch(a),a.isRounded&&a.isFilled)u(d,v.calc,a,x,p,m);else if(a.isFilled){var E=d.fillTint,w=l.getTintAppendFloatAlpha(a.fillColor,a.fillAlpha*x);E.TL=w,E.TR=w,E.BL=w,E.BR=w,d.batchFillRect(-p,-m,a.width,a.height)}a.isStroked&&f(d,a,x,p,m),s.pipelines.postBatch(a)};h.exports=o},55911:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(81991),y=e(83419),f=e(94811),l=e(17803),o=new y({Extends:l,Mixins:[u],initialize:function(a,c,r,d,v,p,m,x){c===void 0&&(c=0),r===void 0&&(r=0),d===void 0&&(d=5),v===void 0&&(v=32),p===void 0&&(p=64),l.call(this,a,"Star",null),this._points=d,this._innerRadius=v,this._outerRadius=p,this.setPosition(c,r),this.setSize(p*2,p*2),m!==void 0&&this.setFillStyle(m,x),this.updateDisplayOrigin(),this.updateData()},setPoints:function(s){return this._points=s,this.updateData()},setInnerRadius:function(s){return this._innerRadius=s,this.updateData()},setOuterRadius:function(s){return this._outerRadius=s,this.updateData()},points:{get:function(){return this._points},set:function(s){this._points=s,this.updateData()}},innerRadius:{get:function(){return this._innerRadius},set:function(s){this._innerRadius=s,this.updateData()}},outerRadius:{get:function(){return this._outerRadius},set:function(s){this._outerRadius=s,this.updateData()}},updateData:function(){var s=[],a=this._points,c=this._innerRadius,r=this._outerRadius,d=Math.PI/2*3,v=Math.PI/a,p=r,m=r;s.push(p,m+-r);for(var x=0;x<a;x++)s.push(p+Math.cos(d)*r,m+Math.sin(d)*r),d+=v,s.push(p+Math.cos(d)*c,m+Math.sin(d)*c),d+=v;return s.push(p,m+-r),this.pathIndexes=f(s),this.pathData=s,this}});h.exports=o},64272:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(65960),y=e(75177),f=e(20926),l=function(o,s,a,c){a.addToRenderList(s);var r=o.currentContext;if(f(o,r,s,a,c)){var d=s._displayOriginX,v=s._displayOriginY,p=s.pathData,m=p.length-1,x=p[0]-d,E=p[1]-v;r.beginPath(),r.moveTo(x,E),s.closePath||(m-=2);for(var w=2;w<m;w+=2){var C=p[w]-d,P=p[w+1]-v;r.lineTo(C,P)}r.closePath(),s.isFilled&&(u(r,s),r.fill()),s.isStroked&&(y(r,s),r.stroke()),r.restore()}};h.exports=l},93697:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(55911),y=e(39429);y.register("star",function(f,l,o,s,a,c,r){return this.displayList.add(new u(this.scene,f,l,o,s,a,c,r))})},81991:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(29747),y=u,f=u;y=e(57017),f=e(64272),h.exports={renderWebGL:y,renderCanvas:f}},57017:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(10441),y=e(91296),f=e(34682),l=function(o,s,a,c){a.addToRenderList(s);var r=o.pipelines.set(s.pipeline),d=y(s,a,c),v=r.calcMatrix.copyFrom(d.calc),p=s._displayOriginX,m=s._displayOriginY,x=a.alpha*s.alpha;o.pipelines.preBatch(s),s.isFilled&&u(r,v,s,x,p,m),s.isStroked&&f(r,s,x,p,m),o.pipelines.postBatch(s)};h.exports=l},36931:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(17803),f=e(16483),l=e(96195),o=new u({Extends:y,Mixins:[l],initialize:function(a,c,r,d,v,p,m,x,E,w,C){c===void 0&&(c=0),r===void 0&&(r=0),d===void 0&&(d=0),v===void 0&&(v=128),p===void 0&&(p=64),m===void 0&&(m=0),x===void 0&&(x=128),E===void 0&&(E=128),y.call(this,a,"Triangle",new f(d,v,p,m,x,E));var P=this.geom.right-this.geom.left,R=this.geom.bottom-this.geom.top;this.setPosition(c,r),this.setSize(P,R),w!==void 0&&this.setFillStyle(w,C),this.updateDisplayOrigin(),this.updateData()},setTo:function(s,a,c,r,d,v){return this.geom.setTo(s,a,c,r,d,v),this.updateData()},updateData:function(){var s=[],a=this.geom,c=this._tempLine;return a.getLineA(c),s.push(c.x1,c.y1,c.x2,c.y2),a.getLineB(c),s.push(c.x2,c.y2),a.getLineC(c),s.push(c.x2,c.y2),this.pathData=s,this}});h.exports=o},85172:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(65960),y=e(75177),f=e(20926),l=function(o,s,a,c){a.addToRenderList(s);var r=o.currentContext;if(f(o,r,s,a,c)){var d=s._displayOriginX,v=s._displayOriginY,p=s.geom.x1-d,m=s.geom.y1-v,x=s.geom.x2-d,E=s.geom.y2-v,w=s.geom.x3-d,C=s.geom.y3-v;r.beginPath(),r.moveTo(p,m),r.lineTo(x,E),r.lineTo(w,C),r.closePath(),s.isFilled&&(u(r,s),r.fill()),s.isStroked&&(y(r,s),r.stroke()),r.restore()}};h.exports=l},45245:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(39429),y=e(36931);u.register("triangle",function(f,l,o,s,a,c,r,d,v,p){return this.displayList.add(new y(this.scene,f,l,o,s,a,c,r,d,v,p))})},96195:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(29747),y=u,f=u;y=e(83253),f=e(85172),h.exports={renderWebGL:y,renderCanvas:f}},83253:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(91296),y=e(34682),f=e(70554),l=function(o,s,a,c){a.addToRenderList(s);var r=o.pipelines.set(s.pipeline),d=u(s,a,c);r.calcMatrix.copyFrom(d.calc);var v=s._displayOriginX,p=s._displayOriginY,m=a.alpha*s.alpha;if(o.pipelines.preBatch(s),s.isFilled){var x=r.fillTint,E=f.getTintAppendFloatAlpha(s.fillColor,s.fillAlpha*m);x.TL=E,x.TR=E,x.BL=E,x.BR=E;var w=s.geom.x1-v,C=s.geom.y1-p,P=s.geom.x2-v,R=s.geom.y2-p,M=s.geom.x3-v,I=s.geom.y3-p;r.batchFillTriangle(w,C,P,R,M,I,d.sprite,d.camera)}s.isStroked&&y(r,s,m,v,p),o.pipelines.postBatch(s)};h.exports=l},68287:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(9674),y=e(83419),f=e(31401),l=e(95643),o=e(92751),s=new y({Extends:l,Mixins:[f.Alpha,f.BlendMode,f.Depth,f.Flip,f.GetBounds,f.Mask,f.Origin,f.Pipeline,f.PostPipeline,f.ScrollFactor,f.Size,f.TextureCrop,f.Tint,f.Transform,f.Visible,o],initialize:function(c,r,d,v,p){l.call(this,c,"Sprite"),this._crop=this.resetCropObject(),this.anims=new u(this),this.setTexture(v,p),this.setPosition(r,d),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(a,c){this.anims.update(a,c)},play:function(a,c){return this.anims.play(a,c)},playReverse:function(a,c){return this.anims.playReverse(a,c)},playAfterDelay:function(a,c){return this.anims.playAfterDelay(a,c)},playAfterRepeat:function(a,c){return this.anims.playAfterRepeat(a,c)},chain:function(a){return this.anims.chain(a)},stop:function(){return this.anims.stop()},stopAfterDelay:function(a){return this.anims.stopAfterDelay(a)},stopAfterRepeat:function(a){return this.anims.stopAfterRepeat(a)},stopOnFrame:function(a){return this.anims.stopOnFrame(a)},toJSON:function(){return f.ToJSON(this)},preDestroy:function(){this.anims.destroy(),this.anims=void 0}});h.exports=s},76552:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u,y,f){y.addToRenderList(u),e.batchSprite(u,u.frame,y,f)};h.exports=S},15567:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(25305),y=e(13059),f=e(44603),l=e(23568),o=e(68287);f.register("sprite",function(s,a){s===void 0&&(s={});var c=l(s,"key",null),r=l(s,"frame",null),d=new o(this.scene,0,0,c,r);return a!==void 0&&(s.add=a),u(this.scene,d,s),y(d,s),d})},46409:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(39429),y=e(68287);u.register("sprite",function(f,l,o,s){return this.displayList.add(new y(this.scene,f,l,o,s))})},92751:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(29747),y=u,f=u;y=e(9409),f=e(76552),h.exports={renderWebGL:y,renderCanvas:f}},9409:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u,y,f){y.addToRenderList(u),u.pipeline.batchSprite(u,y,f)};h.exports=S},14220:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u,y){var f=e.canvas,l=e.context,o=e.style,s=[],a=0,c=y.length;o.maxLines>0&&o.maxLines<y.length&&(c=o.maxLines),o.syncFont(f,l);for(var r=e.letterSpacing,d=0;d<c;d++){var v=o.strokeThickness;if(r===0)v+=l.measureText(y[d]).width;else{for(var p=y[d],m=0;m<p.length;m++)v+=l.measureText(p[m]).width;p.length>1&&(v+=r*(p.length-1))}o.wordWrap&&(v-=l.measureText(" ").width),s[d]=Math.ceil(v),a=Math.max(a,s[d])}var x=u.fontSize+o.strokeThickness,E=x*c,w=e.lineSpacing;return c>1&&(E+=w*(c-1)),{width:a,height:E,lines:c,lineWidths:s,lineSpacing:w,lineHeight:x}};h.exports=S},79557:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(27919),y=function(f){var l=u.create(this),o=l.getContext("2d",{willReadFrequently:!0});f.syncFont(l,o);var s=o.measureText(f.testString);if("actualBoundingBoxAscent"in s){var a=s.actualBoundingBoxAscent,c=s.actualBoundingBoxDescent;return u.remove(l),{ascent:a,descent:c,fontSize:a+c}}var r=Math.ceil(s.width*f.baselineX),d=r,v=2*d;d=d*f.baselineY|0,l.width=r,l.height=v,o.fillStyle="#f00",o.fillRect(0,0,r,v),o.font=f._font,o.textBaseline="alphabetic",o.fillStyle="#000",o.fillText(f.testString,0,d);var p={ascent:0,descent:0,fontSize:0},m=o.getImageData(0,0,r,v);if(!m)return p.ascent=d,p.descent=d+6,p.fontSize=p.ascent+p.descent,u.remove(l),p;var x=m.data,E=x.length,w=r*4,C,P,R=0,M=!1;for(C=0;C<d;C++){for(P=0;P<w;P+=4)if(x[R+P]!==255){M=!0;break}if(!M)R+=w;else break}for(p.ascent=d-C,R=E-w,M=!1,C=v;C>d;C--){for(P=0;P<w;P+=4)if(x[R+P]!==255){M=!0;break}if(!M)R-=w;else break}return p.descent=C-d,p.fontSize=p.ascent+p.descent,u.remove(l),p};h.exports=y},50171:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(40366),y=e(27919),f=e(83419),l=e(31401),o=e(95643),s=e(14220),a=e(35154),c=e(35846),r=e(61771),d=e(35762),v=e(45650),p=new f({Extends:o,Mixins:[l.Alpha,l.BlendMode,l.ComputedSize,l.Crop,l.Depth,l.Flip,l.GetBounds,l.Mask,l.Origin,l.Pipeline,l.PostPipeline,l.ScrollFactor,l.Tint,l.Transform,l.Visible,r],initialize:function(x,E,w,C,P){E===void 0&&(E=0),w===void 0&&(w=0),o.call(this,x,"Text"),this.renderer=x.sys.renderer,this.setPosition(E,w),this.setOrigin(0,0),this.initPipeline(),this.initPostPipeline(!0),this.canvas=y.create(this),this.context,this.style=new d(this,P),this.autoRound=!0,this.splitRegExp=/(?:\r\n|\r|\n)/,this._text=void 0,this.padding={left:0,right:0,top:0,bottom:0},this.width=1,this.height=1,this.lineSpacing=0,this.letterSpacing=0,this.style.resolution===0&&(this.style.resolution=1),this._crop=this.resetCropObject(),this._textureKey=v(),this.texture=x.sys.textures.addCanvas(this._textureKey,this.canvas),this.context=this.texture.context,this.frame=this.texture.get(),this.frame.source.resolution=this.style.resolution,this.renderer&&this.renderer.gl&&(this.renderer.deleteTexture(this.frame.source.glTexture),this.frame.source.glTexture=null),this.initRTL(),this.setText(C),P&&P.padding&&this.setPadding(P.padding),P&&P.lineSpacing&&this.setLineSpacing(P.lineSpacing),P&&P.letterSpacing&&this.setLetterSpacing(P.letterSpacing)},initRTL:function(){if(!this.style.rtl){this.canvas.dir="ltr",this.context.direction="ltr";return}this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",u(this.canvas,this.scene.sys.canvas),this.originX=1},runWordWrap:function(m){var x=this.style;if(x.wordWrapCallback){var E=x.wordWrapCallback.call(x.wordWrapCallbackScope,m,this);return Array.isArray(E)&&(E=E.join(`
`)),E}else return x.wordWrapWidth?x.wordWrapUseAdvanced?this.advancedWordWrap(m,this.context,this.style.wordWrapWidth):this.basicWordWrap(m,this.context,this.style.wordWrapWidth):m},advancedWordWrap:function(m,x,E){for(var w="",C=m.replace(/ +/gi," ").split(this.splitRegExp),P=C.length,R=0;R<P;R++){var M=C[R],I="";M=M.replace(/^ *|\s*$/gi,"");var D=M.length*this.letterSpacing,L=x.measureText(M).width+D;if(L<E){w+=M+`
`;continue}for(var F=E,O=M.split(" "),N=0;N<O.length;N++){var b=O[N],V=b+" ",Y=V.length*this.letterSpacing,W=x.measureText(V).width+Y;if(W>F){if(N===0){for(var U=V;U.length;){U=U.slice(0,-1);var z=U.length*this.letterSpacing;if(W=x.measureText(U).width+z,W<=F)break}if(!U.length)throw new Error("wordWrapWidth < a single character");var B=b.substr(U.length);O[N]=B,I+=U}var X=O[N].length?N:N+1,G=O.slice(X).join(" ").replace(/[ \n]*$/gi,"");C.splice(R+1,0,G),P=C.length;break}else I+=V,F-=W}w+=I.replace(/[ \n]*$/gi,"")+`
`}return w=w.replace(/[\s|\n]*$/gi,""),w},basicWordWrap:function(m,x,E){for(var w="",C=m.split(this.splitRegExp),P=C.length-1,R=x.measureText(" ").width,M=0;M<=P;M++){for(var I=E,D=C[M].split(" "),L=D.length-1,F=0;F<=L;F++){var O=D[F],N=O.length*this.letterSpacing,b=x.measureText(O).width+N,V=b;F<L&&(V+=R),V>I&&F>0&&(w+=`
`,I=E),w+=O,F<L?(w+=" ",I-=V):I-=b}M<P&&(w+=`
`)}return w},getWrappedText:function(m){m===void 0&&(m=this._text),this.style.syncFont(this.canvas,this.context);var x=this.runWordWrap(m);return x.split(this.splitRegExp)},setText:function(m){return!m&&m!==0&&(m=""),Array.isArray(m)&&(m=m.join(`
`)),m!==this._text&&(this._text=m.toString(),this.updateText()),this},appendText:function(m,x){x===void 0&&(x=!0),!m&&m!==0&&(m=""),Array.isArray(m)&&(m=m.join(`
`)),m=m.toString();var E=this._text.concat(x?`
`+m:m);return E!==this._text&&(this._text=E,this.updateText()),this},setStyle:function(m){return this.style.setStyle(m)},setFont:function(m){return this.style.setFont(m)},setFontFamily:function(m){return this.style.setFontFamily(m)},setFontSize:function(m){return this.style.setFontSize(m)},setFontStyle:function(m){return this.style.setFontStyle(m)},setFixedSize:function(m,x){return this.style.setFixedSize(m,x)},setBackgroundColor:function(m){return this.style.setBackgroundColor(m)},setFill:function(m){return this.style.setFill(m)},setColor:function(m){return this.style.setColor(m)},setStroke:function(m,x){return this.style.setStroke(m,x)},setShadow:function(m,x,E,w,C,P){return this.style.setShadow(m,x,E,w,C,P)},setShadowOffset:function(m,x){return this.style.setShadowOffset(m,x)},setShadowColor:function(m){return this.style.setShadowColor(m)},setShadowBlur:function(m){return this.style.setShadowBlur(m)},setShadowStroke:function(m){return this.style.setShadowStroke(m)},setShadowFill:function(m){return this.style.setShadowFill(m)},setWordWrapWidth:function(m,x){return this.style.setWordWrapWidth(m,x)},setWordWrapCallback:function(m,x){return this.style.setWordWrapCallback(m,x)},setAlign:function(m){return this.style.setAlign(m)},setResolution:function(m){return this.style.setResolution(m)},setLineSpacing:function(m){return this.lineSpacing=m,this.updateText()},setLetterSpacing:function(m){return this.letterSpacing=m,this.updateText()},setPadding:function(m,x,E,w){if(typeof m=="object"){var C=m,P=a(C,"x",null);P!==null?(m=P,E=P):(m=a(C,"left",0),E=a(C,"right",m));var R=a(C,"y",null);R!==null?(x=R,w=R):(x=a(C,"top",0),w=a(C,"bottom",x))}else m===void 0&&(m=0),x===void 0&&(x=m),E===void 0&&(E=m),w===void 0&&(w=x);return this.padding.left=m,this.padding.top=x,this.padding.right=E,this.padding.bottom=w,this.updateText()},setMaxLines:function(m){return this.style.setMaxLines(m)},setRTL:function(m){m===void 0&&(m=!0);var x=this.style;return x.rtl===m?this:(x.rtl=m,m?(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",u(this.canvas,this.scene.sys.canvas)):(this.canvas.dir="ltr",this.context.direction="ltr"),x.align==="left"?x.align="right":x.align==="right"&&(x.align="left"),this)},updateText:function(){var m=this.canvas,x=this.context,E=this.style,w=E.resolution,C=E.metrics;E.syncFont(m,x);var P=this._text;(E.wordWrapWidth||E.wordWrapCallback)&&(P=this.runWordWrap(this._text));var R=P.split(this.splitRegExp),M=s(this,C,R),I=this.padding,D;E.fixedWidth===0?(this.width=M.width+I.left+I.right,D=M.width):(this.width=E.fixedWidth,D=this.width-I.left-I.right,D<M.width&&(D=M.width)),E.fixedHeight===0?this.height=M.height+I.top+I.bottom:this.height=E.fixedHeight;var L=this.width,F=this.height;this.updateDisplayOrigin(),L*=w,F*=w,L=Math.max(L,1),F=Math.max(F,1),m.width!==L||m.height!==F?(m.width=L,m.height=F,this.frame.setSize(L,F),E.syncFont(m,x),E.rtl&&(x.direction="rtl")):x.clearRect(0,0,L,F),x.save(),x.scale(w,w),E.backgroundColor&&(x.fillStyle=E.backgroundColor,x.fillRect(0,0,L,F)),E.syncStyle(m,x),x.translate(I.left,I.top);for(var O,N,b=0;b<M.lines;b++){if(O=E.strokeThickness/2,N=E.strokeThickness/2+b*M.lineHeight+C.ascent,b>0&&(N+=M.lineSpacing*b),E.rtl)O=L-O-I.left-I.right;else if(E.align==="right")O+=D-M.lineWidths[b];else if(E.align==="center")O+=(D-M.lineWidths[b])/2;else if(E.align==="justify"){var V=.85;if(M.lineWidths[b]/M.width>=V){var Y=M.width-M.lineWidths[b],W=x.measureText(" ").width,U=R[b].trim(),z=U.split(" ");Y+=(R[b].length-U.length)*W;for(var B=Math.floor(Y/W),X=0;B>0;)z[X]+=" ",X=(X+1)%(z.length-1||1),--B;R[b]=z.join(" ")}}this.autoRound&&(O=Math.round(O),N=Math.round(N));var G=this.letterSpacing;if(E.strokeThickness&&G===0&&(E.syncShadow(x,E.shadowStroke),x.strokeText(R[b],O,N)),E.color)if(E.syncShadow(x,E.shadowFill),G!==0)for(var H=0,$=R[b].split(""),k=0;k<$.length;k++)E.strokeThickness&&(E.syncShadow(x,E.shadowStroke),x.strokeText($[k],O+H,N),E.syncShadow(x,E.shadowFill)),x.fillText($[k],O+H,N),H+=x.measureText($[k]).width+G;else x.fillText(R[b],O,N)}x.restore(),this.renderer&&this.renderer.gl&&(this.frame.source.glTexture=this.renderer.canvasToTexture(m,this.frame.source.glTexture,!0));var j=this.input;return j&&!j.customHitArea&&(j.hitArea.width=this.width,j.hitArea.height=this.height),this},getTextMetrics:function(){return this.style.getTextMetrics()},text:{get:function(){return this._text},set:function(m){this.setText(m)}},toJSON:function(){var m=l.ToJSON(this),x={autoRound:this.autoRound,text:this._text,style:this.style.toJSON(),padding:{left:this.padding.left,right:this.padding.right,top:this.padding.top,bottom:this.padding.bottom}};return m.data=x,m},preDestroy:function(){c(this.canvas),y.remove(this.canvas);var m=this.texture;m&&m.destroy()}});h.exports=p},79724:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u,y,f){u.width===0||u.height===0||(y.addToRenderList(u),e.batchSprite(u,u.frame,y,f))};h.exports=S},71259:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(25305),y=e(44603),f=e(23568),l=e(50171);y.register("text",function(o,s){o===void 0&&(o={});var a=f(o,"text",""),c=f(o,"style",null),r=f(o,"padding",null);r!==null&&(c.padding=r);var d=new l(this.scene,0,0,a,c);return s!==void 0&&(o.add=s),u(this.scene,d,o),d.autoRound=f(o,"autoRound",!0),d.resolution=f(o,"resolution",1),d})},68005:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(50171),y=e(39429);y.register("text",function(f,l,o,s){return this.displayList.add(new u(this.scene,f,l,o,s))})},61771:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(29747),y=u,f=u;y=e(34397),f=e(79724),h.exports={renderWebGL:y,renderCanvas:f}},35762:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(23568),f=e(35154),l=e(79557),o={fontFamily:["fontFamily","Courier"],fontSize:["fontSize","16px"],fontStyle:["fontStyle",""],backgroundColor:["backgroundColor",null],color:["color","#fff"],stroke:["stroke","#fff"],strokeThickness:["strokeThickness",0],shadowOffsetX:["shadow.offsetX",0],shadowOffsetY:["shadow.offsetY",0],shadowColor:["shadow.color","#000"],shadowBlur:["shadow.blur",0],shadowStroke:["shadow.stroke",!1],shadowFill:["shadow.fill",!1],align:["align","left"],maxLines:["maxLines",0],fixedWidth:["fixedWidth",0],fixedHeight:["fixedHeight",0],resolution:["resolution",0],rtl:["rtl",!1],testString:["testString","|Mqgy"],baselineX:["baselineX",1.2],baselineY:["baselineY",1.4],wordWrapWidth:["wordWrap.width",null],wordWrapCallback:["wordWrap.callback",null],wordWrapCallbackScope:["wordWrap.callbackScope",null],wordWrapUseAdvanced:["wordWrap.useAdvancedWrap",!1]},s=new u({initialize:function(c,r){this.parent=c,this.fontFamily,this.fontSize,this.fontStyle,this.backgroundColor,this.color,this.stroke,this.strokeThickness,this.shadowOffsetX,this.shadowOffsetY,this.shadowColor,this.shadowBlur,this.shadowStroke,this.shadowFill,this.align,this.maxLines,this.fixedWidth,this.fixedHeight,this.resolution,this.rtl,this.testString,this.baselineX,this.baselineY,this.wordWrapWidth,this.wordWrapCallback,this.wordWrapCallbackScope,this.wordWrapUseAdvanced,this._font,this.setStyle(r,!1,!0)},setStyle:function(a,c,r){c===void 0&&(c=!0),r===void 0&&(r=!1);for(var d in o){var v=r?o[d][1]:this[d];d==="wordWrapCallback"||d==="wordWrapCallbackScope"?this[d]=f(a,o[d][0],v):a&&d==="fontSize"&&typeof a.fontSize=="number"?this[d]=a.fontSize.toString()+"px":this[d]=y(a,o[d][0],v)}var p=f(a,"font",null);p!==null&&this.setFont(p,!1),this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim();var m=f(a,"fill",null);m!==null&&(this.color=m);var x=f(a,"metrics",!1);return x?this.metrics={ascent:f(x,"ascent",0),descent:f(x,"descent",0),fontSize:f(x,"fontSize",0)}:(c||!this.metrics)&&(this.metrics=l(this)),c?this.parent.updateText():this.parent},syncFont:function(a,c){c.font=this._font},syncStyle:function(a,c){c.textBaseline="alphabetic",c.fillStyle=this.color,c.strokeStyle=this.stroke,c.lineWidth=this.strokeThickness,c.lineCap="round",c.lineJoin="round"},syncShadow:function(a,c){c?(a.shadowOffsetX=this.shadowOffsetX,a.shadowOffsetY=this.shadowOffsetY,a.shadowColor=this.shadowColor,a.shadowBlur=this.shadowBlur):(a.shadowOffsetX=0,a.shadowOffsetY=0,a.shadowColor=0,a.shadowBlur=0)},update:function(a){return a&&(this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim(),this.metrics=l(this)),this.parent.updateText()},setFont:function(a,c){c===void 0&&(c=!0);var r=a,d="",v="";if(typeof a!="string")r=f(a,"fontFamily","Courier"),d=f(a,"fontSize","16px"),v=f(a,"fontStyle","");else{var p=a.split(" "),m=0;v=p.length>2?p[m++]:"",d=p[m++]||"16px",r=p[m++]||"Courier"}return(r!==this.fontFamily||d!==this.fontSize||v!==this.fontStyle)&&(this.fontFamily=r,this.fontSize=d,this.fontStyle=v,c&&this.update(!0)),this.parent},setFontFamily:function(a){return this.fontFamily!==a&&(this.fontFamily=a,this.update(!0)),this.parent},setFontStyle:function(a){return this.fontStyle!==a&&(this.fontStyle=a,this.update(!0)),this.parent},setFontSize:function(a){return typeof a=="number"&&(a=a.toString()+"px"),this.fontSize!==a&&(this.fontSize=a,this.update(!0)),this.parent},setTestString:function(a){return this.testString=a,this.update(!0)},setFixedSize:function(a,c){return this.fixedWidth=a,this.fixedHeight=c,a&&(this.parent.width=a),c&&(this.parent.height=c),this.update(!1)},setBackgroundColor:function(a){return this.backgroundColor=a,this.update(!1)},setFill:function(a){return this.color=a,this.update(!1)},setColor:function(a){return this.color=a,this.update(!1)},setResolution:function(a){return this.resolution=a,this.update(!1)},setStroke:function(a,c){return c===void 0&&(c=this.strokeThickness),a===void 0&&this.strokeThickness!==0?(this.strokeThickness=0,this.update(!0)):(this.stroke!==a||this.strokeThickness!==c)&&(this.stroke=a,this.strokeThickness=c,this.update(!0)),this.parent},setShadow:function(a,c,r,d,v,p){return a===void 0&&(a=0),c===void 0&&(c=0),r===void 0&&(r="#000"),d===void 0&&(d=0),v===void 0&&(v=!1),p===void 0&&(p=!0),this.shadowOffsetX=a,this.shadowOffsetY=c,this.shadowColor=r,this.shadowBlur=d,this.shadowStroke=v,this.shadowFill=p,this.update(!1)},setShadowOffset:function(a,c){return a===void 0&&(a=0),c===void 0&&(c=a),this.shadowOffsetX=a,this.shadowOffsetY=c,this.update(!1)},setShadowColor:function(a){return a===void 0&&(a="#000"),this.shadowColor=a,this.update(!1)},setShadowBlur:function(a){return a===void 0&&(a=0),this.shadowBlur=a,this.update(!1)},setShadowStroke:function(a){return this.shadowStroke=a,this.update(!1)},setShadowFill:function(a){return this.shadowFill=a,this.update(!1)},setWordWrapWidth:function(a,c){return c===void 0&&(c=!1),this.wordWrapWidth=a,this.wordWrapUseAdvanced=c,this.update(!1)},setWordWrapCallback:function(a,c){return c===void 0&&(c=null),this.wordWrapCallback=a,this.wordWrapCallbackScope=c,this.update(!1)},setAlign:function(a){return a===void 0&&(a="left"),this.align=a,this.update(!1)},setMaxLines:function(a){return a===void 0&&(a=0),this.maxLines=a,this.update(!1)},getTextMetrics:function(){var a=this.metrics;return{ascent:a.ascent,descent:a.descent,fontSize:a.fontSize}},toJSON:function(){var a={};for(var c in o)a[c]=this[c];return a.metrics=this.getTextMetrics(),a},destroy:function(){this.parent=void 0}});h.exports=s},34397:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(70554),y=function(f,l,o,s){if(!(l.width===0||l.height===0)){o.addToRenderList(l);var a=l.frame,c=a.width,r=a.height,d=u.getTintAppendFloatAlpha,v=f.pipelines.set(l.pipeline,l),p=v.setTexture2D(a.glTexture,l);v.batchTexture(l,a.glTexture,c,r,l.x,l.y,c/l.style.resolution,r/l.style.resolution,l.scaleX,l.scaleY,l.rotation,l.flipX,l.flipY,l.scrollFactorX,l.scrollFactorY,l.displayOriginX,l.displayOriginY,0,0,c,r,d(l.tintTopLeft,o.alpha*l._alphaTL),d(l.tintTopRight,o.alpha*l._alphaTR),d(l.tintBottomLeft,o.alpha*l._alphaBL),d(l.tintBottomRight,o.alpha*l._alphaBR),l.tintFill,0,0,o,s,!1,p)}};h.exports=y},20839:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(27919),y=e(83419),f=e(31401),l=e(95643),o=e(98439),s=e(68703),a=e(56295),c=e(45650),r=e(26099),d=8,v=new y({Extends:l,Mixins:[f.Alpha,f.BlendMode,f.ComputedSize,f.Crop,f.Depth,f.Flip,f.GetBounds,f.Mask,f.Origin,f.Pipeline,f.PostPipeline,f.ScrollFactor,f.Tint,f.Transform,f.Visible,a],initialize:function(m,x,E,w,C,P,R){var M=m.sys.renderer;l.call(this,m,"TileSprite");var I=m.sys.textures.get(P),D=I.get(R);D.source.compressionAlgorithm&&(console.warn("TileSprite cannot use compressed texture"),I=m.sys.textures.get("__MISSING"),D=I.get()),I.type==="DynamicTexture"&&(console.warn("TileSprite cannot use Dynamic Texture"),I=m.sys.textures.get("__MISSING"),D=I.get()),!w||!C?(w=w||D.width,C=C||D.height):(w=Math.floor(w),C=Math.floor(C)),this._tilePosition=new r,this._tileScale=new r(1,1),this.dirty=!1,this.renderer=M,this.canvas=u.create(this,w,C),this.context=this.canvas.getContext("2d",{willReadFrequently:!1}),this.displayTexture=I,this.displayFrame=D,this._crop=this.resetCropObject(),this._textureKey=c(),this.texture=m.sys.textures.addCanvas(this._textureKey,this.canvas),this.frame=this.texture.get(),this.potWidth=o(D.width),this.potHeight=o(D.height),this.fillCanvas=u.create2D(this,this.potWidth,this.potHeight),this.fillContext=this.fillCanvas.getContext("2d",{willReadFrequently:!1}),this.fillPattern=null,this.setPosition(x,E),this.setSize(w,C),this.setFrame(R),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)},setTexture:function(p,m){return this.displayTexture=this.scene.sys.textures.get(p),this.setFrame(m)},setFrame:function(p){var m=this.displayTexture.get(p);return this.potWidth=o(m.width),this.potHeight=o(m.height),this.canvas.width=0,!m.cutWidth||!m.cutHeight?this.renderFlags&=~d:this.renderFlags|=d,this.displayFrame=m,this.dirty=!0,this.updateTileTexture(),this},setTilePosition:function(p,m){return p!==void 0&&(this.tilePositionX=p),m!==void 0&&(this.tilePositionY=m),this},setTileScale:function(p,m){return p===void 0&&(p=this.tileScaleX),m===void 0&&(m=p),this.tileScaleX=p,this.tileScaleY=m,this},updateTileTexture:function(){if(!(!this.dirty||!this.renderer)){var p=this.displayFrame;if(p.source.isRenderTexture||p.source.isGLTexture){console.warn("TileSprites can only use Image or Canvas based textures"),this.dirty=!1;return}var m=this.fillContext,x=this.fillCanvas,E=this.potWidth,w=this.potHeight;(!this.renderer||!this.renderer.gl)&&(E=p.cutWidth,w=p.cutHeight),m.clearRect(0,0,E,w),x.width=E,x.height=w,m.drawImage(p.source.image,p.cutX,p.cutY,p.cutWidth,p.cutHeight,0,0,E,w),this.renderer&&this.renderer.gl?this.fillPattern=this.renderer.canvasToTexture(x,this.fillPattern):this.fillPattern=m.createPattern(x,"repeat"),this.updateCanvas(),this.dirty=!1}},updateCanvas:function(){var p=this.canvas;if((p.width!==this.width||p.height!==this.height)&&(p.width=this.width,p.height=this.height,this.frame.setSize(this.width,this.height),this.updateDisplayOrigin(),this.dirty=!0),!this.dirty||this.renderer&&this.renderer.gl){this.dirty=!1;return}var m=this.context;this.scene.sys.game.config.antialias||s.disable(m);var x=this._tileScale.x,E=this._tileScale.y,w=this._tilePosition.x,C=this._tilePosition.y;m.clearRect(0,0,this.width,this.height),m.save(),m.scale(x,E),m.translate(-w,-C),m.fillStyle=this.fillPattern,m.fillRect(w,C,this.width/x,this.height/E),m.restore(),this.dirty=!1},preDestroy:function(){this.renderer&&this.renderer.gl&&this.renderer.deleteTexture(this.fillPattern),u.remove(this.canvas),u.remove(this.fillCanvas),this.fillPattern=null,this.fillContext=null,this.fillCanvas=null,this.displayTexture=null,this.displayFrame=null;var p=this.texture;p&&p.destroy(),this.renderer=null},tilePositionX:{get:function(){return this._tilePosition.x},set:function(p){this._tilePosition.x=p,this.dirty=!0}},tilePositionY:{get:function(){return this._tilePosition.y},set:function(p){this._tilePosition.y=p,this.dirty=!0}},tileScaleX:{get:function(){return this._tileScale.x},set:function(p){this._tileScale.x=p,this.dirty=!0}},tileScaleY:{get:function(){return this._tileScale.y},set:function(p){this._tileScale.y=p,this.dirty=!0}}});h.exports=v},46992:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u,y,f){u.updateCanvas(),y.addToRenderList(u),e.batchSprite(u,u.frame,y,f)};h.exports=S},14167:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(25305),y=e(44603),f=e(23568),l=e(20839);y.register("tileSprite",function(o,s){o===void 0&&(o={});var a=f(o,"x",0),c=f(o,"y",0),r=f(o,"width",512),d=f(o,"height",512),v=f(o,"key",""),p=f(o,"frame",""),m=new l(this.scene,a,c,r,d,v,p);return s!==void 0&&(o.add=s),u(this.scene,m,o),m})},91681:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(20839),y=e(39429);y.register("tileSprite",function(f,l,o,s,a,c){return this.displayList.add(new u(this.scene,f,l,o,s,a,c))})},56295:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(29747),y=u,f=u;y=e(18553),f=e(46992),h.exports={renderWebGL:y,renderCanvas:f}},18553:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(70554),y=function(f,l,o,s){l.updateCanvas();var a=l.width,c=l.height;if(!(a===0||c===0)){o.addToRenderList(l);var r=u.getTintAppendFloatAlpha,d=f.pipelines.set(l.pipeline,l),v=d.setTexture2D(l.fillPattern,l);d.batchTexture(l,l.fillPattern,l.displayFrame.width*l.tileScaleX,l.displayFrame.height*l.tileScaleY,l.x,l.y,a,c,l.scaleX,l.scaleY,l.rotation,l.flipX,l.flipY,l.scrollFactorX,l.scrollFactorY,l.originX*a,l.originY*c,0,0,a,c,r(l.tintTopLeft,o.alpha*l._alphaTL),r(l.tintTopRight,o.alpha*l._alphaTR),r(l.tintBottomLeft,o.alpha*l._alphaBL),r(l.tintBottomRight,o.alpha*l._alphaBR),l.tintFill,l.tilePositionX%l.displayFrame.width/l.displayFrame.width,l.tilePositionY%l.displayFrame.height/l.displayFrame.height,o,s,!1,v)}};h.exports=y},18471:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(45319),y=e(83419),f=e(31401),l=e(51708),o=e(8443),s=e(95643),a=e(36383),c=e(14463),r=e(45650),d=e(10247),v=new y({Extends:s,Mixins:[f.Alpha,f.BlendMode,f.ComputedSize,f.Depth,f.Flip,f.GetBounds,f.Mask,f.Origin,f.Pipeline,f.PostPipeline,f.ScrollFactor,f.TextureCrop,f.Tint,f.Transform,f.Visible,d],initialize:function(m,x,E,w){s.call(this,m,"Video"),this.video,this.videoTexture,this.videoTextureSource,this.snapshotTexture,this.flipY=!1,this._key=r(),this.touchLocked=!1,this.playWhenUnlocked=!1,this.frameReady=!1,this.isStalled=!1,this.failedPlayAttempts=0,this.metadata,this.retry=0,this.retryInterval=500,this._systemMuted=!1,this._codeMuted=!1,this._systemPaused=!1,this._codePaused=!1,this._callbacks={ended:this.completeHandler.bind(this),legacy:this.legacyPlayHandler.bind(this),playing:this.playingHandler.bind(this),seeked:this.seekedHandler.bind(this),seeking:this.seekingHandler.bind(this),stalled:this.stalledHandler.bind(this),suspend:this.stalledHandler.bind(this),waiting:this.stalledHandler.bind(this)},this._loadCallbackHandler=this.loadErrorHandler.bind(this),this._metadataCallbackHandler=this.metadataHandler.bind(this),this._crop=this.resetCropObject(),this.markers={},this._markerIn=0,this._markerOut=0,this._playingMarker=!1,this._lastUpdate=0,this.cacheKey="",this.isSeeking=!1,this._playCalled=!1,this._getFrame=!1,this._rfvCallbackId=0;var C=m.sys.game;this._device=C.device.video,this.setPosition(x,E),this.setSize(256,256),this.initPipeline(),this.initPostPipeline(!0),C.events.on(o.PAUSE,this.globalPause,this),C.events.on(o.RESUME,this.globalResume,this);var P=m.sys.sound;P&&P.on(c.GLOBAL_MUTE,this.globalMute,this),w&&this.load(w)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},load:function(p){var m=this.scene.sys.cache.video.get(p);return m?(this.cacheKey=p,this.loadHandler(m.url,m.noAudio,m.crossOrigin)):console.warn("No video in cache for key: "+p),this},changeSource:function(p,m,x,E,w){m===void 0&&(m=!0),x===void 0&&(x=!1),this.cacheKey!==p&&(this.load(p),m&&this.play(x,E,w))},getVideoKey:function(){return this.cacheKey},loadURL:function(p,m,x){m===void 0&&(m=!1);var E=this._device.getVideoURL(p);return E?(this.cacheKey="",this.loadHandler(E.url,m,x)):console.warn("No supported video format found for "+p),this},loadMediaStream:function(p,m,x){return this.loadHandler(null,m,x,p)},loadHandler:function(p,m,x,E){m||(m=!1);var w=this.video;if(w?(this.removeLoadEventHandlers(),this.stop()):(w=document.createElement("video"),w.controls=!1,w.setAttribute("playsinline","playsinline"),w.setAttribute("preload","auto"),w.setAttribute("disablePictureInPicture","true")),m?(w.muted=!0,w.defaultMuted=!0,w.setAttribute("autoplay","autoplay")):(w.muted=!1,w.defaultMuted=!1,w.removeAttribute("autoplay")),x?w.setAttribute("crossorigin",x):w.removeAttribute("crossorigin"),E)if("srcObject"in w)try{w.srcObject=E}catch(P){if(P.name!=="TypeError")throw P;w.src=URL.createObjectURL(E)}else w.src=URL.createObjectURL(E);else w.src=p;this.retry=0,this.video=w,this._playCalled=!1,w.load(),this.addLoadEventHandlers();var C=this.scene.sys.textures.get(this._key);return this.setTexture(C),this},requestVideoFrame:function(p,m){var x=this.video;if(x){var E=m.width,w=m.height,C=this.videoTexture,P=this.videoTextureSource,R=!C||P.source!==x;R?(this._codePaused=x.paused,this._codeMuted=x.muted,C?(P.source=x,P.width=E,P.height=w,C.get().setSize(E,w)):(C=this.scene.sys.textures.create(this._key,x,E,w),C.add("__BASE",0,0,0,E,w),this.setTexture(C),this.videoTexture=C,this.videoTextureSource=C.source[0],this.videoTextureSource.setFlipY(this.flipY),this.emit(l.VIDEO_TEXTURE,this,C)),this.setSizeToFrame(),this.updateDisplayOrigin()):P.update(),this.isStalled=!1,this.metadata=m;var M=m.mediaTime;R&&(this._lastUpdate=M,this.emit(l.VIDEO_CREATED,this,E,w),this.frameReady||(this.frameReady=!0,this.emit(l.VIDEO_PLAY,this))),this._playingMarker?M>=this._markerOut&&(x.loop?(x.currentTime=this._markerIn,this.emit(l.VIDEO_LOOP,this)):(this.stop(!1),this.emit(l.VIDEO_COMPLETE,this))):M<this._lastUpdate&&this.emit(l.VIDEO_LOOP,this),this._lastUpdate=M,this._getFrame?(this.removeEventHandlers(),x.pause(),this._getFrame=!1):this._rfvCallbackId=this.video.requestVideoFrameCallback(this.requestVideoFrame.bind(this))}},play:function(p,m,x){m===void 0&&(m=-1),x===void 0&&(x=a.MAX_SAFE_INTEGER);var E=this.video;return!E||this.isPlaying()?(E||console.warn("Video not loaded"),this):(p===void 0&&(p=E.loop),E.loop=p,this._markerIn=m,this._markerOut=x,this._playingMarker=m>-1&&x>m&&x<a.MAX_SAFE_INTEGER,this._playCalled||(this._getFrame=!1,this._rfvCallbackId=E.requestVideoFrameCallback(this.requestVideoFrame.bind(this)),this._playCalled=!0,this.createPlayPromise()),this)},getFirstFrame:function(){var p=this.video;return!p||this.isPlaying()?(p||console.warn("Video not loaded"),this):(this._playCalled||(this._getFrame=!0,this._rfvCallbackId=p.requestVideoFrameCallback(this.requestVideoFrame.bind(this)),this.createPlayPromise()),this)},addLoadEventHandlers:function(){var p=this.video;p&&(p.addEventListener("error",this._loadCallbackHandler),p.addEventListener("abort",this._loadCallbackHandler),p.addEventListener("loadedmetadata",this._metadataCallbackHandler))},removeLoadEventHandlers:function(){var p=this.video;p&&(p.removeEventListener("error",this._loadCallbackHandler),p.removeEventListener("abort",this._loadCallbackHandler))},addEventHandlers:function(){var p=this.video;if(p){var m=this._callbacks;for(var x in m)p.addEventListener(x,m[x])}},removeEventHandlers:function(){var p=this.video;if(p){var m=this._callbacks;for(var x in m)p.removeEventListener(x,m[x])}},createPlayPromise:function(p){p===void 0&&(p=!0);var m=this.video,x=m.play();if(x!==void 0){var E=this.playSuccess.bind(this),w=this.playError.bind(this);if(!p){var C=this;w=function(){C.failedPlayAttempts++}}x.then(E).catch(w)}else m.addEventListener("playing",this._callbacks.legacy),p||this.failedPlayAttempts++},addMarker:function(p,m,x){return!isNaN(m)&&m>=0&&!isNaN(x)&&x>m&&(this.markers[p]=[m,x]),this},playMarker:function(p,m){var x=this.markers[p];return x&&this.play(m,x[0],x[1]),this},removeMarker:function(p){return delete this.markers[p],this},snapshot:function(p,m){return p===void 0&&(p=this.width),m===void 0&&(m=this.height),this.snapshotArea(0,0,this.width,this.height,p,m)},snapshotArea:function(p,m,x,E,w,C){p===void 0&&(p=0),m===void 0&&(m=0),x===void 0&&(x=this.width),E===void 0&&(E=this.height),w===void 0&&(w=x),C===void 0&&(C=E);var P=this.video,R=this.snapshotTexture;return R?(R.setSize(w,C),P&&R.context.drawImage(P,p,m,x,E,0,0,w,C)):(R=this.scene.sys.textures.createCanvas(r(),w,C),this.snapshotTexture=R,P&&R.context.drawImage(P,p,m,x,E,0,0,w,C)),R.update()},saveSnapshotTexture:function(p){return this.snapshotTexture?this.scene.sys.textures.renameTexture(this.snapshotTexture.key,p):this.snapshotTexture=this.scene.sys.textures.createCanvas(p,this.width,this.height),this.snapshotTexture},playSuccess:function(){if(this._playCalled){this.addEventHandlers(),this._codePaused=!1,this.touchLocked&&(this.touchLocked=!1,this.emit(l.VIDEO_UNLOCKED,this));var p=this.scene.sys.sound;p&&p.mute&&this.setMute(!0),this._markerIn>-1&&(this.video.currentTime=this._markerIn)}},playError:function(p){var m=p.name;m==="NotAllowedError"?(this.touchLocked=!0,this.playWhenUnlocked=!0,this.failedPlayAttempts=1,this.emit(l.VIDEO_LOCKED,this)):m==="NotSupportedError"?(this.stop(!1),this.emit(l.VIDEO_UNSUPPORTED,this,p)):(this.stop(!1),this.emit(l.VIDEO_ERROR,this,p))},legacyPlayHandler:function(){var p=this.video;p&&(this.playSuccess(),p.removeEventListener("playing",this._callbacks.legacy))},playingHandler:function(){this.isStalled=!1,this.emit(l.VIDEO_PLAYING,this)},loadErrorHandler:function(p){this.stop(!1),this.emit(l.VIDEO_ERROR,this,p)},metadataHandler:function(p){this.emit(l.VIDEO_METADATA,this,p)},setSizeToFrame:function(p){p||(p=this.frame),this.width=p.realWidth,this.height=p.realHeight,this.scaleX!==1&&(this.scaleX=this.displayWidth/this.width),this.scaleY!==1&&(this.scaleY=this.displayHeight/this.height);var m=this.input;return m&&!m.customHitArea&&(m.hitArea.width=this.width,m.hitArea.height=this.height),this},stalledHandler:function(p){this.isStalled=!0,this.emit(l.VIDEO_STALLED,this,p)},completeHandler:function(){this._playCalled=!1,this.emit(l.VIDEO_COMPLETE,this)},preUpdate:function(p,m){var x=this.video;!x||!this._playCalled||this.touchLocked&&this.playWhenUnlocked&&(this.retry+=m,this.retry>=this.retryInterval&&(this.createPlayPromise(!1),this.retry=0))},seekTo:function(p){var m=this.video;if(m){var x=m.duration;if(x!==1/0&&!isNaN(x)){var E=x*p;this.setCurrentTime(E)}}return this},getCurrentTime:function(){return this.video?this.video.currentTime:0},setCurrentTime:function(p){var m=this.video;if(m){if(typeof p=="string"){var x=p[0],E=parseFloat(p.substr(1));x==="+"?p=m.currentTime+E:x==="-"&&(p=m.currentTime-E)}m.currentTime=p}return this},seekingHandler:function(){this.isSeeking=!0,this.emit(l.VIDEO_SEEKING,this)},seekedHandler:function(){this.isSeeking=!1,this.emit(l.VIDEO_SEEKED,this)},getProgress:function(){var p=this.video;if(p){var m=p.duration;if(m!==1/0&&!isNaN(m))return p.currentTime/m}return-1},getDuration:function(){return this.video?this.video.duration:0},setMute:function(p){p===void 0&&(p=!0),this._codeMuted=p;var m=this.video;return m&&(m.muted=this._systemMuted?!0:p),this},isMuted:function(){return this._codeMuted},globalMute:function(p,m){this._systemMuted=m;var x=this.video;x&&(x.muted=this._codeMuted?!0:m)},globalPause:function(){this._systemPaused=!0,this.video&&!this.video.ended&&(this.removeEventHandlers(),this.video.pause())},globalResume:function(){this._systemPaused=!1,this.video&&!this._codePaused&&!this.video.ended&&this.createPlayPromise()},setPaused:function(p){p===void 0&&(p=!0);var m=this.video;return this._codePaused=p,m&&!m.ended&&(p?m.paused||(this.removeEventHandlers(),m.pause()):p||(this._playCalled?m.paused&&!this._systemPaused&&this.createPlayPromise():this.play())),this},pause:function(){return this.setPaused(!0)},resume:function(){return this.setPaused(!1)},getVolume:function(){return this.video?this.video.volume:1},setVolume:function(p){return p===void 0&&(p=1),this.video&&(this.video.volume=u(p,0,1)),this},getPlaybackRate:function(){return this.video?this.video.playbackRate:1},setPlaybackRate:function(p){return this.video&&(this.video.playbackRate=p),this},getLoop:function(){return this.video?this.video.loop:!1},setLoop:function(p){return p===void 0&&(p=!0),this.video&&(this.video.loop=p),this},isPlaying:function(){return this.video?!(this.video.paused||this.video.ended):!1},isPaused:function(){return this.video&&this._playCalled&&this.video.paused||this._codePaused||this._systemPaused},saveTexture:function(p,m){return m===void 0&&(m=!1),this.videoTexture&&(this.scene.sys.textures.renameTexture(this._key,p),this.videoTextureSource.setFlipY(m)),this._key=p,this.flipY=m,!!this.videoTexture},stop:function(p){p===void 0&&(p=!0);var m=this.video;return m&&(this.removeEventHandlers(),m.cancelVideoFrameCallback(this._rfvCallbackId),m.pause()),this.retry=0,this._playCalled=!1,p&&this.emit(l.VIDEO_STOP,this),this},removeVideoElement:function(){var p=this.video;if(p){for(p.parentNode&&p.parentNode.removeChild(p);p.hasChildNodes();)p.removeChild(p.firstChild);p.removeAttribute("autoplay"),p.removeAttribute("src"),this.video=null}},preDestroy:function(){this.stop(!1),this.removeLoadEventHandlers(),this.removeVideoElement();var p=this.scene.sys.game.events;p.off(o.PAUSE,this.globalPause,this),p.off(o.RESUME,this.globalResume,this);var m=this.scene.sys.sound;m&&m.off(c.GLOBAL_MUTE,this.globalMute,this)}});h.exports=v},58352:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u,y,f){u.videoTexture&&(y.addToRenderList(u),e.batchSprite(u,u.frame,y,f))};h.exports=S},11511:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(25305),y=e(44603),f=e(23568),l=e(18471);y.register("video",function(o,s){o===void 0&&(o={});var a=f(o,"key",null),c=new l(this.scene,0,0,a);return s!==void 0&&(o.add=s),u(this.scene,c,o),c})},89025:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(18471),y=e(39429);y.register("video",function(f,l,o){return this.displayList.add(new u(this.scene,f,l,o))})},10247:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(29747),y=u,f=u;y=e(29849),f=e(58352),h.exports={renderWebGL:y,renderCanvas:f}},29849:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u,y,f){u.videoTexture&&(y.addToRenderList(u),u.pipeline.batchSprite(u,y,f))};h.exports=S},41481:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(10312),y=e(96503),f=e(87902),l=e(83419),o=e(31401),s=e(95643),a=e(87841),c=e(37303),r=new l({Extends:s,Mixins:[o.Depth,o.GetBounds,o.Origin,o.Transform,o.ScrollFactor,o.Visible],initialize:function(v,p,m,x,E){x===void 0&&(x=1),E===void 0&&(E=x),s.call(this,v,"Zone"),this.setPosition(p,m),this.width=x,this.height=E,this.blendMode=u.NORMAL,this.updateDisplayOrigin()},displayWidth:{get:function(){return this.scaleX*this.width},set:function(d){this.scaleX=d/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(d){this.scaleY=d/this.height}},setSize:function(d,v,p){p===void 0&&(p=!0),this.width=d,this.height=v,this.updateDisplayOrigin();var m=this.input;return p&&m&&!m.customHitArea&&(m.hitArea.width=d,m.hitArea.height=v),this},setDisplaySize:function(d,v){return this.displayWidth=d,this.displayHeight=v,this},setCircleDropZone:function(d){return this.setDropZone(new y(0,0,d),f)},setRectangleDropZone:function(d,v){return this.setDropZone(new a(0,0,d,v),c)},setDropZone:function(d,v){return this.input||this.setInteractive(d,v,!0),this},setAlpha:function(){},setBlendMode:function(){},renderCanvas:function(d,v,p){p.addToRenderList(v)},renderWebGL:function(d,v,p){p.addToRenderList(v)}});h.exports=r},95261:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(44603),y=e(23568),f=e(41481);u.register("zone",function(l){var o=y(l,"x",0),s=y(l,"y",0),a=y(l,"width",1),c=y(l,"height",a);return new f(this.scene,o,s,a,c)})},84175:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(41481),y=e(39429);y.register("zone",function(f,l,o,s){return this.displayList.add(new u(this.scene,f,l,o,s))})},95166:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e){return e.radius>0?Math.PI*e.radius*e.radius:0};h.exports=S},96503:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(87902),f=e(26241),l=e(79124),o=e(23777),s=e(28176),a=new u({initialize:function(r,d,v){r===void 0&&(r=0),d===void 0&&(d=0),v===void 0&&(v=0),this.type=o.CIRCLE,this.x=r,this.y=d,this._radius=v,this._diameter=v*2},contains:function(c,r){return y(this,c,r)},getPoint:function(c,r){return f(this,c,r)},getPoints:function(c,r,d){return l(this,c,r,d)},getRandomPoint:function(c){return s(this,c)},setTo:function(c,r,d){return this.x=c,this.y=r,this._radius=d,this._diameter=d*2,this},setEmpty:function(){return this._radius=0,this._diameter=0,this},setPosition:function(c,r){return r===void 0&&(r=c),this.x=c,this.y=r,this},isEmpty:function(){return this._radius<=0},radius:{get:function(){return this._radius},set:function(c){this._radius=c,this._diameter=c*2}},diameter:{get:function(){return this._diameter},set:function(c){this._diameter=c,this._radius=c*.5}},left:{get:function(){return this.x-this._radius},set:function(c){this.x=c+this._radius}},right:{get:function(){return this.x+this._radius},set:function(c){this.x=c-this._radius}},top:{get:function(){return this.y-this._radius},set:function(c){this.y=c+this._radius}},bottom:{get:function(){return this.y+this._radius},set:function(c){this.y=c-this._radius}}});h.exports=a},71562:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e){return 2*(Math.PI*e.radius)};h.exports=S},92110:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(2141),y=function(f,l,o){return o===void 0&&(o=new u),o.x=f.x+f.radius*Math.cos(l),o.y=f.y+f.radius*Math.sin(l),o};h.exports=y},42250:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(96503),y=function(f){return new u(f.x,f.y,f.radius)};h.exports=y},87902:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u,y){if(e.radius>0&&u>=e.left&&u<=e.right&&y>=e.top&&y<=e.bottom){var f=(e.x-u)*(e.x-u),l=(e.y-y)*(e.y-y);return f+l<=e.radius*e.radius}else return!1};h.exports=S},5698:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(87902),y=function(f,l){return u(f,l.x,l.y)};h.exports=y},70588:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(87902),y=function(f,l){return u(f,l.x,l.y)&&u(f,l.right,l.y)&&u(f,l.x,l.bottom)&&u(f,l.right,l.bottom)};h.exports=y},26394:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u){return u.setTo(e.x,e.y,e.radius)};h.exports=S},76278:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u){return e.x===u.x&&e.y===u.y&&e.radius===u.radius};h.exports=S},2074:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(87841),y=function(f,l){return l===void 0&&(l=new u),l.x=f.left,l.y=f.top,l.width=f.diameter,l.height=f.diameter,l};h.exports=y},26241:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(92110),y=e(62945),f=e(36383),l=e(2141),o=function(s,a,c){c===void 0&&(c=new l);var r=y(a,0,f.PI2);return u(s,r,c)};h.exports=o},79124:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(71562),y=e(92110),f=e(62945),l=e(36383),o=function(s,a,c,r){r===void 0&&(r=[]),!a&&c>0&&(a=u(s)/c);for(var d=0;d<a;d++){var v=f(d/a,0,l.PI2);r.push(y(s,v))}return r};h.exports=o},50884:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u,y){return e.x+=u,e.y+=y,e};h.exports=S},39212:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u){return e.x+=u.x,e.y+=u.y,e};h.exports=S},28176:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(2141),y=function(f,l){l===void 0&&(l=new u);var o=2*Math.PI*Math.random(),s=Math.random()+Math.random(),a=s>1?2-s:s,c=a*Math.cos(o),r=a*Math.sin(o);return l.x=f.x+c*f.radius,l.y=f.y+r*f.radius,l};h.exports=y},88911:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(96503);u.Area=e(95166),u.Circumference=e(71562),u.CircumferencePoint=e(92110),u.Clone=e(42250),u.Contains=e(87902),u.ContainsPoint=e(5698),u.ContainsRect=e(70588),u.CopyFrom=e(26394),u.Equals=e(76278),u.GetBounds=e(2074),u.GetPoint=e(26241),u.GetPoints=e(79124),u.Offset=e(50884),u.OffsetPoint=e(39212),u.Random=e(28176),h.exports=u},23777:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={CIRCLE:0,ELLIPSE:1,LINE:2,POINT:3,POLYGON:4,RECTANGLE:5,TRIANGLE:6};h.exports=S},78874:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e){return e.isEmpty()?0:e.getMajorRadius()*e.getMinorRadius()*Math.PI};h.exports=S},92990:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e){var u=e.width/2,y=e.height/2,f=Math.pow(u-y,2)/Math.pow(u+y,2);return Math.PI*(u+y)*(1+3*f/(10+Math.sqrt(4-3*f)))};h.exports=S},79522:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(2141),y=function(f,l,o){o===void 0&&(o=new u);var s=f.width/2,a=f.height/2;return o.x=f.x+s*Math.cos(l),o.y=f.y+a*Math.sin(l),o};h.exports=y},58102:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(8497),y=function(f){return new u(f.x,f.y,f.width,f.height)};h.exports=y},81154:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u,y){if(e.width<=0||e.height<=0)return!1;var f=(u-e.x)/e.width,l=(y-e.y)/e.height;return f*=f,l*=l,f+l<.25};h.exports=S},46662:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(81154),y=function(f,l){return u(f,l.x,l.y)};h.exports=y},1632:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(81154),y=function(f,l){return u(f,l.x,l.y)&&u(f,l.right,l.y)&&u(f,l.x,l.bottom)&&u(f,l.right,l.bottom)};h.exports=y},65534:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u){return u.setTo(e.x,e.y,e.width,e.height)};h.exports=S},8497:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(81154),f=e(90549),l=e(48320),o=e(23777),s=e(24820),a=new u({initialize:function(r,d,v,p){r===void 0&&(r=0),d===void 0&&(d=0),v===void 0&&(v=0),p===void 0&&(p=0),this.type=o.ELLIPSE,this.x=r,this.y=d,this.width=v,this.height=p},contains:function(c,r){return y(this,c,r)},getPoint:function(c,r){return f(this,c,r)},getPoints:function(c,r,d){return l(this,c,r,d)},getRandomPoint:function(c){return s(this,c)},setTo:function(c,r,d,v){return this.x=c,this.y=r,this.width=d,this.height=v,this},setEmpty:function(){return this.width=0,this.height=0,this},setPosition:function(c,r){return r===void 0&&(r=c),this.x=c,this.y=r,this},setSize:function(c,r){return r===void 0&&(r=c),this.width=c,this.height=r,this},isEmpty:function(){return this.width<=0||this.height<=0},getMinorRadius:function(){return Math.min(this.width,this.height)/2},getMajorRadius:function(){return Math.max(this.width,this.height)/2},left:{get:function(){return this.x-this.width/2},set:function(c){this.x=c+this.width/2}},right:{get:function(){return this.x+this.width/2},set:function(c){this.x=c-this.width/2}},top:{get:function(){return this.y-this.height/2},set:function(c){this.y=c+this.height/2}},bottom:{get:function(){return this.y+this.height/2},set:function(c){this.y=c-this.height/2}}});h.exports=a},36146:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u){return e.x===u.x&&e.y===u.y&&e.width===u.width&&e.height===u.height};h.exports=S},23694:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(87841),y=function(f,l){return l===void 0&&(l=new u),l.x=f.left,l.y=f.top,l.width=f.width,l.height=f.height,l};h.exports=y},90549:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(79522),y=e(62945),f=e(36383),l=e(2141),o=function(s,a,c){c===void 0&&(c=new l);var r=y(a,0,f.PI2);return u(s,r,c)};h.exports=o},48320:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(92990),y=e(79522),f=e(62945),l=e(36383),o=function(s,a,c,r){r===void 0&&(r=[]),!a&&c>0&&(a=u(s)/c);for(var d=0;d<a;d++){var v=f(d/a,0,l.PI2);r.push(y(s,v))}return r};h.exports=o},73424:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u,y){return e.x+=u,e.y+=y,e};h.exports=S},44808:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u){return e.x+=u.x,e.y+=u.y,e};h.exports=S},24820:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(2141),y=function(f,l){l===void 0&&(l=new u);var o=Math.random()*Math.PI*2,s=Math.sqrt(Math.random());return l.x=f.x+s*Math.cos(o)*f.width/2,l.y=f.y+s*Math.sin(o)*f.height/2,l};h.exports=y},49203:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(8497);u.Area=e(78874),u.Circumference=e(92990),u.CircumferencePoint=e(79522),u.Clone=e(58102),u.Contains=e(81154),u.ContainsPoint=e(46662),u.ContainsRect=e(1632),u.CopyFrom=e(65534),u.Equals=e(36146),u.GetBounds=e(23694),u.GetPoint=e(90549),u.GetPoints=e(48320),u.Offset=e(73424),u.OffsetPoint=e(44808),u.Random=e(24820),h.exports=u},55738:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(23777),y=e(79291),f={Circle:e(88911),Ellipse:e(49203),Intersects:e(91865),Line:e(2529),Mesh:e(73090),Point:e(43711),Polygon:e(58423),Rectangle:e(93232),Triangle:e(84435)};f=y(!1,f,u),h.exports=f},2044:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(20339),y=function(f,l){return u(f.x,f.y,l.x,l.y)<=f.radius+l.radius};h.exports=y},81491:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u){var y=u.width/2,f=u.height/2,l=Math.abs(e.x-u.x-y),o=Math.abs(e.y-u.y-f),s=y+e.radius,a=f+e.radius;if(l>s||o>a)return!1;if(l<=y||o<=f)return!0;var c=l-y,r=o-f,d=c*c,v=r*r,p=e.radius*e.radius;return d+v<=p};h.exports=S},63376:(h,S,e)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(2141),y=e(2044),f=function(l,o,s){if(s===void 0&&(s=[]),y(l,o)){var a=l.x,c=l.y,r=l.radius,d=o.x,v=o.y,p=o.radius,m,x,E,w,C;if(c===v)C=(p*p-r*r-d*d+a*a)/(2*(a-d)),m=1,x=-2*v,E=d*d+C*C-2*d*C+v*v-p*p,w=x*x-4*m*E,w===0?s.push(new u(C,-x/(2*m))):w>0&&(s.push(new u(C,(-x+Math.sqrt(w))/(2*m))),s.push(new u(C,(-x-Math.sqrt(w))/(2*m))));else{var P=(a-d)/(c-v),R=(p*p-r*r-d*d+a*a-v*v+c*c)/(2*(c-v));m=P*P+1,x=2*c*P-2*R*P-2*a,E=a*a+c*c+R*R-r*r-2*c*R,w=x*x-4*m*E,w===0?(C=-x/(2*m),s.push(new u(C,R-C*P))):w>0&&(C=(-x+Math.sqrt(w))/(2*m),s.push(new u(C,R-C*P)),C=(-x-Math.sqrt(w))/(2*m),s.push(new u(C,R-C*P)))}}return s};h.exports=f},97439:(h,S,e)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(4042),y=e(81491),f=function(l,o,s){if(s===void 0&&(s=[]),y(l,o)){var a=o.getLineA(),c=o.getLineB(),r=o.getLineC(),d=o.getLineD();u(a,l,s),u(c,l,s),u(r,l,s),u(d,l,s)}return s};h.exports=f},4042:(h,S,e)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(2141),y=e(80462),f=function(l,o,s){if(s===void 0&&(s=[]),y(l,o)){var a=l.x1,c=l.y1,r=l.x2,d=l.y2,v=o.x,p=o.y,m=o.radius,x=r-a,E=d-c,w=a-v,C=c-p,P=x*x+E*E,R=2*(x*w+E*C),M=w*w+C*C-m*m,I=R*R-4*P*M,D,L;if(I===0){var F=-R/(2*P);D=a+F*x,L=c+F*E,F>=0&&F<=1&&s.push(new u(D,L))}else if(I>0){var O=(-R-Math.sqrt(I))/(2*P);D=a+O*x,L=c+O*E,O>=0&&O<=1&&s.push(new u(D,L));var N=(-R+Math.sqrt(I))/(2*P);D=a+N*x,L=c+N*E,N>=0&&N<=1&&s.push(new u(D,L))}}return s};h.exports=f},36100:(h,S,e)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(25836),y=function(f,l,o,s){o===void 0&&(o=!1);var a=f.x1,c=f.y1,r=f.x2,d=f.y2,v=l.x1,p=l.y1,m=l.x2,x=l.y2,E=r-a,w=d-c,C=m-v,P=x-p,R=E*P-w*C;if(R===0)return null;var M,I,D;if(o){if(M=(E*(p-c)+w*(a-v))/(C*w-P*E),E!==0)I=(v+C*M-a)/E;else if(w!==0)I=(p+P*M-c)/w;else return null;if(I<0||M<0||M>1)return null;D=I}else{if(M=((v-a)*P-(p-c)*C)/R,I=((c-p)*E-(a-v)*w)/R,M<0||M>1||I<0||I>1)return null;D=M}return s===void 0&&(s=new u),s.set(a+E*D,c+w*D,D)};h.exports=y},3073:(h,S,e)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(36100),y=e(23031),f=e(25836),l=new y,o=new f,s=function(a,c,r,d){r===void 0&&(r=!1),d===void 0&&(d=new f);var v=!1;d.set(),o.set();for(var p=c[c.length-1],m=0;m<c.length;m++){var x=c[m];l.setTo(p.x,p.y,x.x,x.y),p=x,u(a,l,r,o)&&(!v||o.z<d.z)&&(d.copy(o),v=!0)}return v?d:null};h.exports=s},56362:(h,S,e)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(25836),y=e(61369),f=e(3073),l=new u,o=function(s,a,c,r){r===void 0&&(r=new y),Array.isArray(a)||(a=[a]);var d=!1;r.set(),l.set();for(var v=0;v<a.length;v++)f(s,a[v].points,c,l)&&(!d||l.z<r.z)&&(r.set(l.x,l.y,l.z,v),d=!0);return d?r:null};h.exports=o},60646:(h,S,e)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(2141),y=e(76112),f=e(92773),l=function(o,s,a){if(a===void 0&&(a=[]),f(o,s))for(var c=s.getLineA(),r=s.getLineB(),d=s.getLineC(),v=s.getLineD(),p=[new u,new u,new u,new u],m=[y(c,o,p[0]),y(r,o,p[1]),y(d,o,p[2]),y(v,o,p[3])],x=0;x<4;x++)m[x]&&a.push(p[x]);return a};h.exports=l},71147:(h,S,e)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(61369),y=e(56362),f=e(23031),l=new f;function o(c,r,d,v,p){var m=Math.cos(c),x=Math.sin(c);l.setTo(r,d,r+m,d+x);var E=y(l,v,!0);E&&p.push(new u(E.x,E.y,c,E.w))}function s(c,r){return c.z-r.z}var a=function(c,r,d){Array.isArray(d)||(d=[d]);for(var v=[],p=[],m=0;m<d.length;m++)for(var x=d[m].points,E=0;E<x.length;E++){var w=Math.atan2(x[E].y-r,x[E].x-c);p.indexOf(w)===-1&&(o(w,c,r,d,v),o(w-1e-5,c,r,d,v),o(w+1e-5,c,r,d,v),p.push(w))}return v.sort(s)};h.exports=a},68389:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(87841),y=e(59996),f=function(l,o,s){return s===void 0&&(s=new u),y(l,o)&&(s.x=Math.max(l.x,o.x),s.y=Math.max(l.y,o.y),s.width=Math.min(l.right,o.right)-s.x,s.height=Math.min(l.bottom,o.bottom)-s.y),s};h.exports=f},52784:(h,S,e)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(60646),y=e(59996),f=function(l,o,s){if(s===void 0&&(s=[]),y(l,o)){var a=l.getLineA(),c=l.getLineB(),r=l.getLineC(),d=l.getLineD();u(a,o,s),u(c,o,s),u(r,o,s),u(d,o,s)}return s};h.exports=f},26341:(h,S,e)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(89265),y=e(60646),f=function(l,o,s){if(s===void 0&&(s=[]),u(l,o)){var a=o.getLineA(),c=o.getLineB(),r=o.getLineC();y(a,l,s),y(c,l,s),y(r,l,s)}return s};h.exports=f},38720:(h,S,e)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(4042),y=e(67636),f=function(l,o,s){if(s===void 0&&(s=[]),y(l,o)){var a=l.getLineA(),c=l.getLineB(),r=l.getLineC();u(a,o,s),u(c,o,s),u(r,o,s)}return s};h.exports=f},13882:(h,S,e)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(2141),y=e(2822),f=e(76112),l=function(o,s,a){if(a===void 0&&(a=[]),y(o,s))for(var c=o.getLineA(),r=o.getLineB(),d=o.getLineC(),v=[new u,new u,new u],p=[f(c,s,v[0]),f(r,s,v[1]),f(d,s,v[2])],m=0;m<3;m++)p[m]&&a.push(v[m]);return a};h.exports=l},75636:(h,S,e)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(82944),y=e(13882),f=function(l,o,s){if(s===void 0&&(s=[]),u(l,o)){var a=o.getLineA(),c=o.getLineB(),r=o.getLineC();y(l,a,s),y(l,c,s),y(l,r,s)}return s};h.exports=f},80462:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(87902),y=e(2141),f=new y,l=function(o,s,a){if(a===void 0&&(a=f),u(s,o.x1,o.y1))return a.x=o.x1,a.y=o.y1,!0;if(u(s,o.x2,o.y2))return a.x=o.x2,a.y=o.y2,!0;var c=o.x2-o.x1,r=o.y2-o.y1,d=s.x-o.x1,v=s.y-o.y1,p=c*c+r*r,m=c,x=r;if(p>0){var E=(d*c+v*r)/p;m*=E,x*=E}a.x=o.x1+m,a.y=o.y1+x;var w=m*m+x*x;return w<=p&&m*c+x*r>=0&&u(s,a.x,a.y)};h.exports=l},76112:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u,y){var f=e.x1,l=e.y1,o=e.x2,s=e.y2,a=u.x1,c=u.y1,r=u.x2,d=u.y2;if(f===o&&l===s||a===r&&c===d)return!1;var v=(d-c)*(o-f)-(r-a)*(s-l);if(v===0)return!1;var p=((r-a)*(l-c)-(d-c)*(f-a))/v,m=((o-f)*(l-c)-(s-l)*(f-a))/v;return p<0||p>1||m<0||m>1?!1:(y&&(y.x=f+p*(o-f),y.y=l+p*(s-l)),!0)};h.exports=S},92773:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u){var y=e.x1,f=e.y1,l=e.x2,o=e.y2,s=u.x,a=u.y,c=u.right,r=u.bottom,d=0;if(y>=s&&y<=c&&f>=a&&f<=r||l>=s&&l<=c&&o>=a&&o<=r)return!0;if(y<s&&l>=s){if(d=f+(o-f)*(s-y)/(l-y),d>a&&d<=r)return!0}else if(y>c&&l<=c&&(d=f+(o-f)*(c-y)/(l-y),d>=a&&d<=r))return!0;if(f<a&&o>=a){if(d=y+(l-y)*(a-f)/(o-f),d>=s&&d<=c)return!0}else if(f>r&&o<=r&&(d=y+(l-y)*(r-f)/(o-f),d>=s&&d<=c))return!0;return!1};h.exports=S},16204:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Florian Mertens
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u,y){y===void 0&&(y=1);var f=u.x1,l=u.y1,o=u.x2,s=u.y2,a=e.x,c=e.y,r=(o-f)*(o-f)+(s-l)*(s-l);if(r===0)return!1;var d=((a-f)*(o-f)+(c-l)*(s-l))/r;if(d<0)return Math.sqrt((f-a)*(f-a)+(l-c)*(l-c))<=y;if(d>=0&&d<=1){var v=((l-c)*(o-f)-(f-a)*(s-l))/r;return Math.abs(v)*Math.sqrt(r)<=y}else return Math.sqrt((o-a)*(o-a)+(s-c)*(s-c))<=y};h.exports=S},14199:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(16204),y=function(f,l){if(!u(f,l))return!1;var o=Math.min(l.x1,l.x2),s=Math.max(l.x1,l.x2),a=Math.min(l.y1,l.y2),c=Math.max(l.y1,l.y2);return f.x>=o&&f.x<=s&&f.y>=a&&f.y<=c};h.exports=y},59996:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u){return e.width<=0||e.height<=0||u.width<=0||u.height<=0?!1:!(e.right<u.x||e.bottom<u.y||e.x>u.right||e.y>u.bottom)};h.exports=S},89265:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(76112),y=e(37303),f=e(48653),l=e(77493),o=function(s,a){if(a.left>s.right||a.right<s.left||a.top>s.bottom||a.bottom<s.top)return!1;var c=a.getLineA(),r=a.getLineB(),d=a.getLineC();if(y(s,c.x1,c.y1)||y(s,c.x2,c.y2)||y(s,r.x1,r.y1)||y(s,r.x2,r.y2)||y(s,d.x1,d.y1)||y(s,d.x2,d.y2))return!0;var v=s.getLineA(),p=s.getLineB(),m=s.getLineC(),x=s.getLineD();if(u(c,v)||u(c,p)||u(c,m)||u(c,x)||u(r,v)||u(r,p)||u(r,m)||u(r,x)||u(d,v)||u(d,p)||u(d,m)||u(d,x))return!0;var E=l(s),w=f(a,E,!0);return w.length>0};h.exports=o},84411:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u,y,f,l,o){return o===void 0&&(o=0),!(u>e.right+o||y<e.left-o||f>e.bottom+o||l<e.top-o)};h.exports=S},67636:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(80462),y=e(10690),f=function(l,o){return l.left>o.right||l.right<o.left||l.top>o.bottom||l.bottom<o.top?!1:!!(y(l,o.x,o.y)||u(l.getLineA(),o)||u(l.getLineB(),o)||u(l.getLineC(),o))};h.exports=f},2822:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(76112),y=function(f,l){return!!(f.contains(l.x1,l.y1)||f.contains(l.x2,l.y2)||u(f.getLineA(),l)||u(f.getLineB(),l)||u(f.getLineC(),l))};h.exports=y},82944:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(48653),y=e(71694),f=e(76112),l=function(o,s){if(o.left>s.right||o.right<s.left||o.top>s.bottom||o.bottom<s.top)return!1;var a=o.getLineA(),c=o.getLineB(),r=o.getLineC(),d=s.getLineA(),v=s.getLineB(),p=s.getLineC();if(f(a,d)||f(a,v)||f(a,p)||f(c,d)||f(c,v)||f(c,p)||f(r,d)||f(r,v)||f(r,p))return!0;var m=y(o),x=u(s,m,!0);return x.length>0||(m=y(s),x=u(o,m,!0),x.length>0)};h.exports=l},91865:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={CircleToCircle:e(2044),CircleToRectangle:e(81491),GetCircleToCircle:e(63376),GetCircleToRectangle:e(97439),GetLineToCircle:e(4042),GetLineToLine:e(36100),GetLineToPoints:e(3073),GetLineToPolygon:e(56362),GetLineToRectangle:e(60646),GetRaysFromPointToPolygon:e(71147),GetRectangleIntersection:e(68389),GetRectangleToRectangle:e(52784),GetRectangleToTriangle:e(26341),GetTriangleToCircle:e(38720),GetTriangleToLine:e(13882),GetTriangleToTriangle:e(75636),LineToCircle:e(80462),LineToLine:e(76112),LineToRectangle:e(92773),PointToLine:e(16204),PointToLineSegment:e(14199),RectangleToRectangle:e(59996),RectangleToTriangle:e(89265),RectangleToValues:e(84411),TriangleToCircle:e(67636),TriangleToLine:e(2822),TriangleToTriangle:e(82944)}},91938:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e){return Math.atan2(e.y2-e.y1,e.x2-e.x1)};h.exports=S},84993:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u,y){u===void 0&&(u=1),y===void 0&&(y=[]);var f=Math.round(e.x1),l=Math.round(e.y1),o=Math.round(e.x2),s=Math.round(e.y2),a=Math.abs(o-f),c=Math.abs(s-l),r=f<o?1:-1,d=l<s?1:-1,v=a-c;y.push({x:f,y:l});for(var p=1;!(f===o&&l===s);){var m=v<<1;m>-c&&(v-=c,f+=r),m<a&&(v+=a,l+=d),p%u===0&&y.push({x:f,y:l}),p++}return y};h.exports=S},36469:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u,y){var f=u-(e.x1+e.x2)/2,l=y-(e.y1+e.y2)/2;return e.x1+=f,e.y1+=l,e.x2+=f,e.y2+=l,e};h.exports=S},31116:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(23031),y=function(f){return new u(f.x1,f.y1,f.x2,f.y2)};h.exports=y},59944:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u){return u.setTo(e.x1,e.y1,e.x2,e.y2)};h.exports=S},59220:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u){return e.x1===u.x1&&e.y1===u.y1&&e.x2===u.x2&&e.y2===u.y2};h.exports=S},78177:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(35001),y=function(f,l,o){o===void 0&&(o=l);var s=u(f),a=f.x2-f.x1,c=f.y2-f.y1;return l&&(f.x1=f.x1-a/s*l,f.y1=f.y1-c/s*l),o&&(f.x2=f.x2+a/s*o,f.y2=f.y2+c/s*o),f};h.exports=y},26708:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(52816),y=e(6113),f=e(2141),l=function(o,s,a,c,r){c===void 0&&(c=0),r===void 0&&(r=[]);var d=[],v=o.x1,p=o.y1,m=o.x2-v,x=o.y2-p,E=y(s,r),w,C,P=a-1;for(w=0;w<P;w++)C=E(w/P),d.push(new f(v+m*C,p+x*C));if(C=E(1),d.push(new f(v+m*C,p+x*C)),c>0){var R=d[0],M=[R];for(w=1;w<d.length-1;w++){var I=d[w];u(R,I)>=c&&(M.push(I),R=I)}var D=d[d.length-1];return u(R,D)<c&&M.pop(),M.push(D),M}else return d};h.exports=l},32125:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(2141),y=function(f,l){return l===void 0&&(l=new u),l.x=(f.x1+f.x2)/2,l.y=(f.y1+f.y2)/2,l};h.exports=y},99569:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Florian Mertens
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(2141),y=function(f,l,o){o===void 0&&(o=new u);var s=f.x1,a=f.y1,c=f.x2,r=f.y2,d=(c-s)*(c-s)+(r-a)*(r-a);if(d===0)return o;var v=((l.x-s)*(c-s)+(l.y-a)*(r-a))/d;return o.x=s+v*(c-s),o.y=a+v*(r-a),o};h.exports=y},34638:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(36383),y=e(91938),f=e(2141),l=function(o,s){s===void 0&&(s=new f);var a=y(o)-u.TAU;return s.x=Math.cos(a),s.y=Math.sin(a),s};h.exports=l},13151:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(2141),y=function(f,l,o){return o===void 0&&(o=new u),o.x=f.x1+(f.x2-f.x1)*l,o.y=f.y1+(f.y2-f.y1)*l,o};h.exports=y},15258:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(35001),y=e(2141),f=function(l,o,s,a){a===void 0&&(a=[]),!o&&s>0&&(o=u(l)/s);for(var c=l.x1,r=l.y1,d=l.x2,v=l.y2,p=0;p<o;p++){var m=p/o,x=c+(d-c)*m,E=r+(v-r)*m;a.push(new y(x,E))}return a};h.exports=f},26408:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Florian Mertens
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u){var y=e.x1,f=e.y1,l=e.x2,o=e.y2,s=(l-y)*(l-y)+(o-f)*(o-f);if(s===0)return!1;var a=((f-u.y)*(l-y)-(y-u.x)*(o-f))/s;return Math.abs(a)*Math.sqrt(s)};h.exports=S},98770:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e){return Math.abs(e.y1-e.y2)};h.exports=S},35001:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e){return Math.sqrt((e.x2-e.x1)*(e.x2-e.x1)+(e.y2-e.y1)*(e.y2-e.y1))};h.exports=S},23031:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(13151),f=e(15258),l=e(23777),o=e(65822),s=e(26099),a=new u({initialize:function(r,d,v,p){r===void 0&&(r=0),d===void 0&&(d=0),v===void 0&&(v=0),p===void 0&&(p=0),this.type=l.LINE,this.x1=r,this.y1=d,this.x2=v,this.y2=p},getPoint:function(c,r){return y(this,c,r)},getPoints:function(c,r,d){return f(this,c,r,d)},getRandomPoint:function(c){return o(this,c)},setTo:function(c,r,d,v){return c===void 0&&(c=0),r===void 0&&(r=0),d===void 0&&(d=0),v===void 0&&(v=0),this.x1=c,this.y1=r,this.x2=d,this.y2=v,this},setFromObjects:function(c,r){return this.x1=c.x,this.y1=c.y,this.x2=r.x,this.y2=r.y,this},getPointA:function(c){return c===void 0&&(c=new s),c.set(this.x1,this.y1),c},getPointB:function(c){return c===void 0&&(c=new s),c.set(this.x2,this.y2),c},left:{get:function(){return Math.min(this.x1,this.x2)},set:function(c){this.x1<=this.x2?this.x1=c:this.x2=c}},right:{get:function(){return Math.max(this.x1,this.x2)},set:function(c){this.x1>this.x2?this.x1=c:this.x2=c}},top:{get:function(){return Math.min(this.y1,this.y2)},set:function(c){this.y1<=this.y2?this.y1=c:this.y2=c}},bottom:{get:function(){return Math.max(this.y1,this.y2)},set:function(c){this.y1>this.y2?this.y1=c:this.y2=c}}});h.exports=a},64795:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(36383),y=e(15994),f=e(91938),l=function(o){var s=f(o)-u.TAU;return y(s,-Math.PI,Math.PI)};h.exports=l},52616:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(36383),y=e(91938),f=function(l){return Math.cos(y(l)-u.TAU)};h.exports=f},87231:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(36383),y=e(91938),f=function(l){return Math.sin(y(l)-u.TAU)};h.exports=f},89662:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u,y){return e.x1+=u,e.y1+=y,e.x2+=u,e.y2+=y,e};h.exports=S},71165:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e){return-((e.x2-e.x1)/(e.y2-e.y1))};h.exports=S},65822:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(2141),y=function(f,l){l===void 0&&(l=new u);var o=Math.random();return l.x=f.x1+o*(f.x2-f.x1),l.y=f.y1+o*(f.y2-f.y1),l};h.exports=y},69777:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(91938),y=e(64795),f=function(l,o){return 2*y(o)-Math.PI-u(l)};h.exports=f},39706:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(64400),y=function(f,l){var o=(f.x1+f.x2)/2,s=(f.y1+f.y2)/2;return u(f,o,s,l)};h.exports=y},82585:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(64400),y=function(f,l,o){return u(f,l.x,l.y,o)};h.exports=y},64400:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u,y,f){var l=Math.cos(f),o=Math.sin(f),s=e.x1-u,a=e.y1-y;return e.x1=s*l-a*o+u,e.y1=s*o+a*l+y,s=e.x2-u,a=e.y2-y,e.x2=s*l-a*o+u,e.y2=s*o+a*l+y,e};h.exports=S},62377:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u,y,f,l){return e.x1=u,e.y1=y,e.x2=u+Math.cos(f)*l,e.y2=y+Math.sin(f)*l,e};h.exports=S},71366:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e){return(e.y2-e.y1)/(e.x2-e.x1)};h.exports=S},10809:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e){return Math.abs(e.x1-e.x2)};h.exports=S},2529:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(23031);u.Angle=e(91938),u.BresenhamPoints=e(84993),u.CenterOn=e(36469),u.Clone=e(31116),u.CopyFrom=e(59944),u.Equals=e(59220),u.Extend=e(78177),u.GetEasedPoints=e(26708),u.GetMidPoint=e(32125),u.GetNearestPoint=e(99569),u.GetNormal=e(34638),u.GetPoint=e(13151),u.GetPoints=e(15258),u.GetShortestDistance=e(26408),u.Height=e(98770),u.Length=e(35001),u.NormalAngle=e(64795),u.NormalX=e(52616),u.NormalY=e(87231),u.Offset=e(89662),u.PerpSlope=e(71165),u.Random=e(65822),u.ReflectAngle=e(69777),u.Rotate=e(39706),u.RotateAroundPoint=e(82585),u.RotateAroundXY=e(64400),u.SetToAngle=e(62377),u.Slope=e(71366),u.Width=e(10809),h.exports=u},83997:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(87841),f=e(26099);function l(s,a,c,r){var d=s-c,v=a-r,p=d*d+v*v;return Math.sqrt(p)}var o=new u({initialize:function(a,c,r){this.vertex1=a,this.vertex2=c,this.vertex3=r,this.bounds=new y,this._inCenter=new f},getInCenter:function(s){s===void 0&&(s=!0);var a=this.vertex1,c=this.vertex2,r=this.vertex3,d,v,p,m,x,E;s?(d=a.x,v=a.y,p=c.x,m=c.y,x=r.x,E=r.y):(d=a.vx,v=a.vy,p=c.vx,m=c.vy,x=r.vx,E=r.vy);var w=l(x,E,p,m),C=l(d,v,x,E),P=l(p,m,d,v),R=w+C+P;return this._inCenter.set((d*w+p*C+x*P)/R,(v*w+m*C+E*P)/R)},contains:function(s,a,c){var r=this.vertex1,d=this.vertex2,v=this.vertex3,p=r.vx,m=r.vy,x=d.vx,E=d.vy,w=v.vx,C=v.vy;if(c){var P=c.a,R=c.b,M=c.c,I=c.d,D=c.e,L=c.f;p=r.vx*P+r.vy*M+D,m=r.vx*R+r.vy*I+L,x=d.vx*P+d.vy*M+D,E=d.vx*R+d.vy*I+L,w=v.vx*P+v.vy*M+D,C=v.vx*R+v.vy*I+L}var F=w-p,O=C-m,N=x-p,b=E-m,V=s-p,Y=a-m,W=F*F+O*O,U=F*N+O*b,z=F*V+O*Y,B=N*N+b*b,X=N*V+b*Y,G=W*B-U*U,H=G===0?0:1/G,$=(B*z-U*X)*H,k=(W*X-U*z)*H;return $>=0&&k>=0&&$+k<1},isCounterClockwise:function(s){var a=this.vertex1,c=this.vertex2,r=this.vertex3,d=(c.vx-a.vx)*(r.vy-a.vy)-(c.vy-a.vy)*(r.vx-a.vx);return s<=0?d>=0:d<0},load:function(s,a,c,r,d){return c=this.vertex1.load(s,a,c,r,d),c=this.vertex2.load(s,a,c,r,d),c=this.vertex3.load(s,a,c,r,d),c},transformCoordinatesLocal:function(s,a,c,r){return this.vertex1.transformCoordinatesLocal(s,a,c,r),this.vertex2.transformCoordinatesLocal(s,a,c,r),this.vertex3.transformCoordinatesLocal(s,a,c,r),this},updateBounds:function(){var s=this.vertex1,a=this.vertex2,c=this.vertex3,r=this.bounds;return r.x=Math.min(s.vx,a.vx,c.vx),r.y=Math.min(s.vy,a.vy,c.vy),r.width=Math.max(s.vx,a.vx,c.vx)-r.x,r.height=Math.max(s.vy,a.vy,c.vy)-r.y,this},isInView:function(s,a,c,r,d,v,p,m,x,E,w){this.update(r,d,v,p,m,x,E,w);var C=this.vertex1,P=this.vertex2,R=this.vertex3;if(C.ta<=0&&P.ta<=0&&R.ta<=0||a&&!this.isCounterClockwise(c))return!1;var M=this.bounds;M.x=Math.min(C.tx,P.tx,R.tx),M.y=Math.min(C.ty,P.ty,R.ty),M.width=Math.max(C.tx,P.tx,R.tx)-M.x,M.height=Math.max(C.ty,P.ty,R.ty)-M.y;var I=s.x+s.width,D=s.y+s.height;return M.width<=0||M.height<=0||s.width<=0||s.height<=0?!1:!(M.right<s.x||M.bottom<s.y||M.x>I||M.y>D)},scrollUV:function(s,a){return this.vertex1.scrollUV(s,a),this.vertex2.scrollUV(s,a),this.vertex3.scrollUV(s,a),this},scaleUV:function(s,a){return this.vertex1.scaleUV(s,a),this.vertex2.scaleUV(s,a),this.vertex3.scaleUV(s,a),this},setColor:function(s){return this.vertex1.color=s,this.vertex2.color=s,this.vertex3.color=s,this},update:function(s,a,c,r,d,v,p,m){return this.vertex1.update(a,c,r,d,v,p,m,s),this.vertex2.update(a,c,r,d,v,p,m,s),this.vertex3.update(a,c,r,d,v,p,m,s),this},translate:function(s,a){a===void 0&&(a=0);var c=this.vertex1,r=this.vertex2,d=this.vertex3;return c.x+=s,c.y+=a,r.x+=s,r.y+=a,d.x+=s,d.y+=a,this},x:{get:function(){return this.getInCenter().x},set:function(s){var a=this.getInCenter();this.translate(s-a.x,0)}},y:{get:function(){return this.getInCenter().y},set:function(s){var a=this.getInCenter();this.translate(0,s-a.y)}},alpha:{get:function(){var s=this.vertex1,a=this.vertex2,c=this.vertex3;return(s.alpha+a.alpha+c.alpha)/3},set:function(s){this.vertex1.alpha=s,this.vertex2.alpha=s,this.vertex3.alpha=s}},depth:{get:function(){var s=this.vertex1,a=this.vertex2,c=this.vertex3;return(s.vz+a.vz+c.vz)/3}},destroy:function(){this.vertex1=null,this.vertex2=null,this.vertex3=null}});h.exports=o},48803:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83997),y=e(95540),f=e(37867),l=e(25836),o=e(39318),s=new l,a=new l,c=new f,r=function(d){var v=y(d,"mesh"),p=y(d,"texture",null),m=y(d,"frame"),x=y(d,"width",1),E=y(d,"height",x),w=y(d,"widthSegments",1),C=y(d,"heightSegments",w),P=y(d,"x",0),R=y(d,"y",0),M=y(d,"z",0),I=y(d,"rotateX",0),D=y(d,"rotateY",0),L=y(d,"rotateZ",0),F=y(d,"zIsUp",!0),O=y(d,"isOrtho",v?v.dirtyCache[11]:!1),N=y(d,"colors",[16777215]),b=y(d,"alphas",[1]),V=y(d,"tile",!1),Y=y(d,"flipY",!1),W=y(d,"width",null),U={faces:[],verts:[]};s.set(P,R,M),a.set(I,D,L),c.fromRotationXYTranslation(a,s,F);var z;if(!p&&v)p=v.texture,m||(z=v.frame);else if(v&&typeof p=="string")p=v.scene.sys.textures.get(p);else if(!p)return U;z||(z=p.get(m)),!W&&O&&p&&v&&(x=z.width/v.height,E=z.height/v.height);var B=x/2,X=E/2,G=Math.floor(w),H=Math.floor(C),$=G+1,k=H+1,j=x/G,Q=E/H,J=[],q=[],Z,it,rt=0,et=1,ct=0,pt=1;z&&(rt=z.u0,et=z.u1,Y?(ct=z.v1,pt=z.v0):(ct=z.v0,pt=z.v1));var mt=et-rt,nt=pt-ct;for(it=0;it<k;it++){var lt=it*Q-X;for(Z=0;Z<$;Z++){var ht=Z*j-B;q.push(ht,-lt);var Tt=rt+mt*(Z/G),It=ct+nt*(it/H);J.push(Tt,It)}}Array.isArray(N)||(N=[N]),Array.isArray(b)||(b=[b]);var Vt=0,At=0;for(it=0;it<H;it++)for(Z=0;Z<G;Z++){var Rt=(Z+$*it)*2,$t=(Z+$*(it+1))*2,fe=(Z+1+$*(it+1))*2,Nt=(Z+1+$*it)*2,kt=N[At],_t=b[Vt],Le=new o(q[Rt],q[Rt+1],0,J[Rt],J[Rt+1],kt,_t).transformMat4(c),cs=new o(q[$t],q[$t+1],0,J[$t],J[$t+1],kt,_t).transformMat4(c),vs=new o(q[Nt],q[Nt+1],0,J[Nt],J[Nt+1],kt,_t).transformMat4(c),ps=new o(q[$t],q[$t+1],0,J[$t],J[$t+1],kt,_t).transformMat4(c),ms=new o(q[fe],q[fe+1],0,J[fe],J[fe+1],kt,_t).transformMat4(c),gs=new o(q[Nt],q[Nt+1],0,J[Nt],J[Nt+1],kt,_t).transformMat4(c);V&&(Le.setUVs(rt,pt),cs.setUVs(rt,ct),vs.setUVs(et,pt),ps.setUVs(rt,ct),ms.setUVs(et,ct),gs.setUVs(et,pt)),At++,At===N.length&&(At=0),Vt++,Vt===b.length&&(Vt=0),U.verts.push(Le,cs,vs,ps,ms,gs),U.faces.push(new u(Le,cs,vs),new u(ps,ms,gs))}return v&&(v.faces=v.faces.concat(U.faces),v.vertices=v.vertices.concat(U.verts)),U};h.exports=r},34684:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83997),y=e(37867),f=e(25836),l=e(39318),o=new f,s=new f,a=new y,c=function(r,d,v,p,m,x,E,w,C,P){v===void 0&&(v=1),p===void 0&&(p=0),m===void 0&&(m=0),x===void 0&&(x=0),E===void 0&&(E=0),w===void 0&&(w=0),C===void 0&&(C=0),P===void 0&&(P=!0);var R={faces:[],verts:[]},M=r.materials;o.set(p,m,x),s.set(E,w,C),a.fromRotationXYTranslation(s,o,P);for(var I=0;I<r.models.length;I++)for(var D=r.models[I],L=D.vertices,F=D.textureCoords,O=D.faces,N=0;N<O.length;N++){var b=O[N],V=b.vertices[0],Y=b.vertices[1],W=b.vertices[2],U=L[V.vertexIndex],z=L[Y.vertexIndex],B=L[W.vertexIndex],X=V.textureCoordsIndex,G=Y.textureCoordsIndex,H=W.textureCoordsIndex,$=X===-1?{u:0,v:1}:F[X],k=G===-1?{u:0,v:0}:F[G],j=H===-1?{u:1,v:1}:F[H],Q=16777215;b.material!==""&&M[b.material]&&(Q=M[b.material]);var J=new l(U.x*v,U.y*v,U.z*v,$.u,$.v,Q).transformMat4(a),q=new l(z.x*v,z.y*v,z.z*v,k.u,k.v,Q).transformMat4(a),Z=new l(B.x*v,B.y*v,B.z*v,j.u,j.v,Q).transformMat4(a);R.verts.push(J,q,Z),R.faces.push(new u(J,q,Z))}return d&&(d.faces=d.faces.concat(R.faces),d.vertices=d.vertices.concat(R.verts)),R};h.exports=c},92515:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83997),y=e(39318),f=function(l,o,s,a,c,r,d,v){if(a===void 0&&(a=!1),r===void 0&&(r=16777215),d===void 0&&(d=1),v===void 0&&(v=!1),l.length!==o.length&&!a){console.warn("GenerateVerts: vertices and uvs count not equal");return}var p={faces:[],vertices:[]},m,x,E,w,C,P,R,M,I,D,L,F=a?3:2,O=Array.isArray(r),N=Array.isArray(d);if(Array.isArray(s)&&s.length>0)for(m=0;m<s.length;m++){var b=s[m],V=s[m]*2,Y=s[m]*F;x=l[Y],E=l[Y+1],w=a?l[Y+2]:0,C=o[V],P=o[V+1],v&&(P=1-P),R=O?r[b]:r,M=N?d[b]:d,I=0,D=0,L=0,c&&(I=c[Y],D=c[Y+1],L=a?c[Y+2]:0),p.vertices.push(new y(x,E,w,C,P,R,M,I,D,L))}else{var W=0,U=0;for(m=0;m<l.length;m+=F)x=l[m],E=l[m+1],w=a?l[m+2]:0,C=o[W],P=o[W+1],R=O?r[U]:r,M=N?d[U]:d,I=0,D=0,L=0,c&&(I=c[m],D=c[m+1],L=a?c[m+2]:0),p.vertices.push(new y(x,E,w,C,P,R,M,I,D,L)),W+=2,U++}for(m=0;m<p.vertices.length;m+=3){var z=p.vertices[m],B=p.vertices[m+1],X=p.vertices[m+2];p.faces.push(new u(z,B,X))}return p};h.exports=f},85048:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=!0,e="untitled",u="",y="";function f(x){var E=x.indexOf("#");return E>-1?x.substring(0,E):x}function l(x){return x.models.length===0&&x.models.push({faces:[],name:e,textureCoords:[],vertexNormals:[],vertices:[]}),u="",x.models[x.models.length-1]}function o(x,E){var w=x.length>=2?x[1]:e;E.models.push({faces:[],name:w,textureCoords:[],vertexNormals:[],vertices:[]}),u=""}function s(x){x.length===2&&(u=x[1])}function a(x,E){var w=x.length,C=w>=2?parseFloat(x[1]):0,P=w>=3?parseFloat(x[2]):0,R=w>=4?parseFloat(x[3]):0;l(E).vertices.push({x:C,y:P,z:R})}function c(x,E){var w=x.length,C=w>=2?parseFloat(x[1]):0,P=w>=3?parseFloat(x[2]):0,R=w>=4?parseFloat(x[3]):0;isNaN(C)&&(C=0),isNaN(P)&&(P=0),isNaN(R)&&(R=0),S&&(P=1-P),l(E).textureCoords.push({u:C,v:P,w:R})}function r(x,E){var w=x.length,C=w>=2?parseFloat(x[1]):0,P=w>=3?parseFloat(x[2]):0,R=w>=4?parseFloat(x[3]):0;l(E).vertexNormals.push({x:C,y:P,z:R})}function d(x,E){var w=x.length-1;if(!(w<3)){for(var C={group:u,material:y,vertices:[]},P=0;P<w;P++){var R=x[P+1],M=R.split("/"),I=M.length;if(!(I<1||I>3)){var D=0,L=0,F=0;D=parseInt(M[0],10),I>1&&M[1]!==""&&(L=parseInt(M[1],10)),I>2&&(F=parseInt(M[2],10)),D!==0&&(D<0&&(D=l(E).vertices.length+1+D),L-=1,D-=1,F-=1,C.vertices.push({textureCoordsIndex:L,vertexIndex:D,vertexNormalIndex:F}))}}l(E).faces.push(C)}}function v(x,E){x.length>=2&&E.materialLibraries.push(x[1])}function p(x){x.length>=2&&(y=x[1])}var m=function(x,E){E===void 0&&(E=!0),S=E;var w={materials:{},materialLibraries:[],models:[]};u="",y="";for(var C=x.split(`
`),P=0;P<C.length;P++){var R=f(C[P]),M=R.replace(/\s\s+/g," ").trim().split(" ");switch(M[0].toLowerCase()){case"o":o(M,w);break;case"g":s(M);break;case"v":a(M,w);break;case"vt":c(M,w);break;case"vn":r(M,w);break;case"f":d(M,w);break;case"mtllib":v(M,w);break;case"usemtl":p(M);break}}return w};h.exports=m},61485:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(37589),y=function(f){for(var l={},o=f.split(`
`),s="",a=0;a<o.length;a++){var c=o[a].trim();if(!(c.indexOf("#")===0||c==="")){var r=c.replace(/\s\s+/g," ").trim().split(" ");switch(r[0].toLowerCase()){case"newmtl":{s=r[1];break}case"kd":{var d=Math.floor(r[1]*255),v=r.length>=2?Math.floor(r[2]*255):d,p=r.length>=3?Math.floor(r[3]*255):d;l[s]=u(d,v,p);break}}}}return l};h.exports=y},92570:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u,y,f){var l,o;if(y===void 0&&f===void 0){var s=e.getInCenter();l=s.x,o=s.y}var a=Math.cos(u),c=Math.sin(u),r=e.vertex1,d=e.vertex2,v=e.vertex3,p=r.x-l,m=r.y-o;r.set(p*a-m*c+l,p*c+m*a+o),p=d.x-l,m=d.y-o,d.set(p*a-m*c+l,p*c+m*a+o),p=v.x-l,m=v.y-o,v.set(p*a-m*c+l,p*c+m*a+o)};h.exports=S},39318:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(70554),f=e(25836),l=new u({Extends:f,initialize:function(s,a,c,r,d,v,p,m,x,E){v===void 0&&(v=16777215),p===void 0&&(p=1),m===void 0&&(m=0),x===void 0&&(x=0),E===void 0&&(E=0),f.call(this,s,a,c),this.vx=0,this.vy=0,this.vz=0,this.nx=m,this.ny=x,this.nz=E,this.u=r,this.v=d,this.color=v,this.alpha=p,this.tx=0,this.ty=0,this.ta=0,this.tu=r,this.tv=d},setUVs:function(o,s){return this.u=o,this.v=s,this.tu=o,this.tv=s,this},scrollUV:function(o,s){return this.tu+=o,this.tv+=s,this},scaleUV:function(o,s){return this.tu=this.u*o,this.tv=this.v*s,this},transformCoordinatesLocal:function(o,s,a,c){var r=this.x,d=this.y,v=this.z,p=o.val,m=r*p[0]+d*p[4]+v*p[8]+p[12],x=r*p[1]+d*p[5]+v*p[9]+p[13],E=r*p[2]+d*p[6]+v*p[10]+p[14],w=r*p[3]+d*p[7]+v*p[11]+p[15];this.vx=m/w*s,this.vy=-(x/w)*a,c<=0?this.vz=E/w:this.vz=-(E/w)},resize:function(o,s,a,c,r,d){return this.x=o,this.y=s,this.vx=this.x*a,this.vy=-this.y*c,this.vz=0,r<.5?this.vx+=a*(.5-r):r>.5&&(this.vx-=a*(r-.5)),d<.5?this.vy+=c*(.5-d):d>.5&&(this.vy-=c*(d-.5)),this},update:function(o,s,a,c,r,d,v,p){var m=this.vx*o+this.vy*a+r,x=this.vx*s+this.vy*c+d;return v&&(m=Math.round(m),x=Math.round(x)),this.tx=m,this.ty=x,this.ta=this.alpha*p,this},load:function(o,s,a,c,r){return o[++a]=this.tx,o[++a]=this.ty,o[++a]=this.tu,o[++a]=this.tv,o[++a]=c,o[++a]=r,s[++a]=y.getTintAppendFloatAlpha(this.color,this.ta),a}});h.exports=l},73090:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u={Face:e(83997),GenerateGridVerts:e(48803),GenerateObjVerts:e(34684),GenerateVerts:e(92515),ParseObj:e(85048),ParseObjMaterial:e(61485),RotateFace:e(92570),Vertex:e(39318)};h.exports=u},96550:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e){return e.setTo(Math.ceil(e.x),Math.ceil(e.y))};h.exports=S},99706:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(2141),y=function(f){return new u(f.x,f.y)};h.exports=y},68010:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u){return u.setTo(e.x,e.y)};h.exports=S},27814:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u){return e.x===u.x&&e.y===u.y};h.exports=S},73565:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e){return e.setTo(Math.floor(e.x),Math.floor(e.y))};h.exports=S},87555:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(2141),y=function(f,l){if(l===void 0&&(l=new u),!Array.isArray(f))throw new Error("GetCentroid points argument must be an array");var o=f.length;if(o<1)throw new Error("GetCentroid points array must not be empty");if(o===1)l.x=f[0].x,l.y=f[0].y;else{for(var s=0;s<o;s++)l.x+=f[s].x,l.y+=f[s].y;l.x/=o,l.y/=o}return l};h.exports=y},28793:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)};h.exports=S},44405:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e){return e.x*e.x+e.y*e.y};h.exports=S},20873:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(87841),y=function(f,l){l===void 0&&(l=new u);for(var o=Number.NEGATIVE_INFINITY,s=Number.POSITIVE_INFINITY,a=Number.NEGATIVE_INFINITY,c=Number.POSITIVE_INFINITY,r=0;r<f.length;r++){var d=f[r];d.x>o&&(o=d.x),d.x<s&&(s=d.x),d.y>a&&(a=d.y),d.y<c&&(c=d.y)}return l.x=s,l.y=c,l.width=o-s,l.height=a-c,l};h.exports=y},26152:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(2141),y=function(f,l,o,s){return o===void 0&&(o=0),s===void 0&&(s=new u),s.x=f.x+(l.x-f.x)*o,s.y=f.y+(l.y-f.y)*o,s};h.exports=y},55767:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e){return e.setTo(e.y,e.x)};h.exports=S},79432:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(2141),y=function(f,l){return l===void 0&&(l=new u),l.setTo(-f.x,-f.y)};h.exports=y},2141:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(23777),f=new u({initialize:function(o,s){o===void 0&&(o=0),s===void 0&&(s=o),this.type=y.POINT,this.x=o,this.y=s},setTo:function(l,o){return l===void 0&&(l=0),o===void 0&&(o=l),this.x=l,this.y=o,this}});h.exports=f},72930:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(2141),y=e(44405),f=function(l,o,s){s===void 0&&(s=new u);var a=l.x*o.x+l.y*o.y,c=a/y(o);return c!==0&&(s.x=c*o.x,s.y=c*o.y),s};h.exports=f},62880:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(2141),y=function(f,l,o){o===void 0&&(o=new u);var s=f.x*l.x+f.y*l.y;return s!==0&&(o.x=s*l.x,o.y=s*l.y),o};h.exports=y},15093:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(28793),y=function(f,l){if(f.x!==0||f.y!==0){var o=u(f);f.x/=o,f.y/=o}return f.x*=l,f.y*=l,f};h.exports=y},43711:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(2141);u.Ceil=e(96550),u.Clone=e(99706),u.CopyFrom=e(68010),u.Equals=e(27814),u.Floor=e(73565),u.GetCentroid=e(87555),u.GetMagnitude=e(28793),u.GetMagnitudeSq=e(44405),u.GetRectangleFromPoints=e(20873),u.Interpolate=e(26152),u.Invert=e(55767),u.Negative=e(79432),u.Project=e(72930),u.ProjectUnit=e(62880),u.SetMagnitude=e(15093),h.exports=u},12306:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(25717),y=function(f){return new u(f.points)};h.exports=y},63814:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u,y){for(var f=!1,l=-1,o=e.points.length-1;++l<e.points.length;o=l){var s=e.points[l].x,a=e.points[l].y,c=e.points[o].x,r=e.points[o].y;(a<=y&&y<r||r<=y&&y<a)&&u<(c-s)*(y-a)/(r-a)+s&&(f=!f)}return f};h.exports=S},99338:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(63814),y=function(f,l){return u(f,l.x,l.y)};h.exports=y},94811:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function S(U,z,B){B=B||2;var X=z&&z.length,G=X?z[0]*B:U.length,H=e(U,0,G,B,!0),$=[];if(!H||H.next===H.prev)return $;var k,j,Q,J,q,Z,it;if(X&&(H=a(U,z,H,B)),U.length>80*B){k=Q=U[0],j=J=U[1];for(var rt=B;rt<G;rt+=B)q=U[rt],Z=U[rt+1],q<k&&(k=q),Z<j&&(j=Z),q>Q&&(Q=q),Z>J&&(J=Z);it=Math.max(Q-k,J-j),it=it!==0?32767/it:0}return y(H,$,B,k,j,it,0),$}function e(U,z,B,X,G){var H,$;if(G===W(U,z,B,X)>0)for(H=z;H<B;H+=X)$=b(H,U[H],U[H+1],$);else for(H=B-X;H>=z;H-=X)$=b(H,U[H],U[H+1],$);return $&&R($,$.next)&&(V($),$=$.next),$}function u(U,z){if(!U)return U;z||(z=U);var B=U,X;do if(X=!1,!B.steiner&&(R(B,B.next)||P(B.prev,B,B.next)===0)){if(V(B),B=z=B.prev,B===B.next)break;X=!0}else B=B.next;while(X||B!==z);return z}function y(U,z,B,X,G,H,$){if(U){!$&&H&&p(U,X,G,H);for(var k=U,j,Q;U.prev!==U.next;){if(j=U.prev,Q=U.next,H?l(U,X,G,H):f(U)){z.push(j.i/B|0),z.push(U.i/B|0),z.push(Q.i/B|0),V(U),U=Q.next,k=Q.next;continue}if(U=Q,U===k){$?$===1?(U=o(u(U),z,B),y(U,z,B,X,G,H,2)):$===2&&s(U,z,B,X,G,H):y(u(U),z,B,X,G,H,1);break}}}}function f(U){var z=U.prev,B=U,X=U.next;if(P(z,B,X)>=0)return!1;for(var G=z.x,H=B.x,$=X.x,k=z.y,j=B.y,Q=X.y,J=G<H?G<$?G:$:H<$?H:$,q=k<j?k<Q?k:Q:j<Q?j:Q,Z=G>H?G>$?G:$:H>$?H:$,it=k>j?k>Q?k:Q:j>Q?j:Q,rt=X.next;rt!==z;){if(rt.x>=J&&rt.x<=Z&&rt.y>=q&&rt.y<=it&&w(G,k,H,j,$,Q,rt.x,rt.y)&&P(rt.prev,rt,rt.next)>=0)return!1;rt=rt.next}return!0}function l(U,z,B,X){var G=U.prev,H=U,$=U.next;if(P(G,H,$)>=0)return!1;for(var k=G.x,j=H.x,Q=$.x,J=G.y,q=H.y,Z=$.y,it=k<j?k<Q?k:Q:j<Q?j:Q,rt=J<q?J<Z?J:Z:q<Z?q:Z,et=k>j?k>Q?k:Q:j>Q?j:Q,ct=J>q?J>Z?J:Z:q>Z?q:Z,pt=x(it,rt,z,B,X),mt=x(et,ct,z,B,X),nt=U.prevZ,lt=U.nextZ;nt&&nt.z>=pt&&lt&&lt.z<=mt;){if(nt.x>=it&&nt.x<=et&&nt.y>=rt&&nt.y<=ct&&nt!==G&&nt!==$&&w(k,J,j,q,Q,Z,nt.x,nt.y)&&P(nt.prev,nt,nt.next)>=0||(nt=nt.prevZ,lt.x>=it&&lt.x<=et&&lt.y>=rt&&lt.y<=ct&&lt!==G&&lt!==$&&w(k,J,j,q,Q,Z,lt.x,lt.y)&&P(lt.prev,lt,lt.next)>=0))return!1;lt=lt.nextZ}for(;nt&&nt.z>=pt;){if(nt.x>=it&&nt.x<=et&&nt.y>=rt&&nt.y<=ct&&nt!==G&&nt!==$&&w(k,J,j,q,Q,Z,nt.x,nt.y)&&P(nt.prev,nt,nt.next)>=0)return!1;nt=nt.prevZ}for(;lt&&lt.z<=mt;){if(lt.x>=it&&lt.x<=et&&lt.y>=rt&&lt.y<=ct&&lt!==G&&lt!==$&&w(k,J,j,q,Q,Z,lt.x,lt.y)&&P(lt.prev,lt,lt.next)>=0)return!1;lt=lt.nextZ}return!0}function o(U,z,B){var X=U;do{var G=X.prev,H=X.next.next;!R(G,H)&&M(G,X,X.next,H)&&F(G,H)&&F(H,G)&&(z.push(G.i/B|0),z.push(X.i/B|0),z.push(H.i/B|0),V(X),V(X.next),X=U=H),X=X.next}while(X!==U);return u(X)}function s(U,z,B,X,G,H){var $=U;do{for(var k=$.next.next;k!==$.prev;){if($.i!==k.i&&C($,k)){var j=N($,k);$=u($,$.next),j=u(j,j.next),y($,z,B,X,G,H,0),y(j,z,B,X,G,H,0);return}k=k.next}$=$.next}while($!==U)}function a(U,z,B,X){var G=[],H,$,k,j,Q;for(H=0,$=z.length;H<$;H++)k=z[H]*X,j=H<$-1?z[H+1]*X:U.length,Q=e(U,k,j,X,!1),Q===Q.next&&(Q.steiner=!0),G.push(E(Q));for(G.sort(c),H=0;H<G.length;H++)B=r(G[H],B);return B}function c(U,z){return U.x-z.x}function r(U,z){var B=d(U,z);if(!B)return z;var X=N(B,U);return u(X,X.next),u(B,B.next)}function d(U,z){var B=z,X=U.x,G=U.y,H=-1/0,$;do{if(G<=B.y&&G>=B.next.y&&B.next.y!==B.y){var k=B.x+(G-B.y)*(B.next.x-B.x)/(B.next.y-B.y);if(k<=X&&k>H&&(H=k,$=B.x<B.next.x?B:B.next,k===X))return $}B=B.next}while(B!==z);if(!$)return null;var j=$,Q=$.x,J=$.y,q=1/0,Z;B=$;do X>=B.x&&B.x>=Q&&X!==B.x&&w(G<J?X:H,G,Q,J,G<J?H:X,G,B.x,B.y)&&(Z=Math.abs(G-B.y)/(X-B.x),F(B,U)&&(Z<q||Z===q&&(B.x>$.x||B.x===$.x&&v($,B)))&&($=B,q=Z)),B=B.next;while(B!==j);return $}function v(U,z){return P(U.prev,U,z.prev)<0&&P(z.next,U,U.next)<0}function p(U,z,B,X){var G=U;do G.z===0&&(G.z=x(G.x,G.y,z,B,X)),G.prevZ=G.prev,G.nextZ=G.next,G=G.next;while(G!==U);G.prevZ.nextZ=null,G.prevZ=null,m(G)}function m(U){var z,B,X,G,H,$,k,j,Q=1;do{for(B=U,U=null,H=null,$=0;B;){for($++,X=B,k=0,z=0;z<Q&&(k++,X=X.nextZ,!!X);z++);for(j=Q;k>0||j>0&&X;)k!==0&&(j===0||!X||B.z<=X.z)?(G=B,B=B.nextZ,k--):(G=X,X=X.nextZ,j--),H?H.nextZ=G:U=G,G.prevZ=H,H=G;B=X}H.nextZ=null,Q*=2}while($>1);return U}function x(U,z,B,X,G){return U=(U-B)*G|0,z=(z-X)*G|0,U=(U|U<<8)&16711935,U=(U|U<<4)&252645135,U=(U|U<<2)&858993459,U=(U|U<<1)&1431655765,z=(z|z<<8)&16711935,z=(z|z<<4)&252645135,z=(z|z<<2)&858993459,z=(z|z<<1)&1431655765,U|z<<1}function E(U){var z=U,B=U;do(z.x<B.x||z.x===B.x&&z.y<B.y)&&(B=z),z=z.next;while(z!==U);return B}function w(U,z,B,X,G,H,$,k){return(G-$)*(z-k)>=(U-$)*(H-k)&&(U-$)*(X-k)>=(B-$)*(z-k)&&(B-$)*(H-k)>=(G-$)*(X-k)}function C(U,z){return U.next.i!==z.i&&U.prev.i!==z.i&&!L(U,z)&&(F(U,z)&&F(z,U)&&O(U,z)&&(P(U.prev,U,z.prev)||P(U,z.prev,z))||R(U,z)&&P(U.prev,U,U.next)>0&&P(z.prev,z,z.next)>0)}function P(U,z,B){return(z.y-U.y)*(B.x-z.x)-(z.x-U.x)*(B.y-z.y)}function R(U,z){return U.x===z.x&&U.y===z.y}function M(U,z,B,X){var G=D(P(U,z,B)),H=D(P(U,z,X)),$=D(P(B,X,U)),k=D(P(B,X,z));return!!(G!==H&&$!==k||G===0&&I(U,B,z)||H===0&&I(U,X,z)||$===0&&I(B,U,X)||k===0&&I(B,z,X))}function I(U,z,B){return z.x<=Math.max(U.x,B.x)&&z.x>=Math.min(U.x,B.x)&&z.y<=Math.max(U.y,B.y)&&z.y>=Math.min(U.y,B.y)}function D(U){return U>0?1:U<0?-1:0}function L(U,z){var B=U;do{if(B.i!==U.i&&B.next.i!==U.i&&B.i!==z.i&&B.next.i!==z.i&&M(B,B.next,U,z))return!0;B=B.next}while(B!==U);return!1}function F(U,z){return P(U.prev,U,U.next)<0?P(U,z,U.next)>=0&&P(U,U.prev,z)>=0:P(U,z,U.prev)<0||P(U,U.next,z)<0}function O(U,z){var B=U,X=!1,G=(U.x+z.x)/2,H=(U.y+z.y)/2;do B.y>H!=B.next.y>H&&B.next.y!==B.y&&G<(B.next.x-B.x)*(H-B.y)/(B.next.y-B.y)+B.x&&(X=!X),B=B.next;while(B!==U);return X}function N(U,z){var B=new Y(U.i,U.x,U.y),X=new Y(z.i,z.x,z.y),G=U.next,H=z.prev;return U.next=z,z.prev=U,B.next=G,G.prev=B,X.next=B,B.prev=X,H.next=X,X.prev=H,X}function b(U,z,B,X){var G=new Y(U,z,B);return X?(G.next=X.next,G.prev=X,X.next.prev=G,X.next=G):(G.prev=G,G.next=G),G}function V(U){U.next.prev=U.prev,U.prev.next=U.next,U.prevZ&&(U.prevZ.nextZ=U.nextZ),U.nextZ&&(U.nextZ.prevZ=U.prevZ)}function Y(U,z,B){this.i=U,this.x=z,this.y=B,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}S.deviation=function(U,z,B,X){var G=z&&z.length,H=G?z[0]*B:U.length,$=Math.abs(W(U,0,H,B));if(G)for(var k=0,j=z.length;k<j;k++){var Q=z[k]*B,J=k<j-1?z[k+1]*B:U.length;$-=Math.abs(W(U,Q,J,B))}var q=0;for(k=0;k<X.length;k+=3){var Z=X[k]*B,it=X[k+1]*B,rt=X[k+2]*B;q+=Math.abs((U[Z]-U[rt])*(U[it+1]-U[Z+1])-(U[Z]-U[it])*(U[rt+1]-U[Z+1]))}return $===0&&q===0?0:Math.abs((q-$)/$)};function W(U,z,B,X){for(var G=0,H=z,$=B-X;H<B;H+=X)G+=(U[$]-U[H])*(U[H+1]+U[$+1]),$=H;return G}S.flatten=function(U){for(var z=U[0][0].length,B={vertices:[],holes:[],dimensions:z},X=0,G=0;G<U.length;G++){for(var H=0;H<U[G].length;H++)for(var $=0;$<z;$++)B.vertices.push(U[G][H][$]);G>0&&(X+=U[G-1].length,B.holes.push(X))}return B},h.exports=S},13829:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(87841),y=function(f,l){l===void 0&&(l=new u);for(var o=1/0,s=1/0,a=-o,c=-s,r,d=0;d<f.points.length;d++)r=f.points[d],o=Math.min(o,r.x),s=Math.min(s,r.y),a=Math.max(a,r.x),c=Math.max(c,r.y);return l.x=o,l.y=s,l.width=a-o,l.height=c-s,l};h.exports=y},26173:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u){u===void 0&&(u=[]);for(var y=0;y<e.points.length;y++)u.push(e.points[y].x),u.push(e.points[y].y);return u};h.exports=S},9564:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(35001),y=e(23031),f=e(30052),l=function(o,s,a,c){c===void 0&&(c=[]);var r=o.points,d=f(o);!s&&a>0&&(s=d/a);for(var v=0;v<s;v++)for(var p=d*(v/s),m=0,x=0;x<r.length;x++){var E=r[x],w=r[(x+1)%r.length],C=new y(E.x,E.y,w.x,w.y),P=u(C);if(p<m||p>m+P){m+=P;continue}var R=C.getPoint((p-m)/P);c.push(R);break}return c};h.exports=l},30052:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(35001),y=e(23031),f=function(l){for(var o=l.points,s=0,a=0;a<o.length;a++){var c=o[a],r=o[(a+1)%o.length],d=new y(c.x,c.y,r.x,r.y);s+=u(d)}return s};h.exports=f},25717:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(63814),f=e(9564),l=e(23777),o=new u({initialize:function(a){this.type=l.POLYGON,this.area=0,this.points=[],a&&this.setTo(a)},contains:function(s,a){return y(this,s,a)},setTo:function(s){if(this.area=0,this.points=[],typeof s=="string"&&(s=s.split(" ")),!Array.isArray(s))return this;for(var a,c=0;c<s.length;c++)a={x:0,y:0},typeof s[c]=="number"||typeof s[c]=="string"?(a.x=parseFloat(s[c]),a.y=parseFloat(s[c+1]),c++):Array.isArray(s[c])?(a.x=s[c][0],a.y=s[c][1]):(a.x=s[c].x,a.y=s[c].y),this.points.push(a);return this.calculateArea(),this},calculateArea:function(){if(this.points.length<3)return this.area=0,this.area;for(var s=0,a,c,r=0;r<this.points.length-1;r++)a=this.points[r],c=this.points[r+1],s+=(c.x-a.x)*(a.y+c.y);return a=this.points[0],c=this.points[this.points.length-1],s+=(a.x-c.x)*(c.y+a.y),this.area=-s*.5,this.area},getPoints:function(s,a,c){return f(this,s,a,c)}});h.exports=o},8133:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e){return e.points.reverse(),e};h.exports=S},29524:h=>{function S(o,s){var a=o.x-s.x,c=o.y-s.y;return a*a+c*c}function e(o,s,a){var c=s.x,r=s.y,d=a.x-c,v=a.y-r;if(d!==0||v!==0){var p=((o.x-c)*d+(o.y-r)*v)/(d*d+v*v);p>1?(c=a.x,r=a.y):p>0&&(c+=d*p,r+=v*p)}return d=o.x-c,v=o.y-r,d*d+v*v}function u(o,s){for(var a=o[0],c=[a],r,d=1,v=o.length;d<v;d++)r=o[d],S(r,a)>s&&(c.push(r),a=r);return a!==r&&c.push(r),c}function y(o,s,a,c,r){for(var d=c,v,p=s+1;p<a;p++){var m=e(o[p],o[s],o[a]);m>d&&(v=p,d=m)}d>c&&(v-s>1&&y(o,s,v,c,r),r.push(o[v]),a-v>1&&y(o,v,a,c,r))}function f(o,s){var a=o.length-1,c=[o[0]];return y(o,0,a,s,c),c.push(o[a]),c}var l=function(o,s,a){s===void 0&&(s=1),a===void 0&&(a=!1);var c=o.points;if(c.length>2){var r=s*s;a||(c=u(c,r)),o.setTo(f(c,r))}return o};h.exports=l},5469:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Igor Ognichenko <ognichenko.igor@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(u,y){return u[0]=y[0],u[1]=y[1],u},e=function(u){var y,f=[],l=u.points;for(y=0;y<l.length;y++)f.push([l[y].x,l[y].y]);var o=[];for(f.length>0&&o.push(S([0,0],f[0])),y=0;y<f.length-1;y++){var s=f[y],a=f[y+1],c=s[0],r=s[1],d=a[0],v=a[1];o.push([.85*c+.15*d,.85*r+.15*v]),o.push([.15*c+.85*d,.15*r+.85*v])}return f.length>1&&o.push(S([0,0],f[f.length-1])),u.setTo(o)};h.exports=e},24709:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u,y){for(var f=e.points,l=0;l<f.length;l++)f[l].x+=u,f[l].y+=y;return e};h.exports=S},58423:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(25717);u.Clone=e(12306),u.Contains=e(63814),u.ContainsPoint=e(99338),u.Earcut=e(94811),u.GetAABB=e(13829),u.GetNumberArray=e(26173),u.GetPoints=e(9564),u.Perimeter=e(30052),u.Reverse=e(8133),u.Simplify=e(29524),u.Smooth=e(5469),u.Translate=e(24709),h.exports=u},62224:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e){return e.width*e.height};h.exports=S},98615:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e){return e.x=Math.ceil(e.x),e.y=Math.ceil(e.y),e};h.exports=S},31688:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e){return e.x=Math.ceil(e.x),e.y=Math.ceil(e.y),e.width=Math.ceil(e.width),e.height=Math.ceil(e.height),e};h.exports=S},67502:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u,y){return e.x=u-e.width/2,e.y=y-e.height/2,e};h.exports=S},65085:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(87841),y=function(f){return new u(f.x,f.y,f.width,f.height)};h.exports=y},37303:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u,y){return e.width<=0||e.height<=0?!1:e.x<=u&&e.x+e.width>=u&&e.y<=y&&e.y+e.height>=y};h.exports=S},96553:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(37303),y=function(f,l){return u(f,l.x,l.y)};h.exports=y},70273:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u){return u.width*u.height>e.width*e.height?!1:u.x>e.x&&u.x<e.right&&u.right>e.x&&u.right<e.right&&u.y>e.y&&u.y<e.bottom&&u.bottom>e.y&&u.bottom<e.bottom};h.exports=S},43459:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u){return u.setTo(e.x,e.y,e.width,e.height)};h.exports=S},77493:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u){return u===void 0&&(u=[]),u.push({x:e.x,y:e.y}),u.push({x:e.right,y:e.y}),u.push({x:e.right,y:e.bottom}),u.push({x:e.x,y:e.bottom}),u};h.exports=S},9219:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u){return e.x===u.x&&e.y===u.y&&e.width===u.width&&e.height===u.height};h.exports=S},53751:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(8249),y=function(f,l){var o=u(f);return o<u(l)?f.setSize(l.height*o,l.height):f.setSize(l.width,l.width/o),f.setPosition(l.centerX-f.width/2,l.centerY-f.height/2)};h.exports=y},16088:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(8249),y=function(f,l){var o=u(f);return o>u(l)?f.setSize(l.height*o,l.height):f.setSize(l.width,l.width/o),f.setPosition(l.centerX-f.width/2,l.centerY-f.height/2)};h.exports=y},80774:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e){return e.x=Math.floor(e.x),e.y=Math.floor(e.y),e};h.exports=S},83859:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e){return e.x=Math.floor(e.x),e.y=Math.floor(e.y),e.width=Math.floor(e.width),e.height=Math.floor(e.height),e};h.exports=S},19217:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(87841),y=e(36383),f=function(l,o){if(o===void 0&&(o=new u),l.length===0)return o;for(var s=Number.MAX_VALUE,a=Number.MAX_VALUE,c=y.MIN_SAFE_INTEGER,r=y.MIN_SAFE_INTEGER,d,v,p,m=0;m<l.length;m++)d=l[m],Array.isArray(d)?(v=d[0],p=d[1]):(v=d.x,p=d.y),s=Math.min(s,v),a=Math.min(a,p),c=Math.max(c,v),r=Math.max(r,p);return o.x=s,o.y=a,o.width=c-s,o.height=r-a,o};h.exports=f},9477:(h,S,e)=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(87841),y=function(f,l,o,s,a){return a===void 0&&(a=new u),a.setTo(Math.min(f,o),Math.min(l,s),Math.abs(f-o),Math.abs(l-s))};h.exports=y},8249:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e){return e.height===0?NaN:e.width/e.height};h.exports=S},27165:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(2141),y=function(f,l){return l===void 0&&(l=new u),l.x=f.centerX,l.y=f.centerY,l};h.exports=y},20812:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(13019),y=e(2141),f=function(l,o,s){if(s===void 0&&(s=new y),o<=0||o>=1)return s.x=l.x,s.y=l.y,s;var a=u(l)*o;return o>.5?(a-=l.width+l.height,a<=l.width?(s.x=l.right-a,s.y=l.bottom):(s.x=l.x,s.y=l.bottom-(a-l.width))):a<=l.width?(s.x=l.x+a,s.y=l.y):(s.x=l.right,s.y=l.y+(a-l.width)),s};h.exports=f},34819:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(20812),y=e(13019),f=function(l,o,s,a){a===void 0&&(a=[]),!o&&s>0&&(o=y(l)/s);for(var c=0;c<o;c++){var r=c/o;a.push(u(l,r))}return a};h.exports=f},51313:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(2141),y=function(f,l){return l===void 0&&(l=new u),l.x=f.width,l.y=f.height,l};h.exports=y},86091:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(67502),y=function(f,l,o){var s=f.centerX,a=f.centerY;return f.setSize(f.width+l*2,f.height+o*2),u(f,s,a)};h.exports=y},53951:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(87841),y=e(59996),f=function(l,o,s){return s===void 0&&(s=new u),y(l,o)?(s.x=Math.max(l.x,o.x),s.y=Math.max(l.y,o.y),s.width=Math.min(l.right,o.right)-s.x,s.height=Math.min(l.bottom,o.bottom)-s.y):s.setEmpty(),s};h.exports=f},14649:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(13019),y=e(2141),f=function(l,o,s,a){if(a===void 0&&(a=[]),!o&&!s)return a;o?s=Math.round(u(l)/o):o=u(l)/s;for(var c=l.x,r=l.y,d=0,v=0;v<s;v++)switch(a.push(new y(c,r)),d){case 0:c+=o,c>=l.right&&(d=1,r+=c-l.right,c=l.right);break;case 1:r+=o,r>=l.bottom&&(d=2,c-=r-l.bottom,r=l.bottom);break;case 2:c-=o,c<=l.left&&(d=3,r-=l.left-c,c=l.left);break;case 3:r-=o,r<=l.top&&(d=0,r=l.top);break}return a};h.exports=f},33595:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u){for(var y=e.x,f=e.right,l=e.y,o=e.bottom,s=0;s<u.length;s++)y=Math.min(y,u[s].x),f=Math.max(f,u[s].x),l=Math.min(l,u[s].y),o=Math.max(o,u[s].y);return e.x=y,e.y=l,e.width=f-y,e.height=o-l,e};h.exports=S},20074:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u){var y=Math.min(e.x,u.x),f=Math.max(e.right,u.right);e.x=y,e.width=f-y;var l=Math.min(e.y,u.y),o=Math.max(e.bottom,u.bottom);return e.y=l,e.height=o-l,e};h.exports=S},92171:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u,y){var f=Math.min(e.x,u),l=Math.max(e.right,u);e.x=f,e.width=l-f;var o=Math.min(e.y,y),s=Math.max(e.bottom,y);return e.y=o,e.height=s-o,e};h.exports=S},42981:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u,y){return e.x+=u,e.y+=y,e};h.exports=S},46907:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u){return e.x+=u.x,e.y+=u.y,e};h.exports=S},60170:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u){return e.x<u.right&&e.right>u.x&&e.y<u.bottom&&e.bottom>u.y};h.exports=S},13019:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e){return 2*(e.width+e.height)};h.exports=S},85133:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(2141),y=e(39506),f=function(l,o,s){s===void 0&&(s=new u),o=y(o);var a=Math.sin(o),c=Math.cos(o),r=c>0?l.width/2:l.width/-2,d=a>0?l.height/2:l.height/-2;return Math.abs(r*a)<Math.abs(d*c)?d=r*a/c:r=d*c/a,s.x=r+l.centerX,s.y=d+l.centerY,s};h.exports=f},26597:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(2141),y=function(f,l){return l===void 0&&(l=new u),l.x=f.x+Math.random()*f.width,l.y=f.y+Math.random()*f.height,l};h.exports=y},86470:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(30976),y=e(70273),f=e(2141),l=function(o,s,a){if(a===void 0&&(a=new f),y(o,s))switch(u(0,3)){case 0:a.x=o.x+Math.random()*(s.right-o.x),a.y=o.y+Math.random()*(s.top-o.y);break;case 1:a.x=s.x+Math.random()*(o.right-s.x),a.y=s.bottom+Math.random()*(o.bottom-s.bottom);break;case 2:a.x=o.x+Math.random()*(s.x-o.x),a.y=s.y+Math.random()*(o.bottom-s.y);break;case 3:a.x=s.right+Math.random()*(o.right-s.right),a.y=o.y+Math.random()*(s.bottom-o.y);break}return a};h.exports=l},87841:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(37303),f=e(20812),l=e(34819),o=e(23777),s=e(23031),a=e(26597),c=new u({initialize:function(d,v,p,m){d===void 0&&(d=0),v===void 0&&(v=0),p===void 0&&(p=0),m===void 0&&(m=0),this.type=o.RECTANGLE,this.x=d,this.y=v,this.width=p,this.height=m},contains:function(r,d){return y(this,r,d)},getPoint:function(r,d){return f(this,r,d)},getPoints:function(r,d,v){return l(this,r,d,v)},getRandomPoint:function(r){return a(this,r)},setTo:function(r,d,v,p){return this.x=r,this.y=d,this.width=v,this.height=p,this},setEmpty:function(){return this.setTo(0,0,0,0)},setPosition:function(r,d){return d===void 0&&(d=r),this.x=r,this.y=d,this},setSize:function(r,d){return d===void 0&&(d=r),this.width=r,this.height=d,this},isEmpty:function(){return this.width<=0||this.height<=0},getLineA:function(r){return r===void 0&&(r=new s),r.setTo(this.x,this.y,this.right,this.y),r},getLineB:function(r){return r===void 0&&(r=new s),r.setTo(this.right,this.y,this.right,this.bottom),r},getLineC:function(r){return r===void 0&&(r=new s),r.setTo(this.right,this.bottom,this.x,this.bottom),r},getLineD:function(r){return r===void 0&&(r=new s),r.setTo(this.x,this.bottom,this.x,this.y),r},left:{get:function(){return this.x},set:function(r){r>=this.right?this.width=0:this.width=this.right-r,this.x=r}},right:{get:function(){return this.x+this.width},set:function(r){r<=this.x?this.width=0:this.width=r-this.x}},top:{get:function(){return this.y},set:function(r){r>=this.bottom?this.height=0:this.height=this.bottom-r,this.y=r}},bottom:{get:function(){return this.y+this.height},set:function(r){r<=this.y?this.height=0:this.height=r-this.y}},centerX:{get:function(){return this.x+this.width/2},set:function(r){this.x=r-this.width/2}},centerY:{get:function(){return this.y+this.height/2},set:function(r){this.y=r-this.height/2}}});h.exports=c},94845:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u){return e.width===u.width&&e.height===u.height};h.exports=S},31730:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u,y){return y===void 0&&(y=u),e.width*=u,e.height*=y,e};h.exports=S},36899:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(87841),y=function(f,l,o){o===void 0&&(o=new u);var s=Math.min(f.x,l.x),a=Math.min(f.y,l.y),c=Math.max(f.right,l.right)-s,r=Math.max(f.bottom,l.bottom)-a;return o.setTo(s,a,c,r)};h.exports=y},93232:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(87841);u.Area=e(62224),u.Ceil=e(98615),u.CeilAll=e(31688),u.CenterOn=e(67502),u.Clone=e(65085),u.Contains=e(37303),u.ContainsPoint=e(96553),u.ContainsRect=e(70273),u.CopyFrom=e(43459),u.Decompose=e(77493),u.Equals=e(9219),u.FitInside=e(53751),u.FitOutside=e(16088),u.Floor=e(80774),u.FloorAll=e(83859),u.FromPoints=e(19217),u.FromXY=e(9477),u.GetAspectRatio=e(8249),u.GetCenter=e(27165),u.GetPoint=e(20812),u.GetPoints=e(34819),u.GetSize=e(51313),u.Inflate=e(86091),u.Intersection=e(53951),u.MarchingAnts=e(14649),u.MergePoints=e(33595),u.MergeRect=e(20074),u.MergeXY=e(92171),u.Offset=e(42981),u.OffsetPoint=e(46907),u.Overlaps=e(60170),u.Perimeter=e(13019),u.PerimeterPoint=e(85133),u.Random=e(26597),u.RandomOutside=e(86470),u.SameDimensions=e(94845),u.Scale=e(31730),u.Union=e(36899),h.exports=u},41658:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e){var u=e.x1,y=e.y1,f=e.x2,l=e.y2,o=e.x3,s=e.y3;return Math.abs(((o-u)*(l-y)-(f-u)*(s-y))/2)};h.exports=S},39208:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(16483),y=function(f,l,o){var s=o*(Math.sqrt(3)/2),a=f,c=l,r=f+o/2,d=l+s,v=f-o/2,p=l+s;return new u(a,c,r,d,v,p)};h.exports=y},39545:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(94811),y=e(16483),f=function(l,o,s,a,c){o===void 0&&(o=null),s===void 0&&(s=1),a===void 0&&(a=1),c===void 0&&(c=[]);for(var r=u(l,o),d,v,p,m,x,E,w,C,P,R=0;R<r.length;R+=3)d=r[R],v=r[R+1],p=r[R+2],m=l[d*2]*s,x=l[d*2+1]*a,E=l[v*2]*s,w=l[v*2+1]*a,C=l[p*2]*s,P=l[p*2+1]*a,c.push(new y(m,x,E,w,C,P));return c};h.exports=f},90301:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(16483),y=function(f,l,o,s){s===void 0&&(s=o);var a=f,c=l,r=f,d=l-s,v=f+o,p=l;return new u(a,c,r,d,v,p)};h.exports=y},23707:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(97523),y=e(13584),f=function(l,o,s,a){a===void 0&&(a=u);var c=a(l),r=o-c.x,d=s-c.y;return y(l,r,d)};h.exports=f},97523:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(2141),y=function(f,l){return l===void 0&&(l=new u),l.x=(f.x1+f.x2+f.x3)/3,l.y=(f.y1+f.y2+f.y3)/3,l};h.exports=y},24951:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(26099);function y(l,o,s,a){return l*a-o*s}var f=function(l,o){o===void 0&&(o=new u);var s=l.x3,a=l.y3,c=l.x1-s,r=l.y1-a,d=l.x2-s,v=l.y2-a,p=2*y(c,r,d,v),m=y(r,c*c+r*r,v,d*d+v*v),x=y(c,c*c+r*r,d,d*d+v*v);return o.x=s-m/p,o.y=a+x/p,o};h.exports=f},85614:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(96503),y=function(f,l){l===void 0&&(l=new u);var o=f.x1,s=f.y1,a=f.x2,c=f.y2,r=f.x3,d=f.y3,v=a-o,p=c-s,m=r-o,x=d-s,E=v*(o+a)+p*(s+c),w=m*(o+r)+x*(s+d),C=2*(v*(d-c)-p*(r-a)),P,R;if(Math.abs(C)<1e-6){var M=Math.min(o,a,r),I=Math.min(s,c,d);P=(Math.max(o,a,r)-M)*.5,R=(Math.max(s,c,d)-I)*.5,l.x=M+P,l.y=I+R,l.radius=Math.sqrt(P*P+R*R)}else l.x=(x*E-p*w)/C,l.y=(v*w-m*E)/C,P=l.x-o,R=l.y-s,l.radius=Math.sqrt(P*P+R*R);return l};h.exports=y},74422:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(16483),y=function(f){return new u(f.x1,f.y1,f.x2,f.y2,f.x3,f.y3)};h.exports=y},10690:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u,y){var f=e.x3-e.x1,l=e.y3-e.y1,o=e.x2-e.x1,s=e.y2-e.y1,a=u-e.x1,c=y-e.y1,r=f*f+l*l,d=f*o+l*s,v=f*a+l*c,p=o*o+s*s,m=o*a+s*c,x=r*p-d*d,E=x===0?0:1/x,w=(p*v-d*m)*E,C=(r*m-d*v)*E;return w>=0&&C>=0&&w+C<1};h.exports=S},48653:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u,y,f){y===void 0&&(y=!1),f===void 0&&(f=[]);for(var l=e.x3-e.x1,o=e.y3-e.y1,s=e.x2-e.x1,a=e.y2-e.y1,c=l*l+o*o,r=l*s+o*a,d=s*s+a*a,v=c*d-r*r,p=v===0?0:1/v,m,x,E,w,C,P,R=e.x1,M=e.y1,I=0;I<u.length&&(E=u[I].x-R,w=u[I].y-M,C=l*E+o*w,P=s*E+a*w,m=(d*C-r*P)*p,x=(c*P-r*C)*p,!(m>=0&&x>=0&&m+x<1&&(f.push({x:u[I].x,y:u[I].y}),y)));I++);return f};h.exports=S},96006:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(10690),y=function(f,l){return u(f,l.x,l.y)};h.exports=y},71326:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u){return u.setTo(e.x1,e.y1,e.x2,e.y2,e.x3,e.y3)};h.exports=S},71694:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u){return u===void 0&&(u=[]),u.push({x:e.x1,y:e.y1}),u.push({x:e.x2,y:e.y2}),u.push({x:e.x3,y:e.y3}),u};h.exports=S},33522:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u){return e.x1===u.x1&&e.y1===u.y1&&e.x2===u.x2&&e.y2===u.y2&&e.x3===u.x3&&e.y3===u.y3};h.exports=S},20437:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(2141),y=e(35001),f=function(l,o,s){s===void 0&&(s=new u);var a=l.getLineA(),c=l.getLineB(),r=l.getLineC();if(o<=0||o>=1)return s.x=a.x1,s.y=a.y1,s;var d=y(a),v=y(c),p=y(r),m=d+v+p,x=m*o,E=0;return x<d?(E=x/d,s.x=a.x1+(a.x2-a.x1)*E,s.y=a.y1+(a.y2-a.y1)*E):x>d+v?(x-=d+v,E=x/p,s.x=r.x1+(r.x2-r.x1)*E,s.y=r.y1+(r.y2-r.y1)*E):(x-=d,E=x/v,s.x=c.x1+(c.x2-c.x1)*E,s.y=c.y1+(c.y2-c.y1)*E),s};h.exports=f},80672:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(35001),y=e(2141),f=function(l,o,s,a){a===void 0&&(a=[]);var c=l.getLineA(),r=l.getLineB(),d=l.getLineC(),v=u(c),p=u(r),m=u(d),x=v+p+m;!o&&s>0&&(o=x/s);for(var E=0;E<o;E++){var w=x*(E/o),C=0,P=new y;w<v?(C=w/v,P.x=c.x1+(c.x2-c.x1)*C,P.y=c.y1+(c.y2-c.y1)*C):w>v+p?(w-=v+p,C=w/m,P.x=d.x1+(d.x2-d.x1)*C,P.y=d.y1+(d.y2-d.y1)*C):(w-=v,C=w/p,P.x=r.x1+(r.x2-r.x1)*C,P.y=r.y1+(r.y2-r.y1)*C),a.push(P)}return a};h.exports=f},39757:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(2141);function y(l,o,s,a){var c=l-s,r=o-a,d=c*c+r*r;return Math.sqrt(d)}var f=function(l,o){o===void 0&&(o=new u);var s=l.x1,a=l.y1,c=l.x2,r=l.y2,d=l.x3,v=l.y3,p=y(d,v,c,r),m=y(s,a,d,v),x=y(c,r,s,a),E=p+m+x;return o.x=(s*p+c*m+d*x)/E,o.y=(a*p+r*m+v*x)/E,o};h.exports=f},13584:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u,y){return e.x1+=u,e.y1+=y,e.x2+=u,e.y2+=y,e.x3+=u,e.y3+=y,e};h.exports=S},1376:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(35001),y=function(f){var l=f.getLineA(),o=f.getLineB(),s=f.getLineC();return u(l)+u(o)+u(s)};h.exports=y},90260:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(2141),y=function(f,l){l===void 0&&(l=new u);var o=f.x2-f.x1,s=f.y2-f.y1,a=f.x3-f.x1,c=f.y3-f.y1,r=Math.random(),d=Math.random();return r+d>=1&&(r=1-r,d=1-d),l.x=f.x1+(o*r+a*d),l.y=f.y1+(s*r+c*d),l};h.exports=y},52172:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(99614),y=e(39757),f=function(l,o){var s=y(l);return u(l,s.x,s.y,o)};h.exports=f},49907:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(99614),y=function(f,l,o){return u(f,l.x,l.y,o)};h.exports=y},99614:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u,y,f){var l=Math.cos(f),o=Math.sin(f),s=e.x1-u,a=e.y1-y;return e.x1=s*l-a*o+u,e.y1=s*o+a*l+y,s=e.x2-u,a=e.y2-y,e.x2=s*l-a*o+u,e.y2=s*o+a*l+y,s=e.x3-u,a=e.y3-y,e.x3=s*l-a*o+u,e.y3=s*o+a*l+y,e};h.exports=S},16483:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(10690),f=e(20437),l=e(80672),o=e(23777),s=e(23031),a=e(90260),c=new u({initialize:function(d,v,p,m,x,E){d===void 0&&(d=0),v===void 0&&(v=0),p===void 0&&(p=0),m===void 0&&(m=0),x===void 0&&(x=0),E===void 0&&(E=0),this.type=o.TRIANGLE,this.x1=d,this.y1=v,this.x2=p,this.y2=m,this.x3=x,this.y3=E},contains:function(r,d){return y(this,r,d)},getPoint:function(r,d){return f(this,r,d)},getPoints:function(r,d,v){return l(this,r,d,v)},getRandomPoint:function(r){return a(this,r)},setTo:function(r,d,v,p,m,x){return r===void 0&&(r=0),d===void 0&&(d=0),v===void 0&&(v=0),p===void 0&&(p=0),m===void 0&&(m=0),x===void 0&&(x=0),this.x1=r,this.y1=d,this.x2=v,this.y2=p,this.x3=m,this.y3=x,this},getLineA:function(r){return r===void 0&&(r=new s),r.setTo(this.x1,this.y1,this.x2,this.y2),r},getLineB:function(r){return r===void 0&&(r=new s),r.setTo(this.x2,this.y2,this.x3,this.y3),r},getLineC:function(r){return r===void 0&&(r=new s),r.setTo(this.x3,this.y3,this.x1,this.y1),r},left:{get:function(){return Math.min(this.x1,this.x2,this.x3)},set:function(r){var d=0;this.x1<=this.x2&&this.x1<=this.x3?d=this.x1-r:this.x2<=this.x1&&this.x2<=this.x3?d=this.x2-r:d=this.x3-r,this.x1-=d,this.x2-=d,this.x3-=d}},right:{get:function(){return Math.max(this.x1,this.x2,this.x3)},set:function(r){var d=0;this.x1>=this.x2&&this.x1>=this.x3?d=this.x1-r:this.x2>=this.x1&&this.x2>=this.x3?d=this.x2-r:d=this.x3-r,this.x1-=d,this.x2-=d,this.x3-=d}},top:{get:function(){return Math.min(this.y1,this.y2,this.y3)},set:function(r){var d=0;this.y1<=this.y2&&this.y1<=this.y3?d=this.y1-r:this.y2<=this.y1&&this.y2<=this.y3?d=this.y2-r:d=this.y3-r,this.y1-=d,this.y2-=d,this.y3-=d}},bottom:{get:function(){return Math.max(this.y1,this.y2,this.y3)},set:function(r){var d=0;this.y1>=this.y2&&this.y1>=this.y3?d=this.y1-r:this.y2>=this.y1&&this.y2>=this.y3?d=this.y2-r:d=this.y3-r,this.y1-=d,this.y2-=d,this.y3-=d}}});h.exports=c},84435:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(16483);u.Area=e(41658),u.BuildEquilateral=e(39208),u.BuildFromPolygon=e(39545),u.BuildRight=e(90301),u.CenterOn=e(23707),u.Centroid=e(97523),u.CircumCenter=e(24951),u.CircumCircle=e(85614),u.Clone=e(74422),u.Contains=e(10690),u.ContainsArray=e(48653),u.ContainsPoint=e(96006),u.CopyFrom=e(71326),u.Decompose=e(71694),u.Equals=e(33522),u.GetPoint=e(20437),u.GetPoints=e(80672),u.InCenter=e(39757),u.Perimeter=e(1376),u.Offset=e(13584),u.Random=e(90260),u.Rotate=e(52172),u.RotateAroundPoint=e(49907),u.RotateAroundXY=e(99614),h.exports=u},74457:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u,y){return{gameObject:e,enabled:!0,draggable:!1,dropZone:!1,cursor:!1,target:null,camera:null,hitArea:u,hitAreaCallback:y,hitAreaDebug:null,customHitArea:!1,localX:0,localY:0,dragState:0,dragStartX:0,dragStartY:0,dragStartXGlobal:0,dragStartYGlobal:0,dragStartCamera:null,dragX:0,dragY:0}};h.exports=S},84409:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u){return function(y,f,l,o){var s=e.getPixelAlpha(f,l,o.texture.key,o.frame.name);return s&&s>=u}};h.exports=S},7003:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(93301),f=e(50792),l=e(8214),o=e(8443),s=e(78970),a=e(85098),c=e(42515),r=e(36210),d=e(61340),v=e(85955),p=new u({initialize:function(x,E){this.game=x,this.scaleManager,this.canvas,this.config=E,this.enabled=!0,this.events=new f,this.isOver=!0,this.defaultCursor="",this.keyboard=E.inputKeyboard?new s(this):null,this.mouse=E.inputMouse?new a(this):null,this.touch=E.inputTouch?new r(this):null,this.pointers=[],this.pointersTotal=E.inputActivePointers;for(var w=0;w<=this.pointersTotal;w++){var C=new c(this,w);C.smoothFactor=E.inputSmoothFactor,this.pointers.push(C)}this.mousePointer=E.inputMouse?this.pointers[0]:null,this.activePointer=this.pointers[0],this.globalTopOnly=!0,this.time=0,this._tempPoint={x:0,y:0},this._tempHitTest=[],this._tempMatrix=new d,this._tempMatrix2=new d,this._tempSkip=!1,this.mousePointerContainer=[this.mousePointer],x.events.once(o.BOOT,this.boot,this)},boot:function(){var m=this.game,x=m.events;this.canvas=m.canvas,this.scaleManager=m.scale,this.events.emit(l.MANAGER_BOOT),x.on(o.PRE_RENDER,this.preRender,this),x.once(o.DESTROY,this.destroy,this)},setCanvasOver:function(m){this.isOver=!0,this.events.emit(l.GAME_OVER,m)},setCanvasOut:function(m){this.isOver=!1,this.events.emit(l.GAME_OUT,m)},preRender:function(){var m=this.game.loop.now,x=this.game.loop.delta,E=this.game.scene.getScenes(!0,!0);this.time=m,this.events.emit(l.MANAGER_UPDATE);for(var w=0;w<E.length;w++){var C=E[w];if(C.sys.input&&C.sys.input.updatePoll(m,x)&&this.globalTopOnly)return}},setDefaultCursor:function(m){this.defaultCursor=m,this.canvas.style.cursor!==m&&(this.canvas.style.cursor=m)},setCursor:function(m){m.cursor&&(this.canvas.style.cursor=m.cursor)},resetCursor:function(m,x){(x||m&&m.cursor)&&this.canvas&&(this.canvas.style.cursor=this.defaultCursor)},addPointer:function(m){m===void 0&&(m=1);var x=[];this.pointersTotal+m>10&&(m=10-this.pointersTotal);for(var E=0;E<m;E++){var w=this.pointers.length,C=new c(this,w);C.smoothFactor=this.config.inputSmoothFactor,this.pointers.push(C),this.pointersTotal++,x.push(C)}return x},updateInputPlugins:function(m,x){var E=this.game.scene.getScenes(!1,!0);this._tempSkip=!1;for(var w=0;w<E.length;w++){var C=E[w];if(C.sys.input){var P=C.sys.input.update(m,x);if(P&&this.globalTopOnly||this._tempSkip)return}}},onTouchStart:function(m){for(var x=this.pointers,E=[],w=0;w<m.changedTouches.length;w++)for(var C=m.changedTouches[w],P=1;P<x.length;P++){var R=x[P];if(!R.active){R.touchstart(C,m),this.activePointer=R,E.push(R);break}}this.updateInputPlugins(y.TOUCH_START,E)},onTouchMove:function(m){for(var x=this.pointers,E=[],w=0;w<m.changedTouches.length;w++)for(var C=m.changedTouches[w],P=1;P<x.length;P++){var R=x[P];if(R.active&&R.identifier===C.identifier){var M=document.elementFromPoint(C.clientX,C.clientY),I=M===this.canvas;!this.isOver&&I?this.setCanvasOver(m):this.isOver&&!I&&this.setCanvasOut(m),this.isOver&&(R.touchmove(C,m),this.activePointer=R,E.push(R));break}}this.updateInputPlugins(y.TOUCH_MOVE,E)},onTouchEnd:function(m){for(var x=this.pointers,E=[],w=0;w<m.changedTouches.length;w++)for(var C=m.changedTouches[w],P=1;P<x.length;P++){var R=x[P];if(R.active&&R.identifier===C.identifier){R.touchend(C,m),E.push(R);break}}this.updateInputPlugins(y.TOUCH_END,E)},onTouchCancel:function(m){for(var x=this.pointers,E=[],w=0;w<m.changedTouches.length;w++)for(var C=m.changedTouches[w],P=1;P<x.length;P++){var R=x[P];if(R.active&&R.identifier===C.identifier){R.touchcancel(C,m),E.push(R);break}}this.updateInputPlugins(y.TOUCH_CANCEL,E)},onMouseDown:function(m){var x=this.mousePointer;x.down(m),x.updateMotion(),this.activePointer=x,this.updateInputPlugins(y.MOUSE_DOWN,this.mousePointerContainer)},onMouseMove:function(m){var x=this.mousePointer;x.move(m),x.updateMotion(),this.activePointer=x,this.updateInputPlugins(y.MOUSE_MOVE,this.mousePointerContainer)},onMouseUp:function(m){var x=this.mousePointer;x.up(m),x.updateMotion(),this.activePointer=x,this.updateInputPlugins(y.MOUSE_UP,this.mousePointerContainer)},onMouseWheel:function(m){var x=this.mousePointer;x.wheel(m),this.activePointer=x,this.updateInputPlugins(y.MOUSE_WHEEL,this.mousePointerContainer)},onPointerLockChange:function(m){var x=this.mouse.locked;this.mousePointer.locked=x,this.events.emit(l.POINTERLOCK_CHANGE,m,x)},inputCandidate:function(m,x){var E=m.input;if(!E||!E.enabled||!m.willRender(x))return!1;var w=!0,C=m.parentContainer;if(C)do{if(!C.willRender(x)){w=!1;break}C=C.parentContainer}while(C);return w},hitTest:function(m,x,E,w){w===void 0&&(w=this._tempHitTest);var C=this._tempPoint,P=E.scrollX,R=E.scrollY;w.length=0;var M=m.x,I=m.y;E.getWorldPoint(M,I,C),m.worldX=C.x,m.worldY=C.y;for(var D={x:0,y:0},L=this._tempMatrix,F=this._tempMatrix2,O=0;O<x.length;O++){var N=x[O];if(this.inputCandidate(N,E)){var b=C.x+P*N.scrollFactorX-P,V=C.y+R*N.scrollFactorY-R;N.parentContainer?(N.getWorldTransformMatrix(L,F),L.applyInverse(b,V,D)):v(b,V,N.x,N.y,N.rotation,N.scaleX,N.scaleY,D),this.pointWithinHitArea(N,D.x,D.y)&&w.push(N)}}return w},pointWithinHitArea:function(m,x,E){x+=m.displayOriginX,E+=m.displayOriginY;var w=m.input;return w&&w.hitAreaCallback(w.hitArea,x,E,m)?(w.localX=x,w.localY=E,!0):!1},pointWithinInteractiveObject:function(m,x,E){return m.hitArea?(x+=m.gameObject.displayOriginX,E+=m.gameObject.displayOriginY,m.localX=x,m.localY=E,m.hitAreaCallback(m.hitArea,x,E,m)):!1},transformPointer:function(m,x,E,w){var C=m.position,P=m.prevPosition;P.x=C.x,P.y=C.y;var R=this.scaleManager.transformX(x),M=this.scaleManager.transformY(E),I=m.smoothFactor;!w||I===0?(C.x=R,C.y=M):(C.x=R*I+P.x*(1-I),C.y=M*I+P.y*(1-I))},destroy:function(){this.events.removeAllListeners(),this.game.events.off(o.PRE_RENDER),this.keyboard&&this.keyboard.destroy(),this.mouse&&this.mouse.destroy(),this.touch&&this.touch.destroy();for(var m=0;m<this.pointers.length;m++)this.pointers[m].destroy();this.pointers=[],this._tempHitTest=[],this._tempMatrix.destroy(),this.canvas=null,this.game=null}});h.exports=p},48205:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(96503),y=e(87902),f=e(83419),l=e(93301),o=e(74457),s=e(84409),a=e(20339),c=e(8497),r=e(81154),d=e(8214),v=e(50792),p=e(95540),m=e(23777),x=e(89639),E=e(41212),w=e(37277),C=e(87841),P=e(37303),R=e(44594),M=e(16483),I=e(10690),D=new f({Extends:v,initialize:function(F){v.call(this),this.scene=F,this.systems=F.sys,this.settings=F.sys.settings,this.manager=F.sys.game.input,this.pluginEvents=new v,this.enabled=!0,this.displayList,this.cameras,x.install(this),this.mouse=this.manager.mouse,this.topOnly=!0,this.pollRate=-1,this._pollTimer=0;var O={cancelled:!1};this._eventContainer={stopPropagation:function(){O.cancelled=!0}},this._eventData=O,this.dragDistanceThreshold=0,this.dragTimeThreshold=0,this._temp=[],this._tempZones=[],this._list=[],this._pendingInsertion=[],this._pendingRemoval=[],this._draggable=[],this._drag={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._dragState=[],this._over={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._validTypes=["onDown","onUp","onOver","onOut","onMove","onDragStart","onDrag","onDragEnd","onDragEnter","onDragLeave","onDragOver","onDrop"],this._updatedThisFrame=!1,F.sys.events.once(R.BOOT,this.boot,this),F.sys.events.on(R.START,this.start,this)},boot:function(){this.cameras=this.systems.cameras,this.displayList=this.systems.displayList,this.systems.events.once(R.DESTROY,this.destroy,this),this.pluginEvents.emit(d.BOOT)},start:function(){var L=this.systems.events;L.on(R.TRANSITION_START,this.transitionIn,this),L.on(R.TRANSITION_OUT,this.transitionOut,this),L.on(R.TRANSITION_COMPLETE,this.transitionComplete,this),L.on(R.PRE_UPDATE,this.preUpdate,this),L.once(R.SHUTDOWN,this.shutdown,this),this.manager.events.on(d.GAME_OUT,this.onGameOut,this),this.manager.events.on(d.GAME_OVER,this.onGameOver,this),this.enabled=!0,this._dragState=[0,0,0,0,0,0,0,0,0,0],this.pluginEvents.emit(d.START)},onGameOver:function(L){this.isActive()&&this.emit(d.GAME_OVER,L.timeStamp,L)},onGameOut:function(L){this.isActive()&&this.emit(d.GAME_OUT,L.timeStamp,L)},preUpdate:function(){this.pluginEvents.emit(d.PRE_UPDATE);var L=this._pendingRemoval,F=this._pendingInsertion,O=L.length,N=F.length;if(!(O===0&&N===0)){for(var b=this._list,V=0;V<O;V++){var Y=L[V],W=b.indexOf(Y);W>-1&&(b.splice(W,1),this.clear(Y,!0))}this._pendingRemoval.length=0,this._list=b.concat(F.splice(0))}},isActive:function(){return this.manager&&this.manager.enabled&&this.enabled&&this.scene.sys.canInput()},setCursor:function(L){this.manager&&this.manager.setCursor(L)},resetCursor:function(){this.manager&&this.manager.resetCursor(null,!0)},updatePoll:function(L,F){if(!this.isActive())return!1;if(this.pluginEvents.emit(d.UPDATE,L,F),this._updatedThisFrame)return this._updatedThisFrame=!1,!1;var O,N=this.manager,b=N.pointers;for(O=0;O<b.length;O++)b[O].updateMotion();if(this._list.length===0)return!1;var V=this.pollRate;if(V===-1)return!1;if(V>0)if(this._pollTimer-=F,this._pollTimer<0)this._pollTimer=this.pollRate;else return!1;var Y=!1;for(O=0;O<b.length;O++){var W=0,U=b[O];this._tempZones=[],this._temp=this.hitTestPointer(U),this.sortGameObjects(this._temp,U),this.sortDropZones(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),W+=this.processOverOutEvents(U),this.getDragState(U)===2&&this.processDragThresholdEvent(U,L),W>0&&(Y=!0)}return Y},update:function(L,F){if(!this.isActive())return!1;for(var O=!1,N=0;N<F.length;N++){var b=0,V=F[N];switch(this._tempZones=[],this._temp=this.hitTestPointer(V),this.sortGameObjects(this._temp,V),this.sortDropZones(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),L){case l.MOUSE_DOWN:b+=this.processDragDownEvent(V),b+=this.processDownEvents(V),b+=this.processOverOutEvents(V);break;case l.MOUSE_UP:b+=this.processDragUpEvent(V),b+=this.processUpEvents(V),b+=this.processOverOutEvents(V);break;case l.TOUCH_START:b+=this.processDragDownEvent(V),b+=this.processDownEvents(V),b+=this.processOverEvents(V);break;case l.TOUCH_END:case l.TOUCH_CANCEL:b+=this.processDragUpEvent(V),b+=this.processUpEvents(V),b+=this.processOutEvents(V);break;case l.MOUSE_MOVE:case l.TOUCH_MOVE:b+=this.processDragMoveEvent(V),b+=this.processMoveEvents(V),b+=this.processOverOutEvents(V);break;case l.MOUSE_WHEEL:b+=this.processWheelEvent(V);break}b>0&&(O=!0)}return this._updatedThisFrame=!0,O},clear:function(L,F){F===void 0&&(F=!1),this.disable(L);var O=L.input;O&&(this.removeDebug(L),this.manager.resetCursor(O),O.gameObject=void 0,O.target=void 0,O.hitArea=void 0,O.hitAreaCallback=void 0,O.callbackContext=void 0,L.input=null),F||this.queueForRemoval(L);var N=this._draggable.indexOf(L);return N>-1&&this._draggable.splice(N,1),L},disable:function(L,F){F===void 0&&(F=!1);var O=L.input;O&&(O.enabled=!1,O.dragState=0);for(var N=this._drag,b=this._over,V=this.manager,Y=0,W;Y<V.pointers.length;Y++)W=N[Y].indexOf(L),W>-1&&N[Y].splice(W,1),W=b[Y].indexOf(L),W>-1&&b[Y].splice(W,1);return F&&this.resetCursor(),this},enable:function(L,F,O,N){return N===void 0&&(N=!1),L.input?L.input.enabled=!0:this.setHitArea(L,F,O),L.input&&N&&!L.input.dropZone&&(L.input.dropZone=N),this},hitTestPointer:function(L){for(var F=this.cameras.getCamerasBelowPointer(L),O=0;O<F.length;O++){for(var N=F[O],b=this.manager.hitTest(L,this._list,N),V=0;V<b.length;V++){var Y=b[V];Y.input.dropZone&&this._tempZones.push(Y)}if(b.length>0)return L.camera=N,b}return L.camera=F[0],[]},processDownEvents:function(L){var F=0,O=this._temp,N=this._eventData,b=this._eventContainer;N.cancelled=!1;for(var V=0;V<O.length;V++){var Y=O[V];if(!(!Y.input||!Y.input.enabled)&&(F++,Y.emit(d.GAMEOBJECT_POINTER_DOWN,L,Y.input.localX,Y.input.localY,b),N.cancelled||!this.isActive()||Y.input&&Y.input.enabled&&(this.emit(d.GAMEOBJECT_DOWN,L,Y,b),N.cancelled||!this.isActive())))break}return!N.cancelled&&this.isActive()&&(L.downElement===this.manager.game.canvas?this.emit(d.POINTER_DOWN,L,O):this.emit(d.POINTER_DOWN_OUTSIDE,L)),F},getDragState:function(L){return this._dragState[L.id]},setDragState:function(L,F){this._dragState[L.id]=F},processDragThresholdEvent:function(L,F){var O=!1,N=this.dragTimeThreshold,b=this.dragDistanceThreshold;if((b>0&&a(L.x,L.y,L.downX,L.downY)>=b||N>0&&F>=L.downTime+N)&&(O=!0),O)return this.setDragState(L,3),this.processDragStartList(L)},processDragStartList:function(L){if(this.getDragState(L)!==3)return 0;var F=this._drag[L.id];F.length>1&&(F=F.slice(0));for(var O=0;O<F.length;O++){var N=F[O],b=N.input;b.dragState=2,b.dragStartX=N.x,b.dragStartY=N.y,b.dragStartXGlobal=L.worldX,b.dragStartYGlobal=L.worldY,b.dragStartCamera=L.camera,b.dragX=b.dragStartXGlobal-b.dragStartX,b.dragY=b.dragStartYGlobal-b.dragStartY,N.emit(d.GAMEOBJECT_DRAG_START,L,b.dragX,b.dragY),this.emit(d.DRAG_START,L,N)}return this.setDragState(L,4),F.length},processDragDownEvent:function(L){var F=this._temp;if(this._draggable.length===0||F.length===0||!L.primaryDown||this.getDragState(L)!==0)return 0;this.setDragState(L,1);for(var O=[],N=0;N<F.length;N++){var b=F[N];b.input.draggable&&b.input.dragState===0&&O.push(b)}return O.length===0?(this.setDragState(L,0),0):(O.length>1&&(this.sortGameObjects(O,L),this.topOnly&&O.splice(1)),this._drag[L.id]=O,this.dragDistanceThreshold===0&&this.dragTimeThreshold===0?(this.setDragState(L,3),this.processDragStartList(L)):(this.setDragState(L,2),0))},processDragMoveEvent:function(L){if(this.getDragState(L)===2&&this.processDragThresholdEvent(L,this.manager.game.loop.now),this.getDragState(L)!==4)return 0;var F=this._tempZones,O=this._drag[L.id];O.length>1&&(O=O.slice(0));for(var N=0;N<O.length;N++){var b=O[N],V=b.input,Y=V.target;if(Y){var W=F.indexOf(Y);W===0?(b.emit(d.GAMEOBJECT_DRAG_OVER,L,Y),this.emit(d.DRAG_OVER,L,b,Y)):W>0?(b.emit(d.GAMEOBJECT_DRAG_LEAVE,L,Y),this.emit(d.DRAG_LEAVE,L,b,Y),V.target=F[0],Y=V.target,b.emit(d.GAMEOBJECT_DRAG_ENTER,L,Y),this.emit(d.DRAG_ENTER,L,b,Y)):(b.emit(d.GAMEOBJECT_DRAG_LEAVE,L,Y),this.emit(d.DRAG_LEAVE,L,b,Y),F[0]?(V.target=F[0],Y=V.target,b.emit(d.GAMEOBJECT_DRAG_ENTER,L,Y),this.emit(d.DRAG_ENTER,L,b,Y)):V.target=null)}else!Y&&F[0]&&(V.target=F[0],Y=V.target,b.emit(d.GAMEOBJECT_DRAG_ENTER,L,Y),this.emit(d.DRAG_ENTER,L,b,Y));var U,z,B=L.positionToCamera(V.dragStartCamera);if(!b.parentContainer)U=B.x-V.dragX,z=B.y-V.dragY;else{var X=B.x-V.dragStartXGlobal,G=B.y-V.dragStartYGlobal,H=b.getParentRotation(),$=X*Math.cos(H)+G*Math.sin(H),k=G*Math.cos(H)-X*Math.sin(H);$*=1/b.parentContainer.scaleX,k*=1/b.parentContainer.scaleY,U=$+V.dragStartX,z=k+V.dragStartY}b.emit(d.GAMEOBJECT_DRAG,L,U,z),this.emit(d.DRAG,L,b,U,z)}return O.length},processDragUpEvent:function(L){var F=this._drag[L.id];F.length>1&&(F=F.slice(0));for(var O=0;O<F.length;O++){var N=F[O],b=N.input;if(b&&b.dragState===2){b.dragState=0,b.dragX=b.localX-N.displayOriginX,b.dragY=b.localY-N.displayOriginY,b.dragStartCamera=null;var V=!1,Y=b.target;Y&&(N.emit(d.GAMEOBJECT_DROP,L,Y),this.emit(d.DROP,L,N,Y),b.target=null,V=!0),N.input&&N.input.enabled&&(N.emit(d.GAMEOBJECT_DRAG_END,L,b.dragX,b.dragY,V),this.emit(d.DRAG_END,L,N,V))}}return this.setDragState(L,0),F.splice(0),0},processMoveEvents:function(L){var F=0,O=this._temp,N=this._eventData,b=this._eventContainer;N.cancelled=!1;for(var V=0;V<O.length;V++){var Y=O[V];if(!(!Y.input||!Y.input.enabled)&&(F++,Y.emit(d.GAMEOBJECT_POINTER_MOVE,L,Y.input.localX,Y.input.localY,b),N.cancelled||!this.isActive()||Y.input&&Y.input.enabled&&(this.emit(d.GAMEOBJECT_MOVE,L,Y,b),N.cancelled||!this.isActive()||this.topOnly)))break}return!N.cancelled&&this.isActive()&&this.emit(d.POINTER_MOVE,L,O),F},processWheelEvent:function(L){var F=0,O=this._temp,N=this._eventData,b=this._eventContainer;N.cancelled=!1;for(var V=L.deltaX,Y=L.deltaY,W=L.deltaZ,U=0;U<O.length;U++){var z=O[U];if(!(!z.input||!z.input.enabled)&&(F++,z.emit(d.GAMEOBJECT_POINTER_WHEEL,L,V,Y,W,b),N.cancelled||!this.isActive()||z.input&&z.input.enabled&&(this.emit(d.GAMEOBJECT_WHEEL,L,z,V,Y,W,b),N.cancelled||!this.isActive())))break}return!N.cancelled&&this.isActive()&&this.emit(d.POINTER_WHEEL,L,O,V,Y,W),F},processOverEvents:function(L){var F=this._temp,O=0,N=F.length,b=[];if(N>0){var V=this.manager,Y=this._eventData,W=this._eventContainer;Y.cancelled=!1;for(var U=0;U<N;U++){var z=F[U];if(!(!z.input||!z.input.enabled)&&(b.push(z),V.setCursor(z.input),z.emit(d.GAMEOBJECT_POINTER_OVER,L,z.input.localX,z.input.localY,W),O++,Y.cancelled||!this.isActive()||z.input&&z.input.enabled&&(this.emit(d.GAMEOBJECT_OVER,L,z,W),Y.cancelled||!this.isActive())))break}!Y.cancelled&&this.isActive()&&this.emit(d.POINTER_OVER,L,b)}return this._over[L.id]=b,O},processOutEvents:function(L){var F=this._over[L.id],O=0,N=F.length;if(N>0){var b=this.manager,V=this._eventData,Y=this._eventContainer;V.cancelled=!1,this.sortGameObjects(F,L);for(var W=0;W<N;W++){var U=F[W];if(U=F[W],!(!U.input||!U.input.enabled)&&(b.resetCursor(U.input),U.emit(d.GAMEOBJECT_POINTER_OUT,L,Y),O++,V.cancelled||!this.isActive()||U.input&&U.input.enabled&&(this.emit(d.GAMEOBJECT_OUT,L,U,Y),V.cancelled||!this.isActive())))break}!V.cancelled&&this.isActive()&&this.emit(d.POINTER_OUT,L,F),this._over[L.id]=[]}return O},processOverOutEvents:function(L){var F=this._temp,O,N,b=[],V=[],Y=[],W=this._over[L.id],U=this._drag[L.id],z=this.manager;for(O=0;O<W.length;O++)N=W[O],F.indexOf(N)===-1&&U.indexOf(N)===-1?b.push(N):Y.push(N);for(O=0;O<F.length;O++)N=F[O],W.indexOf(N)===-1&&V.push(N);var B=b.length,X=0,G=this._eventData,H=this._eventContainer;if(G.cancelled=!1,B>0){for(this.sortGameObjects(b,L),O=0;O<B&&(N=b[O],!(!(!N.input||!N.input.enabled)&&(z.resetCursor(N.input),N.emit(d.GAMEOBJECT_POINTER_OUT,L,H),X++,G.cancelled||!this.isActive()||N.input&&N.input.enabled&&(this.emit(d.GAMEOBJECT_OUT,L,N,H),G.cancelled||!this.isActive()))));O++);(!G.cancelled||this.isActive())&&this.emit(d.POINTER_OUT,L,b)}if(B=V.length,G.cancelled=!1,B>0){for(this.sortGameObjects(V,L),O=0;O<B&&(N=V[O],!(!(!N.input||!N.input.enabled)&&(z.setCursor(N.input),N.emit(d.GAMEOBJECT_POINTER_OVER,L,N.input.localX,N.input.localY,H),X++,G.cancelled||!this.isActive()||N.input&&N.input.enabled&&(this.emit(d.GAMEOBJECT_OVER,L,N,H),G.cancelled||!this.isActive()))));O++);!G.cancelled&&this.isActive()&&this.emit(d.POINTER_OVER,L,V)}return W=Y.concat(V),this._over[L.id]=this.sortGameObjects(W,L),X},processUpEvents:function(L){var F=this._temp,O=this._eventData,N=this._eventContainer;O.cancelled=!1;for(var b=0;b<F.length;b++){var V=F[b];if(!(!V.input||!V.input.enabled)&&(V.emit(d.GAMEOBJECT_POINTER_UP,L,V.input.localX,V.input.localY,N),O.cancelled||!this.isActive()||V.input&&V.input.enabled&&(this.emit(d.GAMEOBJECT_UP,L,V,N),O.cancelled||!this.isActive())))break}return!O.cancelled&&this.isActive()&&(L.upElement===this.manager.game.canvas?this.emit(d.POINTER_UP,L,F):this.emit(d.POINTER_UP_OUTSIDE,L)),F.length},forceDownState:function(L,F){this.forceState(L,F,d.GAMEOBJECT_POINTER_DOWN,d.GAMEOBJECT_DOWN,!1)},forceUpState:function(L,F){this.forceState(L,F,d.GAMEOBJECT_POINTER_UP,d.GAMEOBJECT_UP,!1)},forceOverState:function(L,F){this.forceState(L,F,d.GAMEOBJECT_POINTER_OVER,d.GAMEOBJECT_OVER,!0)},forceOutState:function(L,F){this.forceState(L,F,d.GAMEOBJECT_POINTER_OUT,d.GAMEOBJECT_OUT,!1)},forceState:function(L,F,O,N,b){var V=this._eventData,Y=this._eventContainer;V.cancelled=!1,F.input&&F.input.enabled&&(F.emit(O,L,F.input.localX,F.input.localY,Y),b&&this.setCursor(F.input),!V.cancelled&&this.isActive()&&F.input&&F.input.enabled&&this.emit(N,L,F,Y))},queueForInsertion:function(L){return this._pendingInsertion.indexOf(L)===-1&&this._list.indexOf(L)===-1&&this._pendingInsertion.push(L),this},queueForRemoval:function(L){return this._pendingRemoval.push(L),this},setDraggable:function(L,F){F===void 0&&(F=!0),Array.isArray(L)||(L=[L]);for(var O=0;O<L.length;O++){var N=L[O];N.input.draggable=F;var b=this._draggable.indexOf(N);F&&b===-1?this._draggable.push(N):!F&&b>-1&&this._draggable.splice(b,1)}return this},makePixelPerfect:function(L){L===void 0&&(L=1);var F=this.systems.textures;return s(F,L)},setHitArea:function(L,F,O){if(F===void 0)return this.setHitAreaFromTexture(L);Array.isArray(L)||(L=[L]);var N=!1,b=!1,V=!1,Y=!1,W=!1,U=!0;if(E(F)&&Object.keys(F).length){var z=F,B=L.some(function(k){return k.hasOwnProperty("faces")});if(!B){F=p(z,"hitArea",null),O=p(z,"hitAreaCallback",null),W=p(z,"pixelPerfect",!1);var X=p(z,"alphaTolerance",1);W&&(F={},O=this.makePixelPerfect(X))}N=p(z,"draggable",!1),b=p(z,"dropZone",!1),V=p(z,"cursor",!1),Y=p(z,"useHandCursor",!1),(!F||!O)&&(this.setHitAreaFromTexture(L),U=!1)}else typeof F=="function"&&!O&&(O=F,F={});for(var G=0;G<L.length;G++){var H=L[G];if(W&&H.type==="Container"){console.warn("Cannot pixelPerfect test a Container. Use a custom callback.");continue}var $=H.input?H.input:o(H,F,O);$.customHitArea=U,$.dropZone=b,$.cursor=Y?"pointer":V,H.input=$,N&&this.setDraggable(H),this.queueForInsertion(H)}return this},setHitAreaCircle:function(L,F,O,N,b){b===void 0&&(b=y);var V=new u(F,O,N);return this.setHitArea(L,V,b)},setHitAreaEllipse:function(L,F,O,N,b,V){V===void 0&&(V=r);var Y=new c(F,O,N,b);return this.setHitArea(L,Y,V)},setHitAreaFromTexture:function(L,F){F===void 0&&(F=P),Array.isArray(L)||(L=[L]);for(var O=0;O<L.length;O++){var N=L[O],b=N.frame,V=0,Y=0;if(N.width?(V=N.width,Y=N.height):b&&(V=b.realWidth,Y=b.realHeight),N.type==="Container"&&(V===0||Y===0)){console.warn("Container.setInteractive must specify a Shape or call setSize() first");continue}V!==0&&Y!==0&&(N.input=o(N,new C(0,0,V,Y),F),this.queueForInsertion(N))}return this},setHitAreaRectangle:function(L,F,O,N,b,V){V===void 0&&(V=P);var Y=new C(F,O,N,b);return this.setHitArea(L,Y,V)},setHitAreaTriangle:function(L,F,O,N,b,V,Y,W){W===void 0&&(W=I);var U=new M(F,O,N,b,V,Y);return this.setHitArea(L,U,W)},enableDebug:function(L,F){F===void 0&&(F=65280);var O=L.input;if(!O||!O.hitArea)return this;var N=O.hitArea,b=N.type,V=O.hitAreaDebug,Y=this.systems.add,W=this.systems.updateList;V&&(W.remove(V),V.destroy(),V=null);var U=0,z=0;switch(b){case m.CIRCLE:V=Y.arc(0,0,N.radius),U=N.x-N.radius,z=N.y-N.radius;break;case m.ELLIPSE:V=Y.ellipse(0,0,N.width,N.height),U=N.x-N.width/2,z=N.y-N.height/2;break;case m.LINE:V=Y.line(0,0,N.x1,N.y1,N.x2,N.y2);break;case m.POLYGON:V=Y.polygon(0,0,N.points);break;case m.RECTANGLE:V=Y.rectangle(0,0,N.width,N.height),U=N.x,z=N.y;break;case m.TRIANGLE:V=Y.triangle(0,0,N.x1,N.y1,N.x2,N.y2,N.x3,N.y3);break}return V&&(V.isFilled=!1,V.strokeColor=F,V.preUpdate=function(){V.setVisible(L.visible),V.setStrokeStyle(1/L.scale,V.strokeColor),V.setDisplayOrigin(L.displayOriginX,L.displayOriginY);var B=L.x,X=L.y,G=L.rotation,H=L.scaleX,$=L.scaleY;if(L.parentContainer){var k=L.getWorldTransformMatrix();B=k.tx,X=k.ty,G=k.rotation,H=k.scaleX,$=k.scaleY}V.setRotation(G),V.setScale(H,$),V.setPosition(B+U*H,X+z*$),V.setScrollFactor(L.scrollFactorX,L.scrollFactorY),V.setDepth(L.depth)},W.add(V),O.hitAreaDebug=V),this},removeDebug:function(L){var F=L.input;if(F&&F.hitAreaDebug){var O=F.hitAreaDebug;O.destroy(),F.hitAreaDebug=null}return this},setPollAlways:function(){return this.setPollRate(0)},setPollOnMove:function(){return this.setPollRate(-1)},setPollRate:function(L){return this.pollRate=L,this._pollTimer=0,this},setGlobalTopOnly:function(L){return this.manager.globalTopOnly=L,this},setTopOnly:function(L){return this.topOnly=L,this},sortGameObjects:function(L,F){if(L.length<2||!F.camera)return L;var O=F.camera.renderList;return L.sort(function(N,b){var V=Math.max(O.indexOf(N),0),Y=Math.max(O.indexOf(b),0);return Y-V})},sortDropZones:function(L){return L.length<2?L:(this.scene.sys.depthSort(),L.sort(this.sortDropZoneHandler.bind(this)))},sortDropZoneHandler:function(L,F){if(!L.parentContainer&&!F.parentContainer)return this.displayList.getIndex(F)-this.displayList.getIndex(L);if(L.parentContainer===F.parentContainer)return F.parentContainer.getIndex(F)-L.parentContainer.getIndex(L);if(L.parentContainer===F)return-1;if(F.parentContainer===L)return 1;for(var O=L.getIndexList(),N=F.getIndexList(),b=Math.min(O.length,N.length),V=0;V<b;V++){var Y=O[V],W=N[V];if(Y!==W)return W-Y}return N.length-O.length},stopPropagation:function(){return this.manager._tempSkip=!0,this},addPointer:function(L){return this.manager.addPointer(L)},setDefaultCursor:function(L){return this.manager.setDefaultCursor(L),this},transitionIn:function(){this.enabled=this.settings.transitionAllowInput},transitionComplete:function(){this.settings.transitionAllowInput||(this.enabled=!0)},transitionOut:function(){this.enabled=this.settings.transitionAllowInput},shutdown:function(){this.pluginEvents.emit(d.SHUTDOWN),this._temp.length=0,this._list.length=0,this._draggable.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0,this._dragState.length=0;for(var L=0;L<10;L++)this._drag[L]=[],this._over[L]=[];this.removeAllListeners();var F=this.manager;F.canvas.style.cursor=F.defaultCursor;var O=this.systems.events;O.off(R.TRANSITION_START,this.transitionIn,this),O.off(R.TRANSITION_OUT,this.transitionOut,this),O.off(R.TRANSITION_COMPLETE,this.transitionComplete,this),O.off(R.PRE_UPDATE,this.preUpdate,this),F.events.off(d.GAME_OUT,this.onGameOut,this),F.events.off(d.GAME_OVER,this.onGameOver,this),O.off(R.SHUTDOWN,this.shutdown,this)},resetPointers:function(){for(var L=this.manager.pointers,F=0;F<L.length;F++)L[F].reset()},destroy:function(){this.shutdown(),this.pluginEvents.emit(d.DESTROY),this.pluginEvents.removeAllListeners(),this.scene.sys.events.off(R.START,this.start,this),this.scene=null,this.cameras=null,this.manager=null,this.events=null,this.mouse=null},x:{get:function(){return this.manager.activePointer.x}},y:{get:function(){return this.manager.activePointer.y}},isOver:{get:function(){return this.manager.isOver}},mousePointer:{get:function(){return this.manager.mousePointer}},activePointer:{get:function(){return this.manager.activePointer}},pointer1:{get:function(){return this.manager.pointers[1]}},pointer2:{get:function(){return this.manager.pointers[2]}},pointer3:{get:function(){return this.manager.pointers[3]}},pointer4:{get:function(){return this.manager.pointers[4]}},pointer5:{get:function(){return this.manager.pointers[5]}},pointer6:{get:function(){return this.manager.pointers[6]}},pointer7:{get:function(){return this.manager.pointers[7]}},pointer8:{get:function(){return this.manager.pointers[8]}},pointer9:{get:function(){return this.manager.pointers[9]}},pointer10:{get:function(){return this.manager.pointers[10]}}});w.register("InputPlugin",D,"input"),h.exports=D},89639:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(35154),y={},f={};f.register=function(l,o,s,a,c){y[l]={plugin:o,mapping:s,settingsKey:a,configKey:c}},f.getPlugin=function(l){return y[l]},f.install=function(l){var o=l.scene.sys,s=o.settings.input,a=o.game.config;for(var c in y){var r=y[c].plugin,d=y[c].mapping,v=y[c].settingsKey,p=y[c].configKey;u(s,v,a[p])&&(l[d]=new r(l))}},f.remove=function(l){y.hasOwnProperty(l)&&delete y[l]},h.exports=f},42515:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(31040),y=e(83419),f=e(20339),l=e(43855),o=e(47235),s=e(26099),a=e(25892),c=new y({initialize:function(d,v){this.manager=d,this.id=v,this.event,this.downElement,this.upElement,this.camera=null,this.button=0,this.buttons=0,this.position=new s,this.prevPosition=new s,this.midPoint=new s(-1,-1),this.velocity=new s,this.angle=0,this.distance=0,this.smoothFactor=0,this.motionFactor=.2,this.worldX=0,this.worldY=0,this.moveTime=0,this.downX=0,this.downY=0,this.downTime=0,this.upX=0,this.upY=0,this.upTime=0,this.primaryDown=!1,this.isDown=!1,this.wasTouch=!1,this.wasCanceled=!1,this.movementX=0,this.movementY=0,this.identifier=0,this.pointerId=null,this.active=v===0,this.locked=!1,this.deltaX=0,this.deltaY=0,this.deltaZ=0},updateWorldPoint:function(r){var d=r.getWorldPoint(this.x,this.y);return this.worldX=d.x,this.worldY=d.y,this},positionToCamera:function(r,d){return r.getWorldPoint(this.x,this.y,d)},updateMotion:function(){var r=this.position.x,d=this.position.y,v=this.midPoint.x,p=this.midPoint.y;if(!(r===v&&d===p)){var m=o(this.motionFactor,v,r),x=o(this.motionFactor,p,d);l(m,r,.1)&&(m=r),l(x,d,.1)&&(x=d),this.midPoint.set(m,x);var E=r-m,w=d-x;this.velocity.set(E,w),this.angle=u(m,x,r,d),this.distance=Math.sqrt(E*E+w*w)}},up:function(r){"buttons"in r&&(this.buttons=r.buttons),this.event=r,this.button=r.button,this.upElement=r.target,this.manager.transformPointer(this,r.pageX,r.pageY,!1),r.button===0&&(this.primaryDown=!1,this.upX=this.x,this.upY=this.y),this.buttons===0&&(this.isDown=!1,this.upTime=r.timeStamp,this.wasTouch=!1)},down:function(r){"buttons"in r&&(this.buttons=r.buttons),this.event=r,this.button=r.button,this.downElement=r.target,this.manager.transformPointer(this,r.pageX,r.pageY,!1),r.button===0&&(this.primaryDown=!0,this.downX=this.x,this.downY=this.y),a.macOS&&r.ctrlKey&&(this.buttons=2,this.primaryDown=!1),this.isDown||(this.isDown=!0,this.downTime=r.timeStamp),this.wasTouch=!1},move:function(r){"buttons"in r&&(this.buttons=r.buttons),this.event=r,this.manager.transformPointer(this,r.pageX,r.pageY,!0),this.locked&&(this.movementX=r.movementX||r.mozMovementX||r.webkitMovementX||0,this.movementY=r.movementY||r.mozMovementY||r.webkitMovementY||0),this.moveTime=r.timeStamp,this.wasTouch=!1},wheel:function(r){"buttons"in r&&(this.buttons=r.buttons),this.event=r,this.manager.transformPointer(this,r.pageX,r.pageY,!1),this.deltaX=r.deltaX,this.deltaY=r.deltaY,this.deltaZ=r.deltaZ,this.wasTouch=!1},touchstart:function(r,d){r.pointerId&&(this.pointerId=r.pointerId),this.identifier=r.identifier,this.target=r.target,this.active=!0,this.buttons=1,this.event=d,this.downElement=r.target,this.manager.transformPointer(this,r.pageX,r.pageY,!1),this.primaryDown=!0,this.downX=this.x,this.downY=this.y,this.downTime=d.timeStamp,this.isDown=!0,this.wasTouch=!0,this.wasCanceled=!1,this.updateMotion()},touchmove:function(r,d){this.event=d,this.manager.transformPointer(this,r.pageX,r.pageY,!0),this.moveTime=d.timeStamp,this.wasTouch=!0,this.updateMotion()},touchend:function(r,d){this.buttons=0,this.event=d,this.upElement=r.target,this.manager.transformPointer(this,r.pageX,r.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=d.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!1,this.active=!1,this.updateMotion()},touchcancel:function(r,d){this.buttons=0,this.event=d,this.upElement=r.target,this.manager.transformPointer(this,r.pageX,r.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=d.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!0,this.active=!1},noButtonDown:function(){return this.buttons===0},leftButtonDown:function(){return!!(this.buttons&1)},rightButtonDown:function(){return!!(this.buttons&2)},middleButtonDown:function(){return!!(this.buttons&4)},backButtonDown:function(){return!!(this.buttons&8)},forwardButtonDown:function(){return!!(this.buttons&16)},leftButtonReleased:function(){return this.buttons===0?this.button===0&&!this.isDown:this.button===0},rightButtonReleased:function(){return this.buttons===0?this.button===2&&!this.isDown:this.button===2},middleButtonReleased:function(){return this.buttons===0?this.button===1&&!this.isDown:this.button===1},backButtonReleased:function(){return this.buttons===0?this.button===3&&!this.isDown:this.button===3},forwardButtonReleased:function(){return this.buttons===0?this.button===4&&!this.isDown:this.button===4},getDistance:function(){return this.isDown?f(this.downX,this.downY,this.x,this.y):f(this.downX,this.downY,this.upX,this.upY)},getDistanceX:function(){return this.isDown?Math.abs(this.downX-this.x):Math.abs(this.downX-this.upX)},getDistanceY:function(){return this.isDown?Math.abs(this.downY-this.y):Math.abs(this.downY-this.upY)},getDuration:function(){return this.isDown?this.manager.time-this.downTime:this.upTime-this.downTime},getAngle:function(){return this.isDown?u(this.downX,this.downY,this.x,this.y):u(this.downX,this.downY,this.upX,this.upY)},getInterpolatedPosition:function(r,d){r===void 0&&(r=10),d===void 0&&(d=[]);for(var v=this.prevPosition.x,p=this.prevPosition.y,m=this.position.x,x=this.position.y,E=0;E<r;E++){var w=1/r*E;d[E]={x:o(w,v,m),y:o(w,p,x)}}return d},reset:function(){this.event=null,this.downElement=null,this.upElement=null,this.button=0,this.buttons=0,this.position.set(0,0),this.prevPosition.set(0,0),this.midPoint.set(-1,-1),this.velocity.set(0,0),this.angle=0,this.distance=0,this.worldX=0,this.worldY=0,this.downX=0,this.downY=0,this.upX=0,this.upY=0,this.moveTime=0,this.upTime=0,this.downTime=0,this.primaryDown=!1,this.isDown=!1,this.wasTouch=!1,this.wasCanceled=!1,this.movementX=0,this.movementY=0,this.identifier=0,this.pointerId=null,this.deltaX=0,this.deltaY=0,this.deltaZ=0,this.active=this.id===0},destroy:function(){this.camera=null,this.manager=null,this.position=null},x:{get:function(){return this.position.x},set:function(r){this.position.x=r}},y:{get:function(){return this.position.y},set:function(r){this.position.y=r}},time:{get:function(){return this.event?this.event.timeStamp:0}}});h.exports=c},93301:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={MOUSE_DOWN:0,MOUSE_MOVE:1,MOUSE_UP:2,TOUCH_START:3,TOUCH_MOVE:4,TOUCH_END:5,POINTER_LOCK_CHANGE:6,TOUCH_CANCEL:7,MOUSE_WHEEL:8};h.exports=S},7179:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="boot"},85375:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="destroy"},39843:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="dragend"},23388:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="dragenter"},16133:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="drag"},27829:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="dragleave"},53904:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="dragover"},56058:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="dragstart"},2642:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="drop"},88171:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="gameobjectdown"},36147:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="dragend"},71692:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="dragenter"},96149:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="drag"},81285:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="dragleave"},74048:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="dragover"},21322:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="dragstart"},49378:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="drop"},86754:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="gameobjectmove"},86433:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="gameobjectout"},60709:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="gameobjectover"},24081:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="pointerdown"},11172:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="pointermove"},18907:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="pointerout"},95579:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="pointerover"},35368:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="pointerup"},26972:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="wheel"},47078:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="gameobjectup"},73802:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="gameobjectwheel"},56718:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="gameout"},25936:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="gameover"},27503:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="boot"},50852:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="process"},96438:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="update"},59152:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="pointerlockchange"},47777:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="pointerdown"},27957:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="pointerdownoutside"},19444:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="pointermove"},54251:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="pointerout"},18667:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="pointerover"},27192:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="pointerup"},24652:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="pointerupoutside"},45132:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="wheel"},44512:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="preupdate"},15757:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="shutdown"},41637:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="start"},93802:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="update"},8214:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={BOOT:e(7179),DESTROY:e(85375),DRAG_END:e(39843),DRAG_ENTER:e(23388),DRAG:e(16133),DRAG_LEAVE:e(27829),DRAG_OVER:e(53904),DRAG_START:e(56058),DROP:e(2642),GAME_OUT:e(56718),GAME_OVER:e(25936),GAMEOBJECT_DOWN:e(88171),GAMEOBJECT_DRAG_END:e(36147),GAMEOBJECT_DRAG_ENTER:e(71692),GAMEOBJECT_DRAG:e(96149),GAMEOBJECT_DRAG_LEAVE:e(81285),GAMEOBJECT_DRAG_OVER:e(74048),GAMEOBJECT_DRAG_START:e(21322),GAMEOBJECT_DROP:e(49378),GAMEOBJECT_MOVE:e(86754),GAMEOBJECT_OUT:e(86433),GAMEOBJECT_OVER:e(60709),GAMEOBJECT_POINTER_DOWN:e(24081),GAMEOBJECT_POINTER_MOVE:e(11172),GAMEOBJECT_POINTER_OUT:e(18907),GAMEOBJECT_POINTER_OVER:e(95579),GAMEOBJECT_POINTER_UP:e(35368),GAMEOBJECT_POINTER_WHEEL:e(26972),GAMEOBJECT_UP:e(47078),GAMEOBJECT_WHEEL:e(73802),MANAGER_BOOT:e(27503),MANAGER_PROCESS:e(50852),MANAGER_UPDATE:e(96438),POINTER_DOWN:e(47777),POINTER_DOWN_OUTSIDE:e(27957),POINTER_MOVE:e(19444),POINTER_OUT:e(54251),POINTER_OVER:e(18667),POINTER_UP:e(27192),POINTER_UP_OUTSIDE:e(24652),POINTER_WHEEL:e(45132),POINTERLOCK_CHANGE:e(59152),PRE_UPDATE:e(44512),SHUTDOWN:e(15757),START:e(41637),UPDATE:e(93802)}},97421:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=new u({initialize:function(l,o){this.pad=l,this.events=l.events,this.index=o,this.value=0,this.threshold=.1},update:function(f){this.value=f},getValue:function(){return Math.abs(this.value)<this.threshold?0:this.value},destroy:function(){this.pad=null,this.events=null}});h.exports=y},28884:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(92734),f=new u({initialize:function(o,s){this.pad=o,this.events=o.manager,this.index=s,this.value=0,this.threshold=1,this.pressed=!1},update:function(l){this.value=l;var o=this.pad,s=this.index;l>=this.threshold?this.pressed||(this.pressed=!0,this.events.emit(y.BUTTON_DOWN,o,this,l),this.pad.emit(y.GAMEPAD_BUTTON_DOWN,s,l,this)):this.pressed&&(this.pressed=!1,this.events.emit(y.BUTTON_UP,o,this,l),this.pad.emit(y.GAMEPAD_BUTTON_UP,s,l,this))},destroy:function(){this.pad=null,this.events=null}});h.exports=f},99125:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(97421),y=e(28884),f=e(83419),l=e(50792),o=e(26099),s=new f({Extends:l,initialize:function(c,r){l.call(this),this.manager=c,this.pad=r,this.id=r.id,this.index=r.index;for(var d=[],v=0;v<r.buttons.length;v++)d.push(new y(this,v));this.buttons=d;var p=[];for(v=0;v<r.axes.length;v++)p.push(new u(this,v));this.axes=p,this.vibration=r.vibrationActuator;var m={value:0,pressed:!1};this._LCLeft=d[14]?d[14]:m,this._LCRight=d[15]?d[15]:m,this._LCTop=d[12]?d[12]:m,this._LCBottom=d[13]?d[13]:m,this._RCLeft=d[2]?d[2]:m,this._RCRight=d[1]?d[1]:m,this._RCTop=d[3]?d[3]:m,this._RCBottom=d[0]?d[0]:m,this._FBLeftTop=d[4]?d[4]:m,this._FBLeftBottom=d[6]?d[6]:m,this._FBRightTop=d[5]?d[5]:m,this._FBRightBottom=d[7]?d[7]:m;var x={value:0};this._HAxisLeft=p[0]?p[0]:x,this._VAxisLeft=p[1]?p[1]:x,this._HAxisRight=p[2]?p[2]:x,this._VAxisRight=p[3]?p[3]:x,this.leftStick=new o,this.rightStick=new o,this._created=performance.now()},getAxisTotal:function(){return this.axes.length},getAxisValue:function(a){return this.axes[a].getValue()},setAxisThreshold:function(a){for(var c=0;c<this.axes.length;c++)this.axes[c].threshold=a},getButtonTotal:function(){return this.buttons.length},getButtonValue:function(a){return this.buttons[a].value},isButtonDown:function(a){return this.buttons[a].pressed},update:function(a){if(!(a.timestamp<this._created)){var c,r=this.buttons,d=a.buttons,v=r.length;for(c=0;c<v;c++)r[c].update(d[c].value);var p=this.axes,m=a.axes;for(v=p.length,c=0;c<v;c++)p[c].update(m[c]);v>=2&&(this.leftStick.set(p[0].getValue(),p[1].getValue()),v>=4&&this.rightStick.set(p[2].getValue(),p[3].getValue()))}},destroy:function(){this.removeAllListeners(),this.manager=null,this.pad=null;var a;for(a=0;a<this.buttons.length;a++)this.buttons[a].destroy();for(a=0;a<this.axes.length;a++)this.axes[a].destroy();this.buttons=[],this.axes=[]},connected:{get:function(){return this.pad.connected}},timestamp:{get:function(){return this.pad.timestamp}},left:{get:function(){return this._LCLeft.pressed}},right:{get:function(){return this._LCRight.pressed}},up:{get:function(){return this._LCTop.pressed}},down:{get:function(){return this._LCBottom.pressed}},A:{get:function(){return this._RCBottom.pressed}},Y:{get:function(){return this._RCTop.pressed}},X:{get:function(){return this._RCLeft.pressed}},B:{get:function(){return this._RCRight.pressed}},L1:{get:function(){return this._FBLeftTop.value}},L2:{get:function(){return this._FBLeftBottom.value}},R1:{get:function(){return this._FBRightTop.value}},R2:{get:function(){return this._FBRightBottom.value}}});h.exports=s},56654:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(50792),f=e(92734),l=e(99125),o=e(35154),s=e(89639),a=e(8214),c=new u({Extends:y,initialize:function(d){y.call(this),this.scene=d.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=d,this.enabled=!0,this.target,this.gamepads=[],this.queue=[],this.onGamepadHandler,this._pad1,this._pad2,this._pad3,this._pad4,d.pluginEvents.once(a.BOOT,this.boot,this),d.pluginEvents.on(a.START,this.start,this)},boot:function(){var r=this.scene.sys.game,d=this.settings.input,v=r.config;this.enabled=o(d,"gamepad",v.inputGamepad)&&r.device.input.gamepads,this.target=o(d,"gamepad.target",v.inputGamepadEventTarget),this.sceneInputPlugin.pluginEvents.once(a.DESTROY,this.destroy,this)},start:function(){this.enabled&&(this.startListeners(),this.refreshPads()),this.sceneInputPlugin.pluginEvents.once(a.SHUTDOWN,this.shutdown,this)},isActive:function(){return this.enabled&&this.scene.sys.isActive()},startListeners:function(){var r=this,d=this.target,v=function(p){p.defaultPrevented||!r.isActive()||(r.refreshPads(),r.queue.push(p))};this.onGamepadHandler=v,d.addEventListener("gamepadconnected",v,!1),d.addEventListener("gamepaddisconnected",v,!1),this.sceneInputPlugin.pluginEvents.on(a.UPDATE,this.update,this)},stopListeners:function(){this.target.removeEventListener("gamepadconnected",this.onGamepadHandler),this.target.removeEventListener("gamepaddisconnected",this.onGamepadHandler),this.sceneInputPlugin.pluginEvents.off(a.UPDATE,this.update);for(var r=0;r<this.gamepads.length;r++)this.gamepads[r].removeAllListeners()},disconnectAll:function(){for(var r=0;r<this.gamepads.length;r++)this.gamepads[r].pad.connected=!1},refreshPads:function(){var r=navigator.getGamepads();if(!r)this.disconnectAll();else for(var d=this.gamepads,v=0;v<r.length;v++){var p=r[v];if(p){var m=p.id,x=p.index,E=d[x];if(E)E.id!==m?(E.destroy(),d[x]=new l(this,p)):E.update(p);else{var w=new l(this,p);d[x]=w,this._pad1?this._pad2?this._pad3?this._pad4||(this._pad4=w):this._pad3=w:this._pad2=w:this._pad1=w}}}},getAll:function(){for(var r=[],d=this.gamepads,v=0;v<d.length;v++)d[v]&&r.push(d[v]);return r},getPad:function(r){for(var d=this.gamepads,v=0;v<d.length;v++)if(d[v]&&d[v].index===r)return d[v]},update:function(){if(this.enabled){this.refreshPads();var r=this.queue.length;if(r!==0)for(var d=this.queue.splice(0,r),v=0;v<r;v++){var p=d[v],m=this.getPad(p.gamepad.index);p.type==="gamepadconnected"?this.emit(f.CONNECTED,m,p):p.type==="gamepaddisconnected"&&this.emit(f.DISCONNECTED,m,p)}}},shutdown:function(){this.stopListeners(),this.removeAllListeners()},destroy:function(){this.shutdown();for(var r=0;r<this.gamepads.length;r++)this.gamepads[r]&&this.gamepads[r].destroy();this.gamepads=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.target=null},total:{get:function(){return this.gamepads.length}},pad1:{get:function(){return this._pad1}},pad2:{get:function(){return this._pad2}},pad3:{get:function(){return this._pad3}},pad4:{get:function(){return this._pad4}}});s.register("GamepadPlugin",c,"gamepad","gamepad","inputGamepad"),h.exports=c},89651:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SELECT:8,START:9,B:0,A:1,Y:2,X:3,LEFT_SHOULDER:4,RIGHT_SHOULDER:5}},65294:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SHARE:8,OPTIONS:9,PS:16,TOUCHBAR:17,X:0,CIRCLE:1,SQUARE:2,TRIANGLE:3,L1:4,R1:5,L2:6,R2:7,L3:10,R3:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},90089:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,MENU:16,A:0,B:1,X:2,Y:3,LB:4,RB:5,LT:6,RT:7,BACK:8,START:9,LS:10,RS:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},64894:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={DUALSHOCK_4:e(65294),SNES_USB:e(89651),XBOX_360:e(90089)}},46008:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="down"},7629:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="up"},42206:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="connected"},86544:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="disconnected"},94784:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="down"},14325:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="up"},92734:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={BUTTON_DOWN:e(46008),BUTTON_UP:e(7629),CONNECTED:e(42206),DISCONNECTED:e(86544),GAMEPAD_BUTTON_DOWN:e(94784),GAMEPAD_BUTTON_UP:e(14325)}},48646:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={Axis:e(97421),Button:e(28884),Events:e(92734),Gamepad:e(99125),GamepadPlugin:e(56654),Configs:e(64894)}},14350:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(93301),y=e(79291),f={CreatePixelPerfectHandler:e(84409),CreateInteractiveObject:e(74457),Events:e(8214),Gamepad:e(48646),InputManager:e(7003),InputPlugin:e(48205),InputPluginCache:e(89639),Keyboard:e(51442),Mouse:e(87078),Pointer:e(42515),Touch:e(95618)};f=y(!1,f,u),h.exports=f},78970:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(72905),y=e(83419),f=e(8443),l=e(8214),o=e(46032),s=e(29747),a=new y({initialize:function(r){this.manager=r,this.queue=[],this.preventDefault=!0,this.captures=[],this.enabled=!1,this.target,this.onKeyDown=s,this.onKeyUp=s,r.events.once(l.MANAGER_BOOT,this.boot,this)},boot:function(){var c=this.manager.config;this.enabled=c.inputKeyboard,this.target=c.inputKeyboardEventTarget,this.addCapture(c.inputKeyboardCapture),!this.target&&window&&(this.target=window),this.enabled&&this.target&&this.startListeners(),this.manager.game.events.on(f.POST_STEP,this.postUpdate,this)},startListeners:function(){var c=this;this.onKeyDown=function(d){if(!(d.defaultPrevented||!c.enabled||!c.manager)){c.queue.push(d),c.manager.events.emit(l.MANAGER_PROCESS);var v=d.altKey||d.ctrlKey||d.shiftKey||d.metaKey;c.preventDefault&&!v&&c.captures.indexOf(d.keyCode)>-1&&d.preventDefault()}},this.onKeyUp=function(d){if(!(d.defaultPrevented||!c.enabled||!c.manager)){c.queue.push(d),c.manager.events.emit(l.MANAGER_PROCESS);var v=d.altKey||d.ctrlKey||d.shiftKey||d.metaKey;c.preventDefault&&!v&&c.captures.indexOf(d.keyCode)>-1&&d.preventDefault()}};var r=this.target;r&&(r.addEventListener("keydown",this.onKeyDown,!1),r.addEventListener("keyup",this.onKeyUp,!1),this.enabled=!0)},stopListeners:function(){var c=this.target;c.removeEventListener("keydown",this.onKeyDown,!1),c.removeEventListener("keyup",this.onKeyUp,!1),this.enabled=!1},postUpdate:function(){this.queue=[]},addCapture:function(c){typeof c=="string"&&(c=c.split(",")),Array.isArray(c)||(c=[c]);for(var r=this.captures,d=0;d<c.length;d++){var v=c[d];typeof v=="string"&&(v=o[v.trim().toUpperCase()]),r.indexOf(v)===-1&&r.push(v)}this.preventDefault=r.length>0},removeCapture:function(c){typeof c=="string"&&(c=c.split(",")),Array.isArray(c)||(c=[c]);for(var r=this.captures,d=0;d<c.length;d++){var v=c[d];typeof v=="string"&&(v=o[v.toUpperCase()]),u(r,v)}this.preventDefault=r.length>0},clearCaptures:function(){this.captures=[],this.preventDefault=!1},destroy:function(){this.stopListeners(),this.clearCaptures(),this.queue=[],this.manager.game.events.off(f.POST_RENDER,this.postUpdate,this),this.target=null,this.enabled=!1,this.manager=null}});h.exports=a},28846:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(50792),f=e(95922),l=e(8443),o=e(35154),s=e(8214),a=e(89639),c=e(30472),r=e(46032),d=e(87960),v=e(74600),p=e(44594),m=e(56583),x=new u({Extends:y,initialize:function(w){y.call(this),this.game=w.systems.game,this.scene=w.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=w,this.manager=w.manager.keyboard,this.enabled=!0,this.keys=[],this.combos=[],this.prevCode=null,this.prevTime=0,this.prevType=null,w.pluginEvents.once(s.BOOT,this.boot,this),w.pluginEvents.on(s.START,this.start,this)},boot:function(){var E=this.settings.input;this.enabled=o(E,"keyboard",!0);var w=o(E,"keyboard.capture",null);w&&this.addCaptures(w),this.sceneInputPlugin.pluginEvents.once(s.DESTROY,this.destroy,this)},start:function(){this.sceneInputPlugin.manager.events.on(s.MANAGER_PROCESS,this.update,this),this.sceneInputPlugin.pluginEvents.once(s.SHUTDOWN,this.shutdown,this),this.game.events.on(l.BLUR,this.resetKeys,this),this.scene.sys.events.on(p.PAUSE,this.resetKeys,this),this.scene.sys.events.on(p.SLEEP,this.resetKeys,this)},isActive:function(){return this.enabled&&this.scene.sys.canInput()},addCapture:function(E){return this.manager.addCapture(E),this},removeCapture:function(E){return this.manager.removeCapture(E),this},getCaptures:function(){return this.manager.captures},enableGlobalCapture:function(){return this.manager.preventDefault=!0,this},disableGlobalCapture:function(){return this.manager.preventDefault=!1,this},clearCaptures:function(){return this.manager.clearCaptures(),this},createCursorKeys:function(){return this.addKeys({up:r.UP,down:r.DOWN,left:r.LEFT,right:r.RIGHT,space:r.SPACE,shift:r.SHIFT})},addKeys:function(E,w,C){w===void 0&&(w=!0),C===void 0&&(C=!1);var P={};if(typeof E=="string"){E=E.split(",");for(var R=0;R<E.length;R++){var M=E[R].trim();M&&(P[M]=this.addKey(M,w,C))}}else for(var I in E)P[I]=this.addKey(E[I],w,C);return P},addKey:function(E,w,C){w===void 0&&(w=!0),C===void 0&&(C=!1);var P=this.keys;if(E instanceof c){var R=P.indexOf(E);return R>-1?P[R]=E:P[E.keyCode]=E,w&&this.addCapture(E.keyCode),E.setEmitOnRepeat(C),E}return typeof E=="string"&&(E=r[E.toUpperCase()]),P[E]||(P[E]=new c(this,E),w&&this.addCapture(E),P[E].setEmitOnRepeat(C)),P[E]},removeKey:function(E,w,C){w===void 0&&(w=!1),C===void 0&&(C=!1);var P=this.keys,R;if(E instanceof c){var M=P.indexOf(E);M>-1&&(R=this.keys[M],this.keys[M]=void 0)}else typeof E=="string"&&(E=r[E.toUpperCase()]);return P[E]&&(R=P[E],P[E]=void 0),R&&(R.plugin=null,C&&this.removeCapture(R.keyCode),w&&R.destroy()),this},removeAllKeys:function(E,w){E===void 0&&(E=!1),w===void 0&&(w=!1);for(var C=this.keys,P=0;P<C.length;P++){var R=C[P];R&&(C[P]=void 0,w&&this.removeCapture(R.keyCode),E&&R.destroy())}return this},createCombo:function(E,w){return new d(this,E,w)},checkDown:function(E,w){if(w===void 0&&(w=0),this.enabled&&E.isDown){var C=m(this.time-E.timeDown,w);if(C>E._tick)return E._tick=C,!0}return!1},update:function(){var E=this.manager.queue,w=E.length;if(!(!this.isActive()||w===0))for(var C=this.keys,P=0;P<w;P++){var R=E[P],M=R.keyCode,I=C[M],D=!1;R.cancelled===void 0&&(R.cancelled=0,R.stopImmediatePropagation=function(){R.cancelled=1},R.stopPropagation=function(){R.cancelled=-1}),R.cancelled!==-1&&(M===this.prevCode&&R.timeStamp===this.prevTime&&R.type===this.prevType||(this.prevCode=M,this.prevTime=R.timeStamp,this.prevType=R.type,R.type==="keydown"?(I&&(D=I.isDown,I.onDown(R)),!R.cancelled&&(!I||!D)&&(v[M]&&this.emit(f.KEY_DOWN+v[M],R),R.cancelled||this.emit(f.ANY_KEY_DOWN,R))):(I&&I.onUp(R),R.cancelled||(v[M]&&this.emit(f.KEY_UP+v[M],R),R.cancelled||this.emit(f.ANY_KEY_UP,R))),R.cancelled===1&&(R.cancelled=0)))}},resetKeys:function(){for(var E=this.keys,w=0;w<E.length;w++)E[w]&&E[w].reset();return this},shutdown:function(){this.removeAllKeys(!0),this.removeAllListeners(),this.sceneInputPlugin.manager.events.off(s.MANAGER_PROCESS,this.update,this),this.game.events.off(l.BLUR,this.resetKeys),this.scene.sys.events.off(p.PAUSE,this.resetKeys,this),this.scene.sys.events.off(p.SLEEP,this.resetKeys,this),this.queue=[]},destroy:function(){this.shutdown();for(var E=this.keys,w=0;w<E.length;w++)E[w]&&E[w].destroy();this.keys=[],this.combos=[],this.queue=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.manager=null},time:{get:function(){return this.sceneInputPlugin.manager.time}}});a.register("KeyboardPlugin",x,"keyboard","keyboard","inputKeyboard"),h.exports=x},66970:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u){return u.timeLastMatched=e.timeStamp,u.index++,u.index===u.size?!0:(u.current=u.keyCodes[u.index],!1)};h.exports=S},87960:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(95922),f=e(95540),l=e(68769),o=e(92803),s=new u({initialize:function(c,r,d){if(d===void 0&&(d={}),r.length<2)return!1;this.manager=c,this.enabled=!0,this.keyCodes=[];for(var v=0;v<r.length;v++){var p=r[v];typeof p=="string"?this.keyCodes.push(p.toUpperCase().charCodeAt(0)):typeof p=="number"?this.keyCodes.push(p):p.hasOwnProperty("keyCode")&&this.keyCodes.push(p.keyCode)}this.current=this.keyCodes[0],this.index=0,this.size=this.keyCodes.length,this.timeLastMatched=0,this.matched=!1,this.timeMatched=0,this.resetOnWrongKey=f(d,"resetOnWrongKey",!0),this.maxKeyDelay=f(d,"maxKeyDelay",0),this.resetOnMatch=f(d,"resetOnMatch",!1),this.deleteOnMatch=f(d,"deleteOnMatch",!1);var m=this,x=function(E){if(!(m.matched||!m.enabled)){var w=l(E,m);w&&(m.manager.emit(y.COMBO_MATCH,m,E),m.resetOnMatch?o(m):m.deleteOnMatch&&m.destroy())}};this.onKeyDown=x,this.manager.on(y.ANY_KEY_DOWN,this.onKeyDown)},progress:{get:function(){return this.index/this.size}},destroy:function(){this.enabled=!1,this.keyCodes=[],this.manager.off(y.ANY_KEY_DOWN,this.onKeyDown),this.manager=null}});h.exports=s},68769:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(66970),y=function(f,l){if(l.matched)return!0;var o=!1,s=!1;if(f.keyCode===l.current)if(l.index>0&&l.maxKeyDelay>0){var a=l.timeLastMatched+l.maxKeyDelay;f.timeStamp<=a&&(s=!0,o=u(f,l))}else s=!0,o=u(f,l);return!s&&l.resetOnWrongKey&&(l.index=0,l.current=l.keyCodes[0]),o&&(l.timeLastMatched=f.timeStamp,l.matched=!0,l.timeMatched=f.timeStamp),o};h.exports=y},92803:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e){return e.current=e.keyCodes[0],e.index=0,e.timeLastMatched=0,e.matched=!1,e.timeMatched=0,e};h.exports=S},92612:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="keydown"},23345:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="keyup"},21957:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="keycombomatch"},44743:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="down"},3771:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="keydown-"},46358:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="keyup-"},75674:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="up"},95922:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={ANY_KEY_DOWN:e(92612),ANY_KEY_UP:e(23345),COMBO_MATCH:e(21957),DOWN:e(44743),KEY_DOWN:e(3771),KEY_UP:e(46358),UP:e(75674)}},51442:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={Events:e(95922),KeyboardManager:e(78970),KeyboardPlugin:e(28846),Key:e(30472),KeyCodes:e(46032),KeyCombo:e(87960),AdvanceKeyCombo:e(66970),ProcessKeyCombo:e(68769),ResetKeyCombo:e(92803),JustDown:e(90229),JustUp:e(38796),DownDuration:e(37015),UpDuration:e(41170)}},37015:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u){u===void 0&&(u=50);var y=e.plugin.game.loop.time-e.timeDown;return e.isDown&&y<u};h.exports=S},90229:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e){return e._justDown?(e._justDown=!1,!0):!1};h.exports=S},38796:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e){return e._justUp?(e._justUp=!1,!0):!1};h.exports=S},30472:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(50792),f=e(95922),l=new u({Extends:y,initialize:function(s,a){y.call(this),this.plugin=s,this.keyCode=a,this.originalEvent=void 0,this.enabled=!0,this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.location=0,this.timeDown=0,this.duration=0,this.timeUp=0,this.emitOnRepeat=!1,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1},setEmitOnRepeat:function(o){return this.emitOnRepeat=o,this},onDown:function(o){this.originalEvent=o,this.enabled&&(this.altKey=o.altKey,this.ctrlKey=o.ctrlKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.location=o.location,this.repeats++,this.isDown?this.emitOnRepeat&&this.emit(f.DOWN,this,o):(this.isDown=!0,this.isUp=!1,this.timeDown=o.timeStamp,this.duration=0,this._justDown=!0,this._justUp=!1,this.emit(f.DOWN,this,o)))},onUp:function(o){this.originalEvent=o,this.enabled&&(this.isDown=!1,this.isUp=!0,this.timeUp=o.timeStamp,this.duration=this.timeUp-this.timeDown,this.repeats=0,this._justDown=!1,this._justUp=!0,this._tick=-1,this.emit(f.UP,this,o))},reset:function(){return this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.timeDown=0,this.duration=0,this.timeUp=0,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1,this},getDuration:function(){return this.isDown?this.plugin.game.loop.time-this.timeDown:0},destroy:function(){this.removeAllListeners(),this.originalEvent=null,this.plugin=null}});h.exports=l},46032:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:42,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,NUMPAD_ZERO:96,NUMPAD_ONE:97,NUMPAD_TWO:98,NUMPAD_THREE:99,NUMPAD_FOUR:100,NUMPAD_FIVE:101,NUMPAD_SIX:102,NUMPAD_SEVEN:103,NUMPAD_EIGHT:104,NUMPAD_NINE:105,NUMPAD_ADD:107,NUMPAD_SUBTRACT:109,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,SEMICOLON:186,PLUS:187,COMMA:188,MINUS:189,PERIOD:190,FORWARD_SLASH:191,BACK_SLASH:220,QUOTES:222,BACKTICK:192,OPEN_BRACKET:219,CLOSED_BRACKET:221,SEMICOLON_FIREFOX:59,COLON:58,COMMA_FIREFOX_WINDOWS:60,COMMA_FIREFOX:62,BRACKET_RIGHT_FIREFOX:174,BRACKET_LEFT_FIREFOX:175};h.exports=S},74600:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(46032),y={};for(var f in u)y[u[f]]=f;h.exports=y},41170:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u){u===void 0&&(u=50);var y=e.plugin.game.loop.time-e.timeUp;return e.isUp&&y<u};h.exports=S},85098:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(89357),f=e(8214),l=e(29747),o=new u({initialize:function(a){this.manager=a,this.preventDefaultDown=!0,this.preventDefaultUp=!0,this.preventDefaultMove=!0,this.preventDefaultWheel=!1,this.enabled=!1,this.target,this.locked=!1,this.onMouseMove=l,this.onMouseDown=l,this.onMouseUp=l,this.onMouseDownWindow=l,this.onMouseUpWindow=l,this.onMouseOver=l,this.onMouseOut=l,this.onMouseWheel=l,this.pointerLockChange=l,this.isTop=!0,a.events.once(f.MANAGER_BOOT,this.boot,this)},boot:function(){var s=this.manager.config;this.enabled=s.inputMouse,this.target=s.inputMouseEventTarget,this.passive=s.inputMousePassive,this.preventDefaultDown=s.inputMousePreventDefaultDown,this.preventDefaultUp=s.inputMousePreventDefaultUp,this.preventDefaultMove=s.inputMousePreventDefaultMove,this.preventDefaultWheel=s.inputMousePreventDefaultWheel,this.target?typeof this.target=="string"&&(this.target=document.getElementById(this.target)):this.target=this.manager.game.canvas,s.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return this.target.addEventListener("contextmenu",function(s){return s.preventDefault(),!1}),this},requestPointerLock:function(){if(y.pointerLock){var s=this.target;s.requestPointerLock=s.requestPointerLock||s.mozRequestPointerLock||s.webkitRequestPointerLock,s.requestPointerLock()}},releasePointerLock:function(){y.pointerLock&&(document.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock,document.exitPointerLock())},startListeners:function(){var s=this.target;if(s){var a=this,c=this.manager,r=c.canvas,d=window&&window.focus&&c.game.config.autoFocus;this.onMouseMove=function(p){!p.defaultPrevented&&a.enabled&&c&&c.enabled&&(c.onMouseMove(p),a.preventDefaultMove&&p.preventDefault())},this.onMouseDown=function(p){d&&window.focus(),!p.defaultPrevented&&a.enabled&&c&&c.enabled&&(c.onMouseDown(p),a.preventDefaultDown&&p.target===r&&p.preventDefault())},this.onMouseDownWindow=function(p){p.sourceCapabilities&&p.sourceCapabilities.firesTouchEvents||!p.defaultPrevented&&a.enabled&&c&&c.enabled&&p.target!==r&&c.onMouseDown(p)},this.onMouseUp=function(p){!p.defaultPrevented&&a.enabled&&c&&c.enabled&&(c.onMouseUp(p),a.preventDefaultUp&&p.target===r&&p.preventDefault())},this.onMouseUpWindow=function(p){p.sourceCapabilities&&p.sourceCapabilities.firesTouchEvents||!p.defaultPrevented&&a.enabled&&c&&c.enabled&&p.target!==r&&c.onMouseUp(p)},this.onMouseOver=function(p){!p.defaultPrevented&&a.enabled&&c&&c.enabled&&c.setCanvasOver(p)},this.onMouseOut=function(p){!p.defaultPrevented&&a.enabled&&c&&c.enabled&&c.setCanvasOut(p)},this.onMouseWheel=function(p){!p.defaultPrevented&&a.enabled&&c&&c.enabled&&c.onMouseWheel(p),a.preventDefaultWheel&&p.target===r&&p.preventDefault()};var v={passive:!0};if(s.addEventListener("mousemove",this.onMouseMove),s.addEventListener("mousedown",this.onMouseDown),s.addEventListener("mouseup",this.onMouseUp),s.addEventListener("mouseover",this.onMouseOver,v),s.addEventListener("mouseout",this.onMouseOut,v),this.preventDefaultWheel?s.addEventListener("wheel",this.onMouseWheel,{passive:!1}):s.addEventListener("wheel",this.onMouseWheel,v),window&&c.game.config.inputWindowEvents)try{window.top.addEventListener("mousedown",this.onMouseDownWindow,v),window.top.addEventListener("mouseup",this.onMouseUpWindow,v)}catch{window.addEventListener("mousedown",this.onMouseDownWindow,v),window.addEventListener("mouseup",this.onMouseUpWindow,v),this.isTop=!1}y.pointerLock&&(this.pointerLockChange=function(p){var m=a.target;a.locked=document.pointerLockElement===m||document.mozPointerLockElement===m||document.webkitPointerLockElement===m,c.onPointerLockChange(p)},document.addEventListener("pointerlockchange",this.pointerLockChange,!0),document.addEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.addEventListener("webkitpointerlockchange",this.pointerLockChange,!0)),this.enabled=!0}},stopListeners:function(){var s=this.target;s.removeEventListener("mousemove",this.onMouseMove),s.removeEventListener("mousedown",this.onMouseDown),s.removeEventListener("mouseup",this.onMouseUp),s.removeEventListener("mouseover",this.onMouseOver),s.removeEventListener("mouseout",this.onMouseOut),window&&(s=this.isTop?window.top:window,s.removeEventListener("mousedown",this.onMouseDownWindow),s.removeEventListener("mouseup",this.onMouseUpWindow)),y.pointerLock&&(document.removeEventListener("pointerlockchange",this.pointerLockChange,!0),document.removeEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.removeEventListener("webkitpointerlockchange",this.pointerLockChange,!0))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});h.exports=o},87078:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={MouseManager:e(85098)}},36210:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(8214),f=e(29747),l=new u({initialize:function(s){this.manager=s,this.capture=!0,this.enabled=!1,this.target,this.onTouchStart=f,this.onTouchStartWindow=f,this.onTouchMove=f,this.onTouchEnd=f,this.onTouchEndWindow=f,this.onTouchCancel=f,this.onTouchCancelWindow=f,this.isTop=!0,s.events.once(y.MANAGER_BOOT,this.boot,this)},boot:function(){var o=this.manager.config;this.enabled=o.inputTouch,this.target=o.inputTouchEventTarget,this.capture=o.inputTouchCapture,this.target?typeof this.target=="string"&&(this.target=document.getElementById(this.target)):this.target=this.manager.game.canvas,o.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return this.target.addEventListener("contextmenu",function(o){return o.preventDefault(),!1}),this},startListeners:function(){var o=this.target;if(o){var s=this,a=this.manager,c=a.canvas,r=window&&window.focus&&a.game.config.autoFocus;this.onTouchMove=function(m){!m.defaultPrevented&&s.enabled&&a&&a.enabled&&(a.onTouchMove(m),s.capture&&m.cancelable&&m.preventDefault())},this.onTouchStart=function(m){r&&window.focus(),!m.defaultPrevented&&s.enabled&&a&&a.enabled&&(a.onTouchStart(m),s.capture&&m.cancelable&&m.target===c&&m.preventDefault())},this.onTouchStartWindow=function(m){!m.defaultPrevented&&s.enabled&&a&&a.enabled&&m.target!==c&&a.onTouchStart(m)},this.onTouchEnd=function(m){!m.defaultPrevented&&s.enabled&&a&&a.enabled&&(a.onTouchEnd(m),s.capture&&m.cancelable&&m.target===c&&m.preventDefault())},this.onTouchEndWindow=function(m){!m.defaultPrevented&&s.enabled&&a&&a.enabled&&m.target!==c&&a.onTouchEnd(m)},this.onTouchCancel=function(m){!m.defaultPrevented&&s.enabled&&a&&a.enabled&&(a.onTouchCancel(m),s.capture&&m.preventDefault())},this.onTouchCancelWindow=function(m){!m.defaultPrevented&&s.enabled&&a&&a.enabled&&a.onTouchCancel(m)};var d=this.capture,v={passive:!0},p={passive:!1};if(o.addEventListener("touchstart",this.onTouchStart,d?p:v),o.addEventListener("touchmove",this.onTouchMove,d?p:v),o.addEventListener("touchend",this.onTouchEnd,d?p:v),o.addEventListener("touchcancel",this.onTouchCancel,d?p:v),window&&a.game.config.inputWindowEvents)try{window.top.addEventListener("touchstart",this.onTouchStartWindow,p),window.top.addEventListener("touchend",this.onTouchEndWindow,p),window.top.addEventListener("touchcancel",this.onTouchCancelWindow,p)}catch{window.addEventListener("touchstart",this.onTouchStartWindow,p),window.addEventListener("touchend",this.onTouchEndWindow,p),window.addEventListener("touchcancel",this.onTouchCancelWindow,p),this.isTop=!1}this.enabled=!0}},stopListeners:function(){var o=this.target;o.removeEventListener("touchstart",this.onTouchStart),o.removeEventListener("touchmove",this.onTouchMove),o.removeEventListener("touchend",this.onTouchEnd),o.removeEventListener("touchcancel",this.onTouchCancel),window&&(o=this.isTop?window.top:window,o.removeEventListener("touchstart",this.onTouchStartWindow),o.removeEventListener("touchend",this.onTouchEndWindow),o.removeEventListener("touchcancel",this.onTouchCancelWindow))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});h.exports=l},95618:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={TouchManager:e(36210)}},41299:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(23906),f=e(54899),l=e(95540),o=e(98356),s=e(3374),a=e(84376),c=e(92638),r=new u({initialize:function(v,p){if(this.loader=v,this.cache=l(p,"cache",!1),this.type=l(p,"type",!1),!this.type)throw new Error("Invalid File type: "+this.type);this.key=l(p,"key",!1);var m=this.key;if(v.prefix&&v.prefix!==""&&(this.key=v.prefix+m),!this.key)throw new Error("Invalid File key: "+this.key);var x=l(p,"url");x===void 0?x=v.path+m+"."+l(p,"extension",""):typeof x=="string"&&!x.match(/^(?:blob:|data:|capacitor:\/\/|http:\/\/|https:\/\/|\/\/)/)&&(x=v.path+x),this.url=x,this.src="",this.xhrSettings=c(l(p,"responseType",void 0)),l(p,"xhrSettings",!1)&&(this.xhrSettings=s(this.xhrSettings,l(p,"xhrSettings",{}))),this.xhrLoader=null,this.state=typeof this.url=="function"?y.FILE_POPULATED:y.FILE_PENDING,this.bytesTotal=0,this.bytesLoaded=-1,this.percentComplete=-1,this.crossOrigin=void 0,this.data=void 0,this.config=l(p,"config",{}),this.multiFile,this.linkFile,this.base64=typeof x=="string"&&x.indexOf("data:")===0,this.retryAttempts=l(p,"maxRetries",v.maxRetries)},setLink:function(d){this.linkFile=d,d.linkFile=this},resetXHR:function(){this.xhrLoader&&(this.xhrLoader.onload=void 0,this.xhrLoader.onerror=void 0,this.xhrLoader.onprogress=void 0)},load:function(){if(this.state===y.FILE_POPULATED)this.loader.nextFile(this,!0);else{if(this.state=y.FILE_LOADING,this.src=o(this,this.loader.baseURL),!this.src)throw new Error("URL Error in File: "+this.key+" from: "+this.url);this.src.indexOf("data:")===0&&(this.base64=!0),this.xhrLoader=a(this,this.loader.xhr)}},onLoad:function(d,v){var p=d.responseURL&&this.loader.localSchemes.some(function(E){return d.responseURL.indexOf(E)===0}),m=p&&v.target.status===0,x=!(v.target&&v.target.status!==200)||m;d.readyState===4&&d.status>=400&&d.status<=599&&(x=!1),this.state=y.FILE_LOADED,this.resetXHR(),this.loader.nextFile(this,x)},onBase64Load:function(d){this.xhrLoader=d,this.state=y.FILE_LOADED,this.percentComplete=1,this.loader.emit(f.FILE_PROGRESS,this,this.percentComplete),this.loader.nextFile(this,!0)},onError:function(){this.resetXHR(),this.retryAttempts>0?(this.retryAttempts--,this.load()):this.loader.nextFile(this,!1)},onProgress:function(d){d.lengthComputable&&(this.bytesLoaded=d.loaded,this.bytesTotal=d.total,this.percentComplete=Math.min(this.bytesLoaded/this.bytesTotal,1),this.loader.emit(f.FILE_PROGRESS,this,this.percentComplete))},onProcess:function(){this.state=y.FILE_PROCESSING,this.onProcessComplete()},onProcessComplete:function(){this.state=y.FILE_COMPLETE,this.multiFile&&this.multiFile.onFileComplete(this),this.loader.fileProcessComplete(this)},onProcessError:function(){console.error('Failed to process file: %s "%s"',this.type,this.key),this.state=y.FILE_ERRORED,this.multiFile&&this.multiFile.onFileFailed(this),this.loader.fileProcessComplete(this)},hasCacheConflict:function(){return this.cache&&this.cache.exists(this.key)},addToCache:function(){this.cache&&this.data&&this.cache.add(this.key,this.data)},pendingDestroy:function(d){if(this.state!==y.FILE_PENDING_DESTROY){d===void 0&&(d=this.data);var v=this.key,p=this.type;this.loader.emit(f.FILE_COMPLETE,v,p,d),this.loader.emit(f.FILE_KEY_COMPLETE+p+"-"+v,v,p,d),this.loader.flagForRemoval(this),this.state=y.FILE_PENDING_DESTROY}},destroy:function(){this.loader=null,this.cache=null,this.xhrSettings=null,this.multiFile=null,this.linkFile=null,this.data=null}});r.createObjectURL=function(d,v,p){if(typeof URL=="function")d.src=URL.createObjectURL(v);else{var m=new FileReader;m.onload=function(){d.removeAttribute("crossOrigin"),d.src="data:"+(v.type||p)+";base64,"+m.result.split(",")[1]},m.onerror=d.onerror,m.readAsDataURL(v)}},r.revokeObjectURL=function(d){typeof URL=="function"&&URL.revokeObjectURL(d.src)},h.exports=r},74099:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={},e={install:function(u){for(var y in S)u[y]=S[y]},register:function(u,y){S[u]=y},destroy:function(){S={}}};h.exports=e},98356:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u){return e.url?e.url.match(/^(?:blob:|data:|capacitor:\/\/|http:\/\/|https:\/\/|\/\/)/)?e.url:u+e.url:!1};h.exports=S},74261:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(23906),f=e(35072),l=e(50792),o=e(54899),s=e(74099),a=e(95540),c=e(35154),r=e(41212),d=e(37277),v=e(44594),p=e(92638),m=new u({Extends:l,initialize:function(E){l.call(this);var w=E.sys.game.config,C=E.sys.settings.loader;this.scene=E,this.systems=E.sys,this.cacheManager=E.sys.cache,this.textureManager=E.sys.textures,this.sceneManager=E.sys.game.scene,s.install(this),this.prefix="",this.path="",this.baseURL="",this.setBaseURL(a(C,"baseURL",w.loaderBaseURL)),this.setPath(a(C,"path",w.loaderPath)),this.setPrefix(a(C,"prefix",w.loaderPrefix)),this.maxParallelDownloads=a(C,"maxParallelDownloads",w.loaderMaxParallelDownloads),this.xhr=p(a(C,"responseType",w.loaderResponseType),a(C,"async",w.loaderAsync),a(C,"user",w.loaderUser),a(C,"password",w.loaderPassword),a(C,"timeout",w.loaderTimeout),a(C,"withCredentials",w.loaderWithCredentials)),this.crossOrigin=a(C,"crossOrigin",w.loaderCrossOrigin),this.imageLoadType=a(C,"imageLoadType",w.loaderImageLoadType),this.localSchemes=a(C,"localScheme",w.loaderLocalScheme),this.totalToLoad=0,this.progress=0,this.list=new f,this.inflight=new f,this.queue=new f,this._deleteQueue=new f,this.totalFailed=0,this.totalComplete=0,this.state=y.LOADER_IDLE,this.multiKeyIndex=0,this.maxRetries=a(C,"maxRetries",w.loaderMaxRetries),E.sys.events.once(v.BOOT,this.boot,this),E.sys.events.on(v.START,this.pluginStart,this)},boot:function(){this.systems.events.once(v.DESTROY,this.destroy,this)},pluginStart:function(){this.systems.events.once(v.SHUTDOWN,this.shutdown,this)},setBaseURL:function(x){return x===void 0&&(x=""),x!==""&&x.substr(-1)!=="/"&&(x=x.concat("/")),this.baseURL=x,this},setPath:function(x){return x===void 0&&(x=""),x!==""&&x.substr(-1)!=="/"&&(x=x.concat("/")),this.path=x,this},setPrefix:function(x){return x===void 0&&(x=""),this.prefix=x,this},setCORS:function(x){return this.crossOrigin=x,this},addFile:function(x){Array.isArray(x)||(x=[x]);for(var E=0;E<x.length;E++){var w=x[E];this.keyExists(w)||(this.list.set(w),this.emit(o.ADD,w.key,w.type,this,w),this.isLoading()&&(this.totalToLoad++,this.updateProgress()))}},keyExists:function(x){var E=x.hasCacheConflict();return E||this.list.iterate(function(w){if(w.type===x.type&&w.key===x.key)return E=!0,!1}),!E&&this.isLoading()&&(this.inflight.iterate(function(w){if(w.type===x.type&&w.key===x.key)return E=!0,!1}),this.queue.iterate(function(w){if(w.type===x.type&&w.key===x.key)return E=!0,!1})),E},addPack:function(x,E){if(typeof E=="string"){var w=c(x,E);w&&(x={packKey:w})}var C=0,P=this.baseURL,R=this.path,M=this.prefix;for(var I in x)if(Object.prototype.hasOwnProperty.call(x,I)){var D=x[I],L=a(D,"baseURL",P),F=a(D,"path",R),O=a(D,"prefix",M),N=a(D,"files",null),b=a(D,"defaultType","void");if(Array.isArray(N)){this.setBaseURL(L),this.setPath(F),this.setPrefix(O);for(var V=0;V<N.length;V++){var Y=N[V],W=Y.hasOwnProperty("type")?Y.type:b;this[W]&&(this[W](Y),C++)}}}return this.setBaseURL(P),this.setPath(R),this.setPrefix(M),C>0},removePack:function(x,E){var w=this.systems.anims,C=this.cacheManager,P=this.textureManager,R={animation:"json",aseprite:"json",audio:"audio",audioSprite:"audio",binary:"binary",bitmapFont:"bitmapFont",css:null,glsl:"shader",html:"html",json:"json",obj:"obj",plugin:null,scenePlugin:null,script:null,spine:"json",text:"text",tilemapCSV:"tilemap",tilemapImpact:"tilemap",tilemapTiledJSON:"tilemap",video:"video",xml:"xml"},M;if(r(x))M=x;else if(M=C.json.get(x),!M){console.warn("Asset Pack not found in JSON cache:",x);return}E&&(M={_:M[E]});for(var I in M){var D=M[I],L=a(D,"prefix",""),F=a(D,"files"),O=a(D,"defaultType");if(Array.isArray(F))for(var N=0;N<F.length;N++){var b=F[N],V=b.hasOwnProperty("type")?b.type:O;if(!V){console.warn("No type:",b);continue}var Y=L+b.key;if(V==="animation"&&w.remove(Y),!((V==="aseprite"||V==="atlas"||V==="atlasXML"||V==="htmlTexture"||V==="image"||V==="multiatlas"||V==="spritesheet"||V==="svg"||V==="texture"||V==="unityAtlas")&&(P.remove(Y),!R[V]))){if(V==="pack"){this.removePack(Y,b.dataKey);continue}if(V==="spine"){var W=C.custom.spine.get(Y);if(!W)continue;var U=W.prefix===void 0?"":W.prefix;C.custom.spine.remove(Y);var z=C.custom.spineTextures.get(Y);if(!z)continue;C.custom.spineTextures.remove(Y);for(var B=0;B<z.pages.length;B++){var X=z.pages[B],G=U+X.name,H=Y+":"+G;P.exists(H)?P.remove(H):P.remove(G)}}var $=R[V];if($!==null){if(!$){console.warn("Unknown type:",V);continue}var k=C[$];k.remove(Y)}}}}},isLoading:function(){return this.state===y.LOADER_LOADING||this.state===y.LOADER_PROCESSING},isReady:function(){return this.state===y.LOADER_IDLE||this.state===y.LOADER_COMPLETE},start:function(){this.isReady()&&(this.progress=0,this.totalFailed=0,this.totalComplete=0,this.totalToLoad=this.list.size,this.emit(o.START,this),this.list.size===0?this.loadComplete():(this.state=y.LOADER_LOADING,this.inflight.clear(),this.queue.clear(),this.updateProgress(),this.checkLoadQueue(),this.systems.events.on(v.UPDATE,this.update,this)))},updateProgress:function(){this.progress=1-(this.list.size+this.inflight.size)/this.totalToLoad,this.emit(o.PROGRESS,this.progress)},update:function(){this.state===y.LOADER_LOADING&&this.list.size>0&&this.inflight.size<this.maxParallelDownloads&&this.checkLoadQueue()},checkLoadQueue:function(){this.list.each(function(x){if((x.state===y.FILE_POPULATED||x.state===y.FILE_PENDING&&this.inflight.size<this.maxParallelDownloads)&&(this.inflight.set(x),this.list.delete(x),x.crossOrigin||(x.crossOrigin=this.crossOrigin),x.load()),this.inflight.size===this.maxParallelDownloads)return!1},this)},nextFile:function(x,E){this.inflight&&(this.inflight.delete(x),this.updateProgress(),E?(this.totalComplete++,this.queue.set(x),this.emit(o.FILE_LOAD,x),x.onProcess()):(this.totalFailed++,this._deleteQueue.set(x),this.emit(o.FILE_LOAD_ERROR,x),this.fileProcessComplete(x)))},fileProcessComplete:function(x){!this.scene||!this.systems||!this.systems.game||this.systems.game.pendingDestroy||(x.state===y.FILE_ERRORED?x.multiFile&&x.multiFile.onFileFailed(x):x.state===y.FILE_COMPLETE&&(x.multiFile?x.multiFile.isReadyToProcess()&&(x.multiFile.addToCache(),x.multiFile.pendingDestroy()):(x.addToCache(),x.pendingDestroy())),this.queue.delete(x),this.list.size===0&&this.inflight.size===0&&this.queue.size===0&&this.loadComplete())},loadComplete:function(){this.emit(o.POST_PROCESS,this),this.list.clear(),this.inflight.clear(),this.queue.clear(),this.progress=1,this.state=y.LOADER_COMPLETE,this.systems.events.off(v.UPDATE,this.update,this),this._deleteQueue.iterateLocal("destroy"),this._deleteQueue.clear(),this.emit(o.COMPLETE,this,this.totalComplete,this.totalFailed)},flagForRemoval:function(x){this._deleteQueue.set(x)},saveJSON:function(x,E){return this.save(JSON.stringify(x),E)},save:function(x,E,w){E===void 0&&(E="file.json"),w===void 0&&(w="application/json");var C=new Blob([x],{type:w}),P=URL.createObjectURL(C),R=document.createElement("a");return R.download=E,R.textContent="Download "+E,R.href=P,R.click(),this},reset:function(){this.list.clear(),this.inflight.clear(),this.queue.clear();var x=this.systems.game.config,E=this.systems.settings.loader;this.setBaseURL(a(E,"baseURL",x.loaderBaseURL)),this.setPath(a(E,"path",x.loaderPath)),this.setPrefix(a(E,"prefix",x.loaderPrefix)),this.state=y.LOADER_IDLE},shutdown:function(){this.reset(),this.state=y.LOADER_SHUTDOWN,this.removeAllListeners(),this.systems.events.off(v.UPDATE,this.update,this),this.systems.events.off(v.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.state=y.LOADER_DESTROYED,this.systems.events.off(v.UPDATE,this.update,this),this.systems.events.off(v.START,this.pluginStart,this),this.list=null,this.inflight=null,this.queue=null,this.scene=null,this.systems=null,this.textureManager=null,this.cacheManager=null,this.sceneManager=null}});d.register("Loader",m,"load"),h.exports=m},3374:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(79291),y=e(92638),f=function(l,o){var s=l===void 0?y():u({},l);if(o)for(var a in o)o[a]!==void 0&&(s[a]=o[a]);return s};h.exports=f},26430:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(23906),f=e(54899),l=new u({initialize:function(s,a,c,r){var d=[];r.forEach(function(m){m&&d.push(m)}),this.loader=s,this.type=a,this.key=c;var v=this.key;s.prefix&&s.prefix!==""&&(this.key=s.prefix+v),this.multiKeyIndex=s.multiKeyIndex++,this.files=d,this.state=y.FILE_PENDING,this.complete=!1,this.pending=d.length,this.failed=0,this.config={},this.baseURL=s.baseURL,this.path=s.path,this.prefix=s.prefix;for(var p=0;p<d.length;p++)d[p].multiFile=this},isReadyToProcess:function(){return this.pending===0&&this.failed===0&&!this.complete},addToMultiFile:function(o){return this.files.push(o),o.multiFile=this,this.pending++,this.complete=!1,this},onFileComplete:function(o){var s=this.files.indexOf(o);s!==-1&&this.pending--},onFileFailed:function(o){var s=this.files.indexOf(o);s!==-1&&(this.failed++,console.error('File failed: %s "%s" (via %s "%s")',this.type,this.key,o.type,o.key))},pendingDestroy:function(){if(this.state!==y.FILE_PENDING_DESTROY){var o=this.key,s=this.type;this.loader.emit(f.FILE_COMPLETE,o,s),this.loader.emit(f.FILE_KEY_COMPLETE+s+"-"+o,o,s),this.loader.flagForRemoval(this);for(var a=0;a<this.files.length;a++)this.files[a].pendingDestroy();this.state=y.FILE_PENDING_DESTROY}},destroy:function(){this.loader=null,this.files=null,this.config=null}});h.exports=l},84376:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(3374),y=function(f,l){var o=u(l,f.xhrSettings);if(f.base64){var s=f.url.split(";base64,").pop()||f.url.split(",").pop(),a;f.xhrSettings.responseType==="arraybuffer"?a={response:Uint8Array.from(atob(s),function(d){return d.charCodeAt(0)}).buffer}:a={responseText:atob(s)},f.onBase64Load(a);return}var c=new XMLHttpRequest;if(c.open("GET",f.src,o.async,o.user,o.password),c.responseType=f.xhrSettings.responseType,c.timeout=o.timeout,o.headers)for(var r in o.headers)c.setRequestHeader(r,o.headers[r]);return o.header&&o.headerValue&&c.setRequestHeader(o.header,o.headerValue),o.requestedWith&&c.setRequestHeader("X-Requested-With",o.requestedWith),o.overrideMimeType&&c.overrideMimeType(o.overrideMimeType),o.withCredentials&&(c.withCredentials=!0),c.onload=f.onLoad.bind(f,c),c.onerror=f.onError.bind(f,c),c.onprogress=f.onProgress.bind(f),c.ontimeout=f.onError.bind(f,c),c.send(),c};h.exports=y},92638:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u,y,f,l,o){return e===void 0&&(e=""),u===void 0&&(u=!0),y===void 0&&(y=""),f===void 0&&(f=""),l===void 0&&(l=0),o===void 0&&(o=!1),{responseType:e,async:u,user:y,password:f,timeout:l,headers:void 0,header:void 0,headerValue:void 0,requestedWith:!1,overrideMimeType:void 0,withCredentials:o}};h.exports=S},23906:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={LOADER_IDLE:0,LOADER_LOADING:1,LOADER_PROCESSING:2,LOADER_COMPLETE:3,LOADER_SHUTDOWN:4,LOADER_DESTROYED:5,FILE_PENDING:10,FILE_LOADING:11,FILE_LOADED:12,FILE_FAILED:13,FILE_PROCESSING:14,FILE_ERRORED:16,FILE_COMPLETE:17,FILE_DESTROYED:18,FILE_POPULATED:19,FILE_PENDING_DESTROY:20};h.exports=S},42155:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="addfile"},38991:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="complete"},27540:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="filecomplete"},87464:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="filecomplete-"},94486:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="loaderror"},13035:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="load"},38144:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="fileprogress"},97520:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="postprocess"},85595:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="progress"},55680:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="start"},54899:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={ADD:e(42155),COMPLETE:e(38991),FILE_COMPLETE:e(27540),FILE_KEY_COMPLETE:e(87464),FILE_LOAD_ERROR:e(94486),FILE_LOAD:e(13035),FILE_PROGRESS:e(38144),POST_PROCESS:e(97520),PROGRESS:e(85595),START:e(55680)}},14135:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(74099),f=e(518),l=e(54899),o=new u({Extends:f,initialize:function(a,c,r,d,v){f.call(this,a,c,r,d,v),this.type="animationJSON"},onProcess:function(){this.loader.once(l.POST_PROCESS,this.onLoadComplete,this),f.prototype.onProcess.call(this)},onLoadComplete:function(){this.loader.systems.anims.fromJSON(this.data)}});y.register("animation",function(s,a,c,r){if(Array.isArray(s))for(var d=0;d<s.length;d++)this.addFile(new o(this,s[d]));else this.addFile(new o(this,s,a,r,c));return this}),h.exports=o},76272:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(74099),f=e(95540),l=e(19550),o=e(41212),s=e(518),a=e(26430),c=new u({Extends:a,initialize:function(d,v,p,m,x,E){var w,C;if(o(v)){var P=v;v=f(P,"key"),w=new l(d,{key:v,url:f(P,"textureURL"),extension:f(P,"textureExtension","png"),normalMap:f(P,"normalMap"),xhrSettings:f(P,"textureXhrSettings")}),C=new s(d,{key:v,url:f(P,"atlasURL"),extension:f(P,"atlasExtension","json"),xhrSettings:f(P,"atlasXhrSettings")})}else w=new l(d,v,p,x),C=new s(d,v,m,E);w.linkFile?a.call(this,d,"atlasjson",v,[w,C,w.linkFile]):a.call(this,d,"atlasjson",v,[w,C])},addToCache:function(){if(this.isReadyToProcess()){var r=this.files[0],d=this.files[1],v=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlas(r.key,r.data,d.data,v),d.addToCache(),this.complete=!0}}});y.register("aseprite",function(r,d,v,p,m){var x;if(Array.isArray(r))for(var E=0;E<r.length;E++)x=new c(this,r[E]),this.addFile(x.files);else x=new c(this,r,d,v,p,m),this.addFile(x.files);return this}),h.exports=c},38734:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(74099),f=e(95540),l=e(19550),o=e(41212),s=e(518),a=e(26430),c=new u({Extends:a,initialize:function(d,v,p,m,x,E){var w,C;if(o(v)){var P=v;v=f(P,"key"),w=new l(d,{key:v,url:f(P,"textureURL"),extension:f(P,"textureExtension","png"),normalMap:f(P,"normalMap"),xhrSettings:f(P,"textureXhrSettings")}),C=new s(d,{key:v,url:f(P,"atlasURL"),extension:f(P,"atlasExtension","json"),xhrSettings:f(P,"atlasXhrSettings")})}else w=new l(d,v,p,x),C=new s(d,v,m,E);w.linkFile?a.call(this,d,"atlasjson",v,[w,C,w.linkFile]):a.call(this,d,"atlasjson",v,[w,C])},addToCache:function(){if(this.isReadyToProcess()){var r=this.files[0],d=this.files[1],v=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlas(r.key,r.data,d.data,v),this.complete=!0}}});y.register("atlas",function(r,d,v,p,m){var x;if(Array.isArray(r))for(var E=0;E<r.length;E++)x=new c(this,r[E]),this.addFile(x.files);else x=new c(this,r,d,v,p,m),this.addFile(x.files);return this}),h.exports=c},74599:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(74099),f=e(95540),l=e(19550),o=e(41212),s=e(26430),a=e(57318),c=new u({Extends:s,initialize:function(d,v,p,m,x,E){var w,C;if(o(v)){var P=v;v=f(P,"key"),w=new l(d,{key:v,url:f(P,"textureURL"),extension:f(P,"textureExtension","png"),normalMap:f(P,"normalMap"),xhrSettings:f(P,"textureXhrSettings")}),C=new a(d,{key:v,url:f(P,"atlasURL"),extension:f(P,"atlasExtension","xml"),xhrSettings:f(P,"atlasXhrSettings")})}else w=new l(d,v,p,x),C=new a(d,v,m,E);w.linkFile?s.call(this,d,"atlasxml",v,[w,C,w.linkFile]):s.call(this,d,"atlasxml",v,[w,C])},addToCache:function(){if(this.isReadyToProcess()){var r=this.files[0],d=this.files[1],v=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlasXML(r.key,r.data,d.data,v),this.complete=!0}}});y.register("atlasXML",function(r,d,v,p,m){var x;if(Array.isArray(r))for(var E=0;E<r.length;E++)x=new c(this,r[E]),this.addFile(x.files);else x=new c(this,r,d,v,p,m),this.addFile(x.files);return this}),h.exports=c},21097:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(23906),f=e(41299),l=e(74099),o=e(95540),s=e(89749),a=e(41212),c=new u({Extends:f,initialize:function(d,v,p,m,x){if(a(v)){var E=v;v=o(E,"key"),m=o(E,"xhrSettings"),x=o(E,"context",x)}var w={type:"audio",cache:d.cacheManager.audio,extension:p.type,responseType:"arraybuffer",key:v,url:p.url,xhrSettings:m,config:{context:x}};f.call(this,d,w)},onProcess:function(){this.state=y.FILE_PROCESSING;var r=this;this.config.context.decodeAudioData(this.xhrLoader.response,function(d){r.data=d,r.onProcessComplete()},function(d){console.error("Error decoding audio: "+r.key+" - ",d?d.message:null),r.onProcessError()}),this.config.context=null}});c.create=function(r,d,v,p,m){var x=r.systems.game,E=x.config.audio,w=x.device.audio;a(d)&&(v=o(d,"url",[]),p=o(d,"config",{}));var C=c.getAudioURL(x,v);return C?w.webAudio&&!E.disableWebAudio?new c(r,d,C,m,x.sound.context):new s(r,d,C,p):(console.warn('No audio URLs for "%s" can play on this device',d),null)},c.getAudioURL=function(r,d){Array.isArray(d)||(d=[d]);for(var v=0;v<d.length;v++){var p=o(d[v],"url",d[v]);if(p.indexOf("blob:")===0||p.indexOf("data:")===0)return{url:p,type:""};var m=p.match(/\.([a-zA-Z0-9]+)($|\?)/);if(m=o(d[v],"type",m?m[1]:"").toLowerCase(),r.device.audio[m])return{url:p,type:m}}return null},l.register("audio",function(r,d,v,p){var m=this.systems.game,x=m.config.audio,E=m.device.audio;if(x.noAudio||!E.webAudio&&!E.audioData)return this;var w;if(Array.isArray(r))for(var C=0;C<r.length;C++)w=c.create(this,r[C]),w&&this.addFile(w);else w=c.create(this,r,d,v,p),w&&this.addFile(w);return this}),h.exports=c},89524:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(21097),y=e(83419),f=e(74099),l=e(95540),o=e(41212),s=e(518),a=e(26430),c=new y({Extends:a,initialize:function(d,v,p,m,x,E,w){if(o(v)){var C=v;v=l(C,"key"),p=l(C,"jsonURL"),m=l(C,"audioURL"),x=l(C,"audioConfig"),E=l(C,"audioXhrSettings"),w=l(C,"jsonXhrSettings")}var P;if(!m)P=new s(d,v,p,w),a.call(this,d,"audiosprite",v,[P]),this.config.resourceLoad=!0,this.config.audioConfig=x,this.config.audioXhrSettings=E;else{var R=u.create(d,v,m,x,E);R&&(P=new s(d,v,p,w),a.call(this,d,"audiosprite",v,[R,P]),this.config.resourceLoad=!1)}},onFileComplete:function(r){var d=this.files.indexOf(r);if(d!==-1&&(this.pending--,this.config.resourceLoad&&r.type==="json"&&r.data.hasOwnProperty("resources"))){var v=r.data.resources,p=l(this.config,"audioConfig"),m=l(this.config,"audioXhrSettings"),x=u.create(this.loader,r.key,v,p,m);x&&(this.addToMultiFile(x),this.loader.addFile(x))}},addToCache:function(){if(this.isReadyToProcess()){var r=this.files[0],d=this.files[1];r.addToCache(),d.addToCache(),this.complete=!0}}});f.register("audioSprite",function(r,d,v,p,m,x){var E=this.systems.game,w=E.config.audio,C=E.device.audio;if(w&&w.noAudio||!C.webAudio&&!C.audioData)return this;var P;if(Array.isArray(r))for(var R=0;R<r.length;R++)P=new c(this,r[R]),P.files&&this.addFile(P.files);else P=new c(this,r,d,v,p,m,x),P.files&&this.addFile(P.files);return this})},85722:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(23906),f=e(41299),l=e(74099),o=e(95540),s=e(41212),a=new u({Extends:f,initialize:function(r,d,v,p,m){var x="bin";if(s(d)){var E=d;d=o(E,"key"),v=o(E,"url"),p=o(E,"xhrSettings"),x=o(E,"extension",x),m=o(E,"dataType",m)}var w={type:"binary",cache:r.cacheManager.binary,extension:x,responseType:"arraybuffer",key:d,url:v,xhrSettings:p,config:{dataType:m}};f.call(this,r,w)},onProcess:function(){this.state=y.FILE_PROCESSING;var c=this.config.dataType;this.data=c?new c(this.xhrLoader.response):this.xhrLoader.response,this.onProcessComplete()}});l.register("binary",function(c,r,d,v){if(Array.isArray(c))for(var p=0;p<c.length;p++)this.addFile(new a(this,c[p]));else this.addFile(new a(this,c,r,v,d));return this}),h.exports=a},97025:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(74099),f=e(95540),l=e(19550),o=e(41212),s=e(26430),a=e(21859),c=e(57318),r=new u({Extends:s,initialize:function(v,p,m,x,E,w){var C,P;if(o(p)){var R=p;p=f(R,"key"),C=new l(v,{key:p,url:f(R,"textureURL"),extension:f(R,"textureExtension","png"),normalMap:f(R,"normalMap"),xhrSettings:f(R,"textureXhrSettings")}),P=new c(v,{key:p,url:f(R,"fontDataURL"),extension:f(R,"fontDataExtension","xml"),xhrSettings:f(R,"fontDataXhrSettings")})}else C=new l(v,p,m,E),P=new c(v,p,x,w);C.linkFile?s.call(this,v,"bitmapfont",p,[C,P,C.linkFile]):s.call(this,v,"bitmapfont",p,[C,P])},addToCache:function(){if(this.isReadyToProcess()){var d=this.files[0],v=this.files[1];d.addToCache();var p=d.cache.get(d.key),m=a(v.data,d.cache.getFrame(d.key),0,0,p);this.loader.cacheManager.bitmapFont.add(d.key,{data:m,texture:d.key,frame:null}),this.complete=!0}}});y.register("bitmapFont",function(d,v,p,m,x){var E;if(Array.isArray(d))for(var w=0;w<d.length;w++)E=new r(this,d[w]),this.addFile(E.files);else E=new r(this,d,v,p,m,x),this.addFile(E.files);return this}),h.exports=r},16024:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(23906),f=e(41299),l=e(74099),o=e(95540),s=e(41212),a=new u({Extends:f,initialize:function(r,d,v,p){var m="css";if(s(d)){var x=d;d=o(x,"key"),v=o(x,"url"),p=o(x,"xhrSettings"),m=o(x,"extension",m)}var E={type:"script",cache:!1,extension:m,responseType:"text",key:d,url:v,xhrSettings:p};f.call(this,r,E)},onProcess:function(){this.state=y.FILE_PROCESSING,this.data=document.createElement("style"),this.data.defer=!1,this.data.innerHTML=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});l.register("css",function(c,r,d){if(Array.isArray(c))for(var v=0;v<c.length;v++)this.addFile(new a(this,c[v]));else this.addFile(new a(this,c,r,d));return this}),h.exports=a},69559:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(38734),y=e(85722),f=e(83419),l=e(74099),o=e(95540),s=e(19550),a=e(41212),c=e(518),r=e(31403),d=e(46975),v=e(59327),p=e(26430),m=e(82038),x=e(55222),E=new f({Extends:p,initialize:function(C,P,R,M){if(R.multiAtlasURL){var I=new c(C,{key:P,url:R.multiAtlasURL,xhrSettings:M,config:R});p.call(this,C,"texture",P,[I])}else{var D=R.textureURL.substr(R.textureURL.length-3);R.type||(R.type=D.toLowerCase()==="ktx"?"KTX":"PVR");var L=new y(C,{key:P,url:R.textureURL,extension:D,xhrSettings:M,config:R});if(R.atlasURL){var F=new c(C,{key:P,url:R.atlasURL,xhrSettings:M,config:R});p.call(this,C,"texture",P,[L,F])}else p.call(this,C,"texture",P,[L])}this.config=R},onFileComplete:function(w){var C=this.files.indexOf(w);if(C!==-1){if(this.pending--,!this.config.multiAtlasURL)return;if(w.type==="json"&&w.data.hasOwnProperty("textures")){var P=w.data.textures,R=this.config,M=this.loader,I=M.baseURL,D=M.path,L=M.prefix,F=o(R,"multiBaseURL",this.baseURL),O=o(R,"multiPath",this.path),N=o(R,"prefix",this.prefix),b=o(R,"textureXhrSettings");F&&M.setBaseURL(F),O&&M.setPath(O),N&&M.setPrefix(N);for(var V=0;V<P.length;V++){var Y=P[V].image,W="CMA"+this.multiKeyIndex+"_"+Y,U=new y(M,W,Y,b);if(this.addToMultiFile(U),M.addFile(U),P[V].normalMap){var z=new y(M,W,P[V].normalMap,b);z.type="normalMap",U.setLink(z),this.addToMultiFile(z),M.addFile(z)}}M.setBaseURL(I),M.setPath(D),M.setPrefix(L)}}},addToCache:function(){function w(F){console.warn('Compressed Texture Invalid: "'+I.key+'". '+F)}if(this.isReadyToProcess()){var C=this.config;if(C.multiAtlasURL)this.addMultiToCache();else{var P=this.loader.systems.renderer,R=this.loader.textureManager,M,I=this.files[0],D=this.files[1];if(C.type==="PVR"?M=m(I.data):C.type==="KTX"&&(M=r(I.data),M||w("KTX file contains unsupported format.")),M&&!x(M)&&(w("Texture dimensions failed verification. Check the texture format specifications for "+C.format+" 0x"+M.internalFormat.toString(16)+"."),M=null),M&&!P.supportsCompressedTexture(C.format,M.internalFormat)&&(w("Texture format "+C.format+" with internal format "+M.internalFormat+" not supported by the GPU. Texture invalid. This is often due to the texture using sRGB instead of linear RGB."),M=null),M){M.format=P.getCompressedTextureName(C.format,M.internalFormat);var L=D&&D.data?D.data:null;R.addCompressedTexture(I.key,M,L)}}this.complete=!0}},addMultiToCache:function(){for(var w=this.config,C=this.files[0],P=[],R=[],M=[],I=this.loader.systems.renderer,D=this.loader.textureManager,L,F=1;F<this.files.length;F++){var O=this.files[F];if(O.type!=="normalMap")for(var N=O.key.indexOf("_"),b=O.key.substr(N+1),V=O.data,Y=0;Y<C.data.textures.length;Y++){var W=C.data.textures[Y];if(W.image===b){w.type==="PVR"?L=m(V):w.type==="KTX"&&(L=r(V)),L&&I.supportsCompressedTexture(w.format,L.internalFormat)&&(L.format=I.getCompressedTextureName(w.format,L.internalFormat),R.push(L),P.push(W),O.linkFile&&M.push(O.linkFile.data));break}}}M.length===0&&(M=void 0),D.addAtlasJSONArray(this.key,R,P,M),this.complete=!0}});l.register("texture",function(w,C,P){var R=this.systems.renderer,M=function(D,L,F,O){var N={format:null,type:null,textureURL:void 0,atlasURL:void 0,multiAtlasURL:void 0,multiPath:void 0,multiBaseURL:void 0};if(a(L)){var b=L;L=o(b,"key"),F=o(b,"url"),O=o(b,"xhrSettings")}var V=!1;for(var Y in F)if(R.supportsCompressedTexture(Y)){var W=F[Y];typeof W=="string"?N.textureURL=W:N=d(W,N),N.format=Y.toUpperCase(),V=!0;break}if(!V)console.warn("No supported compressed texture format or IMG fallback",L);else if(N.format==="IMG"){var U,z;N.multiAtlasURL?(z=new v(D,L,N.multiAtlasURL,N.multiPath,N.multiBaseURL,O),U=z.files):N.atlasURL?(z=new u(D,L,N.textureURL,N.atlasURL,O),U=z.files):U=new s(D,L,N.textureURL,O),D.addFile(U)}else{var B=new E(D,L,N,O);D.addFile(B.files)}};if(Array.isArray(w))for(var I=0;I<w.length;I++)M(this,w[I]);else M(this,w,C,P);return this}),h.exports=E},87674:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(23906),f=e(41299),l=e(74099),o=e(95540),s=e(98356),a=e(41212),c=new u({Extends:f,initialize:function(d,v,p,m,x,E){var w="ttf";if(a(v)){var C=v;v=o(C,"key"),p=o(C,"url"),m=o(C,"format","truetype"),x=o(C,"descriptors",null),E=o(C,"xhrSettings"),w=o(C,"extension",w)}else m===void 0&&(m="truetype");var P={type:"font",cache:!1,extension:w,responseType:"text",key:v,url:p,xhrSettings:E};f.call(this,d,P),this.data={format:m,descriptors:x},this.state=y.FILE_POPULATED},onProcess:function(){this.state=y.FILE_PROCESSING,this.src=s(this,this.loader.baseURL);var r,d=this.key,v="url("+this.src+') format("'+this.data.format+'")';this.data.descriptors?r=new FontFace(d,v,this.data.descriptors):r=new FontFace(d,v);var p=this;r.load().then(function(){document.fonts.add(r),document.body.classList.add("fonts-loaded"),p.onProcessComplete()}).catch(function(){console.warn("Font failed to load",v),p.onProcessComplete()})}});l.register("font",function(r,d,v,p,m){if(Array.isArray(r))for(var x=0;x<r.length;x++)this.addFile(new c(this,r[x]));else this.addFile(new c(this,r,d,v,p,m));return this}),h.exports=c},47931:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(23906),f=e(41299),l=e(74099),o=e(95540),s=e(41212),a=e(73894),c=new u({Extends:f,initialize:function(d,v,p,m,x){var E="glsl";if(s(v)){var w=v;v=o(w,"key"),p=o(w,"url"),m=o(w,"shaderType","fragment"),x=o(w,"xhrSettings"),E=o(w,"extension",E)}else m===void 0&&(m="fragment");var C={type:"glsl",cache:d.cacheManager.shader,extension:E,responseType:"text",key:v,url:p,config:{shaderType:m},xhrSettings:x};f.call(this,d,C)},onProcess:function(){this.state=y.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var r=this.data.split(`
`),d=this.extractBlock(r,0);if(d)for(;d;){var v=this.getShaderName(d.header),p=this.getShaderType(d.header),m=this.getShaderUniforms(d.header),x=d.shader;if(this.cache.has(v)){var E=this.cache.get(v);p==="fragment"?E.fragmentSrc=x:E.vertexSrc=x,E.uniforms||(E.uniforms=m)}else p==="fragment"?this.cache.add(v,new a(v,x,"",m)):this.cache.add(v,new a(v,"",x,m));d=this.extractBlock(r,d.offset)}else this.config.shaderType==="fragment"?this.cache.add(this.key,new a(this.key,this.data)):this.cache.add(this.key,new a(this.key,"",this.data))},getShaderName:function(r){for(var d=0;d<r.length;d++){var v=r[d].trim();if(v.substring(0,5)==="name:")return v.substring(5).trim()}return this.key},getShaderType:function(r){for(var d=0;d<r.length;d++){var v=r[d].trim();if(v.substring(0,5)==="type:")return v.substring(5).trim()}return this.config.shaderType},getShaderUniforms:function(r){for(var d={},v=0;v<r.length;v++){var p=r[v].trim();if(p.substring(0,8)==="uniform."){var m=p.indexOf(":");if(m){var x=p.substring(8,m);try{d[x]=JSON.parse(p.substring(m+1))}catch{console.warn("Invalid uniform JSON: "+x)}}}}return d},extractBlock:function(r,d){for(var v=-1,p=-1,m=-1,x=!1,E=!1,w=[],C=[],P=d;P<r.length;P++){var R=r[P].trim();if(R==="---")if(v===-1)v=P,x=!0;else if(x)p=P,x=!1,E=!0;else{E=!1;break}else x?w.push(R):E&&(C.push(R),m=P)}return!x&&p!==-1?{header:w,shader:C.join(`
`),offset:m}:null}});l.register("glsl",function(r,d,v,p){if(Array.isArray(r))for(var m=0;m<r.length;m++)this.addFile(new c(this,r[m]));else this.addFile(new c(this,r,d,v,p));return this}),h.exports=c},89749:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(54899),f=e(41299),l=e(95540),o=e(98356),s=e(41212),a=new u({Extends:f,initialize:function(r,d,v,p){if(s(d)){var m=d;d=l(m,"key"),p=l(m,"config",p)}var x={type:"audio",cache:r.cacheManager.audio,extension:v.type,key:d,url:v.url,config:p};f.call(this,r,x),this.locked="ontouchstart"in window,this.loaded=!1,this.filesLoaded=0,this.filesTotal=0},onLoad:function(){this.loaded||(this.loaded=!0,this.loader.nextFile(this,!0))},onError:function(){for(var c=0;c<this.data.length;c++){var r=this.data[c];r.oncanplaythrough=null,r.onerror=null}this.loader.nextFile(this,!1)},onProgress:function(c){var r=c.target;r.oncanplaythrough=null,r.onerror=null,this.filesLoaded++,this.percentComplete=Math.min(this.filesLoaded/this.filesTotal,1),this.loader.emit(y.FILE_PROGRESS,this,this.percentComplete),this.filesLoaded===this.filesTotal&&this.onLoad()},load:function(){this.data=[];var c=this.config&&this.config.instances||1;this.filesTotal=c,this.filesLoaded=0,this.percentComplete=0;for(var r=0;r<c;r++){var d=new Audio;d.dataset||(d.dataset={}),d.dataset.name=this.key+("0"+r).slice(-2),d.dataset.used="false",this.locked?d.dataset.locked="true":(d.dataset.locked="false",d.preload="auto",d.oncanplaythrough=this.onProgress.bind(this),d.onerror=this.onError.bind(this)),this.data.push(d)}for(r=0;r<this.data.length;r++)d=this.data[r],d.src=o(this,this.loader.baseURL),this.locked||d.load();this.locked&&setTimeout(this.onLoad.bind(this))}});h.exports=a},88470:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(23906),f=e(41299),l=e(74099),o=e(95540),s=e(41212),a=new u({Extends:f,initialize:function(r,d,v,p){var m="html";if(s(d)){var x=d;d=o(x,"key"),v=o(x,"url"),p=o(x,"xhrSettings"),m=o(x,"extension",m)}var E={type:"text",cache:r.cacheManager.html,extension:m,responseType:"text",key:d,url:v,xhrSettings:p};f.call(this,r,E)},onProcess:function(){this.state=y.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});l.register("html",function(c,r,d){if(Array.isArray(c))for(var v=0;v<c.length;v++)this.addFile(new a(this,c[v]));else this.addFile(new a(this,c,r,d));return this}),h.exports=a},14643:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(23906),f=e(41299),l=e(74099),o=e(95540),s=e(41212),a=new u({Extends:f,initialize:function(r,d,v,p,m,x){p===void 0&&(p=512),m===void 0&&(m=512);var E="html";if(s(d)){var w=d;d=o(w,"key"),v=o(w,"url"),x=o(w,"xhrSettings"),E=o(w,"extension",E),p=o(w,"width",p),m=o(w,"height",m)}var C={type:"html",cache:r.textureManager,extension:E,responseType:"text",key:d,url:v,xhrSettings:x,config:{width:p,height:m}};f.call(this,r,C)},onProcess:function(){this.state=y.FILE_PROCESSING;var c=this.config.width,r=this.config.height,d=[];d.push('<svg width="'+c+'px" height="'+r+'px" viewBox="0 0 '+c+" "+r+'" xmlns="http://www.w3.org/2000/svg">'),d.push('<foreignObject width="100%" height="100%">'),d.push('<body xmlns="http://www.w3.org/1999/xhtml">'),d.push(this.xhrLoader.responseText),d.push("</body>"),d.push("</foreignObject>"),d.push("</svg>");var v=[d.join(`
`)],p=this;try{var m=new window.Blob(v,{type:"image/svg+xml;charset=utf-8"})}catch{p.state=y.FILE_ERRORED,p.onProcessComplete();return}this.data=new Image,this.data.crossOrigin=this.crossOrigin,this.data.onload=function(){f.revokeObjectURL(p.data),p.onProcessComplete()},this.data.onerror=function(){f.revokeObjectURL(p.data),p.onProcessError()},f.createObjectURL(this.data,m,"image/svg+xml")},addToCache:function(){this.cache.addImage(this.key,this.data)}});l.register("htmlTexture",function(c,r,d,v,p){if(Array.isArray(c))for(var m=0;m<c.length;m++)this.addFile(new a(this,c[m]));else this.addFile(new a(this,c,r,d,v,p));return this}),h.exports=a},19550:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(23906),f=e(41299),l=e(74099),o=e(95540),s=e(41212),a=e(98356),c=new u({Extends:f,initialize:function r(d,v,p,m,x){var E="png",w;if(s(v)){var C=v;v=o(C,"key"),p=o(C,"url"),w=o(C,"normalMap"),m=o(C,"xhrSettings"),E=o(C,"extension",E),x=o(C,"frameConfig")}Array.isArray(p)&&(w=p[1],p=p[0]);var P={type:"image",cache:d.textureManager,extension:E,responseType:"blob",key:v,url:p,xhrSettings:m,config:x};if(f.call(this,d,P),w){var R=new r(d,this.key,w,m,x);R.type="normalMap",this.setLink(R),d.addFile(R)}this.useImageElementLoad=d.imageLoadType==="HTMLImageElement"||this.base64,this.useImageElementLoad&&(this.load=this.loadImage,this.onProcess=this.onProcessImage)},onProcess:function(){this.state=y.FILE_PROCESSING,this.data=new Image,this.data.crossOrigin=this.crossOrigin;var r=this;this.data.onload=function(){f.revokeObjectURL(r.data),r.onProcessComplete()},this.data.onerror=function(){f.revokeObjectURL(r.data),r.onProcessError()},f.createObjectURL(this.data,this.xhrLoader.response,"image/png")},onProcessImage:function(){var r=this.state;this.state=y.FILE_PROCESSING,r===y.FILE_LOADED?this.onProcessComplete():this.onProcessError()},loadImage:function(){this.state=y.FILE_LOADING,this.src=a(this,this.loader.baseURL),this.data=new Image,this.data.crossOrigin=this.crossOrigin;var r=this;this.data.onload=function(){r.state=y.FILE_LOADED,r.loader.nextFile(r,!0)},this.data.onerror=function(){r.loader.nextFile(r,!1)},this.data.src=this.src},addToCache:function(){var r=this.linkFile;r?r.state>=y.FILE_COMPLETE&&(r.type==="spritesheet"?r.addToCache():this.type==="normalMap"?this.cache.addImage(this.key,r.data,this.data):this.cache.addImage(this.key,this.data,r.data)):this.cache.addImage(this.key,this.data)}});l.register("image",function(r,d,v){if(Array.isArray(r))for(var p=0;p<r.length;p++)this.addFile(new c(this,r[p]));else this.addFile(new c(this,r,d,v));return this}),h.exports=c},518:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(23906),f=e(41299),l=e(74099),o=e(95540),s=e(35154),a=e(41212),c=new u({Extends:f,initialize:function(d,v,p,m,x){var E="json";if(a(v)){var w=v;v=o(w,"key"),p=o(w,"url"),m=o(w,"xhrSettings"),E=o(w,"extension",E),x=o(w,"dataKey",x)}var C={type:"json",cache:d.cacheManager.json,extension:E,responseType:"text",key:v,url:p,xhrSettings:m,config:x};f.call(this,d,C),a(p)&&(x?this.data=s(p,x):this.data=p,this.state=y.FILE_POPULATED)},onProcess:function(){if(this.state!==y.FILE_POPULATED){this.state=y.FILE_PROCESSING;try{var r=JSON.parse(this.xhrLoader.responseText)}catch(v){throw this.onProcessError(),v}var d=this.config;typeof d=="string"?this.data=s(r,d,r):this.data=r}this.onProcessComplete()}});l.register("json",function(r,d,v,p){if(Array.isArray(r))for(var m=0;m<r.length;m++)this.addFile(new c(this,r[m]));else this.addFile(new c(this,r,d,p,v));return this}),h.exports=c},59327:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(74099),f=e(95540),l=e(19550),o=e(41212),s=e(518),a=e(26430),c=new u({Extends:a,initialize:function(d,v,p,m,x,E,w){if(o(v)){var C=v;v=f(C,"key"),f(C,"url",!1)?p=f(C,"url"):p=f(C,"atlasURL"),E=f(C,"xhrSettings"),m=f(C,"path"),x=f(C,"baseURL"),w=f(C,"textureXhrSettings")}var P=new s(d,v,p,E);a.call(this,d,"multiatlas",v,[P]),this.config.path=m,this.config.baseURL=x,this.config.textureXhrSettings=w},onFileComplete:function(r){var d=this.files.indexOf(r);if(d!==-1&&(this.pending--,r.type==="json"&&r.data.hasOwnProperty("textures"))){var v=r.data.textures,p=this.config,m=this.loader,x=m.baseURL,E=m.path,w=m.prefix,C=f(p,"baseURL",this.baseURL),P=f(p,"path",this.path),R=f(p,"prefix",this.prefix),M=f(p,"textureXhrSettings");m.setBaseURL(C),m.setPath(P),m.setPrefix(R);for(var I=0;I<v.length;I++){var D=v[I].image,L="MA"+this.multiKeyIndex+"_"+D,F=new l(m,L,D,M);if(this.addToMultiFile(F),m.addFile(F),v[I].normalMap){var O=new l(m,L,v[I].normalMap,M);O.type="normalMap",F.setLink(O),this.addToMultiFile(O),m.addFile(O)}}m.setBaseURL(x),m.setPath(E),m.setPrefix(w)}},addToCache:function(){if(this.isReadyToProcess()){for(var r=this.files[0],d=[],v=[],p=[],m=1;m<this.files.length;m++){var x=this.files[m];if(x.type!=="normalMap")for(var E=x.key.indexOf("_"),w=x.key.substr(E+1),C=x.data,P=0;P<r.data.textures.length;P++){var R=r.data.textures[P];if(R.image===w){v.push(C),d.push(R),x.linkFile&&p.push(x.linkFile.data);break}}}p.length===0&&(p=void 0),this.loader.textureManager.addAtlasJSONArray(this.key,v,d,p),this.complete=!0}}});y.register("multiatlas",function(r,d,v,p,m){var x;if(Array.isArray(r))for(var E=0;E<r.length;E++)x=new c(this,r[E]),this.addFile(x.files);else x=new c(this,r,d,v,p,m),this.addFile(x.files);return this}),h.exports=c},99297:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(74099),f=e(95540),l=e(41212),o=e(26430),s=e(34328),a=new u({Extends:o,initialize:function(r,d,v,p){var m="js",x=[];if(l(d)){var E=d;d=f(E,"key"),v=f(E,"url"),p=f(E,"xhrSettings"),m=f(E,"extension",m)}Array.isArray(v)||(v=[v]);for(var w=0;w<v.length;w++){var C=new s(r,{key:d+"_"+w.toString(),url:v[w],extension:m,xhrSettings:p});C.onProcess=function(){this.onProcessComplete()},x.push(C)}o.call(this,r,"scripts",d,x)},addToCache:function(){if(this.isReadyToProcess()){for(var c=0;c<this.files.length;c++){var r=this.files[c];r.data=document.createElement("script"),r.data.language="javascript",r.data.type="text/javascript",r.data.defer=!1,r.data.text=r.xhrLoader.responseText,document.head.appendChild(r.data)}this.complete=!0}}});y.register("scripts",function(c,r,d){var v;if(Array.isArray(c))for(var p=0;p<c.length;p++)v=new a(this,c[p]),this.addFile(v.files);else v=new a(this,c,r,d),this.addFile(v.files);return this}),h.exports=a},41846:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(74099),f=e(95540),l=e(41212),o=e(26430),s=e(85048),a=e(61485),c=e(78776),r=new u({Extends:o,initialize:function(v,p,m,x,E,w){var C,P,R=v.cacheManager.obj;if(l(p)){var M=p;p=f(M,"key"),C=new c(v,{key:p,type:"obj",cache:R,url:f(M,"url"),extension:f(M,"extension","obj"),xhrSettings:f(M,"xhrSettings"),config:{flipUV:f(M,"flipUV",E)}}),x=f(M,"matURL"),x&&(P=new c(v,{key:p,type:"mat",cache:R,url:x,extension:f(M,"matExtension","mat"),xhrSettings:f(M,"xhrSettings")}))}else C=new c(v,{key:p,url:m,type:"obj",cache:R,extension:"obj",xhrSettings:w,config:{flipUV:E}}),x&&(P=new c(v,{key:p,url:x,type:"mat",cache:R,extension:"mat",xhrSettings:w}));o.call(this,v,"obj",p,[C,P])},addToCache:function(){if(this.isReadyToProcess()){var d=this.files[0],v=this.files[1],p=s(d.data,d.config.flipUV);v&&(p.materials=a(v.data)),d.cache.add(d.key,p),this.complete=!0}}});y.register("obj",function(d,v,p,m,x){var E;if(Array.isArray(d))for(var w=0;w<d.length;w++)E=new r(this,d[w]),this.addFile(E.files);else E=new r(this,d,v,p,m,x),this.addFile(E.files);return this}),h.exports=r},58610:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(23906),f=e(74099),l=e(518),o=new u({Extends:l,initialize:function(a,c,r,d,v){l.call(this,a,c,r,d,v),this.type="packfile"},onProcess:function(){if(this.state!==y.FILE_POPULATED&&(this.state=y.FILE_PROCESSING,this.data=JSON.parse(this.xhrLoader.responseText)),this.data.hasOwnProperty("files")&&this.config){var s={};s[this.config]=this.data,this.data=s}this.loader.addPack(this.data,this.config),this.onProcessComplete()}});f.register("pack",function(s,a,c,r){if(Array.isArray(s))for(var d=0;d<s.length;d++)this.addFile(new o(this,s[d]));else this.addFile(new o(this,s,a,r,c));return this}),h.exports=o},48988:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(23906),f=e(41299),l=e(74099),o=e(95540),s=e(41212),a=new u({Extends:f,initialize:function(r,d,v,p,m,x){var E="js";if(s(d)){var w=d;d=o(w,"key"),v=o(w,"url"),x=o(w,"xhrSettings"),E=o(w,"extension",E),p=o(w,"start"),m=o(w,"mapping")}var C={type:"plugin",cache:!1,extension:E,responseType:"text",key:d,url:v,xhrSettings:x,config:{start:p,mapping:m}};f.call(this,r,C),typeof v=="function"&&(this.data=v,this.state=y.FILE_POPULATED)},onProcess:function(){var c=this.loader.systems.plugins,r=this.config,d=o(r,"start",!1),v=o(r,"mapping",null);if(this.state===y.FILE_POPULATED)c.install(this.key,this.data,d,v);else{this.state=y.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data);var p=c.install(this.key,window[this.key],d,v);(d||v)&&(this.loader.systems[v]=p,this.loader.scene[v]=p)}this.onProcessComplete()}});l.register("plugin",function(c,r,d,v,p){if(Array.isArray(c))for(var m=0;m<c.length;m++)this.addFile(new a(this,c[m]));else this.addFile(new a(this,c,r,d,v,p));return this}),h.exports=a},67397:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(23906),f=e(41299),l=e(74099),o=e(95540),s=e(41212),a=new u({Extends:f,initialize:function(r,d,v,p,m){var x="svg";if(s(d)){var E=d;d=o(E,"key"),v=o(E,"url"),p=o(E,"svgConfig",{}),m=o(E,"xhrSettings"),x=o(E,"extension",x)}var w={type:"svg",cache:r.textureManager,extension:x,responseType:"text",key:d,url:v,xhrSettings:m,config:{width:o(p,"width"),height:o(p,"height"),scale:o(p,"scale")}};f.call(this,r,w)},onProcess:function(){this.state=y.FILE_PROCESSING;var c=this.xhrLoader.responseText,r=[c],d=this.config.width,v=this.config.height,p=this.config.scale;t:if(d&&v||p){var m=null,x=new DOMParser;m=x.parseFromString(c,"text/xml");var E=m.getElementsByTagName("svg")[0],w=E.hasAttribute("viewBox"),C=parseFloat(E.getAttribute("width")),P=parseFloat(E.getAttribute("height"));if(!w&&C&&P)E.setAttribute("viewBox","0  0 "+C+" "+P);else if(w&&!C&&!P){var R=E.getAttribute("viewBox").split(/\s+|,/);C=R[2],P=R[3]}if(p)if(C&&P)d=C*p,v=P*p;else break t;E.setAttribute("width",d.toString()+"px"),E.setAttribute("height",v.toString()+"px"),r=[new XMLSerializer().serializeToString(E)]}try{var M=new window.Blob(r,{type:"image/svg+xml;charset=utf-8"})}catch{this.onProcessError();return}this.data=new Image,this.data.crossOrigin=this.crossOrigin;var I=this,D=!1;this.data.onload=function(){D||f.revokeObjectURL(I.data),I.onProcessComplete()},this.data.onerror=function(){D?I.onProcessError():(D=!0,f.revokeObjectURL(I.data),I.data.src="data:image/svg+xml,"+encodeURIComponent(r.join("")))},f.createObjectURL(this.data,M,"image/svg+xml")},addToCache:function(){this.cache.addImage(this.key,this.data)}});l.register("svg",function(c,r,d,v){if(Array.isArray(c))for(var p=0;p<c.length;p++)this.addFile(new a(this,c[p]));else this.addFile(new a(this,c,r,d,v));return this}),h.exports=a},88423:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(23906),f=e(41299),l=e(74099),o=e(95540),s=e(41212),a=new u({Extends:f,initialize:function(r,d,v,p){var m="js";if(s(d)){var x=d;d=o(x,"key"),v=o(x,"url"),p=o(x,"xhrSettings"),m=o(x,"extension",m)}var E={type:"text",extension:m,responseType:"text",key:d,url:v,xhrSettings:p};f.call(this,r,E)},onProcess:function(){this.state=y.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var c=this.data.concat(`(function(){
return new `+this.key+`();
}).call(this);`),r=eval;this.loader.sceneManager.add(this.key,r(c)),this.complete=!0}});l.register("sceneFile",function(c,r,d){if(Array.isArray(c))for(var v=0;v<c.length;v++)this.addFile(new a(this,c[v]));else this.addFile(new a(this,c,r,d));return this}),h.exports=a},56812:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(23906),f=e(41299),l=e(74099),o=e(95540),s=e(41212),a=new u({Extends:f,initialize:function(r,d,v,p,m,x){var E="js";if(s(d)){var w=d;d=o(w,"key"),v=o(w,"url"),x=o(w,"xhrSettings"),E=o(w,"extension",E),p=o(w,"systemKey"),m=o(w,"sceneKey")}var C={type:"scenePlugin",cache:!1,extension:E,responseType:"text",key:d,url:v,xhrSettings:x,config:{systemKey:p,sceneKey:m}};f.call(this,r,C),typeof v=="function"&&(this.data=v,this.state=y.FILE_POPULATED)},onProcess:function(){var c=this.loader.systems.plugins,r=this.config,d=this.key,v=o(r,"systemKey",d),p=o(r,"sceneKey",d);this.state===y.FILE_POPULATED?c.installScenePlugin(v,this.data,p,this.loader.scene,!0):(this.state=y.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),c.installScenePlugin(v,window[this.key],p,this.loader.scene,!0)),this.onProcessComplete()}});l.register("scenePlugin",function(c,r,d,v,p){if(Array.isArray(c))for(var m=0;m<c.length;m++)this.addFile(new a(this,c[m]));else this.addFile(new a(this,c,r,d,v,p));return this}),h.exports=a},34328:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(23906),f=e(41299),l=e(74099),o=e(95540),s=e(41212),a=new u({Extends:f,initialize:function(r,d,v,p,m){var x="js";if(s(d)){var E=d;d=o(E,"key"),v=o(E,"url"),p=o(E,"type","script"),m=o(E,"xhrSettings"),x=o(E,"extension",x)}else p===void 0&&(p="script");var w={type:p,cache:!1,extension:x,responseType:"text",key:d,url:v,xhrSettings:m};f.call(this,r,w)},onProcess:function(){this.state=y.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});l.register("script",function(c,r,d,v){if(Array.isArray(c))for(var p=0;p<c.length;p++)this.addFile(new a(this,c[p]));else this.addFile(new a(this,c,r,d,v));return this}),h.exports=a},85035:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(23906),f=e(74099),l=e(19550),o=new u({Extends:l,initialize:function(a,c,r,d,v){l.call(this,a,c,r,v,d),this.type="spritesheet"},addToCache:function(){var s=this.linkFile;s?s.state>=y.FILE_COMPLETE&&(this.type==="normalMap"?this.cache.addSpriteSheet(this.key,s.data,this.config,this.data):this.cache.addSpriteSheet(this.key,this.data,this.config,s.data)):this.cache.addSpriteSheet(this.key,this.data,this.config)}});f.register("spritesheet",function(s,a,c,r){if(Array.isArray(s))for(var d=0;d<s.length;d++)this.addFile(new o(this,s[d]));else this.addFile(new o(this,s,a,c,r));return this}),h.exports=o},78776:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(23906),f=e(41299),l=e(74099),o=e(95540),s=e(41212),a=new u({Extends:f,initialize:function(r,d,v,p){var m="text",x="txt",E=r.cacheManager.text;if(s(d)){var w=d;d=o(w,"key"),v=o(w,"url"),p=o(w,"xhrSettings"),x=o(w,"extension",x),m=o(w,"type",m),E=o(w,"cache",E)}var C={type:m,cache:E,extension:x,responseType:"text",key:d,url:v,xhrSettings:p};f.call(this,r,C)},onProcess:function(){this.state=y.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});l.register("text",function(c,r,d){if(Array.isArray(c))for(var v=0;v<c.length;v++)this.addFile(new a(this,c[v]));else this.addFile(new a(this,c,r,d));return this}),h.exports=a},49477:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(23906),f=e(41299),l=e(74099),o=e(95540),s=e(41212),a=e(80341),c=new u({Extends:f,initialize:function(d,v,p,m){var x="csv";if(s(v)){var E=v;v=o(E,"key"),p=o(E,"url"),m=o(E,"xhrSettings"),x=o(E,"extension",x)}var w={type:"tilemapCSV",cache:d.cacheManager.tilemap,extension:x,responseType:"text",key:v,url:p,xhrSettings:m};f.call(this,d,w),this.tilemapFormat=a.CSV},onProcess:function(){this.state=y.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var r={format:this.tilemapFormat,data:this.data};this.cache.add(this.key,r)}});l.register("tilemapCSV",function(r,d,v){if(Array.isArray(r))for(var p=0;p<r.length;p++)this.addFile(new c(this,r[p]));else this.addFile(new c(this,r,d,v));return this}),h.exports=c},40807:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(74099),f=e(518),l=e(80341),o=new u({Extends:f,initialize:function(a,c,r,d){f.call(this,a,c,r,d),this.type="tilemapJSON",this.cache=a.cacheManager.tilemap},addToCache:function(){var s={format:l.WELTMEISTER,data:this.data};this.cache.add(this.key,s)}});y.register("tilemapImpact",function(s,a,c){if(Array.isArray(s))for(var r=0;r<s.length;r++)this.addFile(new o(this,s[r]));else this.addFile(new o(this,s,a,c));return this}),h.exports=o},56775:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(74099),f=e(518),l=e(80341),o=new u({Extends:f,initialize:function(a,c,r,d){f.call(this,a,c,r,d),this.type="tilemapJSON",this.cache=a.cacheManager.tilemap},addToCache:function(){var s={format:l.TILED_JSON,data:this.data};this.cache.add(this.key,s)}});y.register("tilemapTiledJSON",function(s,a,c){if(Array.isArray(s))for(var r=0;r<s.length;r++)this.addFile(new o(this,s[r]));else this.addFile(new o(this,s,a,c));return this}),h.exports=o},25771:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(74099),f=e(95540),l=e(19550),o=e(41212),s=e(26430),a=e(78776),c=new u({Extends:s,initialize:function(d,v,p,m,x,E){var w,C;if(o(v)){var P=v;v=f(P,"key"),w=new l(d,{key:v,url:f(P,"textureURL"),extension:f(P,"textureExtension","png"),normalMap:f(P,"normalMap"),xhrSettings:f(P,"textureXhrSettings")}),C=new a(d,{key:v,url:f(P,"atlasURL"),extension:f(P,"atlasExtension","txt"),xhrSettings:f(P,"atlasXhrSettings")})}else w=new l(d,v,p,x),C=new a(d,v,m,E);w.linkFile?s.call(this,d,"unityatlas",v,[w,C,w.linkFile]):s.call(this,d,"unityatlas",v,[w,C])},addToCache:function(){if(this.isReadyToProcess()){var r=this.files[0],d=this.files[1],v=this.files[2]?this.files[2].data:null;this.loader.textureManager.addUnityAtlas(r.key,r.data,d.data,v),this.complete=!0}}});y.register("unityAtlas",function(r,d,v,p,m){var x;if(Array.isArray(r))for(var E=0;E<r.length;E++)x=new c(this,r[E]),this.addFile(x.files);else x=new c(this,r,d,v,p,m),this.addFile(x.files);return this}),h.exports=c},33720:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(23906),f=e(41299),l=e(74099),o=e(98356),s=e(95540),a=e(41212),c=new u({Extends:f,initialize:function(d,v,p,m){if(m===void 0&&(m=!1),a(v)){var x=v;v=s(x,"key"),p=s(x,"url",[]),m=s(x,"noAudio",!1)}var E=d.systems.game.device.video.getVideoURL(p);E||console.warn("VideoFile: No supported format for "+v);var w={type:"video",cache:d.cacheManager.video,extension:E.type,key:v,url:E.url,config:{noAudio:m}};f.call(this,d,w)},onProcess:function(){this.data={url:this.src,noAudio:this.config.noAudio,crossOrigin:this.crossOrigin},this.onProcessComplete()},load:function(){this.src=o(this,this.loader.baseURL),this.state=y.FILE_LOADED,this.loader.nextFile(this,!0)}});l.register("video",function(r,d,v){if(Array.isArray(r))for(var p=0;p<r.length;p++)this.addFile(new c(this,r[p]));else this.addFile(new c(this,r,d,v));return this}),h.exports=c},57318:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(23906),f=e(41299),l=e(74099),o=e(95540),s=e(41212),a=e(56836),c=new u({Extends:f,initialize:function(d,v,p,m){var x="xml";if(s(v)){var E=v;v=o(E,"key"),p=o(E,"url"),m=o(E,"xhrSettings"),x=o(E,"extension",x)}var w={type:"xml",cache:d.cacheManager.xml,extension:x,responseType:"text",key:v,url:p,xhrSettings:m};f.call(this,d,w)},onProcess:function(){this.state=y.FILE_PROCESSING,this.data=a(this.xhrLoader.responseText),this.data?this.onProcessComplete():this.onProcessError()}});l.register("xml",function(r,d,v){if(Array.isArray(r))for(var p=0;p<r.length;p++)this.addFile(new c(this,r[p]));else this.addFile(new c(this,r,d,v));return this}),h.exports=c},64589:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={AnimationJSONFile:e(14135),AsepriteFile:e(76272),AtlasJSONFile:e(38734),AtlasXMLFile:e(74599),AudioFile:e(21097),AudioSpriteFile:e(89524),BinaryFile:e(85722),BitmapFontFile:e(97025),CompressedTextureFile:e(69559),CSSFile:e(16024),FontFile:e(87674),GLSLFile:e(47931),HTML5AudioFile:e(89749),HTMLFile:e(88470),HTMLTextureFile:e(14643),ImageFile:e(19550),JSONFile:e(518),MultiAtlasFile:e(59327),MultiScriptFile:e(99297),OBJFile:e(41846),PackFile:e(58610),PluginFile:e(48988),SceneFile:e(88423),ScenePluginFile:e(56812),ScriptFile:e(34328),SpriteSheetFile:e(85035),SVGFile:e(67397),TextFile:e(78776),TilemapCSVFile:e(49477),TilemapImpactFile:e(40807),TilemapJSONFile:e(56775),UnityAtlasFile:e(25771),VideoFile:e(33720),XMLFile:e(57318)}},57777:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(23906),y=e(79291),f={Events:e(54899),FileTypes:e(64589),File:e(41299),FileTypesManager:e(74099),GetURL:e(98356),LoaderPlugin:e(74261),MergeXHRSettings:e(3374),MultiFile:e(26430),XHRLoader:e(84376),XHRSettings:e(92638)};f=y(!1,f,u),h.exports=f},53307:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e){for(var u=0,y=0;y<e.length;y++)u+=+e[y];return u/e.length};h.exports=S},85710:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(6411),y=function(f,l){return u(f)/u(l)/u(f-l)};h.exports=y},30976:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u){return Math.floor(Math.random()*(u-e+1)+e)};h.exports=S},87842:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u,y,f,l){var o=(f-u)*.5,s=(l-y)*.5,a=e*e,c=e*a;return(2*y-2*f+o+s)*c+(-3*y+3*f-2*o-s)*a+o*e+y};h.exports=S},26302:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u,y){u===void 0&&(u=0),y===void 0&&(y=10);var f=Math.pow(y,-u);return Math.ceil(e*f)/f};h.exports=S},45319:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u,y){return Math.max(u,Math.min(y,e))};h.exports=S},39506:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(36383),y=function(f){return f*u.DEG_TO_RAD};h.exports=y},61241:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u){return Math.abs(e-u)};h.exports=S},38857:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(45319),y=e(83419),f=e(37867),l=e(29747),o=new f,s=new y({initialize:function a(c,r,d,v){c===void 0&&(c=0),r===void 0&&(r=0),d===void 0&&(d=0),v===void 0&&(v=a.DefaultOrder),this._x=c,this._y=r,this._z=d,this._order=v,this.onChangeCallback=l},x:{get:function(){return this._x},set:function(a){this._x=a,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(a){this._y=a,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(a){this._z=a,this.onChangeCallback(this)}},order:{get:function(){return this._order},set:function(a){this._order=a,this.onChangeCallback(this)}},set:function(a,c,r,d){return d===void 0&&(d=this._order),this._x=a,this._y=c,this._z=r,this._order=d,this.onChangeCallback(this),this},copy:function(a){return this.set(a.x,a.y,a.z,a.order)},setFromQuaternion:function(a,c,r){return c===void 0&&(c=this._order),r===void 0&&(r=!1),o.fromQuat(a),this.setFromRotationMatrix(o,c,r)},setFromRotationMatrix:function(a,c,r){c===void 0&&(c=this._order),r===void 0&&(r=!1);var d=a.val,v=d[0],p=d[4],m=d[8],x=d[1],E=d[5],w=d[9],C=d[2],P=d[6],R=d[10],M=0,I=0,D=0,L=.99999;switch(c){case"XYZ":{I=Math.asin(u(m,-1,1)),Math.abs(m)<L?(M=Math.atan2(-w,R),D=Math.atan2(-p,v)):M=Math.atan2(P,E);break}case"YXZ":{M=Math.asin(-u(w,-1,1)),Math.abs(w)<L?(I=Math.atan2(m,R),D=Math.atan2(x,E)):I=Math.atan2(-C,v);break}case"ZXY":{M=Math.asin(u(P,-1,1)),Math.abs(P)<L?(I=Math.atan2(-C,R),D=Math.atan2(-p,E)):D=Math.atan2(x,v);break}case"ZYX":{I=Math.asin(-u(C,-1,1)),Math.abs(C)<L?(M=Math.atan2(P,R),D=Math.atan2(x,v)):D=Math.atan2(-p,E);break}case"YZX":{D=Math.asin(u(x,-1,1)),Math.abs(x)<L?(M=Math.atan2(-w,E),I=Math.atan2(-C,v)):I=Math.atan2(m,R);break}case"XZY":{D=Math.asin(-u(p,-1,1)),Math.abs(p)<L?(M=Math.atan2(P,E),I=Math.atan2(m,v)):M=Math.atan2(-w,R);break}}return this._x=M,this._y=I,this._z=D,this._order=c,r&&this.onChangeCallback(this),this}});s.RotationOrders=["XYZ","YXZ","ZXY","ZYX","YZX","XZY"],s.DefaultOrder="XYZ",h.exports=s},6411:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e){if(e===0)return 1;for(var u=e;--e;)u*=e;return u};h.exports=S},99472:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u){return Math.random()*(u-e)+e};h.exports=S},77623:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u,y){u===void 0&&(u=0),y===void 0&&(y=10);var f=Math.pow(y,-u);return Math.floor(e*f)/f};h.exports=S},62945:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(45319),y=function(f,l,o){return f=u(f,0,1),(o-l)*f+l};h.exports=y},38265:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u){return e/u/1e3};h.exports=S},78702:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e){return e==parseFloat(e)?!(e%2):void 0};h.exports=S},94883:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e){return e===parseFloat(e)?!(e%2):void 0};h.exports=S},28915:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u,y){return(u-e)*y+e};h.exports=S},94908:h=>{/**
 * @author       Greg McLean <GregDevProjects>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u,y){return y===void 0&&(y=0),e.clone().lerp(u,y)};h.exports=S},94434:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=new u({initialize:function(l){this.val=new Float32Array(9),l?this.copy(l):this.identity()},clone:function(){return new y(this)},set:function(f){return this.copy(f)},copy:function(f){var l=this.val,o=f.val;return l[0]=o[0],l[1]=o[1],l[2]=o[2],l[3]=o[3],l[4]=o[4],l[5]=o[5],l[6]=o[6],l[7]=o[7],l[8]=o[8],this},fromMat4:function(f){var l=f.val,o=this.val;return o[0]=l[0],o[1]=l[1],o[2]=l[2],o[3]=l[4],o[4]=l[5],o[5]=l[6],o[6]=l[8],o[7]=l[9],o[8]=l[10],this},fromArray:function(f){var l=this.val;return l[0]=f[0],l[1]=f[1],l[2]=f[2],l[3]=f[3],l[4]=f[4],l[5]=f[5],l[6]=f[6],l[7]=f[7],l[8]=f[8],this},identity:function(){var f=this.val;return f[0]=1,f[1]=0,f[2]=0,f[3]=0,f[4]=1,f[5]=0,f[6]=0,f[7]=0,f[8]=1,this},transpose:function(){var f=this.val,l=f[1],o=f[2],s=f[5];return f[1]=f[3],f[2]=f[6],f[3]=l,f[5]=f[7],f[6]=o,f[7]=s,this},invert:function(){var f=this.val,l=f[0],o=f[1],s=f[2],a=f[3],c=f[4],r=f[5],d=f[6],v=f[7],p=f[8],m=p*c-r*v,x=-p*a+r*d,E=v*a-c*d,w=l*m+o*x+s*E;return w?(w=1/w,f[0]=m*w,f[1]=(-p*o+s*v)*w,f[2]=(r*o-s*c)*w,f[3]=x*w,f[4]=(p*l-s*d)*w,f[5]=(-r*l+s*a)*w,f[6]=E*w,f[7]=(-v*l+o*d)*w,f[8]=(c*l-o*a)*w,this):null},adjoint:function(){var f=this.val,l=f[0],o=f[1],s=f[2],a=f[3],c=f[4],r=f[5],d=f[6],v=f[7],p=f[8];return f[0]=c*p-r*v,f[1]=s*v-o*p,f[2]=o*r-s*c,f[3]=r*d-a*p,f[4]=l*p-s*d,f[5]=s*a-l*r,f[6]=a*v-c*d,f[7]=o*d-l*v,f[8]=l*c-o*a,this},determinant:function(){var f=this.val,l=f[0],o=f[1],s=f[2],a=f[3],c=f[4],r=f[5],d=f[6],v=f[7],p=f[8];return l*(p*c-r*v)+o*(-p*a+r*d)+s*(v*a-c*d)},multiply:function(f){var l=this.val,o=l[0],s=l[1],a=l[2],c=l[3],r=l[4],d=l[5],v=l[6],p=l[7],m=l[8],x=f.val,E=x[0],w=x[1],C=x[2],P=x[3],R=x[4],M=x[5],I=x[6],D=x[7],L=x[8];return l[0]=E*o+w*c+C*v,l[1]=E*s+w*r+C*p,l[2]=E*a+w*d+C*m,l[3]=P*o+R*c+M*v,l[4]=P*s+R*r+M*p,l[5]=P*a+R*d+M*m,l[6]=I*o+D*c+L*v,l[7]=I*s+D*r+L*p,l[8]=I*a+D*d+L*m,this},translate:function(f){var l=this.val,o=f.x,s=f.y;return l[6]=o*l[0]+s*l[3]+l[6],l[7]=o*l[1]+s*l[4]+l[7],l[8]=o*l[2]+s*l[5]+l[8],this},rotate:function(f){var l=this.val,o=l[0],s=l[1],a=l[2],c=l[3],r=l[4],d=l[5],v=Math.sin(f),p=Math.cos(f);return l[0]=p*o+v*c,l[1]=p*s+v*r,l[2]=p*a+v*d,l[3]=p*c-v*o,l[4]=p*r-v*s,l[5]=p*d-v*a,this},scale:function(f){var l=this.val,o=f.x,s=f.y;return l[0]=o*l[0],l[1]=o*l[1],l[2]=o*l[2],l[3]=s*l[3],l[4]=s*l[4],l[5]=s*l[5],this},fromQuat:function(f){var l=f.x,o=f.y,s=f.z,a=f.w,c=l+l,r=o+o,d=s+s,v=l*c,p=l*r,m=l*d,x=o*r,E=o*d,w=s*d,C=a*c,P=a*r,R=a*d,M=this.val;return M[0]=1-(x+w),M[3]=p+R,M[6]=m-P,M[1]=p-R,M[4]=1-(v+w),M[7]=E+C,M[2]=m+P,M[5]=E-C,M[8]=1-(v+x),this},normalFromMat4:function(f){var l=f.val,o=this.val,s=l[0],a=l[1],c=l[2],r=l[3],d=l[4],v=l[5],p=l[6],m=l[7],x=l[8],E=l[9],w=l[10],C=l[11],P=l[12],R=l[13],M=l[14],I=l[15],D=s*v-a*d,L=s*p-c*d,F=s*m-r*d,O=a*p-c*v,N=a*m-r*v,b=c*m-r*p,V=x*R-E*P,Y=x*M-w*P,W=x*I-C*P,U=E*M-w*R,z=E*I-C*R,B=w*I-C*M,X=D*B-L*z+F*U+O*W-N*Y+b*V;return X?(X=1/X,o[0]=(v*B-p*z+m*U)*X,o[1]=(p*W-d*B-m*Y)*X,o[2]=(d*z-v*W+m*V)*X,o[3]=(c*z-a*B-r*U)*X,o[4]=(s*B-c*W+r*Y)*X,o[5]=(a*W-s*z-r*V)*X,o[6]=(R*b-M*N+I*O)*X,o[7]=(M*F-P*b-I*L)*X,o[8]=(P*N-R*F+I*D)*X,this):null}});h.exports=y},37867:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(25836),f=1e-6,l=new u({initialize:function(v){this.val=new Float32Array(16),v?this.copy(v):this.identity()},clone:function(){return new l(this)},set:function(d){return this.copy(d)},setValues:function(d,v,p,m,x,E,w,C,P,R,M,I,D,L,F,O){var N=this.val;return N[0]=d,N[1]=v,N[2]=p,N[3]=m,N[4]=x,N[5]=E,N[6]=w,N[7]=C,N[8]=P,N[9]=R,N[10]=M,N[11]=I,N[12]=D,N[13]=L,N[14]=F,N[15]=O,this},copy:function(d){var v=d.val;return this.setValues(v[0],v[1],v[2],v[3],v[4],v[5],v[6],v[7],v[8],v[9],v[10],v[11],v[12],v[13],v[14],v[15])},fromArray:function(d){return this.setValues(d[0],d[1],d[2],d[3],d[4],d[5],d[6],d[7],d[8],d[9],d[10],d[11],d[12],d[13],d[14],d[15])},zero:function(){return this.setValues(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)},transform:function(d,v,p){var m=o.fromQuat(p),x=m.val,E=v.x,w=v.y,C=v.z;return this.setValues(x[0]*E,x[1]*E,x[2]*E,0,x[4]*w,x[5]*w,x[6]*w,0,x[8]*C,x[9]*C,x[10]*C,0,d.x,d.y,d.z,1)},xyz:function(d,v,p){this.identity();var m=this.val;return m[12]=d,m[13]=v,m[14]=p,this},scaling:function(d,v,p){this.zero();var m=this.val;return m[0]=d,m[5]=v,m[10]=p,m[15]=1,this},identity:function(){return this.setValues(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)},transpose:function(){var d=this.val,v=d[1],p=d[2],m=d[3],x=d[6],E=d[7],w=d[11];return d[1]=d[4],d[2]=d[8],d[3]=d[12],d[4]=v,d[6]=d[9],d[7]=d[13],d[8]=p,d[9]=x,d[11]=d[14],d[12]=m,d[13]=E,d[14]=w,this},getInverse:function(d){return this.copy(d),this.invert()},invert:function(){var d=this.val,v=d[0],p=d[1],m=d[2],x=d[3],E=d[4],w=d[5],C=d[6],P=d[7],R=d[8],M=d[9],I=d[10],D=d[11],L=d[12],F=d[13],O=d[14],N=d[15],b=v*w-p*E,V=v*C-m*E,Y=v*P-x*E,W=p*C-m*w,U=p*P-x*w,z=m*P-x*C,B=R*F-M*L,X=R*O-I*L,G=R*N-D*L,H=M*O-I*F,$=M*N-D*F,k=I*N-D*O,j=b*k-V*$+Y*H+W*G-U*X+z*B;return j?(j=1/j,this.setValues((w*k-C*$+P*H)*j,(m*$-p*k-x*H)*j,(F*z-O*U+N*W)*j,(I*U-M*z-D*W)*j,(C*G-E*k-P*X)*j,(v*k-m*G+x*X)*j,(O*Y-L*z-N*V)*j,(R*z-I*Y+D*V)*j,(E*$-w*G+P*B)*j,(p*G-v*$-x*B)*j,(L*U-F*Y+N*b)*j,(M*Y-R*U-D*b)*j,(w*X-E*H-C*B)*j,(v*H-p*X+m*B)*j,(F*V-L*W-O*b)*j,(R*W-M*V+I*b)*j)):this},adjoint:function(){var d=this.val,v=d[0],p=d[1],m=d[2],x=d[3],E=d[4],w=d[5],C=d[6],P=d[7],R=d[8],M=d[9],I=d[10],D=d[11],L=d[12],F=d[13],O=d[14],N=d[15];return this.setValues(w*(I*N-D*O)-M*(C*N-P*O)+F*(C*D-P*I),-(p*(I*N-D*O)-M*(m*N-x*O)+F*(m*D-x*I)),p*(C*N-P*O)-w*(m*N-x*O)+F*(m*P-x*C),-(p*(C*D-P*I)-w*(m*D-x*I)+M*(m*P-x*C)),-(E*(I*N-D*O)-R*(C*N-P*O)+L*(C*D-P*I)),v*(I*N-D*O)-R*(m*N-x*O)+L*(m*D-x*I),-(v*(C*N-P*O)-E*(m*N-x*O)+L*(m*P-x*C)),v*(C*D-P*I)-E*(m*D-x*I)+R*(m*P-x*C),E*(M*N-D*F)-R*(w*N-P*F)+L*(w*D-P*M),-(v*(M*N-D*F)-R*(p*N-x*F)+L*(p*D-x*M)),v*(w*N-P*F)-E*(p*N-x*F)+L*(p*P-x*w),-(v*(w*D-P*M)-E*(p*D-x*M)+R*(p*P-x*w)),-(E*(M*O-I*F)-R*(w*O-C*F)+L*(w*I-C*M)),v*(M*O-I*F)-R*(p*O-m*F)+L*(p*I-m*M),-(v*(w*O-C*F)-E*(p*O-m*F)+L*(p*C-m*w)),v*(w*I-C*M)-E*(p*I-m*M)+R*(p*C-m*w))},determinant:function(){var d=this.val,v=d[0],p=d[1],m=d[2],x=d[3],E=d[4],w=d[5],C=d[6],P=d[7],R=d[8],M=d[9],I=d[10],D=d[11],L=d[12],F=d[13],O=d[14],N=d[15],b=v*w-p*E,V=v*C-m*E,Y=v*P-x*E,W=p*C-m*w,U=p*P-x*w,z=m*P-x*C,B=R*F-M*L,X=R*O-I*L,G=R*N-D*L,H=M*O-I*F,$=M*N-D*F,k=I*N-D*O;return b*k-V*$+Y*H+W*G-U*X+z*B},multiply:function(d){var v=this.val,p=v[0],m=v[1],x=v[2],E=v[3],w=v[4],C=v[5],P=v[6],R=v[7],M=v[8],I=v[9],D=v[10],L=v[11],F=v[12],O=v[13],N=v[14],b=v[15],V=d.val,Y=V[0],W=V[1],U=V[2],z=V[3];return v[0]=Y*p+W*w+U*M+z*F,v[1]=Y*m+W*C+U*I+z*O,v[2]=Y*x+W*P+U*D+z*N,v[3]=Y*E+W*R+U*L+z*b,Y=V[4],W=V[5],U=V[6],z=V[7],v[4]=Y*p+W*w+U*M+z*F,v[5]=Y*m+W*C+U*I+z*O,v[6]=Y*x+W*P+U*D+z*N,v[7]=Y*E+W*R+U*L+z*b,Y=V[8],W=V[9],U=V[10],z=V[11],v[8]=Y*p+W*w+U*M+z*F,v[9]=Y*m+W*C+U*I+z*O,v[10]=Y*x+W*P+U*D+z*N,v[11]=Y*E+W*R+U*L+z*b,Y=V[12],W=V[13],U=V[14],z=V[15],v[12]=Y*p+W*w+U*M+z*F,v[13]=Y*m+W*C+U*I+z*O,v[14]=Y*x+W*P+U*D+z*N,v[15]=Y*E+W*R+U*L+z*b,this},multiplyLocal:function(d){var v=this.val,p=d.val;return this.setValues(v[0]*p[0]+v[1]*p[4]+v[2]*p[8]+v[3]*p[12],v[0]*p[1]+v[1]*p[5]+v[2]*p[9]+v[3]*p[13],v[0]*p[2]+v[1]*p[6]+v[2]*p[10]+v[3]*p[14],v[0]*p[3]+v[1]*p[7]+v[2]*p[11]+v[3]*p[15],v[4]*p[0]+v[5]*p[4]+v[6]*p[8]+v[7]*p[12],v[4]*p[1]+v[5]*p[5]+v[6]*p[9]+v[7]*p[13],v[4]*p[2]+v[5]*p[6]+v[6]*p[10]+v[7]*p[14],v[4]*p[3]+v[5]*p[7]+v[6]*p[11]+v[7]*p[15],v[8]*p[0]+v[9]*p[4]+v[10]*p[8]+v[11]*p[12],v[8]*p[1]+v[9]*p[5]+v[10]*p[9]+v[11]*p[13],v[8]*p[2]+v[9]*p[6]+v[10]*p[10]+v[11]*p[14],v[8]*p[3]+v[9]*p[7]+v[10]*p[11]+v[11]*p[15],v[12]*p[0]+v[13]*p[4]+v[14]*p[8]+v[15]*p[12],v[12]*p[1]+v[13]*p[5]+v[14]*p[9]+v[15]*p[13],v[12]*p[2]+v[13]*p[6]+v[14]*p[10]+v[15]*p[14],v[12]*p[3]+v[13]*p[7]+v[14]*p[11]+v[15]*p[15])},premultiply:function(d){return this.multiplyMatrices(d,this)},multiplyMatrices:function(d,v){var p=d.val,m=v.val,x=p[0],E=p[4],w=p[8],C=p[12],P=p[1],R=p[5],M=p[9],I=p[13],D=p[2],L=p[6],F=p[10],O=p[14],N=p[3],b=p[7],V=p[11],Y=p[15],W=m[0],U=m[4],z=m[8],B=m[12],X=m[1],G=m[5],H=m[9],$=m[13],k=m[2],j=m[6],Q=m[10],J=m[14],q=m[3],Z=m[7],it=m[11],rt=m[15];return this.setValues(x*W+E*X+w*k+C*q,P*W+R*X+M*k+I*q,D*W+L*X+F*k+O*q,N*W+b*X+V*k+Y*q,x*U+E*G+w*j+C*Z,P*U+R*G+M*j+I*Z,D*U+L*G+F*j+O*Z,N*U+b*G+V*j+Y*Z,x*z+E*H+w*Q+C*it,P*z+R*H+M*Q+I*it,D*z+L*H+F*Q+O*it,N*z+b*H+V*Q+Y*it,x*B+E*$+w*J+C*rt,P*B+R*$+M*J+I*rt,D*B+L*$+F*J+O*rt,N*B+b*$+V*J+Y*rt)},translate:function(d){return this.translateXYZ(d.x,d.y,d.z)},translateXYZ:function(d,v,p){var m=this.val;return m[12]=m[0]*d+m[4]*v+m[8]*p+m[12],m[13]=m[1]*d+m[5]*v+m[9]*p+m[13],m[14]=m[2]*d+m[6]*v+m[10]*p+m[14],m[15]=m[3]*d+m[7]*v+m[11]*p+m[15],this},scale:function(d){return this.scaleXYZ(d.x,d.y,d.z)},scaleXYZ:function(d,v,p){var m=this.val;return m[0]=m[0]*d,m[1]=m[1]*d,m[2]=m[2]*d,m[3]=m[3]*d,m[4]=m[4]*v,m[5]=m[5]*v,m[6]=m[6]*v,m[7]=m[7]*v,m[8]=m[8]*p,m[9]=m[9]*p,m[10]=m[10]*p,m[11]=m[11]*p,this},makeRotationAxis:function(d,v){var p=Math.cos(v),m=Math.sin(v),x=1-p,E=d.x,w=d.y,C=d.z,P=x*E,R=x*w;return this.setValues(P*E+p,P*w-m*C,P*C+m*w,0,P*w+m*C,R*w+p,R*C-m*E,0,P*C-m*w,R*C+m*E,x*C*C+p,0,0,0,0,1)},rotate:function(d,v){var p=this.val,m=v.x,x=v.y,E=v.z,w=Math.sqrt(m*m+x*x+E*E);if(Math.abs(w)<f)return this;w=1/w,m*=w,x*=w,E*=w;var C=Math.sin(d),P=Math.cos(d),R=1-P,M=p[0],I=p[1],D=p[2],L=p[3],F=p[4],O=p[5],N=p[6],b=p[7],V=p[8],Y=p[9],W=p[10],U=p[11],z=p[12],B=p[13],X=p[14],G=p[15],H=m*m*R+P,$=x*m*R+E*C,k=E*m*R-x*C,j=m*x*R-E*C,Q=x*x*R+P,J=E*x*R+m*C,q=m*E*R+x*C,Z=x*E*R-m*C,it=E*E*R+P;return this.setValues(M*H+F*$+V*k,I*H+O*$+Y*k,D*H+N*$+W*k,L*H+b*$+U*k,M*j+F*Q+V*J,I*j+O*Q+Y*J,D*j+N*Q+W*J,L*j+b*Q+U*J,M*q+F*Z+V*it,I*q+O*Z+Y*it,D*q+N*Z+W*it,L*q+b*Z+U*it,z,B,X,G)},rotateX:function(d){var v=this.val,p=Math.sin(d),m=Math.cos(d),x=v[4],E=v[5],w=v[6],C=v[7],P=v[8],R=v[9],M=v[10],I=v[11];return v[4]=x*m+P*p,v[5]=E*m+R*p,v[6]=w*m+M*p,v[7]=C*m+I*p,v[8]=P*m-x*p,v[9]=R*m-E*p,v[10]=M*m-w*p,v[11]=I*m-C*p,this},rotateY:function(d){var v=this.val,p=Math.sin(d),m=Math.cos(d),x=v[0],E=v[1],w=v[2],C=v[3],P=v[8],R=v[9],M=v[10],I=v[11];return v[0]=x*m-P*p,v[1]=E*m-R*p,v[2]=w*m-M*p,v[3]=C*m-I*p,v[8]=x*p+P*m,v[9]=E*p+R*m,v[10]=w*p+M*m,v[11]=C*p+I*m,this},rotateZ:function(d){var v=this.val,p=Math.sin(d),m=Math.cos(d),x=v[0],E=v[1],w=v[2],C=v[3],P=v[4],R=v[5],M=v[6],I=v[7];return v[0]=x*m+P*p,v[1]=E*m+R*p,v[2]=w*m+M*p,v[3]=C*m+I*p,v[4]=P*m-x*p,v[5]=R*m-E*p,v[6]=M*m-w*p,v[7]=I*m-C*p,this},fromRotationTranslation:function(d,v){var p=d.x,m=d.y,x=d.z,E=d.w,w=p+p,C=m+m,P=x+x,R=p*w,M=p*C,I=p*P,D=m*C,L=m*P,F=x*P,O=E*w,N=E*C,b=E*P;return this.setValues(1-(D+F),M+b,I-N,0,M-b,1-(R+F),L+O,0,I+N,L-O,1-(R+D),0,v.x,v.y,v.z,1)},fromQuat:function(d){var v=d.x,p=d.y,m=d.z,x=d.w,E=v+v,w=p+p,C=m+m,P=v*E,R=v*w,M=v*C,I=p*w,D=p*C,L=m*C,F=x*E,O=x*w,N=x*C;return this.setValues(1-(I+L),R+N,M-O,0,R-N,1-(P+L),D+F,0,M+O,D-F,1-(P+I),0,0,0,0,1)},frustum:function(d,v,p,m,x,E){var w=1/(v-d),C=1/(m-p),P=1/(x-E);return this.setValues(x*2*w,0,0,0,0,x*2*C,0,0,(v+d)*w,(m+p)*C,(E+x)*P,-1,0,0,E*x*2*P,0)},perspective:function(d,v,p,m){var x=1/Math.tan(d/2),E=1/(p-m);return this.setValues(x/v,0,0,0,0,x,0,0,0,0,(m+p)*E,-1,0,0,2*m*p*E,0)},perspectiveLH:function(d,v,p,m){return this.setValues(2*p/d,0,0,0,0,2*p/v,0,0,0,0,-m/(p-m),1,0,0,p*m/(p-m),0)},ortho:function(d,v,p,m,x,E){var w=d-v,C=p-m,P=x-E;return w=w===0?w:1/w,C=C===0?C:1/C,P=P===0?P:1/P,this.setValues(-2*w,0,0,0,0,-2*C,0,0,0,0,2*P,0,(d+v)*w,(m+p)*C,(E+x)*P,1)},lookAtRH:function(d,v,p){var m=this.val;return r.subVectors(d,v),r.lengthSq()===0&&(r.z=1),r.normalize(),a.crossVectors(p,r),a.lengthSq()===0&&(Math.abs(p.z)===1?r.x+=1e-4:r.z+=1e-4,r.normalize(),a.crossVectors(p,r)),a.normalize(),c.crossVectors(r,a),m[0]=a.x,m[1]=a.y,m[2]=a.z,m[4]=c.x,m[5]=c.y,m[6]=c.z,m[8]=r.x,m[9]=r.y,m[10]=r.z,this},lookAt:function(d,v,p){var m=d.x,x=d.y,E=d.z,w=p.x,C=p.y,P=p.z,R=v.x,M=v.y,I=v.z;if(Math.abs(m-R)<f&&Math.abs(x-M)<f&&Math.abs(E-I)<f)return this.identity();var D=m-R,L=x-M,F=E-I,O=1/Math.sqrt(D*D+L*L+F*F);D*=O,L*=O,F*=O;var N=C*F-P*L,b=P*D-w*F,V=w*L-C*D;O=Math.sqrt(N*N+b*b+V*V),O?(O=1/O,N*=O,b*=O,V*=O):(N=0,b=0,V=0);var Y=L*V-F*b,W=F*N-D*V,U=D*b-L*N;return O=Math.sqrt(Y*Y+W*W+U*U),O?(O=1/O,Y*=O,W*=O,U*=O):(Y=0,W=0,U=0),this.setValues(N,Y,D,0,b,W,L,0,V,U,F,0,-(N*m+b*x+V*E),-(Y*m+W*x+U*E),-(D*m+L*x+F*E),1)},yawPitchRoll:function(d,v,p){this.zero(),o.zero(),s.zero();var m=this.val,x=o.val,E=s.val,w=Math.sin(p),C=Math.cos(p);return m[10]=1,m[15]=1,m[0]=C,m[1]=w,m[4]=-w,m[5]=C,w=Math.sin(v),C=Math.cos(v),x[0]=1,x[15]=1,x[5]=C,x[10]=C,x[9]=-w,x[6]=w,w=Math.sin(d),C=Math.cos(d),E[5]=1,E[15]=1,E[0]=C,E[2]=-w,E[8]=w,E[10]=C,this.multiplyLocal(o),this.multiplyLocal(s),this},setWorldMatrix:function(d,v,p,m,x){return this.yawPitchRoll(d.y,d.x,d.z),o.scaling(p.x,p.y,p.z),s.xyz(v.x,v.y,v.z),this.multiplyLocal(o),this.multiplyLocal(s),m&&this.multiplyLocal(m),x&&this.multiplyLocal(x),this},multiplyToMat4:function(d,v){var p=this.val,m=d.val,x=p[0],E=p[1],w=p[2],C=p[3],P=p[4],R=p[5],M=p[6],I=p[7],D=p[8],L=p[9],F=p[10],O=p[11],N=p[12],b=p[13],V=p[14],Y=p[15],W=m[0],U=m[1],z=m[2],B=m[3],X=m[4],G=m[5],H=m[6],$=m[7],k=m[8],j=m[9],Q=m[10],J=m[11],q=m[12],Z=m[13],it=m[14],rt=m[15];return v.setValues(W*x+U*P+z*D+B*N,U*E+U*R+z*L+B*b,z*w+U*M+z*F+B*V,B*C+U*I+z*O+B*Y,X*x+G*P+H*D+$*N,X*E+G*R+H*L+$*b,X*w+G*M+H*F+$*V,X*C+G*I+H*O+$*Y,k*x+j*P+Q*D+J*N,k*E+j*R+Q*L+J*b,k*w+j*M+Q*F+J*V,k*C+j*I+Q*O+J*Y,q*x+Z*P+it*D+rt*N,q*E+Z*R+it*L+rt*b,q*w+Z*M+it*F+rt*V,q*C+Z*I+it*O+rt*Y)},fromRotationXYTranslation:function(d,v,p){var m=v.x,x=v.y,E=v.z,w=Math.sin(d.x),C=Math.cos(d.x),P=Math.sin(d.y),R=Math.cos(d.y),M=m,I=x,D=E,L=-w,F=0-L*P,O=0-C*P,N=L*R,b=C*R;return p||(M=R*m+P*E,I=F*m+C*x+N*E,D=O*m+w*x+b*E),this.setValues(R,F,O,0,0,C,w,0,P,N,b,0,M,I,D,1)},getMaxScaleOnAxis:function(){var d=this.val,v=d[0]*d[0]+d[1]*d[1]+d[2]*d[2],p=d[4]*d[4]+d[5]*d[5]+d[6]*d[6],m=d[8]*d[8]+d[9]*d[9]+d[10]*d[10];return Math.sqrt(Math.max(v,p,m))}}),o=new l,s=new l,a=new y,c=new y,r=new y;h.exports=l},86883:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u,y){return Math.min(e+u,y)};h.exports=S},50040:h=>{/**
 * @author       Vladislav Forsh <vlad@robowhale.com>
 * @copyright    2021 RoboWhale
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e){var u=e.length;if(u===0)return 0;e.sort(function(f,l){return f-l});var y=Math.floor(u/2);return u%2===0?(e[y]+e[y-1])/2:e[y]};h.exports=S},37204:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u,y){return Math.max(e-u,y)};h.exports=S},65201:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u,y,f){y===void 0&&(y=u+1);var l=(e-u)/(y-u);return l>1?f!==void 0?(l=(f-e)/(f-y),l<0&&(l=0)):l=1:l<0&&(l=0),l};h.exports=S},15746:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(94434),f=e(29747),l=e(25836),o=1e-6,s=new Int8Array([1,2,0]),a=new Float32Array([0,0,0]),c=new l(1,0,0),r=new l(0,1,0),d=new l,v=new y,p=new u({initialize:function(x,E,w,C){this.onChangeCallback=f,this.set(x,E,w,C)},x:{get:function(){return this._x},set:function(m){this._x=m,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(m){this._y=m,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(m){this._z=m,this.onChangeCallback(this)}},w:{get:function(){return this._w},set:function(m){this._w=m,this.onChangeCallback(this)}},copy:function(m){return this.set(m)},set:function(m,x,E,w,C){return C===void 0&&(C=!0),typeof m=="object"?(this._x=m.x||0,this._y=m.y||0,this._z=m.z||0,this._w=m.w||0):(this._x=m||0,this._y=x||0,this._z=E||0,this._w=w||0),C&&this.onChangeCallback(this),this},add:function(m){return this._x+=m.x,this._y+=m.y,this._z+=m.z,this._w+=m.w,this.onChangeCallback(this),this},subtract:function(m){return this._x-=m.x,this._y-=m.y,this._z-=m.z,this._w-=m.w,this.onChangeCallback(this),this},scale:function(m){return this._x*=m,this._y*=m,this._z*=m,this._w*=m,this.onChangeCallback(this),this},length:function(){var m=this.x,x=this.y,E=this.z,w=this.w;return Math.sqrt(m*m+x*x+E*E+w*w)},lengthSq:function(){var m=this.x,x=this.y,E=this.z,w=this.w;return m*m+x*x+E*E+w*w},normalize:function(){var m=this.x,x=this.y,E=this.z,w=this.w,C=m*m+x*x+E*E+w*w;return C>0&&(C=1/Math.sqrt(C),this._x=m*C,this._y=x*C,this._z=E*C,this._w=w*C),this.onChangeCallback(this),this},dot:function(m){return this.x*m.x+this.y*m.y+this.z*m.z+this.w*m.w},lerp:function(m,x){x===void 0&&(x=0);var E=this.x,w=this.y,C=this.z,P=this.w;return this.set(E+x*(m.x-E),w+x*(m.y-w),C+x*(m.z-C),P+x*(m.w-P))},rotationTo:function(m,x){var E=m.x*x.x+m.y*x.y+m.z*x.z;return E<-.999999?(d.copy(c).cross(m).length()<o&&d.copy(r).cross(m),d.normalize(),this.setAxisAngle(d,Math.PI)):E>.999999?this.set(0,0,0,1):(d.copy(m).cross(x),this._x=d.x,this._y=d.y,this._z=d.z,this._w=1+E,this.normalize())},setAxes:function(m,x,E){var w=v.val;return w[0]=x.x,w[3]=x.y,w[6]=x.z,w[1]=E.x,w[4]=E.y,w[7]=E.z,w[2]=-m.x,w[5]=-m.y,w[8]=-m.z,this.fromMat3(v).normalize()},identity:function(){return this.set(0,0,0,1)},setAxisAngle:function(m,x){x=x*.5;var E=Math.sin(x);return this.set(E*m.x,E*m.y,E*m.z,Math.cos(x))},multiply:function(m){var x=this.x,E=this.y,w=this.z,C=this.w,P=m.x,R=m.y,M=m.z,I=m.w;return this.set(x*I+C*P+E*M-w*R,E*I+C*R+w*P-x*M,w*I+C*M+x*R-E*P,C*I-x*P-E*R-w*M)},slerp:function(m,x){var E=this.x,w=this.y,C=this.z,P=this.w,R=m.x,M=m.y,I=m.z,D=m.w,L=E*R+w*M+C*I+P*D;L<0&&(L=-L,R=-R,M=-M,I=-I,D=-D);var F=1-x,O=x;if(1-L>o){var N=Math.acos(L),b=Math.sin(N);F=Math.sin((1-x)*N)/b,O=Math.sin(x*N)/b}return this.set(F*E+O*R,F*w+O*M,F*C+O*I,F*P+O*D)},invert:function(){var m=this.x,x=this.y,E=this.z,w=this.w,C=m*m+x*x+E*E+w*w,P=C?1/C:0;return this.set(-m*P,-x*P,-E*P,w*P)},conjugate:function(){return this._x=-this.x,this._y=-this.y,this._z=-this.z,this.onChangeCallback(this),this},rotateX:function(m){m*=.5;var x=this.x,E=this.y,w=this.z,C=this.w,P=Math.sin(m),R=Math.cos(m);return this.set(x*R+C*P,E*R+w*P,w*R-E*P,C*R-x*P)},rotateY:function(m){m*=.5;var x=this.x,E=this.y,w=this.z,C=this.w,P=Math.sin(m),R=Math.cos(m);return this.set(x*R-w*P,E*R+C*P,w*R+x*P,C*R-E*P)},rotateZ:function(m){m*=.5;var x=this.x,E=this.y,w=this.z,C=this.w,P=Math.sin(m),R=Math.cos(m);return this.set(x*R+E*P,E*R-x*P,w*R+C*P,C*R-w*P)},calculateW:function(){var m=this.x,x=this.y,E=this.z;return this.w=-Math.sqrt(1-m*m-x*x-E*E),this},setFromEuler:function(m,x){var E=m.x/2,w=m.y/2,C=m.z/2,P=Math.cos(E),R=Math.cos(w),M=Math.cos(C),I=Math.sin(E),D=Math.sin(w),L=Math.sin(C);switch(m.order){case"XYZ":{this.set(I*R*M+P*D*L,P*D*M-I*R*L,P*R*L+I*D*M,P*R*M-I*D*L,x);break}case"YXZ":{this.set(I*R*M+P*D*L,P*D*M-I*R*L,P*R*L-I*D*M,P*R*M+I*D*L,x);break}case"ZXY":{this.set(I*R*M-P*D*L,P*D*M+I*R*L,P*R*L+I*D*M,P*R*M-I*D*L,x);break}case"ZYX":{this.set(I*R*M-P*D*L,P*D*M+I*R*L,P*R*L-I*D*M,P*R*M+I*D*L,x);break}case"YZX":{this.set(I*R*M+P*D*L,P*D*M+I*R*L,P*R*L-I*D*M,P*R*M-I*D*L,x);break}case"XZY":{this.set(I*R*M-P*D*L,P*D*M-I*R*L,P*R*L+I*D*M,P*R*M+I*D*L,x);break}}return this},setFromRotationMatrix:function(m){var x=m.val,E=x[0],w=x[4],C=x[8],P=x[1],R=x[5],M=x[9],I=x[2],D=x[6],L=x[10],F=E+R+L,O;return F>0?(O=.5/Math.sqrt(F+1),this.set((D-M)*O,(C-I)*O,(P-w)*O,.25/O)):E>R&&E>L?(O=2*Math.sqrt(1+E-R-L),this.set(.25*O,(w+P)/O,(C+I)/O,(D-M)/O)):R>L?(O=2*Math.sqrt(1+R-E-L),this.set((w+P)/O,.25*O,(M+D)/O,(C-I)/O)):(O=2*Math.sqrt(1+L-E-R),this.set((C+I)/O,(M+D)/O,.25*O,(P-w)/O)),this},fromMat3:function(m){var x=m.val,E=x[0]+x[4]+x[8],w;if(E>0)w=Math.sqrt(E+1),this.w=.5*w,w=.5/w,this._x=(x[7]-x[5])*w,this._y=(x[2]-x[6])*w,this._z=(x[3]-x[1])*w;else{var C=0;x[4]>x[0]&&(C=1),x[8]>x[C*3+C]&&(C=2);var P=s[C],R=s[P];w=Math.sqrt(x[C*3+C]-x[P*3+P]-x[R*3+R]+1),a[C]=.5*w,w=.5/w,a[P]=(x[P*3+C]+x[C*3+P])*w,a[R]=(x[R*3+C]+x[C*3+R])*w,this._x=a[0],this._y=a[1],this._z=a[2],this._w=(x[R*3+P]-x[P*3+R])*w}return this.onChangeCallback(this),this}});h.exports=p},43396:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(36383),y=function(f){return f*u.RAD_TO_DEG};h.exports=y},74362:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u){u===void 0&&(u=1);var y=Math.random()*2*Math.PI;return e.x=Math.cos(y)*u,e.y=Math.sin(y)*u,e};h.exports=S},60706:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u){u===void 0&&(u=1);var y=Math.random()*2*Math.PI,f=Math.random()*2-1,l=Math.sqrt(1-f*f)*u;return e.x=Math.cos(y)*l,e.y=Math.sin(y)*l,e.z=f*u,e};h.exports=S},67421:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u){return u===void 0&&(u=1),e.x=(Math.random()*2-1)*u,e.y=(Math.random()*2-1)*u,e.z=(Math.random()*2-1)*u,e.w=(Math.random()*2-1)*u,e};h.exports=S},36305:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u){var y=e.x,f=e.y;return e.x=y*Math.cos(u)-f*Math.sin(u),e.y=y*Math.sin(u)+f*Math.cos(u),e};h.exports=S},11520:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u,y,f){var l=Math.cos(f),o=Math.sin(f),s=e.x-u,a=e.y-y;return e.x=s*l-a*o+u,e.y=s*o+a*l+y,e};h.exports=S},1163:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u,y,f,l){var o=f+Math.atan2(e.y-y,e.x-u);return e.x=u+l*Math.cos(o),e.y=y+l*Math.sin(o),e};h.exports=S},70336:h=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u,y,f,l){return e.x=u+l*Math.cos(f),e.y=y+l*Math.sin(f),e};h.exports=S},72678:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(25836),y=e(37867),f=e(15746),l=new y,o=new f,s=new u,a=function(c,r,d){return o.setAxisAngle(r,d),l.fromRotationTranslation(o,s.set(0,0,0)),c.transformMat4(l)};h.exports=a},2284:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e){return e>0?Math.ceil(e):Math.floor(e)};h.exports=S},41013:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u,y){u===void 0&&(u=0),y===void 0&&(y=10);var f=Math.pow(y,-u);return Math.round(e*f)/f};h.exports=S},16922:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u,y,f){u===void 0&&(u=1),y===void 0&&(y=1),f===void 0&&(f=1),f*=Math.PI/e;for(var l=[],o=[],s=0;s<e;s++)y-=u*f,u+=y*f,l[s]=y,o[s]=u;return{sin:o,cos:l,length:e}};h.exports=S},7602:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u,y){return e<=u?0:e>=y?1:(e=(e-u)/(y-u),e*e*(3-2*e))};h.exports=S},54261:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u,y){return e=Math.max(0,Math.min(1,(e-u)/(y-u))),e*e*e*(e*(e*6-15)+10)};h.exports=S},44408:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(26099),y=function(f,l,o,s){s===void 0&&(s=new u);var a=0,c=0,r=l*o;return f>0&&f<=r&&(f>l-1?(c=Math.floor(f/l),a=f-c*l):a=f),s.set(a,c)};h.exports=y},85955:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(26099),y=function(f,l,o,s,a,c,r,d){d===void 0&&(d=new u);var v=Math.sin(a),p=Math.cos(a),m=p*c,x=v*c,E=-v*r,w=p*r,C=1/(m*w+E*-x);return d.x=w*C*f+-E*C*l+(s*E-o*w)*C,d.y=m*C*l+-x*C*f+(-s*m+o*x)*C,d};h.exports=y},26099:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(43855),f=new u({initialize:function(o,s){this.x=0,this.y=0,typeof o=="object"?(this.x=o.x||0,this.y=o.y||0):(s===void 0&&(s=o),this.x=o||0,this.y=s||0)},clone:function(){return new f(this.x,this.y)},copy:function(l){return this.x=l.x||0,this.y=l.y||0,this},setFromObject:function(l){return this.x=l.x||0,this.y=l.y||0,this},set:function(l,o){return o===void 0&&(o=l),this.x=l,this.y=o,this},setTo:function(l,o){return this.set(l,o)},setToPolar:function(l,o){return o==null&&(o=1),this.x=Math.cos(l)*o,this.y=Math.sin(l)*o,this},equals:function(l){return this.x===l.x&&this.y===l.y},fuzzyEquals:function(l,o){return y(this.x,l.x,o)&&y(this.y,l.y,o)},angle:function(){var l=Math.atan2(this.y,this.x);return l<0&&(l+=2*Math.PI),l},setAngle:function(l){return this.setToPolar(l,this.length())},add:function(l){return this.x+=l.x,this.y+=l.y,this},subtract:function(l){return this.x-=l.x,this.y-=l.y,this},multiply:function(l){return this.x*=l.x,this.y*=l.y,this},scale:function(l){return isFinite(l)?(this.x*=l,this.y*=l):(this.x=0,this.y=0),this},divide:function(l){return this.x/=l.x,this.y/=l.y,this},negate:function(){return this.x=-this.x,this.y=-this.y,this},distance:function(l){var o=l.x-this.x,s=l.y-this.y;return Math.sqrt(o*o+s*s)},distanceSq:function(l){var o=l.x-this.x,s=l.y-this.y;return o*o+s*s},length:function(){var l=this.x,o=this.y;return Math.sqrt(l*l+o*o)},setLength:function(l){return this.normalize().scale(l)},lengthSq:function(){var l=this.x,o=this.y;return l*l+o*o},normalize:function(){var l=this.x,o=this.y,s=l*l+o*o;return s>0&&(s=1/Math.sqrt(s),this.x=l*s,this.y=o*s),this},normalizeRightHand:function(){var l=this.x;return this.x=this.y*-1,this.y=l,this},normalizeLeftHand:function(){var l=this.x;return this.x=this.y,this.y=l*-1,this},dot:function(l){return this.x*l.x+this.y*l.y},cross:function(l){return this.x*l.y-this.y*l.x},lerp:function(l,o){o===void 0&&(o=0);var s=this.x,a=this.y;return this.x=s+o*(l.x-s),this.y=a+o*(l.y-a),this},transformMat3:function(l){var o=this.x,s=this.y,a=l.val;return this.x=a[0]*o+a[3]*s+a[6],this.y=a[1]*o+a[4]*s+a[7],this},transformMat4:function(l){var o=this.x,s=this.y,a=l.val;return this.x=a[0]*o+a[4]*s+a[12],this.y=a[1]*o+a[5]*s+a[13],this},reset:function(){return this.x=0,this.y=0,this},limit:function(l){var o=this.length();return o&&o>l&&this.scale(l/o),this},reflect:function(l){return l=l.clone().normalize(),this.subtract(l.scale(2*this.dot(l)))},mirror:function(l){return this.reflect(l).negate()},rotate:function(l){var o=Math.cos(l),s=Math.sin(l);return this.set(o*this.x-s*this.y,s*this.x+o*this.y)},project:function(l){var o=this.dot(l)/l.dot(l);return this.copy(l).scale(o)}});f.ZERO=new f,f.RIGHT=new f(1,0),f.LEFT=new f(-1,0),f.UP=new f(0,-1),f.DOWN=new f(0,1),f.ONE=new f(1,1),h.exports=f},25836:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=new u({initialize:function(l,o,s){this.x=0,this.y=0,this.z=0,typeof l=="object"?(this.x=l.x||0,this.y=l.y||0,this.z=l.z||0):(this.x=l||0,this.y=o||0,this.z=s||0)},up:function(){return this.x=0,this.y=1,this.z=0,this},min:function(f){return this.x=Math.min(this.x,f.x),this.y=Math.min(this.y,f.y),this.z=Math.min(this.z,f.z),this},max:function(f){return this.x=Math.max(this.x,f.x),this.y=Math.max(this.y,f.y),this.z=Math.max(this.z,f.z),this},clone:function(){return new y(this.x,this.y,this.z)},addVectors:function(f,l){return this.x=f.x+l.x,this.y=f.y+l.y,this.z=f.z+l.z,this},subVectors:function(f,l){return this.x=f.x-l.x,this.y=f.y-l.y,this.z=f.z-l.z,this},crossVectors:function(f,l){var o=f.x,s=f.y,a=f.z,c=l.x,r=l.y,d=l.z;return this.x=s*d-a*r,this.y=a*c-o*d,this.z=o*r-s*c,this},equals:function(f){return this.x===f.x&&this.y===f.y&&this.z===f.z},copy:function(f){return this.x=f.x,this.y=f.y,this.z=f.z||0,this},set:function(f,l,o){return typeof f=="object"?(this.x=f.x||0,this.y=f.y||0,this.z=f.z||0):(this.x=f||0,this.y=l||0,this.z=o||0),this},setFromMatrixPosition:function(f){return this.fromArray(f.val,12)},setFromMatrixColumn:function(f,l){return this.fromArray(f.val,l*4)},fromArray:function(f,l){return l===void 0&&(l=0),this.x=f[l],this.y=f[l+1],this.z=f[l+2],this},add:function(f){return this.x+=f.x,this.y+=f.y,this.z+=f.z||0,this},addScalar:function(f){return this.x+=f,this.y+=f,this.z+=f,this},addScale:function(f,l){return this.x+=f.x*l,this.y+=f.y*l,this.z+=f.z*l||0,this},subtract:function(f){return this.x-=f.x,this.y-=f.y,this.z-=f.z||0,this},multiply:function(f){return this.x*=f.x,this.y*=f.y,this.z*=f.z||1,this},scale:function(f){return isFinite(f)?(this.x*=f,this.y*=f,this.z*=f):(this.x=0,this.y=0,this.z=0),this},divide:function(f){return this.x/=f.x,this.y/=f.y,this.z/=f.z||1,this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},distance:function(f){var l=f.x-this.x,o=f.y-this.y,s=f.z-this.z||0;return Math.sqrt(l*l+o*o+s*s)},distanceSq:function(f){var l=f.x-this.x,o=f.y-this.y,s=f.z-this.z||0;return l*l+o*o+s*s},length:function(){var f=this.x,l=this.y,o=this.z;return Math.sqrt(f*f+l*l+o*o)},lengthSq:function(){var f=this.x,l=this.y,o=this.z;return f*f+l*l+o*o},normalize:function(){var f=this.x,l=this.y,o=this.z,s=f*f+l*l+o*o;return s>0&&(s=1/Math.sqrt(s),this.x=f*s,this.y=l*s,this.z=o*s),this},dot:function(f){return this.x*f.x+this.y*f.y+this.z*f.z},cross:function(f){var l=this.x,o=this.y,s=this.z,a=f.x,c=f.y,r=f.z;return this.x=o*r-s*c,this.y=s*a-l*r,this.z=l*c-o*a,this},lerp:function(f,l){l===void 0&&(l=0);var o=this.x,s=this.y,a=this.z;return this.x=o+l*(f.x-o),this.y=s+l*(f.y-s),this.z=a+l*(f.z-a),this},applyMatrix3:function(f){var l=this.x,o=this.y,s=this.z,a=f.val;return this.x=a[0]*l+a[3]*o+a[6]*s,this.y=a[1]*l+a[4]*o+a[7]*s,this.z=a[2]*l+a[5]*o+a[8]*s,this},applyMatrix4:function(f){var l=this.x,o=this.y,s=this.z,a=f.val,c=1/(a[3]*l+a[7]*o+a[11]*s+a[15]);return this.x=(a[0]*l+a[4]*o+a[8]*s+a[12])*c,this.y=(a[1]*l+a[5]*o+a[9]*s+a[13])*c,this.z=(a[2]*l+a[6]*o+a[10]*s+a[14])*c,this},transformMat3:function(f){var l=this.x,o=this.y,s=this.z,a=f.val;return this.x=l*a[0]+o*a[3]+s*a[6],this.y=l*a[1]+o*a[4]+s*a[7],this.z=l*a[2]+o*a[5]+s*a[8],this},transformMat4:function(f){var l=this.x,o=this.y,s=this.z,a=f.val;return this.x=a[0]*l+a[4]*o+a[8]*s+a[12],this.y=a[1]*l+a[5]*o+a[9]*s+a[13],this.z=a[2]*l+a[6]*o+a[10]*s+a[14],this},transformCoordinates:function(f){var l=this.x,o=this.y,s=this.z,a=f.val,c=l*a[0]+o*a[4]+s*a[8]+a[12],r=l*a[1]+o*a[5]+s*a[9]+a[13],d=l*a[2]+o*a[6]+s*a[10]+a[14],v=l*a[3]+o*a[7]+s*a[11]+a[15];return this.x=c/v,this.y=r/v,this.z=d/v,this},transformQuat:function(f){var l=this.x,o=this.y,s=this.z,a=f.x,c=f.y,r=f.z,d=f.w,v=d*l+c*s-r*o,p=d*o+r*l-a*s,m=d*s+a*o-c*l,x=-a*l-c*o-r*s;return this.x=v*d+x*-a+p*-r-m*-c,this.y=p*d+x*-c+m*-a-v*-r,this.z=m*d+x*-r+v*-c-p*-a,this},project:function(f){var l=this.x,o=this.y,s=this.z,a=f.val,c=a[0],r=a[1],d=a[2],v=a[3],p=a[4],m=a[5],x=a[6],E=a[7],w=a[8],C=a[9],P=a[10],R=a[11],M=a[12],I=a[13],D=a[14],L=a[15],F=1/(l*v+o*E+s*R+L);return this.x=(l*c+o*p+s*w+M)*F,this.y=(l*r+o*m+s*C+I)*F,this.z=(l*d+o*x+s*P+D)*F,this},projectViewMatrix:function(f,l){return this.applyMatrix4(f).applyMatrix4(l)},unprojectViewMatrix:function(f,l){return this.applyMatrix4(f).applyMatrix4(l)},unproject:function(f,l){var o=f.x,s=f.y,a=f.z,c=f.w,r=this.x-o,d=c-this.y-1-s,v=this.z;return this.x=2*r/a-1,this.y=2*d/c-1,this.z=2*v-1,this.project(l)},reset:function(){return this.x=0,this.y=0,this.z=0,this}});y.ZERO=new y,y.RIGHT=new y(1,0,0),y.LEFT=new y(-1,0,0),y.UP=new y(0,-1,0),y.DOWN=new y(0,1,0),y.FORWARD=new y(0,0,1),y.BACK=new y(0,0,-1),y.ONE=new y(1,1,1),h.exports=y},61369:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=new u({initialize:function(l,o,s,a){this.x=0,this.y=0,this.z=0,this.w=0,typeof l=="object"?(this.x=l.x||0,this.y=l.y||0,this.z=l.z||0,this.w=l.w||0):(this.x=l||0,this.y=o||0,this.z=s||0,this.w=a||0)},clone:function(){return new y(this.x,this.y,this.z,this.w)},copy:function(f){return this.x=f.x,this.y=f.y,this.z=f.z||0,this.w=f.w||0,this},equals:function(f){return this.x===f.x&&this.y===f.y&&this.z===f.z&&this.w===f.w},set:function(f,l,o,s){return typeof f=="object"?(this.x=f.x||0,this.y=f.y||0,this.z=f.z||0,this.w=f.w||0):(this.x=f||0,this.y=l||0,this.z=o||0,this.w=s||0),this},add:function(f){return this.x+=f.x,this.y+=f.y,this.z+=f.z||0,this.w+=f.w||0,this},subtract:function(f){return this.x-=f.x,this.y-=f.y,this.z-=f.z||0,this.w-=f.w||0,this},scale:function(f){return this.x*=f,this.y*=f,this.z*=f,this.w*=f,this},length:function(){var f=this.x,l=this.y,o=this.z,s=this.w;return Math.sqrt(f*f+l*l+o*o+s*s)},lengthSq:function(){var f=this.x,l=this.y,o=this.z,s=this.w;return f*f+l*l+o*o+s*s},normalize:function(){var f=this.x,l=this.y,o=this.z,s=this.w,a=f*f+l*l+o*o+s*s;return a>0&&(a=1/Math.sqrt(a),this.x=f*a,this.y=l*a,this.z=o*a,this.w=s*a),this},dot:function(f){return this.x*f.x+this.y*f.y+this.z*f.z+this.w*f.w},lerp:function(f,l){l===void 0&&(l=0);var o=this.x,s=this.y,a=this.z,c=this.w;return this.x=o+l*(f.x-o),this.y=s+l*(f.y-s),this.z=a+l*(f.z-a),this.w=c+l*(f.w-c),this},multiply:function(f){return this.x*=f.x,this.y*=f.y,this.z*=f.z||1,this.w*=f.w||1,this},divide:function(f){return this.x/=f.x,this.y/=f.y,this.z/=f.z||1,this.w/=f.w||1,this},distance:function(f){var l=f.x-this.x,o=f.y-this.y,s=f.z-this.z||0,a=f.w-this.w||0;return Math.sqrt(l*l+o*o+s*s+a*a)},distanceSq:function(f){var l=f.x-this.x,o=f.y-this.y,s=f.z-this.z||0,a=f.w-this.w||0;return l*l+o*o+s*s+a*a},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},transformMat4:function(f){var l=this.x,o=this.y,s=this.z,a=this.w,c=f.val;return this.x=c[0]*l+c[4]*o+c[8]*s+c[12]*a,this.y=c[1]*l+c[5]*o+c[9]*s+c[13]*a,this.z=c[2]*l+c[6]*o+c[10]*s+c[14]*a,this.w=c[3]*l+c[7]*o+c[11]*s+c[15]*a,this},transformQuat:function(f){var l=this.x,o=this.y,s=this.z,a=f.x,c=f.y,r=f.z,d=f.w,v=d*l+c*s-r*o,p=d*o+r*l-a*s,m=d*s+a*o-c*l,x=-a*l-c*o-r*s;return this.x=v*d+x*-a+p*-r-m*-c,this.y=p*d+x*-c+m*-a-v*-r,this.z=m*d+x*-r+v*-c-p*-a,this},reset:function(){return this.x=0,this.y=0,this.z=0,this.w=0,this}});y.prototype.sub=y.prototype.subtract,y.prototype.mul=y.prototype.multiply,y.prototype.div=y.prototype.divide,y.prototype.dist=y.prototype.distance,y.prototype.distSq=y.prototype.distanceSq,y.prototype.len=y.prototype.length,y.prototype.lenSq=y.prototype.lengthSq,h.exports=y},60417:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u,y){return Math.abs(e-u)<=y};h.exports=S},15994:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u,y){var f=y-u;return u+((e-u)%f+f)%f};h.exports=S},31040:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u,y,f){return Math.atan2(f-u,y-e)};h.exports=S},55495:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u){return Math.atan2(u.y-e.y,u.x-e.x)};h.exports=S},128:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u){return Math.atan2(u.x-e.x,u.y-e.y)};h.exports=S},41273:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u,y,f){return Math.atan2(y-e,f-u)};h.exports=S},1432:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(36383),y=function(f){return f>Math.PI&&(f-=u.PI2),Math.abs(((f+u.TAU)%u.PI2-u.PI2)%u.PI2)};h.exports=y},49127:(h,S,e)=>{/**
 * @author       samme
 * @copyright    2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(12407),y=function(f,l){return u(l-f)};h.exports=y},52285:(h,S,e)=>{/**
 * @author       samme
 * @copyright    2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(12407),y=2*Math.PI,f=function(l,o){var s=u(o-l);return s>0&&(s-=y),s};h.exports=f},67317:(h,S,e)=>{/**
 * @author       samme
 * @copyright    2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(86554),y=function(f,l){return u(l-f)};h.exports=y},12407:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e){return e=e%(2*Math.PI),e>=0?e:e+2*Math.PI};h.exports=S},53993:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       @samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(99472),y=function(){return u(-Math.PI,Math.PI)};h.exports=y},86564:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       @samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(99472),y=function(){return u(-180,180)};h.exports=y},90154:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(12407),y=function(f){return u(f+Math.PI)};h.exports=y},48736:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(36383),y=function(f,l,o){return o===void 0&&(o=.05),f===l||(Math.abs(l-f)<=o||Math.abs(l-f)>=u.PI2-o?f=l:(Math.abs(l-f)>Math.PI&&(l<f?l+=u.PI2:l-=u.PI2),l>f?f+=o:l<f&&(f-=o))),f};h.exports=y},61430:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u){var y=u-e;if(y===0)return 0;var f=Math.floor((y- -180)/360);return y-f*360};h.exports=S},86554:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(15994),y=function(f){return u(f,-Math.PI,Math.PI)};h.exports=y},30954:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(15994),y=function(f){return u(f,-180,180)};h.exports=y},25588:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={Between:e(31040),BetweenPoints:e(55495),BetweenPointsY:e(128),BetweenY:e(41273),CounterClockwise:e(1432),GetClockwiseDistance:e(49127),GetCounterClockwiseDistance:e(52285),GetShortestDistance:e(67317),Normalize:e(12407),Random:e(53993),RandomDegrees:e(86564),Reverse:e(90154),RotateTo:e(48736),ShortestBetween:e(61430),Wrap:e(86554),WrapDegrees:e(30954)}},36383:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={PI2:Math.PI*2,TAU:Math.PI*.5,EPSILON:1e-6,DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,RND:null,MIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER||-9007199254740991,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991};h.exports=S},20339:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u,y,f){var l=e-y,o=u-f;return Math.sqrt(l*l+o*o)};h.exports=S},52816:h=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u){var y=e.x-u.x,f=e.y-u.y;return Math.sqrt(y*y+f*f)};h.exports=S},64559:h=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u){var y=e.x-u.x,f=e.y-u.y;return y*y+f*f};h.exports=S},82340:h=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u,y,f){return Math.max(Math.abs(e-y),Math.abs(u-f))};h.exports=S},14390:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u,y,f,l){return l===void 0&&(l=2),Math.sqrt(Math.pow(y-e,l)+Math.pow(f-u,l))};h.exports=S},2243:h=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u,y,f){return Math.abs(e-y)+Math.abs(u-f)};h.exports=S},89774:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u,y,f){var l=e-y,o=u-f;return l*l+o*o};h.exports=S},50994:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={Between:e(20339),BetweenPoints:e(52816),BetweenPointsSquared:e(64559),Chebyshev:e(82340),Power:e(14390),Snake:e(2243),Squared:e(89774)}},62640:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(54178),y=e(41521),f=e(79980),l=e(85433),o=e(99140),s=e(48857),a=e(81596),c=e(59133),r=e(98516),d=e(35248),v=e(82500),p=e(49752);h.exports={Power0:a,Power1:c.Out,Power2:l.Out,Power3:r.Out,Power4:d.Out,Linear:a,Quad:c.Out,Cubic:l.Out,Quart:r.Out,Quint:d.Out,Sine:v.Out,Expo:s.Out,Circ:f.Out,Elastic:o.Out,Back:u.Out,Bounce:y.Out,Stepped:p,"Quad.easeIn":c.In,"Cubic.easeIn":l.In,"Quart.easeIn":r.In,"Quint.easeIn":d.In,"Sine.easeIn":v.In,"Expo.easeIn":s.In,"Circ.easeIn":f.In,"Elastic.easeIn":o.In,"Back.easeIn":u.In,"Bounce.easeIn":y.In,"Quad.easeOut":c.Out,"Cubic.easeOut":l.Out,"Quart.easeOut":r.Out,"Quint.easeOut":d.Out,"Sine.easeOut":v.Out,"Expo.easeOut":s.Out,"Circ.easeOut":f.Out,"Elastic.easeOut":o.Out,"Back.easeOut":u.Out,"Bounce.easeOut":y.Out,"Quad.easeInOut":c.InOut,"Cubic.easeInOut":l.InOut,"Quart.easeInOut":r.InOut,"Quint.easeInOut":d.InOut,"Sine.easeInOut":v.InOut,"Expo.easeInOut":s.InOut,"Circ.easeInOut":f.InOut,"Elastic.easeInOut":o.InOut,"Back.easeInOut":u.InOut,"Bounce.easeInOut":y.InOut}},1639:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u){return u===void 0&&(u=1.70158),e*e*((u+1)*e-u)};h.exports=S},50099:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u){u===void 0&&(u=1.70158);var y=u*1.525;return(e*=2)<1?.5*(e*e*((y+1)*e-y)):.5*((e-=2)*e*((y+1)*e+y)+2)};h.exports=S},41286:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u){return u===void 0&&(u=1.70158),--e*e*((u+1)*e+u)+1};h.exports=S},54178:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={In:e(1639),Out:e(41286),InOut:e(50099)}},59590:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e){return e=1-e,e<.36363636363636365?1-7.5625*e*e:e<.7272727272727273?1-(7.5625*(e-=.5454545454545454)*e+.75):e<.9090909090909091?1-(7.5625*(e-=.8181818181818182)*e+.9375):1-(7.5625*(e-=.9545454545454546)*e+.984375)};h.exports=S},41788:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e){var u=!1;return e<.5?(e=1-e*2,u=!0):e=e*2-1,e<.36363636363636365?e=7.5625*e*e:e<.7272727272727273?e=7.5625*(e-=.5454545454545454)*e+.75:e<.9090909090909091?e=7.5625*(e-=.8181818181818182)*e+.9375:e=7.5625*(e-=.9545454545454546)*e+.984375,u?(1-e)*.5:e*.5+.5};h.exports=S},69905:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e){return e<.36363636363636365?7.5625*e*e:e<.7272727272727273?7.5625*(e-=.5454545454545454)*e+.75:e<.9090909090909091?7.5625*(e-=.8181818181818182)*e+.9375:7.5625*(e-=.9545454545454546)*e+.984375};h.exports=S},41521:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={In:e(59590),Out:e(69905),InOut:e(41788)}},91861:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e){return 1-Math.sqrt(1-e*e)};h.exports=S},4177:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)};h.exports=S},57512:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e){return Math.sqrt(1- --e*e)};h.exports=S},79980:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={In:e(91861),Out:e(57512),InOut:e(4177)}},51150:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e){return e*e*e};h.exports=S},82820:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)};h.exports=S},35033:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e){return--e*e*e+1};h.exports=S},85433:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={In:e(51150),Out:e(35033),InOut:e(82820)}},69965:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u,y){if(u===void 0&&(u=.1),y===void 0&&(y=.1),e===0)return 0;if(e===1)return 1;var f=y/4;return u<1?u=1:f=y*Math.asin(1/u)/(2*Math.PI),-(u*Math.pow(2,10*(e-=1))*Math.sin((e-f)*(2*Math.PI)/y))};h.exports=S},50665:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u,y){if(u===void 0&&(u=.1),y===void 0&&(y=.1),e===0)return 0;if(e===1)return 1;var f=y/4;return u<1?u=1:f=y*Math.asin(1/u)/(2*Math.PI),(e*=2)<1?-.5*(u*Math.pow(2,10*(e-=1))*Math.sin((e-f)*(2*Math.PI)/y)):u*Math.pow(2,-10*(e-=1))*Math.sin((e-f)*(2*Math.PI)/y)*.5+1};h.exports=S},7744:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u,y){if(u===void 0&&(u=.1),y===void 0&&(y=.1),e===0)return 0;if(e===1)return 1;var f=y/4;return u<1?u=1:f=y*Math.asin(1/u)/(2*Math.PI),u*Math.pow(2,-10*e)*Math.sin((e-f)*(2*Math.PI)/y)+1};h.exports=S},99140:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={In:e(69965),Out:e(7744),InOut:e(50665)}},24590:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e){return Math.pow(2,10*(e-1))-.001};h.exports=S},87844:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e){return(e*=2)<1?.5*Math.pow(2,10*(e-1)):.5*(2-Math.pow(2,-10*(e-1)))};h.exports=S},89433:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e){return 1-Math.pow(2,-10*e)};h.exports=S},48857:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={In:e(24590),Out:e(89433),InOut:e(87844)}},48820:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={Back:e(54178),Bounce:e(41521),Circular:e(79980),Cubic:e(85433),Elastic:e(99140),Expo:e(48857),Linear:e(81596),Quadratic:e(59133),Quartic:e(98516),Quintic:e(35248),Sine:e(82500),Stepped:e(49752)}},7147:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e){return e};h.exports=S},81596:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports=e(7147)},34826:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e){return e*e};h.exports=S},20544:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)};h.exports=S},92029:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e){return e*(2-e)};h.exports=S},59133:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={In:e(34826),Out:e(92029),InOut:e(20544)}},64413:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e){return e*e*e*e};h.exports=S},78137:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)};h.exports=S},45840:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e){return 1- --e*e*e*e};h.exports=S},98516:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={In:e(64413),Out:e(45840),InOut:e(78137)}},87745:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e){return e*e*e*e*e};h.exports=S},16509:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)};h.exports=S},17868:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e){return--e*e*e*e*e+1};h.exports=S},35248:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={In:e(87745),Out:e(17868),InOut:e(16509)}},80461:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e){return e===0?0:e===1?1:1-Math.cos(e*Math.PI/2)};h.exports=S},34025:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e){return e===0?0:e===1?1:.5*(1-Math.cos(Math.PI*e))};h.exports=S},52768:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e){return e===0?0:e===1?1:Math.sin(e*Math.PI/2)};h.exports=S},82500:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={In:e(80461),Out:e(52768),InOut:e(34025)}},72251:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u){return u===void 0&&(u=1),e<=0?0:e>=1?1:((u*e|0)+1)*(1/u)};h.exports=S},49752:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports=e(72251)},75698:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u){return u===void 0&&(u=1e-4),Math.ceil(e-u)};h.exports=S},43855:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u,y){return y===void 0&&(y=1e-4),Math.abs(e-u)<y};h.exports=S},25777:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u){return u===void 0&&(u=1e-4),Math.floor(e+u)};h.exports=S},5470:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u,y){return y===void 0&&(y=1e-4),e>u-y};h.exports=S},94977:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u,y){return y===void 0&&(y=1e-4),e<u+y};h.exports=S},48379:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={Ceil:e(75698),Equal:e(43855),Floor:e(25777),GreaterThan:e(5470),LessThan:e(94977)}},75508:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(36383),y=e(79291),f={Angle:e(25588),Distance:e(50994),Easing:e(48820),Fuzzy:e(48379),Interpolation:e(38289),Pow2:e(49001),Snap:e(73697),RandomDataGenerator:e(28453),Average:e(53307),Bernstein:e(85710),Between:e(30976),CatmullRom:e(87842),CeilTo:e(26302),Clamp:e(45319),DegToRad:e(39506),Difference:e(61241),Euler:e(38857),Factorial:e(6411),FloatBetween:e(99472),FloorTo:e(77623),FromPercent:e(62945),GetSpeed:e(38265),IsEven:e(78702),IsEvenStrict:e(94883),Linear:e(28915),LinearXY:e(94908),MaxAdd:e(86883),Median:e(50040),MinSub:e(37204),Percent:e(65201),RadToDeg:e(43396),RandomXY:e(74362),RandomXYZ:e(60706),RandomXYZW:e(67421),Rotate:e(36305),RotateAround:e(11520),RotateAroundDistance:e(1163),RotateTo:e(70336),RoundAwayFromZero:e(2284),RoundTo:e(41013),SinCosTableGenerator:e(16922),SmootherStep:e(54261),SmoothStep:e(7602),ToXY:e(44408),TransformXY:e(85955),Within:e(60417),Wrap:e(15994),Vector2:e(26099),Vector3:e(25836),Vector4:e(61369),Matrix3:e(94434),Matrix4:e(37867),Quaternion:e(15746),RotateVec3:e(72678)};f=y(!1,f,u),h.exports=f},89318:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(85710),y=function(f,l){for(var o=0,s=f.length-1,a=0;a<=s;a++)o+=Math.pow(1-l,s-a)*Math.pow(l,a)*f[a]*u(s,a);return o};h.exports=y},77259:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(87842),y=function(f,l){var o=f.length-1,s=o*l,a=Math.floor(s);return f[0]===f[o]?(l<0&&(a=Math.floor(s=o*(1+l))),u(s-a,f[(a-1+o)%o],f[a],f[(a+1)%o],f[(a+2)%o])):l<0?f[0]-(u(-s,f[0],f[0],f[1],f[1])-f[0]):l>1?f[o]-(u(s-o,f[o],f[o],f[o-1],f[o-1])-f[o]):u(s-a,f[a?a-1:0],f[a],f[o<a+1?o:a+1],f[o<a+2?o:a+2])};h.exports=y},36316:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function S(l,o){var s=1-l;return s*s*s*o}function e(l,o){var s=1-l;return 3*s*s*l*o}function u(l,o){return 3*(1-l)*l*l*o}function y(l,o){return l*l*l*o}var f=function(l,o,s,a,c){return S(l,o)+e(l,s)+u(l,a)+y(l,c)};h.exports=f},28392:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(28915),y=function(f,l){var o=f.length-1,s=o*l,a=Math.floor(s);return l<0?u(f[0],f[1],s):l>1?u(f[o],f[o-1],o-s):u(f[a],f[a+1>o?o:a+1],s-a)};h.exports=y},32112:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function S(f,l){var o=1-f;return o*o*l}function e(f,l){return 2*(1-f)*f*l}function u(f,l){return f*f*l}var y=function(f,l,o,s){return S(f,l)+e(f,o)+u(f,s)};h.exports=y},47235:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(7602),y=function(f,l,o){return l+(o-l)*u(f,0,1)};h.exports=y},50178:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(54261),y=function(f,l,o){return l+(o-l)*u(f,0,1)};h.exports=y},38289:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={Bezier:e(89318),CatmullRom:e(77259),CubicBezier:e(36316),Linear:e(28392),QuadraticBezier:e(32112),SmoothStep:e(47235),SmootherStep:e(50178)}},98439:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e){var u=Math.log(e)/.6931471805599453;return 1<<Math.ceil(u)};h.exports=S},50030:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u){return e>0&&(e&e-1)===0&&u>0&&(u&u-1)===0};h.exports=S},81230:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e){return e>0&&(e&e-1)===0};h.exports=S},49001:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={GetNext:e(98439),IsSize:e(50030),IsValue:e(81230)}},28453:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=new u({initialize:function(l){l===void 0&&(l=[(Date.now()*Math.random()).toString()]),this.c=1,this.s0=0,this.s1=0,this.s2=0,this.n=0,this.signs=[-1,1],l&&this.init(l)},rnd:function(){var f=2091639*this.s0+this.c*23283064365386963e-26;return this.c=f|0,this.s0=this.s1,this.s1=this.s2,this.s2=f-this.c,this.s2},hash:function(f){var l,o=this.n;f=f.toString();for(var s=0;s<f.length;s++)o+=f.charCodeAt(s),l=.02519603282416938*o,o=l>>>0,l-=o,l*=o,o=l>>>0,l-=o,o+=l*4294967296;return this.n=o,(o>>>0)*23283064365386963e-26},init:function(f){typeof f=="string"?this.state(f):this.sow(f)},sow:function(f){if(this.n=4022871197,this.s0=this.hash(" "),this.s1=this.hash(" "),this.s2=this.hash(" "),this.c=1,!!f)for(var l=0;l<f.length&&f[l]!=null;l++){var o=f[l];this.s0-=this.hash(o),this.s0+=~~(this.s0<0),this.s1-=this.hash(o),this.s1+=~~(this.s1<0),this.s2-=this.hash(o),this.s2+=~~(this.s2<0)}},integer:function(){return this.rnd()*4294967296},frac:function(){return this.rnd()+(this.rnd()*2097152|0)*11102230246251565e-32},real:function(){return this.integer()+this.frac()},integerInRange:function(f,l){return Math.floor(this.realInRange(0,l-f+1)+f)},between:function(f,l){return Math.floor(this.realInRange(0,l-f+1)+f)},realInRange:function(f,l){return this.frac()*(l-f)+f},normal:function(){return 1-2*this.frac()},uuid:function(){var f="",l="";for(l=f="";f++<36;l+=~f%5|f*3&4?(f^15?8^this.frac()*(f^20?16:4):4).toString(16):"-");return l},pick:function(f){return f[this.integerInRange(0,f.length-1)]},sign:function(){return this.pick(this.signs)},weightedPick:function(f){return f[~~(Math.pow(this.frac(),2)*(f.length-.5)+.5)]},timestamp:function(f,l){return this.realInRange(f||9466848e5,l||1577862e6)},angle:function(){return this.integerInRange(-180,180)},rotation:function(){return this.realInRange(-3.1415926,3.1415926)},state:function(f){return typeof f=="string"&&f.match(/^!rnd/)&&(f=f.split(","),this.c=parseFloat(f[1]),this.s0=parseFloat(f[2]),this.s1=parseFloat(f[3]),this.s2=parseFloat(f[4])),["!rnd",this.c,this.s0,this.s1,this.s2].join(",")},shuffle:function(f){for(var l=f.length-1,o=l;o>0;o--){var s=Math.floor(this.frac()*(o+1)),a=f[s];f[s]=f[o],f[o]=a}return f}});h.exports=y},63448:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u,y,f){return y===void 0&&(y=0),u===0?e:(e-=y,e=u*Math.ceil(e/u),f?(y+e)/u:y+e)};h.exports=S},56583:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u,y,f){return y===void 0&&(y=0),u===0?e:(e-=y,e=u*Math.floor(e/u),f?(y+e)/u:y+e)};h.exports=S},77720:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u,y,f){return y===void 0&&(y=0),u===0?e:(e-=y,e=u*Math.round(e/u),f?(y+e)/u:y+e)};h.exports=S},73697:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={Ceil:e(63448),Floor:e(56583),To:e(77720)}},85454:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e(63595);var u=e(8054),y=e(79291),f={Actions:e(61061),Animations:e(60421),BlendModes:e(10312),Cache:e(83388),Cameras:e(26638),Core:e(42857),Class:e(83419),Create:e(15822),Curves:e(25410),Data:e(44965),Display:e(27460),DOM:e(84902),Events:e(93055),FX:e(66064),Game:e(50127),GameObjects:e(77856),Geom:e(55738),Input:e(14350),Loader:e(57777),Math:e(75508),Physics:e(44563),Plugins:e(18922),Renderer:e(36909),Scale:e(93364),ScaleModes:e(29795),Scene:e(97482),Scenes:e(62194),Structs:e(41392),Textures:e(27458),Tilemaps:e(62501),Time:e(90291),Tweens:e(43066),Utils:e(91799)};f.Sound=e(23717),f=y(!1,f,u),h.exports=f,e.g.Phaser=f},71289:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(92209),f=e(88571),l=new u({Extends:f,Mixins:[y.Acceleration,y.Angular,y.Bounce,y.Collision,y.Debug,y.Drag,y.Enable,y.Friction,y.Gravity,y.Immovable,y.Mass,y.Pushable,y.Size,y.Velocity],initialize:function(s,a,c,r,d){f.call(this,s,a,c,r,d),this.body=null}});h.exports=l},86689:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(39506),f=e(20339),l=e(89774),o=e(66022),s=e(95540),a=e(46975),c=e(72441),r=e(47956),d=e(37277),v=e(44594),p=e(26099),m=e(82248),x=new u({initialize:function(w){this.scene=w,this.systems=w.sys,this.config=this.getConfig(),this.world,this.add,this._category=1,w.sys.events.once(v.BOOT,this.boot,this),w.sys.events.on(v.START,this.start,this)},boot:function(){this.world=new m(this.scene,this.config),this.add=new o(this.world),this.systems.events.once(v.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new m(this.scene,this.config),this.add=new o(this.world));var E=this.systems.events;s(this.config,"customUpdate",!1)||E.on(v.UPDATE,this.world.update,this.world),E.on(v.POST_UPDATE,this.world.postUpdate,this.world),E.once(v.SHUTDOWN,this.shutdown,this)},enableUpdate:function(){this.systems.events.on(v.UPDATE,this.world.update,this.world)},disableUpdate:function(){this.systems.events.off(v.UPDATE,this.world.update,this.world)},getConfig:function(){var E=this.systems.game.config.physics,w=this.systems.settings.physics,C=a(s(w,"arcade",{}),s(E,"arcade",{}));return C},nextCategory:function(){return this._category=this._category<<1,this._category},overlap:function(E,w,C,P,R){return C===void 0&&(C=null),P===void 0&&(P=null),R===void 0&&(R=C),this.world.collideObjects(E,w,C,P,R,!0)},collide:function(E,w,C,P,R){return C===void 0&&(C=null),P===void 0&&(P=null),R===void 0&&(R=C),this.world.collideObjects(E,w,C,P,R,!1)},collideTiles:function(E,w,C,P,R){return this.world.collideTiles(E,w,C,P,R)},overlapTiles:function(E,w,C,P,R){return this.world.overlapTiles(E,w,C,P,R)},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},accelerateTo:function(E,w,C,P,R,M){P===void 0&&(P=60);var I=Math.atan2(C-E.y,w-E.x);return E.body.acceleration.setToPolar(I,P),R!==void 0&&M!==void 0&&E.body.maxVelocity.set(R,M),I},accelerateToObject:function(E,w,C,P,R){return this.accelerateTo(E,w.x,w.y,C,P,R)},closest:function(E,w){w||(w=this.world.bodies.entries);for(var C=Number.MAX_VALUE,P=null,R=E.x,M=E.y,I=w.length,D=0;D<I;D++){var L=w[D],F=L.body||L;if(!(E===L||E===F||E===F.gameObject||E===F.center)){var O=l(R,M,F.center.x,F.center.y);O<C&&(P=L,C=O)}}return P},furthest:function(E,w){w||(w=this.world.bodies.entries);for(var C=-1,P=null,R=E.x,M=E.y,I=w.length,D=0;D<I;D++){var L=w[D],F=L.body||L;if(!(E===L||E===F||E===F.gameObject||E===F.center)){var O=l(R,M,F.center.x,F.center.y);O>C&&(P=L,C=O)}}return P},moveTo:function(E,w,C,P,R){P===void 0&&(P=60),R===void 0&&(R=0);var M=Math.atan2(C-E.y,w-E.x);return R>0&&(P=f(E.x,E.y,w,C)/(R/1e3)),E.body.velocity.setToPolar(M,P),M},moveToObject:function(E,w,C,P){return this.moveTo(E,w.x,w.y,C,P)},velocityFromAngle:function(E,w,C){return w===void 0&&(w=60),C===void 0&&(C=new p),C.setToPolar(y(E),w)},velocityFromRotation:function(E,w,C){return w===void 0&&(w=60),C===void 0&&(C=new p),C.setToPolar(E,w)},overlapRect:function(E,w,C,P,R,M){return r(this.world,E,w,C,P,R,M)},overlapCirc:function(E,w,C,P,R){return c(this.world,E,w,C,P,R)},shutdown:function(){if(this.world){var E=this.systems.events;E.off(v.UPDATE,this.world.update,this.world),E.off(v.POST_UPDATE,this.world.postUpdate,this.world),E.off(v.SHUTDOWN,this.shutdown,this),this.add.destroy(),this.world.destroy(),this.add=null,this.world=null,this._category=1}},destroy:function(){this.shutdown(),this.scene.sys.events.off(v.START,this.start,this),this.scene=null,this.systems=null}});d.register("ArcadePhysics",x,"arcadePhysics"),h.exports=x},13759:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(92209),f=e(68287),l=new u({Extends:f,Mixins:[y.Acceleration,y.Angular,y.Bounce,y.Collision,y.Debug,y.Drag,y.Enable,y.Friction,y.Gravity,y.Immovable,y.Mass,y.Pushable,y.Size,y.Velocity],initialize:function(s,a,c,r,d){f.call(this,s,a,c,r,d),this.body=null}});h.exports=l},37742:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(78389),f=e(37747),l=e(63012),o=e(43396),s=e(87841),a=e(37303),c=e(95829),r=e(26099),d=new u({Mixins:[y],initialize:function(p,m){var x=64,E=64,w={x:0,y:0,angle:0,rotation:0,scaleX:1,scaleY:1,displayOriginX:0,displayOriginY:0},C=m!==void 0;C&&m.displayWidth&&(x=m.displayWidth,E=m.displayHeight),C||(m=w),this.world=p,this.gameObject=C?m:void 0,this.isBody=!0,this.transform={x:m.x,y:m.y,rotation:m.angle,scaleX:m.scaleX,scaleY:m.scaleY,displayOriginX:m.displayOriginX,displayOriginY:m.displayOriginY},this.debugShowBody=p.defaults.debugShowBody,this.debugShowVelocity=p.defaults.debugShowVelocity,this.debugBodyColor=p.defaults.bodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new r,this.position=new r(m.x-m.scaleX*m.displayOriginX,m.y-m.scaleY*m.displayOriginY),this.prev=this.position.clone(),this.prevFrame=this.position.clone(),this.allowRotation=!0,this.rotation=m.angle,this.preRotation=m.angle,this.width=x,this.height=E,this.sourceWidth=x,this.sourceHeight=E,m.frame&&(this.sourceWidth=m.frame.realWidth,this.sourceHeight=m.frame.realHeight),this.halfWidth=Math.abs(x/2),this.halfHeight=Math.abs(E/2),this.center=new r(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=new r,this.newVelocity=new r,this.deltaMax=new r,this.acceleration=new r,this.allowDrag=!0,this.drag=new r,this.allowGravity=!0,this.gravity=new r,this.bounce=new r,this.worldBounce=null,this.customBoundsRectangle=p.bounds,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.maxVelocity=new r(1e4,1e4),this.maxSpeed=-1,this.friction=new r(1,0),this.useDamping=!1,this.angularVelocity=0,this.angularAcceleration=0,this.angularDrag=0,this.maxAngular=1e3,this.mass=1,this.angle=0,this.speed=0,this.facing=f.FACING_NONE,this.immovable=!1,this.pushable=!0,this.slideFactor=new r(1,1),this.moves=!0,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision=c(!1),this.touching=c(!0),this.wasTouching=c(!0),this.blocked=c(!0),this.syncBounds=!1,this.physicsType=f.DYNAMIC_BODY,this.collisionCategory=1,this.collisionMask=1,this._sx=m.scaleX,this._sy=m.scaleY,this._dx=0,this._dy=0,this._tx=0,this._ty=0,this._bounds=new s,this.directControl=!1,this.autoFrame=this.position.clone()},updateBounds:function(){var v=this.gameObject,p=this.transform;if(v.parentContainer){var m=v.getWorldTransformMatrix(this.world._tempMatrix,this.world._tempMatrix2);p.x=m.tx,p.y=m.ty,p.rotation=o(m.rotation),p.scaleX=m.scaleX,p.scaleY=m.scaleY,p.displayOriginX=v.displayOriginX,p.displayOriginY=v.displayOriginY}else p.x=v.x,p.y=v.y,p.rotation=v.angle,p.scaleX=v.scaleX,p.scaleY=v.scaleY,p.displayOriginX=v.displayOriginX,p.displayOriginY=v.displayOriginY;var x=!1;if(this.syncBounds){var E=v.getBounds(this._bounds);this.width=E.width,this.height=E.height,x=!0}else{var w=Math.abs(p.scaleX),C=Math.abs(p.scaleY);(this._sx!==w||this._sy!==C)&&(this.width=this.sourceWidth*w,this.height=this.sourceHeight*C,this._sx=w,this._sy=C,x=!0)}x&&(this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter())},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},updateFromGameObject:function(){this.updateBounds();var v=this.transform;this.position.x=v.x+v.scaleX*(this.offset.x-v.displayOriginX),this.position.y=v.y+v.scaleY*(this.offset.y-v.displayOriginY),this.updateCenter()},resetFlags:function(v){v===void 0&&(v=!1);var p=this.wasTouching,m=this.touching,x=this.blocked;v?c(!0,p):(p.none=m.none,p.up=m.up,p.down=m.down,p.left=m.left,p.right=m.right),c(!0,m),c(!0,x),this.overlapR=0,this.overlapX=0,this.overlapY=0,this.embedded=!1},preUpdate:function(v,p){if(v&&this.resetFlags(),this.gameObject&&this.updateFromGameObject(),this.rotation=this.transform.rotation,this.preRotation=this.rotation,this.moves){var m=this.position;this.prev.x=m.x,this.prev.y=m.y,this.prevFrame.x=m.x,this.prevFrame.y=m.y}v&&this.update(p)},update:function(v){var p=this.prev,m=this.position,x=this.velocity;if(p.set(m.x,m.y),!this.moves){this._dx=m.x-p.x,this._dy=m.y-p.y;return}if(this.directControl){var E=this.autoFrame;x.set((m.x-E.x)/v,(m.y-E.y)/v),this.world.updateMotion(this,v),this._dx=m.x-E.x,this._dy=m.y-E.y}else this.world.updateMotion(this,v),this.newVelocity.set(x.x*v,x.y*v),m.add(this.newVelocity),this._dx=m.x-p.x,this._dy=m.y-p.y;var w=x.x,C=x.y;if(this.updateCenter(),this.angle=Math.atan2(C,w),this.speed=Math.sqrt(w*w+C*C),this.collideWorldBounds&&this.checkWorldBounds()&&this.onWorldBounds){var P=this.blocked;this.world.emit(l.WORLD_BOUNDS,this,P.up,P.down,P.left,P.right)}},postUpdate:function(){var v=this.position,p=v.x-this.prevFrame.x,m=v.y-this.prevFrame.y,x=this.gameObject;if(this.moves){var E=this.deltaMax.x,w=this.deltaMax.y;E!==0&&p!==0&&(p<0&&p<-E?p=-E:p>0&&p>E&&(p=E)),w!==0&&m!==0&&(m<0&&m<-w?m=-w:m>0&&m>w&&(m=w)),x&&(x.x+=p,x.y+=m)}p<0?this.facing=f.FACING_LEFT:p>0&&(this.facing=f.FACING_RIGHT),m<0?this.facing=f.FACING_UP:m>0&&(this.facing=f.FACING_DOWN),this.allowRotation&&x&&(x.angle+=this.deltaZ()),this._tx=p,this._ty=m,this.autoFrame.set(v.x,v.y)},setBoundsRectangle:function(v){return this.customBoundsRectangle=v||this.world.bounds,this},checkWorldBounds:function(){var v=this.position,p=this.velocity,m=this.blocked,x=this.customBoundsRectangle,E=this.world.checkCollision,w=this.worldBounce?-this.worldBounce.x:-this.bounce.x,C=this.worldBounce?-this.worldBounce.y:-this.bounce.y,P=!1;return v.x<x.x&&E.left?(v.x=x.x,p.x*=w,m.left=!0,P=!0):this.right>x.right&&E.right&&(v.x=x.right-this.width,p.x*=w,m.right=!0,P=!0),v.y<x.y&&E.up?(v.y=x.y,p.y*=C,m.up=!0,P=!0):this.bottom>x.bottom&&E.down&&(v.y=x.bottom-this.height,p.y*=C,m.down=!0,P=!0),P&&(this.blocked.none=!1,this.updateCenter()),P},setOffset:function(v,p){return p===void 0&&(p=v),this.offset.set(v,p),this},setGameObject:function(v,p){if(p===void 0&&(p=!0),!v||!v.hasTransformComponent)return this;var m=this.world;return this.gameObject&&this.gameObject.body&&(m.disable(this.gameObject),this.gameObject.body=null),v.body&&m.disable(v),this.gameObject=v,v.body=this,this.setSize(),this.enable=p,this},setSize:function(v,p,m){m===void 0&&(m=!0);var x=this.gameObject;if(x&&(!v&&x.frame&&(v=x.frame.realWidth),!p&&x.frame&&(p=x.frame.realHeight)),this.sourceWidth=v,this.sourceHeight=p,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter(),m&&x&&x.getCenter){var E=(x.width-v)/2,w=(x.height-p)/2;this.offset.set(E,w)}return this.isCircle=!1,this.radius=0,this},setCircle:function(v,p,m){return p===void 0&&(p=this.offset.x),m===void 0&&(m=this.offset.y),v>0?(this.isCircle=!0,this.radius=v,this.sourceWidth=v*2,this.sourceHeight=v*2,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(p,m),this.updateCenter()):this.isCircle=!1,this},reset:function(v,p){this.stop();var m=this.gameObject;m&&(m.setPosition(v,p),this.rotation=m.angle,this.preRotation=m.angle);var x=this.position;m&&m.getTopLeft?m.getTopLeft(x):x.set(v,p),this.prev.copy(x),this.prevFrame.copy(x),this.autoFrame.copy(x),m&&this.updateBounds(),this.updateCenter(),this.collideWorldBounds&&this.checkWorldBounds(),this.resetFlags(!0)},stop:function(){return this.velocity.set(0),this.acceleration.set(0),this.speed=0,this.angularVelocity=0,this.angularAcceleration=0,this},getBounds:function(v){return v.x=this.x,v.y=this.y,v.right=this.right,v.bottom=this.bottom,v},hitTest:function(v,p){if(!this.isCircle)return a(this,v,p);if(this.radius>0&&v>=this.left&&v<=this.right&&p>=this.top&&p<=this.bottom){var m=(this.center.x-v)*(this.center.x-v),x=(this.center.y-p)*(this.center.y-p);return m+x<=this.radius*this.radius}return!1},onFloor:function(){return this.blocked.down},onCeiling:function(){return this.blocked.up},onWall:function(){return this.blocked.left||this.blocked.right},deltaAbsX:function(){return this._dx>0?this._dx:-this._dx},deltaAbsY:function(){return this._dy>0?this._dy:-this._dy},deltaX:function(){return this._dx},deltaY:function(){return this._dy},deltaXFinal:function(){return this._tx},deltaYFinal:function(){return this._ty},deltaZ:function(){return this.rotation-this.preRotation},destroy:function(){this.enable=!1,this.world&&this.world.pendingDestroy.set(this)},drawDebug:function(v){var p=this.position,m=p.x+this.halfWidth,x=p.y+this.halfHeight;this.debugShowBody&&(v.lineStyle(v.defaultStrokeWidth,this.debugBodyColor),this.isCircle?v.strokeCircle(m,x,this.width/2):(this.checkCollision.up&&v.lineBetween(p.x,p.y,p.x+this.width,p.y),this.checkCollision.right&&v.lineBetween(p.x+this.width,p.y,p.x+this.width,p.y+this.height),this.checkCollision.down&&v.lineBetween(p.x,p.y+this.height,p.x+this.width,p.y+this.height),this.checkCollision.left&&v.lineBetween(p.x,p.y,p.x,p.y+this.height))),this.debugShowVelocity&&(v.lineStyle(v.defaultStrokeWidth,this.world.defaults.velocityDebugColor,1),v.lineBetween(m,x,m+this.velocity.x/2,x+this.velocity.y/2))},willDrawDebug:function(){return this.debugShowBody||this.debugShowVelocity},setDirectControl:function(v){return v===void 0&&(v=!0),this.directControl=v,this},setCollideWorldBounds:function(v,p,m,x){v===void 0&&(v=!0),this.collideWorldBounds=v;var E=p!==void 0,w=m!==void 0;return(E||w)&&(this.worldBounce||(this.worldBounce=new r),E&&(this.worldBounce.x=p),w&&(this.worldBounce.y=m)),x!==void 0&&(this.onWorldBounds=x),this},setVelocity:function(v,p){return this.velocity.set(v,p),v=this.velocity.x,p=this.velocity.y,this.speed=Math.sqrt(v*v+p*p),this},setVelocityX:function(v){return this.setVelocity(v,this.velocity.y)},setVelocityY:function(v){return this.setVelocity(this.velocity.x,v)},setMaxVelocity:function(v,p){return this.maxVelocity.set(v,p),this},setMaxVelocityX:function(v){return this.maxVelocity.x=v,this},setMaxVelocityY:function(v){return this.maxVelocity.y=v,this},setMaxSpeed:function(v){return this.maxSpeed=v,this},setSlideFactor:function(v,p){return this.slideFactor.set(v,p),this},setBounce:function(v,p){return this.bounce.set(v,p),this},setBounceX:function(v){return this.bounce.x=v,this},setBounceY:function(v){return this.bounce.y=v,this},setAcceleration:function(v,p){return this.acceleration.set(v,p),this},setAccelerationX:function(v){return this.acceleration.x=v,this},setAccelerationY:function(v){return this.acceleration.y=v,this},setAllowDrag:function(v){return v===void 0&&(v=!0),this.allowDrag=v,this},setAllowGravity:function(v){return v===void 0&&(v=!0),this.allowGravity=v,this},setAllowRotation:function(v){return v===void 0&&(v=!0),this.allowRotation=v,this},setDrag:function(v,p){return this.drag.set(v,p),this},setDamping:function(v){return this.useDamping=v,this},setDragX:function(v){return this.drag.x=v,this},setDragY:function(v){return this.drag.y=v,this},setGravity:function(v,p){return this.gravity.set(v,p),this},setGravityX:function(v){return this.gravity.x=v,this},setGravityY:function(v){return this.gravity.y=v,this},setFriction:function(v,p){return this.friction.set(v,p),this},setFrictionX:function(v){return this.friction.x=v,this},setFrictionY:function(v){return this.friction.y=v,this},setAngularVelocity:function(v){return this.angularVelocity=v,this},setAngularAcceleration:function(v){return this.angularAcceleration=v,this},setAngularDrag:function(v){return this.angularDrag=v,this},setMass:function(v){return this.mass=v,this},setImmovable:function(v){return v===void 0&&(v=!0),this.immovable=v,this},setEnable:function(v){return v===void 0&&(v=!0),this.enable=v,this},processX:function(v,p,m,x){this.x+=v,this.updateCenter(),p!==null&&(this.velocity.x=p*this.slideFactor.x);var E=this.blocked;m&&(E.left=!0,E.none=!1),x&&(E.right=!0,E.none=!1)},processY:function(v,p,m,x){this.y+=v,this.updateCenter(),p!==null&&(this.velocity.y=p*this.slideFactor.y);var E=this.blocked;m&&(E.up=!0,E.none=!1),x&&(E.down=!0,E.none=!1)},x:{get:function(){return this.position.x},set:function(v){this.position.x=v}},y:{get:function(){return this.position.y},set:function(v){this.position.y=v}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});h.exports=d},79342:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=new u({initialize:function(l,o,s,a,c,r,d){this.world=l,this.name="",this.active=!0,this.overlapOnly=o,this.object1=s,this.object2=a,this.collideCallback=c,this.processCallback=r,this.callbackContext=d},setName:function(f){return this.name=f,this},update:function(){this.world.collideObjects(this.object1,this.object2,this.collideCallback,this.processCallback,this.callbackContext,this.overlapOnly)},destroy:function(){this.world.removeCollider(this),this.active=!1,this.world=null,this.object1=null,this.object2=null,this.collideCallback=null,this.processCallback=null,this.callbackContext=null}});h.exports=y},66022:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(71289),y=e(13759),f=e(37742),l=e(83419),o=e(37747),s=e(60758),a=e(72624),c=e(71464),r=new l({initialize:function(v){this.world=v,this.scene=v.scene,this.sys=v.scene.sys},collider:function(d,v,p,m,x){return this.world.addCollider(d,v,p,m,x)},overlap:function(d,v,p,m,x){return this.world.addOverlap(d,v,p,m,x)},existing:function(d,v){var p=v?o.STATIC_BODY:o.DYNAMIC_BODY;return this.world.enableBody(d,p),d},staticImage:function(d,v,p,m){var x=new u(this.scene,d,v,p,m);return this.sys.displayList.add(x),this.world.enableBody(x,o.STATIC_BODY),x},image:function(d,v,p,m){var x=new u(this.scene,d,v,p,m);return this.sys.displayList.add(x),this.world.enableBody(x,o.DYNAMIC_BODY),x},staticSprite:function(d,v,p,m){var x=new y(this.scene,d,v,p,m);return this.sys.displayList.add(x),this.sys.updateList.add(x),this.world.enableBody(x,o.STATIC_BODY),x},sprite:function(d,v,p,m){var x=new y(this.scene,d,v,p,m);return this.sys.displayList.add(x),this.sys.updateList.add(x),this.world.enableBody(x,o.DYNAMIC_BODY),x},staticGroup:function(d,v){return this.sys.updateList.add(new c(this.world,this.world.scene,d,v))},group:function(d,v){return this.sys.updateList.add(new s(this.world,this.world.scene,d,v))},body:function(d,v,p,m){var x=new f(this.world);return x.position.set(d,v),p&&m&&x.setSize(p,m),this.world.add(x,o.DYNAMIC_BODY),x},staticBody:function(d,v,p,m){var x=new a(this.world);return x.position.set(d,v),p&&m&&x.setSize(p,m),this.world.add(x,o.STATIC_BODY),x},destroy:function(){this.world=null,this.scene=null,this.sys=null}});h.exports=r},79599:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e){var u=0;if(!Array.isArray(e))u=e;else for(var y=0;y<e.length;y++)u|=e[y];return u};h.exports=S},64897:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(37747),y=function(f,l,o,s){var a=0,c=f.deltaAbsX()+l.deltaAbsX()+s;return f._dx===0&&l._dx===0?(f.embedded=!0,l.embedded=!0):f._dx>l._dx?(a=f.right-l.x,a>c&&!o||f.checkCollision.right===!1||l.checkCollision.left===!1?a=0:(f.touching.none=!1,f.touching.right=!0,l.touching.none=!1,l.touching.left=!0,l.physicsType===u.STATIC_BODY&&!o&&(f.blocked.none=!1,f.blocked.right=!0),f.physicsType===u.STATIC_BODY&&!o&&(l.blocked.none=!1,l.blocked.left=!0))):f._dx<l._dx&&(a=f.x-l.width-l.x,-a>c&&!o||f.checkCollision.left===!1||l.checkCollision.right===!1?a=0:(f.touching.none=!1,f.touching.left=!0,l.touching.none=!1,l.touching.right=!0,l.physicsType===u.STATIC_BODY&&!o&&(f.blocked.none=!1,f.blocked.left=!0),f.physicsType===u.STATIC_BODY&&!o&&(l.blocked.none=!1,l.blocked.right=!0))),f.overlapX=a,l.overlapX=a,a};h.exports=y},45170:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(37747),y=function(f,l,o,s){var a=0,c=f.deltaAbsY()+l.deltaAbsY()+s;return f._dy===0&&l._dy===0?(f.embedded=!0,l.embedded=!0):f._dy>l._dy?(a=f.bottom-l.y,a>c&&!o||f.checkCollision.down===!1||l.checkCollision.up===!1?a=0:(f.touching.none=!1,f.touching.down=!0,l.touching.none=!1,l.touching.up=!0,l.physicsType===u.STATIC_BODY&&!o&&(f.blocked.none=!1,f.blocked.down=!0),f.physicsType===u.STATIC_BODY&&!o&&(l.blocked.none=!1,l.blocked.up=!0))):f._dy<l._dy&&(a=f.y-l.bottom,-a>c&&!o||f.checkCollision.up===!1||l.checkCollision.down===!1?a=0:(f.touching.none=!1,f.touching.up=!0,l.touching.none=!1,l.touching.down=!0,l.physicsType===u.STATIC_BODY&&!o&&(f.blocked.none=!1,f.blocked.up=!0),f.physicsType===u.STATIC_BODY&&!o&&(l.blocked.none=!1,l.blocked.down=!0))),f.overlapY=a,l.overlapY=a,a};h.exports=y},60758:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(13759),y=e(83419),f=e(78389),l=e(37747),o=e(95540),s=e(26479),a=e(41212),c=new y({Extends:s,Mixins:[f],initialize:function(d,v,p,m){if(!p&&!m)m={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};else if(a(p))m=p,p=null,m.internalCreateCallback=this.createCallbackHandler,m.internalRemoveCallback=this.removeCallbackHandler;else if(Array.isArray(p)&&a(p[0])){var x=this;p.forEach(function(E){E.internalCreateCallback=x.createCallbackHandler,E.internalRemoveCallback=x.removeCallbackHandler,E.classType=o(E,"classType",u)}),m=null}else m={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};this.world=d,m&&(m.classType=o(m,"classType",u)),this.physicsType=l.DYNAMIC_BODY,this.collisionCategory=1,this.collisionMask=2147483647,this.defaults={setCollideWorldBounds:o(m,"collideWorldBounds",!1),setBoundsRectangle:o(m,"customBoundsRectangle",null),setAccelerationX:o(m,"accelerationX",0),setAccelerationY:o(m,"accelerationY",0),setAllowDrag:o(m,"allowDrag",!0),setAllowGravity:o(m,"allowGravity",!0),setAllowRotation:o(m,"allowRotation",!0),setDamping:o(m,"useDamping",!1),setBounceX:o(m,"bounceX",0),setBounceY:o(m,"bounceY",0),setDragX:o(m,"dragX",0),setDragY:o(m,"dragY",0),setEnable:o(m,"enable",!0),setGravityX:o(m,"gravityX",0),setGravityY:o(m,"gravityY",0),setFrictionX:o(m,"frictionX",0),setFrictionY:o(m,"frictionY",0),setMaxSpeed:o(m,"maxSpeed",-1),setMaxVelocityX:o(m,"maxVelocityX",1e4),setMaxVelocityY:o(m,"maxVelocityY",1e4),setVelocityX:o(m,"velocityX",0),setVelocityY:o(m,"velocityY",0),setAngularVelocity:o(m,"angularVelocity",0),setAngularAcceleration:o(m,"angularAcceleration",0),setAngularDrag:o(m,"angularDrag",0),setMass:o(m,"mass",1),setImmovable:o(m,"immovable",!1)},s.call(this,v,p,m),this.type="PhysicsGroup"},createCallbackHandler:function(r){r.body||this.world.enableBody(r,l.DYNAMIC_BODY);var d=r.body;for(var v in this.defaults)d[v](this.defaults[v])},removeCallbackHandler:function(r){r.body&&this.world.disableBody(r)},setVelocity:function(r,d,v){v===void 0&&(v=0);for(var p=this.getChildren(),m=0;m<p.length;m++)p[m].body.velocity.set(r+m*v,d+m*v);return this},setVelocityX:function(r,d){d===void 0&&(d=0);for(var v=this.getChildren(),p=0;p<v.length;p++)v[p].body.velocity.x=r+p*d;return this},setVelocityY:function(r,d){d===void 0&&(d=0);for(var v=this.getChildren(),p=0;p<v.length;p++)v[p].body.velocity.y=r+p*d;return this}});h.exports=c},3017:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S,e,u,y,f,l,o,s,a,c,r,d,v,p,m,x,E,w=function(D,L,F){S=D,e=L;var O=S.velocity.x,N=e.velocity.x;return u=S.pushable,a=S._dx<0,c=S._dx>0,r=S._dx===0,m=Math.abs(S.right-e.x)<=Math.abs(e.right-S.x),o=N-O*S.bounce.x,y=e.pushable,d=e._dx<0,v=e._dx>0,p=e._dx===0,x=!m,s=O-N*e.bounce.x,E=Math.abs(F),C()},C=function(){return c&&m&&e.blocked.right?(S.processX(-E,o,!1,!0),1):a&&x&&e.blocked.left?(S.processX(E,o,!0),1):v&&x&&S.blocked.right?(e.processX(-E,s,!1,!0),2):d&&m&&S.blocked.left?(e.processX(E,s,!0),2):0},P=function(){var D=S.velocity.x,L=e.velocity.x,F=Math.sqrt(L*L*e.mass/S.mass)*(L>0?1:-1),O=Math.sqrt(D*D*S.mass/e.mass)*(D>0?1:-1),N=(F+O)*.5;return F-=N,O-=N,f=N+F*S.bounce.x,l=N+O*e.bounce.x,a&&x?R(0):d&&m?R(1):c&&m?R(2):v&&x?R(3):!1},R=function(D){if(u&&y)E*=.5,D===0||D===3?(S.processX(E,f),e.processX(-E,l)):(S.processX(-E,f),e.processX(E,l));else if(u&&!y)D===0||D===3?S.processX(E,o,!0):S.processX(-E,o,!1,!0);else if(!u&&y)D===0||D===3?e.processX(-E,s,!1,!0):e.processX(E,s,!0);else{var L=E*.5;D===0?p?(S.processX(E,0,!0),e.processX(0,null,!1,!0)):v?(S.processX(L,0,!0),e.processX(-L,0,!1,!0)):(S.processX(L,e.velocity.x,!0),e.processX(-L,null,!1,!0)):D===1?r?(S.processX(0,null,!1,!0),e.processX(E,0,!0)):c?(S.processX(-L,0,!1,!0),e.processX(L,0,!0)):(S.processX(-L,null,!1,!0),e.processX(L,S.velocity.x,!0)):D===2?p?(S.processX(-E,0,!1,!0),e.processX(0,null,!0)):d?(S.processX(-L,0,!1,!0),e.processX(L,0,!0)):(S.processX(-L,e.velocity.x,!1,!0),e.processX(L,null,!0)):D===3&&(r?(S.processX(0,null,!0),e.processX(-E,0,!1,!0)):a?(S.processX(L,0,!0),e.processX(-L,0,!1,!0)):(S.processX(L,e.velocity.y,!0),e.processX(-L,null,!1,!0)))}return!0},M=function(D){if(D===1?e.velocity.x=0:m?e.processX(E,s,!0):e.processX(-E,s,!1,!0),S.moves){var L=S.directControl?S.y-S.autoFrame.y:S.y-S.prev.y;e.y+=L*S.friction.y,e._dy=e.y-e.prev.y}},I=function(D){if(D===2?S.velocity.x=0:x?S.processX(E,o,!0):S.processX(-E,o,!1,!0),e.moves){var L=e.directControl?e.y-e.autoFrame.y:e.y-e.prev.y;S.y+=L*e.friction.y,S._dy=S.y-S.prev.y}};h.exports={BlockCheck:C,Check:P,Set:w,Run:R,RunImmovableBody1:M,RunImmovableBody2:I}},47962:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S,e,u,y,f,l,o,s,a,c,r,d,v,p,m,x,E,w=function(D,L,F){S=D,e=L;var O=S.velocity.y,N=e.velocity.y;return u=S.pushable,a=S._dy<0,c=S._dy>0,r=S._dy===0,m=Math.abs(S.bottom-e.y)<=Math.abs(e.bottom-S.y),o=N-O*S.bounce.y,y=e.pushable,d=e._dy<0,v=e._dy>0,p=e._dy===0,x=!m,s=O-N*e.bounce.y,E=Math.abs(F),C()},C=function(){return c&&m&&e.blocked.down?(S.processY(-E,o,!1,!0),1):a&&x&&e.blocked.up?(S.processY(E,o,!0),1):v&&x&&S.blocked.down?(e.processY(-E,s,!1,!0),2):d&&m&&S.blocked.up?(e.processY(E,s,!0),2):0},P=function(){var D=S.velocity.y,L=e.velocity.y,F=Math.sqrt(L*L*e.mass/S.mass)*(L>0?1:-1),O=Math.sqrt(D*D*S.mass/e.mass)*(D>0?1:-1),N=(F+O)*.5;return F-=N,O-=N,f=N+F*S.bounce.y,l=N+O*e.bounce.y,a&&x?R(0):d&&m?R(1):c&&m?R(2):v&&x?R(3):!1},R=function(D){if(u&&y)E*=.5,D===0||D===3?(S.processY(E,f),e.processY(-E,l)):(S.processY(-E,f),e.processY(E,l));else if(u&&!y)D===0||D===3?S.processY(E,o,!0):S.processY(-E,o,!1,!0);else if(!u&&y)D===0||D===3?e.processY(-E,s,!1,!0):e.processY(E,s,!0);else{var L=E*.5;D===0?p?(S.processY(E,0,!0),e.processY(0,null,!1,!0)):v?(S.processY(L,0,!0),e.processY(-L,0,!1,!0)):(S.processY(L,e.velocity.y,!0),e.processY(-L,null,!1,!0)):D===1?r?(S.processY(0,null,!1,!0),e.processY(E,0,!0)):c?(S.processY(-L,0,!1,!0),e.processY(L,0,!0)):(S.processY(-L,null,!1,!0),e.processY(L,S.velocity.y,!0)):D===2?p?(S.processY(-E,0,!1,!0),e.processY(0,null,!0)):d?(S.processY(-L,0,!1,!0),e.processY(L,0,!0)):(S.processY(-L,e.velocity.y,!1,!0),e.processY(L,null,!0)):D===3&&(r?(S.processY(0,null,!0),e.processY(-E,0,!1,!0)):a?(S.processY(L,0,!0),e.processY(-L,0,!1,!0)):(S.processY(L,e.velocity.y,!0),e.processY(-L,null,!1,!0)))}return!0},M=function(D){if(D===1?e.velocity.y=0:m?e.processY(E,s,!0):e.processY(-E,s,!1,!0),S.moves){var L=S.directControl?S.x-S.autoFrame.x:S.x-S.prev.x;e.x+=L*S.friction.x,e._dx=e.x-e.prev.x}},I=function(D){if(D===2?S.velocity.y=0:x?S.processY(E,o,!0):S.processY(-E,o,!1,!0),e.moves){var L=e.directControl?e.x-e.autoFrame.x:e.x-e.prev.x;S.x+=L*e.friction.x,S._dx=S.x-S.prev.x}};h.exports={BlockCheck:C,Check:P,Set:w,Run:R,RunImmovableBody1:M,RunImmovableBody2:I}},14087:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(64897),y=e(3017),f=function(l,o,s,a,c){c===void 0&&(c=u(l,o,s,a));var r=l.immovable,d=o.immovable;if(s||c===0||r&&d||l.customSeparateX||o.customSeparateX)return c!==0||l.embedded&&o.embedded;var v=y.Set(l,o,c);return!r&&!d?v>0?!0:y.Check():(r?y.RunImmovableBody1(v):d&&y.RunImmovableBody2(v),!0)};h.exports=f},89936:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(45170),y=e(47962),f=function(l,o,s,a,c){c===void 0&&(c=u(l,o,s,a));var r=l.immovable,d=o.immovable;if(s||c===0||r&&d||l.customSeparateY||o.customSeparateY)return c!==0||l.embedded&&o.embedded;var v=y.Set(l,o,c);return!r&&!d?v>0?!0:y.Check():(r?y.RunImmovableBody1(v):d&&y.RunImmovableBody2(v),!0)};h.exports=f},95829:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u){return u===void 0&&(u={}),u.none=e,u.up=!1,u.down=!1,u.left=!1,u.right=!1,e||(u.up=!0,u.down=!0,u.left=!0,u.right=!0),u};h.exports=S},72624:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(87902),y=e(83419),f=e(78389),l=e(37747),o=e(37303),s=e(95829),a=e(26099),c=new y({Mixins:[f],initialize:function(d,v){var p=64,m=64,x={x:0,y:0,angle:0,rotation:0,scaleX:1,scaleY:1,displayOriginX:0,displayOriginY:0},E=v!==void 0;E&&v.displayWidth&&(p=v.displayWidth,m=v.displayHeight),E||(v=x),this.world=d,this.gameObject=E?v:void 0,this.isBody=!0,this.debugShowBody=d.defaults.debugShowStaticBody,this.debugBodyColor=d.defaults.staticBodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new a,this.position=new a(v.x-p*v.originX,v.y-m*v.originY),this.width=p,this.height=m,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center=new a(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=a.ZERO,this.allowGravity=!1,this.gravity=a.ZERO,this.bounce=a.ZERO,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.mass=1,this.immovable=!0,this.pushable=!1,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision=s(!1),this.touching=s(!0),this.wasTouching=s(!0),this.blocked=s(!0),this.physicsType=l.STATIC_BODY,this.collisionCategory=1,this.collisionMask=1,this._dx=0,this._dy=0},setGameObject:function(r,d,v){if(d===void 0&&(d=!0),v===void 0&&(v=!0),!r||!r.hasTransformComponent)return this;var p=this.world;return this.gameObject&&this.gameObject.body&&(p.disable(this.gameObject),this.gameObject.body=null),r.body&&p.disable(r),this.gameObject=r,r.body=this,this.setSize(),d&&this.updateFromGameObject(),this.enable=v,this},updateFromGameObject:function(){this.world.staticTree.remove(this);var r=this.gameObject;return r.getTopLeft(this.position),this.width=r.displayWidth,this.height=r.displayHeight,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.world.staticTree.insert(this),this},setOffset:function(r,d){return d===void 0&&(d=r),this.world.staticTree.remove(this),this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(r,d),this.position.x+=this.offset.x,this.position.y+=this.offset.y,this.updateCenter(),this.world.staticTree.insert(this),this},setSize:function(r,d,v){v===void 0&&(v=!0);var p=this.gameObject;if(p&&p.frame&&(r||(r=p.frame.realWidth),d||(d=p.frame.realHeight)),this.world.staticTree.remove(this),this.width=r,this.height=d,this.halfWidth=Math.floor(r/2),this.halfHeight=Math.floor(d/2),v&&p&&p.getCenter){var m=p.displayWidth/2,x=p.displayHeight/2;this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(m-this.halfWidth,x-this.halfHeight),this.position.x+=this.offset.x,this.position.y+=this.offset.y}return this.updateCenter(),this.isCircle=!1,this.radius=0,this.world.staticTree.insert(this),this},setCircle:function(r,d,v){return d===void 0&&(d=this.offset.x),v===void 0&&(v=this.offset.y),r>0?(this.world.staticTree.remove(this),this.isCircle=!0,this.radius=r,this.width=r*2,this.height=r*2,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(d,v),this.updateCenter(),this.world.staticTree.insert(this)):this.isCircle=!1,this},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},reset:function(r,d){var v=this.gameObject;r===void 0&&(r=v.x),d===void 0&&(d=v.y),this.world.staticTree.remove(this),v.setPosition(r,d),v.getTopLeft(this.position),this.position.x+=this.offset.x,this.position.y+=this.offset.y,this.updateCenter(),this.world.staticTree.insert(this)},stop:function(){return this},getBounds:function(r){return r.x=this.x,r.y=this.y,r.right=this.right,r.bottom=this.bottom,r},hitTest:function(r,d){return this.isCircle?u(this,r,d):o(this,r,d)},postUpdate:function(){},deltaAbsX:function(){return 0},deltaAbsY:function(){return 0},deltaX:function(){return 0},deltaY:function(){return 0},deltaZ:function(){return 0},destroy:function(){this.enable=!1,this.world.pendingDestroy.set(this)},drawDebug:function(r){var d=this.position,v=d.x+this.halfWidth,p=d.y+this.halfHeight;this.debugShowBody&&(r.lineStyle(r.defaultStrokeWidth,this.debugBodyColor,1),this.isCircle?r.strokeCircle(v,p,this.width/2):r.strokeRect(d.x,d.y,this.width,this.height))},willDrawDebug:function(){return this.debugShowBody},setMass:function(r){return r<=0&&(r=.1),this.mass=r,this},x:{get:function(){return this.position.x},set:function(r){this.world.staticTree.remove(this),this.position.x=r,this.world.staticTree.insert(this)}},y:{get:function(){return this.position.y},set:function(r){this.world.staticTree.remove(this),this.position.y=r,this.world.staticTree.insert(this)}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});h.exports=c},71464:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(13759),y=e(83419),f=e(78389),l=e(37747),o=e(95540),s=e(26479),a=e(41212),c=new y({Extends:s,Mixins:[f],initialize:function(d,v,p,m){!p&&!m?m={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler,createMultipleCallback:this.createMultipleCallbackHandler,classType:u}:a(p)?(m=p,p=null,m.internalCreateCallback=this.createCallbackHandler,m.internalRemoveCallback=this.removeCallbackHandler,m.createMultipleCallback=this.createMultipleCallbackHandler,m.classType=o(m,"classType",u)):Array.isArray(p)&&a(p[0])?(m=p,p=null,m.forEach(function(x){x.internalCreateCallback=this.createCallbackHandler,x.internalRemoveCallback=this.removeCallbackHandler,x.createMultipleCallback=this.createMultipleCallbackHandler,x.classType=o(x,"classType",u)})):m={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler},this.world=d,this.physicsType=l.STATIC_BODY,this.collisionCategory=1,this.collisionMask=1,s.call(this,v,p,m),this.type="StaticPhysicsGroup"},createCallbackHandler:function(r){r.body||this.world.enableBody(r,l.STATIC_BODY)},removeCallbackHandler:function(r){r.body&&this.world.disableBody(r)},createMultipleCallbackHandler:function(){this.refresh()},refresh:function(){for(var r=this.children.entries,d=0;d<r.length;d++)r[d].body.reset();return this}});h.exports=c},82248:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(55495),y=e(37742),f=e(45319),l=e(83419),o=e(79342),s=e(37747),a=e(20339),c=e(52816),r=e(50792),d=e(63012),v=e(43855),p=e(5470),m=e(94977),x=e(64897),E=e(45170),w=e(96523),C=e(35154),P=e(36383),R=e(25774),M=e(96602),I=e(87841),D=e(59542),L=e(40012),F=e(14087),O=e(89936),N=e(35072),b=e(72624),V=e(2483),Y=e(61340),W=e(26099),U=e(15994),z=new l({Extends:r,initialize:function(X,G){r.call(this),this.scene=X,this.bodies=new N,this.staticBodies=new N,this.pendingDestroy=new N,this.colliders=new R,this.gravity=new W(C(G,"gravity.x",0),C(G,"gravity.y",0)),this.bounds=new I(C(G,"x",0),C(G,"y",0),C(G,"width",X.sys.scale.width),C(G,"height",X.sys.scale.height)),this.checkCollision={up:C(G,"checkCollision.up",!0),down:C(G,"checkCollision.down",!0),left:C(G,"checkCollision.left",!0),right:C(G,"checkCollision.right",!0)},this.fps=C(G,"fps",60),this.fixedStep=C(G,"fixedStep",!0),this._elapsed=0,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this.stepsLastFrame=0,this.timeScale=C(G,"timeScale",1),this.OVERLAP_BIAS=C(G,"overlapBias",4),this.TILE_BIAS=C(G,"tileBias",16),this.forceX=C(G,"forceX",!1),this.isPaused=C(G,"isPaused",!1),this._total=0,this.drawDebug=C(G,"debug",!1),this.debugGraphic,this.defaults={debugShowBody:C(G,"debugShowBody",!0),debugShowStaticBody:C(G,"debugShowStaticBody",!0),debugShowVelocity:C(G,"debugShowVelocity",!0),bodyDebugColor:C(G,"debugBodyColor",16711935),staticBodyDebugColor:C(G,"debugStaticBodyColor",255),velocityDebugColor:C(G,"debugVelocityColor",65280)},this.maxEntries=C(G,"maxEntries",16),this.useTree=C(G,"useTree",!0),this.tree=new D(this.maxEntries),this.staticTree=new D(this.maxEntries),this.treeMinMax={minX:0,minY:0,maxX:0,maxY:0},this._tempMatrix=new Y,this._tempMatrix2=new Y,this.tileFilterOptions={isColliding:!0,isNotEmpty:!0,hasInterestingFace:!0},this.drawDebug&&this.createDebugGraphic()},enable:function(B,X){X===void 0&&(X=s.DYNAMIC_BODY),Array.isArray(B)||(B=[B]);for(var G=0;G<B.length;G++){var H=B[G];if(H.isParent)for(var $=H.getChildren(),k=0;k<$.length;k++){var j=$[k];j.isParent?this.enable(j,X):this.enableBody(j,X)}else this.enableBody(H,X)}},enableBody:function(B,X){return X===void 0&&(X=s.DYNAMIC_BODY),B.hasTransformComponent&&(B.body||(X===s.DYNAMIC_BODY?B.body=new y(this,B):X===s.STATIC_BODY&&(B.body=new b(this,B))),this.add(B.body)),B},add:function(B){return B.physicsType===s.DYNAMIC_BODY?this.bodies.set(B):B.physicsType===s.STATIC_BODY&&(this.staticBodies.set(B),this.staticTree.insert(B)),B.enable=!0,B},disable:function(B){Array.isArray(B)||(B=[B]);for(var X=0;X<B.length;X++){var G=B[X];if(G.isParent)for(var H=G.getChildren(),$=0;$<H.length;$++){var k=H[$];k.isParent?this.disable(k):this.disableBody(k.body)}else this.disableBody(G.body)}},disableBody:function(B){this.remove(B),B.enable=!1},remove:function(B){B.physicsType===s.DYNAMIC_BODY?(this.tree.remove(B),this.bodies.delete(B)):B.physicsType===s.STATIC_BODY&&(this.staticBodies.delete(B),this.staticTree.remove(B))},createDebugGraphic:function(){var B=this.scene.sys.add.graphics({x:0,y:0});return B.setDepth(Number.MAX_VALUE),this.debugGraphic=B,this.drawDebug=!0,B},setBounds:function(B,X,G,H,$,k,j,Q){return this.bounds.setTo(B,X,G,H),$!==void 0&&this.setBoundsCollision($,k,j,Q),this},setBoundsCollision:function(B,X,G,H){return B===void 0&&(B=!0),X===void 0&&(X=!0),G===void 0&&(G=!0),H===void 0&&(H=!0),this.checkCollision.left=B,this.checkCollision.right=X,this.checkCollision.up=G,this.checkCollision.down=H,this},pause:function(){return this.isPaused=!0,this.emit(d.PAUSE),this},resume:function(){return this.isPaused=!1,this.emit(d.RESUME),this},addCollider:function(B,X,G,H,$){G===void 0&&(G=null),H===void 0&&(H=null),$===void 0&&($=G);var k=new o(this,!1,B,X,G,H,$);return this.colliders.add(k),k},addOverlap:function(B,X,G,H,$){G===void 0&&(G=null),H===void 0&&(H=null),$===void 0&&($=G);var k=new o(this,!0,B,X,G,H,$);return this.colliders.add(k),k},removeCollider:function(B){return this.colliders.remove(B),this},setFPS:function(B){return this.fps=B,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this},update:function(B,X){if(!(this.isPaused||this.bodies.size===0)){var G,H=this._frameTime,$=this._frameTimeMS*this.timeScale;this._elapsed+=X;var k,j=this.bodies.entries,Q=this._elapsed>=$;for(this.fixedStep||(H=X*.001,Q=!0,this._elapsed=0),G=0;G<j.length;G++)k=j[G],k.enable&&k.preUpdate(Q,H);if(Q){this._elapsed-=$,this.stepsLastFrame=1,this.useTree&&(this.tree.clear(),this.tree.load(j));var J=this.colliders.update();for(G=0;G<J.length;G++){var q=J[G];q.active&&q.update()}this.emit(d.WORLD_STEP,H)}for(;this._elapsed>=$;)this._elapsed-=$,this.step(H)}},step:function(B){var X,G,H=this.bodies.entries,$=H.length;for(X=0;X<$;X++)G=H[X],G.enable&&G.update(B);this.useTree&&(this.tree.clear(),this.tree.load(H));var k=this.colliders.update();for(X=0;X<k.length;X++){var j=k[X];j.active&&j.update()}this.emit(d.WORLD_STEP,B),this.stepsLastFrame++},singleStep:function(){this.update(0,this._frameTimeMS),this.postUpdate()},postUpdate:function(){var B,X,G=this.bodies.entries,H=G.length,$=this.bodies,k=this.staticBodies;if(this.stepsLastFrame)for(this.stepsLastFrame=0,B=0;B<H;B++)X=G[B],X.enable&&X.postUpdate();if(this.drawDebug){var j=this.debugGraphic;for(j.clear(),B=0;B<H;B++)X=G[B],X.willDrawDebug()&&X.drawDebug(j);for(G=k.entries,H=G.length,B=0;B<H;B++)X=G[B],X.willDrawDebug()&&X.drawDebug(j)}var Q=this.pendingDestroy;if(Q.size>0){var J=this.tree,q=this.staticTree;for(G=Q.entries,H=G.length,B=0;B<H;B++)X=G[B],X.physicsType===s.DYNAMIC_BODY?(J.remove(X),$.delete(X)):X.physicsType===s.STATIC_BODY&&(q.remove(X),k.delete(X)),X.world=void 0,X.gameObject=void 0;Q.clear()}},updateMotion:function(B,X){B.allowRotation&&this.computeAngularVelocity(B,X),this.computeVelocity(B,X)},computeAngularVelocity:function(B,X){var G=B.angularVelocity,H=B.angularAcceleration,$=B.angularDrag,k=B.maxAngular;H?G+=H*X:B.allowDrag&&$&&($*=X,p(G-$,0,.1)?G-=$:m(G+$,0,.1)?G+=$:G=0),G=f(G,-k,k);var j=G-B.angularVelocity;B.angularVelocity+=j,B.rotation+=B.angularVelocity*X},computeVelocity:function(B,X){var G=B.velocity.x,H=B.acceleration.x,$=B.drag.x,k=B.maxVelocity.x,j=B.velocity.y,Q=B.acceleration.y,J=B.drag.y,q=B.maxVelocity.y,Z=B.speed,it=B.maxSpeed,rt=B.allowDrag,et=B.useDamping;B.allowGravity&&(G+=(this.gravity.x+B.gravity.x)*X,j+=(this.gravity.y+B.gravity.y)*X),H?G+=H*X:rt&&$&&(et?($=Math.pow($,X),G*=$,Z=Math.sqrt(G*G+j*j),v(Z,0,.001)&&(G=0)):($*=X,p(G-$,0,.01)?G-=$:m(G+$,0,.01)?G+=$:G=0)),Q?j+=Q*X:rt&&J&&(et?(J=Math.pow(J,X),j*=J,Z=Math.sqrt(G*G+j*j),v(Z,0,.001)&&(j=0)):(J*=X,p(j-J,0,.01)?j-=J:m(j+J,0,.01)?j+=J:j=0)),G=f(G,-k,k),j=f(j,-q,q),B.velocity.set(G,j),it>-1&&B.velocity.length()>it&&(B.velocity.normalize().scale(it),Z=it),B.speed=Z},separate:function(B,X,G,H,$){var k,j,Q=!1,J=!0;if(!B.enable||!X.enable||B.checkCollision.none||X.checkCollision.none||!this.intersects(B,X)||!(B.collisionMask&X.collisionCategory)||!(X.collisionMask&B.collisionCategory)||G&&G.call(H,B.gameObject||B,X.gameObject||X)===!1)return Q;if(B.isCircle||X.isCircle){var q=this.separateCircle(B,X,$);q.result?(Q=!0,J=!1):(k=q.x,j=q.y,J=!0)}if(J){var Z=!1,it=!1,rt=this.OVERLAP_BIAS;$?(Z=F(B,X,$,rt,k),it=O(B,X,$,rt,j)):this.forceX||Math.abs(this.gravity.y+B.gravity.y)<Math.abs(this.gravity.x+B.gravity.x)?(Z=F(B,X,$,rt,k),this.intersects(B,X)&&(it=O(B,X,$,rt,j))):(it=O(B,X,$,rt,j),this.intersects(B,X)&&(Z=F(B,X,$,rt,k))),Q=Z||it}return Q&&($?(B.onOverlap||X.onOverlap)&&this.emit(d.OVERLAP,B.gameObject,X.gameObject,B,X):(B.onCollide||X.onCollide)&&this.emit(d.COLLIDE,B.gameObject,X.gameObject,B,X)),Q},separateCircle:function(B,X,G){x(B,X,!1,0),E(B,X,!1,0);var H=B.isCircle,$=X.isCircle,k=B.center,j=X.center,Q=B.immovable,J=X.immovable,q=B.velocity,Z=X.velocity,it=0,rt=!0;if(H!==$){rt=!1;var et=k.x,ct=k.y,pt=B.halfWidth,mt=X.position.x,nt=X.position.y,lt=X.right,ht=X.bottom;$&&(et=j.x,ct=j.y,pt=X.halfWidth,mt=B.position.x,nt=B.position.y,lt=B.right,ht=B.bottom),ct<nt?et<mt?it=a(et,ct,mt,nt)-pt:et>lt&&(it=a(et,ct,lt,nt)-pt):ct>ht&&(et<mt?it=a(et,ct,mt,ht)-pt:et>lt&&(it=a(et,ct,lt,ht)-pt)),it*=-1}else it=B.halfWidth+X.halfWidth-c(k,j);B.overlapR=it,X.overlapR=it;var Tt=u(k,j),It=(it+P.EPSILON)*Math.cos(Tt),Vt=(it+P.EPSILON)*Math.sin(Tt),At={overlap:it,result:!1,x:It,y:Vt};if(G&&(!rt||rt&&it!==0))return At.result=!0,At;if(!rt&&it===0||Q&&J||B.customSeparateX||X.customSeparateX)return At.x=void 0,At.y=void 0,At;var Rt=!B.pushable&&!X.pushable;if(rt){var $t=k.x-j.x,fe=k.y-j.y,Nt=Math.sqrt(Math.pow($t,2)+Math.pow(fe,2)),kt=(j.x-k.x)/Nt||0,_t=(j.y-k.y)/Nt||0,Le=2*(q.x*kt+q.y*_t-Z.x*kt-Z.y*_t)/(B.mass+X.mass);(Q||J||!B.pushable||!X.pushable)&&(Le*=2),!Q&&B.pushable&&(q.x=q.x-Le/B.mass*kt,q.y=q.y-Le/B.mass*_t,q.multiply(B.bounce)),!J&&X.pushable&&(Z.x=Z.x+Le/X.mass*kt,Z.y=Z.y+Le/X.mass*_t,Z.multiply(X.bounce)),!Q&&!J&&(It*=.5,Vt*=.5),(!Q||B.pushable||Rt)&&(B.x-=It,B.y-=Vt,B.updateCenter()),(!J||X.pushable||Rt)&&(X.x+=It,X.y+=Vt,X.updateCenter()),At.result=!0}else!Q&&(B.pushable||Rt)&&(B.x-=It,B.y-=Vt,B.updateCenter()),!J&&(X.pushable||Rt)&&(X.x+=It,X.y+=Vt,X.updateCenter()),At.x=void 0,At.y=void 0;return At},intersects:function(B,X){return B===X?!1:!B.isCircle&&!X.isCircle?!(B.right<=X.left||B.bottom<=X.top||B.left>=X.right||B.top>=X.bottom):B.isCircle?X.isCircle?c(B.center,X.center)<=B.halfWidth+X.halfWidth:this.circleBodyIntersects(B,X):this.circleBodyIntersects(X,B)},circleBodyIntersects:function(B,X){var G=f(B.center.x,X.left,X.right),H=f(B.center.y,X.top,X.bottom),$=(B.center.x-G)*(B.center.x-G),k=(B.center.y-H)*(B.center.y-H);return $+k<=B.halfWidth*B.halfWidth},overlap:function(B,X,G,H,$){return G===void 0&&(G=null),H===void 0&&(H=null),$===void 0&&($=G),this.collideObjects(B,X,G,H,$,!0)},collide:function(B,X,G,H,$){return G===void 0&&(G=null),H===void 0&&(H=null),$===void 0&&($=G),this.collideObjects(B,X,G,H,$,!1)},collideObjects:function(B,X,G,H,$,k){var j,Q;B.isParent&&(B.physicsType===void 0||X===void 0||B===X)&&(B=B.children.entries),X&&X.isParent&&X.physicsType===void 0&&(X=X.children.entries);var J=Array.isArray(B),q=Array.isArray(X);if(this._total=0,!J&&!q)this.collideHandler(B,X,G,H,$,k);else if(!J&&q)for(j=0;j<X.length;j++)this.collideHandler(B,X[j],G,H,$,k);else if(J&&!q)if(X)for(j=0;j<B.length;j++)this.collideHandler(B[j],X,G,H,$,k);else for(j=0;j<B.length;j++){var Z=B[j];for(Q=j+1;Q<B.length;Q++)j!==Q&&this.collideHandler(Z,B[Q],G,H,$,k)}else for(j=0;j<B.length;j++)for(Q=0;Q<X.length;Q++)this.collideHandler(B[j],X[Q],G,H,$,k);return this._total>0},collideHandler:function(B,X,G,H,$,k){if(X===void 0&&B.isParent)return this.collideGroupVsGroup(B,B,G,H,$,k);if(!B||!X)return!1;if(B.body||B.isBody){if(X.body||X.isBody)return this.collideSpriteVsSprite(B,X,G,H,$,k);if(X.isParent)return this.collideSpriteVsGroup(B,X,G,H,$,k);if(X.isTilemap)return this.collideSpriteVsTilemapLayer(B,X,G,H,$,k)}else if(B.isParent){if(X.body||X.isBody)return this.collideSpriteVsGroup(X,B,G,H,$,k);if(X.isParent)return this.collideGroupVsGroup(B,X,G,H,$,k);if(X.isTilemap)return this.collideGroupVsTilemapLayer(B,X,G,H,$,k)}else if(B.isTilemap){if(X.body||X.isBody)return this.collideSpriteVsTilemapLayer(X,B,G,H,$,k);if(X.isParent)return this.collideGroupVsTilemapLayer(X,B,G,H,$,k)}},canCollide:function(B,X){return B&&X&&(B.collisionMask&X.collisionCategory)!==0&&(X.collisionMask&B.collisionCategory)!==0},collideSpriteVsSprite:function(B,X,G,H,$,k){var j=B.isBody?B:B.body,Q=X.isBody?X:X.body;return this.canCollide(j,Q)?(this.separate(j,Q,H,$,k)&&(G&&G.call($,B,X),this._total++),!0):!1},collideSpriteVsGroup:function(B,X,G,H,$,k){var j=B.isBody?B:B.body;if(!(X.getLength()===0||!j||!j.enable||j.checkCollision.none||!this.canCollide(j,X))){var Q,J,q;if(this.useTree||X.physicsType===s.STATIC_BODY){var Z=this.treeMinMax;Z.minX=j.left,Z.minY=j.top,Z.maxX=j.right,Z.maxY=j.bottom;var it=X.physicsType===s.DYNAMIC_BODY?this.tree.search(Z):this.staticTree.search(Z);for(J=it.length,Q=0;Q<J;Q++)q=it[Q],!(j===q||!q.enable||q.checkCollision.none||!X.contains(q.gameObject))&&this.separate(j,q,H,$,k)&&(G&&G.call($,j.gameObject,q.gameObject),this._total++)}else{var rt=X.getChildren(),et=X.children.entries.indexOf(B);for(J=rt.length,Q=0;Q<J;Q++)q=rt[Q].body,!(!q||Q===et||!q.enable)&&this.separate(j,q,H,$,k)&&(G&&G.call($,j.gameObject,q.gameObject),this._total++)}}},collideGroupVsTilemapLayer:function(B,X,G,H,$,k){if(!this.canCollide(B,X))return!1;var j=B.getChildren();if(j.length===0)return!1;for(var Q=!1,J=0;J<j.length;J++)(j[J].body||j[J].isBody)&&this.collideSpriteVsTilemapLayer(j[J],X,G,H,$,k)&&(Q=!0);return Q},collideTiles:function(B,X,G,H,$){return X.length===0||B.body&&!B.body.enable||B.isBody&&!B.enable?!1:this.collideSpriteVsTilesHandler(B,X,G,H,$,!1,!1)},overlapTiles:function(B,X,G,H,$){return X.length===0||B.body&&!B.body.enable||B.isBody&&!B.enable?!1:this.collideSpriteVsTilesHandler(B,X,G,H,$,!0,!1)},collideSpriteVsTilemapLayer:function(B,X,G,H,$,k){var j=B.isBody?B:B.body;if(!j.enable||j.checkCollision.none||!this.canCollide(j,X))return!1;var Q=X.layer,J=j.x-Q.tileWidth*X.scaleX,q=j.y-Q.tileHeight*X.scaleY,Z=j.width+Q.tileWidth*X.scaleX,it=j.height+Q.tileHeight*X.scaleY,rt=k?null:this.tileFilterOptions,et=w(J,q,Z,it,rt,X.scene.cameras.main,X.layer);return et.length===0?!1:this.collideSpriteVsTilesHandler(B,et,G,H,$,k,!0)},collideSpriteVsTilesHandler:function(B,X,G,H,$,k,j){for(var Q=B.isBody?B:B.body,J,q={left:0,right:0,top:0,bottom:0},Z,it=!1,rt=0;rt<X.length;rt++){J=X[rt],Z=J.tilemapLayer;var et=Z.tileToWorldXY(J.x,J.y);q.left=et.x,q.top=et.y,q.right=q.left+J.width*Z.scaleX,q.bottom=q.top+J.height*Z.scaleY,V(q,Q)&&(!H||H.call($,B,J))&&M(J,B)&&(k||L(rt,Q,J,q,Z,this.TILE_BIAS,j))&&(this._total++,it=!0,G&&G.call($,B,J),k&&Q.onOverlap?this.emit(d.TILE_OVERLAP,B,J,Q):Q.onCollide&&this.emit(d.TILE_COLLIDE,B,J,Q))}return it},collideGroupVsGroup:function(B,X,G,H,$,k){if(!(B.getLength()===0||X.getLength()===0||!this.canCollide(B,X)))for(var j=B.getChildren(),Q=0;Q<j.length;Q++)this.collideSpriteVsGroup(j[Q],X,G,H,$,k)},wrap:function(B,X){B.body?this.wrapObject(B,X):B.getChildren?this.wrapArray(B.getChildren(),X):Array.isArray(B)?this.wrapArray(B,X):this.wrapObject(B,X)},wrapArray:function(B,X){for(var G=0;G<B.length;G++)this.wrapObject(B[G],X)},wrapObject:function(B,X){X===void 0&&(X=0),B.x=U(B.x,this.bounds.left-X,this.bounds.right+X),B.y=U(B.y,this.bounds.top-X,this.bounds.bottom+X)},shutdown:function(){this.tree.clear(),this.staticTree.clear(),this.bodies.clear(),this.staticBodies.clear(),this.colliders.destroy(),this.removeAllListeners()},destroy:function(){this.shutdown(),this.scene=null,this.debugGraphic&&(this.debugGraphic.destroy(),this.debugGraphic=null)}});h.exports=z},1093:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setAcceleration:function(e,u){return this.body.acceleration.set(e,u),this},setAccelerationX:function(e){return this.body.acceleration.x=e,this},setAccelerationY:function(e){return this.body.acceleration.y=e,this}};h.exports=S},59023:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setAngularVelocity:function(e){return this.body.angularVelocity=e,this},setAngularAcceleration:function(e){return this.body.angularAcceleration=e,this},setAngularDrag:function(e){return this.body.angularDrag=e,this}};h.exports=S},62069:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setBounce:function(e,u){return this.body.bounce.set(e,u),this},setBounceX:function(e){return this.body.bounce.x=e,this},setBounceY:function(e){return this.body.bounce.y=e,this},setCollideWorldBounds:function(e,u,y,f){return this.body.setCollideWorldBounds(e,u,y,f),this}};h.exports=S},78389:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(79599),y={setCollisionCategory:function(f){var l=this.body?this.body:this;return l.collisionCategory=f,this},willCollideWith:function(f){var l=this.body?this.body:this;return(l.collisionMask&f)!==0},addCollidesWith:function(f){var l=this.body?this.body:this;return l.collisionMask=l.collisionMask|f,this},removeCollidesWith:function(f){var l=this.body?this.body:this;return l.collisionMask=l.collisionMask&~f,this},setCollidesWith:function(f){var l=this.body?this.body:this;return l.collisionMask=u(f),this},resetCollisionCategory:function(){var f=this.body?this.body:this;return f.collisionCategory=1,f.collisionMask=2147483647,this}};h.exports=y},87118:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setDebug:function(e,u,y){return this.debugShowBody=e,this.debugShowVelocity=u,this.debugBodyColor=y,this},setDebugBodyColor:function(e){return this.body.debugBodyColor=e,this},debugShowBody:{get:function(){return this.body.debugShowBody},set:function(e){this.body.debugShowBody=e}},debugShowVelocity:{get:function(){return this.body.debugShowVelocity},set:function(e){this.body.debugShowVelocity=e}},debugBodyColor:{get:function(){return this.body.debugBodyColor},set:function(e){this.body.debugBodyColor=e}}};h.exports=S},52819:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setDrag:function(e,u){return this.body.drag.set(e,u),this},setDragX:function(e){return this.body.drag.x=e,this},setDragY:function(e){return this.body.drag.y=e,this},setDamping:function(e){return this.body.useDamping=e,this}};h.exports=S},4074:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setDirectControl:function(e){return this.body.setDirectControl(e),this},enableBody:function(e,u,y,f,l){return e&&this.body.reset(u,y),f&&(this.body.gameObject.active=!0),l&&(this.body.gameObject.visible=!0),this.body.enable=!0,this},disableBody:function(e,u){return e===void 0&&(e=!1),u===void 0&&(u=!1),this.body.stop(),this.body.enable=!1,e&&(this.body.gameObject.active=!1),u&&(this.body.gameObject.visible=!1),this},refreshBody:function(){return this.body.updateFromGameObject(),this}};h.exports=S},40831:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setFriction:function(e,u){return this.body.friction.set(e,u),this},setFrictionX:function(e){return this.body.friction.x=e,this},setFrictionY:function(e){return this.body.friction.y=e,this}};h.exports=S},26775:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setGravity:function(e,u){return this.body.gravity.set(e,u),this},setGravityX:function(e){return this.body.gravity.x=e,this},setGravityY:function(e){return this.body.gravity.y=e,this}};h.exports=S},9437:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setImmovable:function(e){return e===void 0&&(e=!0),this.body.immovable=e,this}};h.exports=S},30621:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setMass:function(e){return this.body.mass=e,this}};h.exports=S},72441:(h,S,e)=>{var u=e(47956),y=e(96503),f=e(2044),l=e(81491),o=function(s,a,c,r,d,v){var p=u(s,a-r,c-r,2*r,2*r,d,v);if(p.length===0)return p;for(var m=new y(a,c,r),x=new y,E=[],w=0;w<p.length;w++){var C=p[w];C.isCircle?(x.setTo(C.center.x,C.center.y,C.halfWidth),f(m,x)&&E.push(C)):l(m,C)&&E.push(C)}return E};h.exports=o},47956:h=>{var S=function(e,u,y,f,l,o,s){o===void 0&&(o=!0),s===void 0&&(s=!1);var a=[],c=[],r=e.treeMinMax;if(r.minX=u,r.minY=y,r.maxX=u+f,r.maxY=y+l,s&&(c=e.staticTree.search(r)),o&&e.useTree)a=e.tree.search(r);else if(o){var d=e.bodies,v={position:{x:u,y},left:u,top:y,right:u+f,bottom:y+l,isCircle:!1},p=e.intersects;d.iterate(function(m){p(m,v)&&a.push(m)})}return c.concat(a)};h.exports=S},62121:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setPushable:function(e){return e===void 0&&(e=!0),this.body.pushable=e,this}};h.exports=S},29384:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setOffset:function(e,u){return this.body.setOffset(e,u),this},setSize:function(e,u,y){return this.body.setSize(e,u,y),this},setBodySize:function(e,u,y){return this.body.setSize(e,u,y),this},setCircle:function(e,u,y){return this.body.setCircle(e,u,y),this}};h.exports=S},15098:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setVelocity:function(e,u){return this.body.setVelocity(e,u),this},setVelocityX:function(e){return this.body.setVelocityX(e),this},setVelocityY:function(e){return this.body.setVelocityY(e),this},setMaxVelocity:function(e,u){return this.body.maxVelocity.set(e,u),this}};h.exports=S},92209:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={Acceleration:e(1093),Angular:e(59023),Bounce:e(62069),Collision:e(78389),Debug:e(87118),Drag:e(52819),Enable:e(4074),Friction:e(40831),Gravity:e(26775),Immovable:e(9437),Mass:e(30621),OverlapCirc:e(72441),OverlapRect:e(47956),Pushable:e(62121),Size:e(29384),Velocity:e(15098)}},37747:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={DYNAMIC_BODY:0,STATIC_BODY:1,GROUP:2,TILEMAPLAYER:3,FACING_NONE:10,FACING_UP:11,FACING_DOWN:12,FACING_LEFT:13,FACING_RIGHT:14};h.exports=S},20009:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="collide"},36768:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="overlap"},60473:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="pause"},89954:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="resume"},61804:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="tilecollide"},7161:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="tileoverlap"},34689:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="worldbounds"},16006:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="worldstep"},63012:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={COLLIDE:e(20009),OVERLAP:e(36768),PAUSE:e(60473),RESUME:e(89954),TILE_COLLIDE:e(61804),TILE_OVERLAP:e(7161),WORLD_BOUNDS:e(34689),WORLD_STEP:e(16006)}},27064:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(37747),y=e(79291),f={ArcadePhysics:e(86689),Body:e(37742),Collider:e(79342),Components:e(92209),Events:e(63012),Factory:e(66022),GetCollidesWith:e(79599),GetOverlapX:e(64897),GetOverlapY:e(45170),SeparateX:e(14087),SeparateY:e(89936),Group:e(60758),Image:e(71289),Sprite:e(13759),StaticBody:e(72624),StaticGroup:e(71464),Tilemap:e(55173),World:e(82248)};f=y(!1,f,u),h.exports=f},96602:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u){return e.collisionCallback?!e.collisionCallback.call(e.collisionCallbackContext,u,e):e.layer.callbacks[e.index]?!e.layer.callbacks[e.index].callback.call(e.layer.callbacks[e.index].callbackContext,u,e):!0};h.exports=S},36294:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u){u<0?(e.blocked.none=!1,e.blocked.left=!0):u>0&&(e.blocked.none=!1,e.blocked.right=!0),e.position.x-=u,e.updateCenter(),e.bounce.x===0?e.velocity.x=0:e.velocity.x=-e.velocity.x*e.bounce.x};h.exports=S},67013:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u){u<0?(e.blocked.none=!1,e.blocked.up=!0):u>0&&(e.blocked.none=!1,e.blocked.down=!0),e.position.y-=u,e.updateCenter(),e.bounce.y===0?e.velocity.y=0:e.velocity.y=-e.velocity.y*e.bounce.y};h.exports=S},40012:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(21329),y=e(53442),f=e(2483),l=function(o,s,a,c,r,d,v){var p=c.left,m=c.top,x=c.right,E=c.bottom,w=a.faceLeft||a.faceRight,C=a.faceTop||a.faceBottom;if(v||(w=!0,C=!0),!w&&!C)return!1;var P=0,R=0,M=0,I=1;if(s.deltaAbsX()>s.deltaAbsY()?M=-1:s.deltaAbsX()<s.deltaAbsY()&&(I=-1),s.deltaX()!==0&&s.deltaY()!==0&&w&&C&&(M=Math.min(Math.abs(s.position.x-x),Math.abs(s.right-p)),I=Math.min(Math.abs(s.position.y-E),Math.abs(s.bottom-m))),M<I){if(w&&(P=u(s,a,p,x,d,v),P!==0&&!f(c,s)))return!0;C&&(R=y(s,a,m,E,d,v))}else{if(C&&(R=y(s,a,m,E,d,v),R!==0&&!f(c,s)))return!0;w&&(P=u(s,a,p,x,d,v))}return P!==0||R!==0};h.exports=l},21329:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(36294),y=function(f,l,o,s,a,c){var r=0,d=l.faceLeft,v=l.faceRight,p=l.collideLeft,m=l.collideRight;return c||(d=!0,v=!0,p=!0,m=!0),f.deltaX()<0&&m&&f.checkCollision.left?v&&f.x<s&&(r=f.x-s,r<-a&&(r=0)):f.deltaX()>0&&p&&f.checkCollision.right&&d&&f.right>o&&(r=f.right-o,r>a&&(r=0)),r!==0&&(f.customSeparateX?f.overlapX=r:u(f,r)),r};h.exports=y},53442:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(67013),y=function(f,l,o,s,a,c){var r=0,d=l.faceTop,v=l.faceBottom,p=l.collideUp,m=l.collideDown;return c||(d=!0,v=!0,p=!0,m=!0),f.deltaY()<0&&m&&f.checkCollision.up?v&&f.y<s&&(r=f.y-s,r<-a&&(r=0)):f.deltaY()>0&&p&&f.checkCollision.down&&d&&f.bottom>o&&(r=f.bottom-o,r>a&&(r=0)),r!==0&&(f.customSeparateY?f.overlapY=r:u(f,r)),r};h.exports=y},2483:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u){return!(u.right<=e.left||u.bottom<=e.top||u.position.x>=e.right||u.position.y>=e.bottom)};h.exports=S},55173:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u={ProcessTileCallbacks:e(96602),ProcessTileSeparationX:e(36294),ProcessTileSeparationY:e(67013),SeparateTile:e(40012),TileCheckX:e(21329),TileCheckY:e(53442),TileIntersectsBody:e(2483)};h.exports=u},44563:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={Arcade:e(27064),Matter:e(3875)}},68174:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(26099),f=new u({initialize:function(){this.boundsCenter=new y,this.centerDiff=new y},parseBody:function(l){if(l=l.hasOwnProperty("body")?l.body:l,!l.hasOwnProperty("bounds")||!l.hasOwnProperty("centerOfMass"))return!1;var o=this.boundsCenter,s=this.centerDiff,a=l.bounds.max.x-l.bounds.min.x,c=l.bounds.max.y-l.bounds.min.y,r=a*l.centerOfMass.x,d=c*l.centerOfMass.y;return o.set(a/2,c/2),s.set(r-o.x,d-o.y),!0},getTopLeft:function(l,o,s){if(o===void 0&&(o=0),s===void 0&&(s=0),this.parseBody(l)){var a=this.boundsCenter,c=this.centerDiff;return new y(o+a.x+c.x,s+a.y+c.y)}return!1},getTopCenter:function(l,o,s){if(o===void 0&&(o=0),s===void 0&&(s=0),this.parseBody(l)){var a=this.boundsCenter,c=this.centerDiff;return new y(o+c.x,s+a.y+c.y)}return!1},getTopRight:function(l,o,s){if(o===void 0&&(o=0),s===void 0&&(s=0),this.parseBody(l)){var a=this.boundsCenter,c=this.centerDiff;return new y(o-(a.x-c.x),s+a.y+c.y)}return!1},getLeftCenter:function(l,o,s){if(o===void 0&&(o=0),s===void 0&&(s=0),this.parseBody(l)){var a=this.boundsCenter,c=this.centerDiff;return new y(o+a.x+c.x,s+c.y)}return!1},getCenter:function(l,o,s){if(o===void 0&&(o=0),s===void 0&&(s=0),this.parseBody(l)){var a=this.centerDiff;return new y(o+a.x,s+a.y)}return!1},getRightCenter:function(l,o,s){if(o===void 0&&(o=0),s===void 0&&(s=0),this.parseBody(l)){var a=this.boundsCenter,c=this.centerDiff;return new y(o-(a.x-c.x),s+c.y)}return!1},getBottomLeft:function(l,o,s){if(o===void 0&&(o=0),s===void 0&&(s=0),this.parseBody(l)){var a=this.boundsCenter,c=this.centerDiff;return new y(o+a.x+c.x,s-(a.y-c.y))}return!1},getBottomCenter:function(l,o,s){if(o===void 0&&(o=0),s===void 0&&(s=0),this.parseBody(l)){var a=this.boundsCenter,c=this.centerDiff;return new y(o+c.x,s-(a.y-c.y))}return!1},getBottomRight:function(l,o,s){if(o===void 0&&(o=0),s===void 0&&(s=0),this.parseBody(l)){var a=this.boundsCenter,c=this.centerDiff;return new y(o-(a.x-c.x),s-(a.y-c.y))}return!1}});h.exports=f},19933:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(6790);u.Body=e(22562),u.Composite=e(69351),u.World=e(4372),u.Collision=e(52284),u.Detector=e(81388),u.Pairs=e(99561),u.Pair=e(4506),u.Query=e(73296),u.Resolver=e(66272),u.Constraint=e(48140),u.Common=e(53402),u.Engine=e(48413),u.Events=e(35810),u.Sleeping=e(53614),u.Plugin=e(73832),u.Bodies=e(66280),u.Composites=e(74116),u.Axes=e(66615),u.Bounds=e(15647),u.Svg=e(74058),u.Vector=e(31725),u.Vertices=e(41598),u.World.add=u.Composite.add,u.World.remove=u.Composite.remove,u.World.addComposite=u.Composite.addComposite,u.World.addBody=u.Composite.addBody,u.World.addConstraint=u.Composite.addConstraint,u.World.clear=u.Composite.clear,h.exports=u},28137:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(66280),y=e(83419),f=e(74116),l=e(48140),o=e(74058),s=e(75803),a=e(23181),c=e(34803),r=e(73834),d=e(19496),v=e(85791),p=e(98713),m=e(41598),x=new y({initialize:function(w){this.world=w,this.scene=w.scene,this.sys=w.scene.sys},rectangle:function(E,w,C,P,R){var M=u.rectangle(E,w,C,P,R);return this.world.add(M),M},trapezoid:function(E,w,C,P,R,M){var I=u.trapezoid(E,w,C,P,R,M);return this.world.add(I),I},circle:function(E,w,C,P,R){var M=u.circle(E,w,C,P,R);return this.world.add(M),M},polygon:function(E,w,C,P,R){var M=u.polygon(E,w,C,P,R);return this.world.add(M),M},fromVertices:function(E,w,C,P,R,M,I){typeof C=="string"&&(C=m.fromPath(C));var D=u.fromVertices(E,w,C,P,R,M,I);return this.world.add(D),D},fromPhysicsEditor:function(E,w,C,P,R){R===void 0&&(R=!0);var M=d.parseBody(E,w,C,P);return R&&!this.world.has(M)&&this.world.add(M),M},fromSVG:function(E,w,C,P,R,M){P===void 0&&(P=1),R===void 0&&(R={}),M===void 0&&(M=!0);for(var I=C.getElementsByTagName("path"),D=[],L=0;L<I.length;L++){var F=o.pathToVertices(I[L],30);P!==1&&m.scale(F,P,P),D.push(F)}var O=u.fromVertices(E,w,D,R);return M&&this.world.add(O),O},fromJSON:function(E,w,C,P,R){P===void 0&&(P={}),R===void 0&&(R=!0);var M=v.parseBody(E,w,C,P);return M&&R&&this.world.add(M),M},imageStack:function(E,w,C,P,R,M,I,D,L){I===void 0&&(I=0),D===void 0&&(D=0),L===void 0&&(L={});var F=this.world,O=this.sys.displayList;L.addToWorld=!1;var N=f.stack(C,P,R,M,I,D,function(b,V){var Y=new a(F,b,V,E,w,L);return O.add(Y),Y.body});return F.add(N),N},stack:function(E,w,C,P,R,M,I){var D=f.stack(E,w,C,P,R,M,I);return this.world.add(D),D},pyramid:function(E,w,C,P,R,M,I){var D=f.pyramid(E,w,C,P,R,M,I);return this.world.add(D),D},chain:function(E,w,C,P,R,M){return f.chain(E,w,C,P,R,M)},mesh:function(E,w,C,P,R){return f.mesh(E,w,C,P,R)},newtonsCradle:function(E,w,C,P,R){var M=f.newtonsCradle(E,w,C,P,R);return this.world.add(M),M},car:function(E,w,C,P,R){var M=f.car(E,w,C,P,R);return this.world.add(M),M},softBody:function(E,w,C,P,R,M,I,D,L,F){var O=f.softBody(E,w,C,P,R,M,I,D,L,F);return this.world.add(O),O},joint:function(E,w,C,P,R){return this.constraint(E,w,C,P,R)},spring:function(E,w,C,P,R){return this.constraint(E,w,C,P,R)},constraint:function(E,w,C,P,R){P===void 0&&(P=1),R===void 0&&(R={}),R.bodyA=E.type==="body"?E:E.body,R.bodyB=w.type==="body"?w:w.body,isNaN(C)||(R.length=C),R.stiffness=P;var M=l.create(R);return this.world.add(M),M},worldConstraint:function(E,w,C,P){C===void 0&&(C=1),P===void 0&&(P={}),P.bodyB=E.type==="body"?E:E.body,isNaN(w)||(P.length=w),P.stiffness=C;var R=l.create(P);return this.world.add(R),R},mouseSpring:function(E){return this.pointerConstraint(E)},pointerConstraint:function(E){E===void 0&&(E={}),E.hasOwnProperty("render")||(E.render={visible:!1});var w=new p(this.scene,this.world,E);return this.world.add(w.constraint),w},image:function(E,w,C,P,R){var M=new a(this.world,E,w,C,P,R);return this.sys.displayList.add(M),M},tileBody:function(E,w){return new r(this.world,E,w)},sprite:function(E,w,C,P,R){var M=new c(this.world,E,w,C,P,R);return this.sys.displayList.add(M),this.sys.updateList.add(M),M},gameObject:function(E,w,C){return s(this.world,E,w,C)},destroy:function(){this.world=null,this.scene=null,this.sys=null}});h.exports=x},75803:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(31884),y=e(95540),f=e(26099);function l(s){return!!s.get&&typeof s.get=="function"||!!s.set&&typeof s.set=="function"}var o=function(s,a,c,r){c===void 0&&(c={}),r===void 0&&(r=!0);var d=a.x,v=a.y;a.body={temp:!0,position:{x:d,y:v}};var p=[u.Bounce,u.Collision,u.Force,u.Friction,u.Gravity,u.Mass,u.Sensor,u.SetBody,u.Sleep,u.Static,u.Transform,u.Velocity];if(p.forEach(function(x){for(var E in x)l(x[E])?Object.defineProperty(a,E,{get:x[E].get,set:x[E].set}):Object.defineProperty(a,E,{value:x[E]})}),a.world=s,a._tempVec2=new f(d,v),c.hasOwnProperty("type")&&c.type==="body")a.setExistingBody(c,r);else{var m=y(c,"shape",null);m||(m="rectangle"),c.addToWorld=r,a.setBody(m,c)}return a};h.exports=o},23181:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(31884),f=e(95643),l=e(95540),o=e(88571),s=e(72699),a=e(26099),c=new u({Extends:o,Mixins:[y.Bounce,y.Collision,y.Force,y.Friction,y.Gravity,y.Mass,y.Sensor,y.SetBody,y.Sleep,y.Static,y.Transform,y.Velocity,s],initialize:function(d,v,p,m,x,E){f.call(this,d.scene,"Image"),this._crop=this.resetCropObject(),this.setTexture(m,x),this.setSizeToFrame(),this.setOrigin(),this.world=d,this._tempVec2=new a(v,p);var w=l(E,"shape",null);w?this.setBody(w,E):this.setRectangle(this.width,this.height,E),this.setPosition(v,p),this.initPipeline(),this.initPostPipeline(!0)}});h.exports=c},42045:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(60461),y=e(66615),f=e(66280),l=e(22562),o=e(68174),s=e(15647),a=e(83419),c=e(52284),r=e(53402),d=e(69351),v=e(74116),p=e(48140),m=e(81388),x=e(20339),E=e(28137),w=e(95540),C=e(35154),P=e(46975),R=e(4506),M=e(99561),I=e(37277),D=e(73296),L=e(66272),F=e(44594),O=e(74058),N=e(31725),b=e(41598),V=e(68243);r.setDecomp(e(55973));var Y=new a({initialize:function(U){this.scene=U,this.systems=U.sys,this.config=this.getConfig(),this.world,this.add,this.bodyBounds,this.body=l,this.composite=d,this.collision=c,this.detector=m,this.pair=R,this.pairs=M,this.query=D,this.resolver=L,this.constraint=p,this.bodies=f,this.composites=v,this.axes=y,this.bounds=s,this.svg=O,this.vector=N,this.vertices=b,this.verts=b,this._tempVec2=N.create(),L._restingThresh=C(this.config,"restingThresh",4),L._restingThreshTangent=C(this.config,"restingThreshTangent",6),L._positionDampen=C(this.config,"positionDampen",.9),L._positionWarming=C(this.config,"positionWarming",.8),L._frictionNormalMultiplier=C(this.config,"frictionNormalMultiplier",5),U.sys.events.once(F.BOOT,this.boot,this),U.sys.events.on(F.START,this.start,this)},boot:function(){this.world=new V(this.scene,this.config),this.add=new E(this.world),this.bodyBounds=new o,this.systems.events.once(F.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new V(this.scene,this.config),this.add=new E(this.world));var W=this.systems.events;W.on(F.UPDATE,this.world.update,this.world),W.on(F.POST_UPDATE,this.world.postUpdate,this.world),W.once(F.SHUTDOWN,this.shutdown,this)},getConfig:function(){var W=this.systems.game.config.physics,U=this.systems.settings.physics,z=P(w(U,"matter",{}),w(W,"matter",{}));return z},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},set60Hz:function(){return this.world.getDelta=this.world.update60Hz,this.world.autoUpdate=!0,this},set30Hz:function(){return this.world.getDelta=this.world.update30Hz,this.world.autoUpdate=!0,this},step:function(W,U){this.world.step(W,U)},containsPoint:function(W,U,z){W=this.getMatterBodies(W);var B=N.create(U,z),X=D.point(W,B);return X.length>0},intersectPoint:function(W,U,z){z=this.getMatterBodies(z);var B=N.create(W,U),X=[],G=D.point(z,B);return G.forEach(function(H){X.indexOf(H)===-1&&X.push(H)}),X},intersectRect:function(W,U,z,B,X,G){X===void 0&&(X=!1),G=this.getMatterBodies(G);var H={min:{x:W,y:U},max:{x:W+z,y:U+B}},$=[],k=D.region(G,H,X);return k.forEach(function(j){$.indexOf(j)===-1&&$.push(j)}),$},intersectRay:function(W,U,z,B,X,G){X===void 0&&(X=1),G=this.getMatterBodies(G);for(var H=[],$=D.ray(G,N.create(W,U),N.create(z,B),X),k=0;k<$.length;k++)H.push($[k].body);return H},intersectBody:function(W,U){U=this.getMatterBodies(U);for(var z=[],B=D.collides(W,U),X=0;X<B.length;X++){var G=B[X];G.bodyA===W?z.push(G.bodyB):z.push(G.bodyA)}return z},overlap:function(W,U,z,B,X){z===void 0&&(z=null),B===void 0&&(B=null),X===void 0&&(X=z),Array.isArray(W)||(W=[W]),W=this.getMatterBodies(W),U=this.getMatterBodies(U);for(var G=!1,H=0;H<W.length;H++)for(var $=W[H],k=D.collides($,U),j=0;j<k.length;j++){var Q=k[j],J=Q.bodyA.id===$.id?Q.bodyB:Q.bodyA;if(!B||B.call(X,$,J,Q)){if(G=!0,z)z.call(X,$,J,Q);else if(!B)return!0}}return G},setCollisionCategory:function(W,U){return W=this.getMatterBodies(W),W.forEach(function(z){z.collisionFilter.category=U}),this},setCollisionGroup:function(W,U){return W=this.getMatterBodies(W),W.forEach(function(z){z.collisionFilter.group=U}),this},setCollidesWith:function(W,U){W=this.getMatterBodies(W);var z=0;if(!Array.isArray(U))z=U;else for(var B=0;B<U.length;B++)z|=U[B];return W.forEach(function(X){X.collisionFilter.mask=z}),this},getMatterBodies:function(W){if(!W)return this.world.getAllBodies();Array.isArray(W)||(W=[W]);for(var U=[],z=0;z<W.length;z++){var B=W[z].hasOwnProperty("body")?W[z].body:W[z];U.push(B)}return U},setVelocity:function(W,U,z){W=this.getMatterBodies(W);var B=this._tempVec2;return B.x=U,B.y=z,W.forEach(function(X){l.setVelocity(X,B)}),this},setVelocityX:function(W,U){W=this.getMatterBodies(W);var z=this._tempVec2;return z.x=U,W.forEach(function(B){z.y=B.velocity.y,l.setVelocity(B,z)}),this},setVelocityY:function(W,U){W=this.getMatterBodies(W);var z=this._tempVec2;return z.y=U,W.forEach(function(B){z.x=B.velocity.x,l.setVelocity(B,z)}),this},setAngularVelocity:function(W,U){return W=this.getMatterBodies(W),W.forEach(function(z){l.setAngularVelocity(z,U)}),this},applyForce:function(W,U){W=this.getMatterBodies(W);var z=this._tempVec2;return W.forEach(function(B){z.x=B.position.x,z.y=B.position.y,l.applyForce(B,z,U)}),this},applyForceFromPosition:function(W,U,z,B){W=this.getMatterBodies(W);var X=this._tempVec2;return W.forEach(function(G){B===void 0&&(B=G.angle),X.x=z*Math.cos(B),X.y=z*Math.sin(B),l.applyForce(G,U,X)}),this},applyForceFromAngle:function(W,U,z){W=this.getMatterBodies(W);var B=this._tempVec2;return W.forEach(function(X){z===void 0&&(z=X.angle),B.x=U*Math.cos(z),B.y=U*Math.sin(z),l.applyForce(X,{x:X.position.x,y:X.position.y},B)}),this},getConstraintLength:function(W){var U=W.pointA.x,z=W.pointA.y,B=W.pointB.x,X=W.pointB.y;return W.bodyA&&(U+=W.bodyA.position.x,z+=W.bodyA.position.y),W.bodyB&&(B+=W.bodyB.position.x,X+=W.bodyB.position.y),x(U,z,B,X)},alignBody:function(W,U,z,B){W=W.hasOwnProperty("body")?W.body:W;var X;switch(B){case u.TOP_LEFT:case u.LEFT_TOP:X=this.bodyBounds.getTopLeft(W,U,z);break;case u.TOP_CENTER:X=this.bodyBounds.getTopCenter(W,U,z);break;case u.TOP_RIGHT:case u.RIGHT_TOP:X=this.bodyBounds.getTopRight(W,U,z);break;case u.LEFT_CENTER:X=this.bodyBounds.getLeftCenter(W,U,z);break;case u.CENTER:X=this.bodyBounds.getCenter(W,U,z);break;case u.RIGHT_CENTER:X=this.bodyBounds.getRightCenter(W,U,z);break;case u.LEFT_BOTTOM:case u.BOTTOM_LEFT:X=this.bodyBounds.getBottomLeft(W,U,z);break;case u.BOTTOM_CENTER:X=this.bodyBounds.getBottomCenter(W,U,z);break;case u.BOTTOM_RIGHT:case u.RIGHT_BOTTOM:X=this.bodyBounds.getBottomRight(W,U,z);break}return X&&l.setPosition(W,X),this},shutdown:function(){var W=this.systems.events;this.world&&(W.off(F.UPDATE,this.world.update,this.world),W.off(F.POST_UPDATE,this.world.postUpdate,this.world)),W.off(F.SHUTDOWN,this.shutdown,this),this.add&&this.add.destroy(),this.world&&this.world.destroy(),this.add=null,this.world=null},destroy:function(){this.shutdown(),this.scene.sys.events.off(F.START,this.start,this),this.scene=null,this.systems=null}});I.register("MatterPhysics",Y,"matterPhysics"),h.exports=Y},34803:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(9674),y=e(83419),f=e(31884),l=e(95643),o=e(95540),s=e(72699),a=e(68287),c=e(26099),r=new y({Extends:a,Mixins:[f.Bounce,f.Collision,f.Force,f.Friction,f.Gravity,f.Mass,f.Sensor,f.SetBody,f.Sleep,f.Static,f.Transform,f.Velocity,s],initialize:function(v,p,m,x,E,w){l.call(this,v.scene,"Sprite"),this._crop=this.resetCropObject(),this.anims=new u(this),this.setTexture(x,E),this.setSizeToFrame(),this.setOrigin(),this.world=v,this._tempVec2=new c(p,m);var C=o(w,"shape",null);C?this.setBody(C,w):this.setRectangle(this.width,this.height,w),this.setPosition(p,m),this.initPipeline(),this.initPostPipeline(!0)}});h.exports=r},73834:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(66280),y=e(22562),f=e(83419),l=e(31884),o=e(62644),s=e(50792),a=e(95540),c=e(97022),r=e(41598),d=new f({Extends:s,Mixins:[l.Bounce,l.Collision,l.Friction,l.Gravity,l.Mass,l.Sensor,l.Sleep,l.Static],initialize:function(p,m,x){s.call(this),this.tile=m,this.world=p,m.physics.matterBody&&m.physics.matterBody.destroy(),m.physics.matterBody=this;var E=a(x,"body",null),w=a(x,"addToWorld",!0);if(E)this.setBody(E,w);else{var C=m.getCollisionGroup(),P=a(C,"objects",[]);P.length>0?this.setFromTileCollision(x):this.setFromTileRectangle(x)}if(m.flipX||m.flipY){var R={x:m.getCenterX(),y:m.getCenterY()},M=m.flipX?-1:1,I=m.flipY?-1:1;y.scale(E,M,I,R)}},setFromTileRectangle:function(v){v===void 0&&(v={}),c(v,"isStatic")||(v.isStatic=!0),c(v,"addToWorld")||(v.addToWorld=!0);var p=this.tile.getBounds(),m=p.x+p.width/2,x=p.y+p.height/2,E=u.rectangle(m,x,p.width,p.height,v);return this.setBody(E,v.addToWorld),this},setFromTileCollision:function(v){v===void 0&&(v={}),c(v,"isStatic")||(v.isStatic=!0),c(v,"addToWorld")||(v.addToWorld=!0);for(var p=this.tile.tilemapLayer.scaleX,m=this.tile.tilemapLayer.scaleY,x=this.tile.getLeft(),E=this.tile.getTop(),w=this.tile.getCollisionGroup(),C=a(w,"objects",[]),P=[],R=0;R<C.length;R++){var M=C[R],I=x+M.x*p,D=E+M.y*m,L=M.width*p,F=M.height*m,O=null;if(M.rectangle)O=u.rectangle(I+L/2,D+F/2,L,F,v);else if(M.ellipse)O=u.circle(I+L/2,D+F/2,L/2,v);else if(M.polygon||M.polyline){var N=M.polygon?M.polygon:M.polyline,b=N.map(function(U){return{x:U.x*p,y:U.y*m}}),V=r.create(b),Y=r.centre(V);I+=Y.x,D+=Y.y,O=u.fromVertices(I,D,V,v)}O&&P.push(O)}if(P.length===1)this.setBody(P[0],v.addToWorld);else if(P.length>1){var W=o(v);W.parts=P,this.setBody(y.create(W),W.addToWorld)}return this},setBody:function(v,p){return p===void 0&&(p=!0),this.body&&this.removeBody(),this.body=v,this.body.gameObject=this,p&&this.world.add(this.body),this},removeBody:function(){return this.body&&(this.world.remove(this.body),this.body.gameObject=void 0,this.body=void 0),this},destroy:function(){this.removeBody(),this.tile.physics.matterBody=void 0,this.removeAllListeners()}});h.exports=d},19496:(h,S,e)=>{/**
 * @author       Joachim Grill <joachim@codeandweb.com>
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2018 CodeAndWeb GmbH
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(66280),y=e(22562),f=e(53402),l=e(95540),o=e(41598),s={parseBody:function(a,c,r,d){d===void 0&&(d={});for(var v=l(r,"fixtures",[]),p=[],m=0;m<v.length;m++)for(var x=this.parseFixture(v[m]),E=0;E<x.length;E++)p.push(x[E]);var w=f.clone(r,!0);f.extend(w,d,!0),delete w.fixtures,delete w.type;var C=y.create(w);return y.setParts(C,p),y.setPosition(C,{x:a,y:c}),C},parseFixture:function(a){var c=f.extend({},!1,a);delete c.circle,delete c.vertices;var r;if(a.circle){var d=l(a.circle,"x"),v=l(a.circle,"y"),p=l(a.circle,"radius");r=[u.circle(d,v,p,c)]}else a.vertices&&(r=this.parseVertices(a.vertices,c));return r},parseVertices:function(a,c){c===void 0&&(c={});for(var r=[],d=0;d<a.length;d++)o.clockwiseSort(a[d]),r.push(y.create(f.extend({position:o.centre(a[d]),vertices:a[d]},c)));return u.flagCoincidentParts(r)}};h.exports=s},85791:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(66280),y=e(22562),f={parseBody:function(l,o,s,a){a===void 0&&(a={});var c,r=s.vertices;if(r.length===1)a.vertices=r[0],c=y.create(a),u.flagCoincidentParts(c.parts);else{for(var d=[],v=0;v<r.length;v++){var p=y.create({vertices:r[v]});d.push(p)}u.flagCoincidentParts(d),a.parts=d,c=y.create(a)}return c.label=s.label,y.setPosition(c,{x:l,y:o}),c}};h.exports=f},98713:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(15647),y=e(83419),f=e(69351),l=e(48140),o=e(81388),s=e(1121),a=e(8214),c=e(46975),r=e(53614),d=e(26099),v=e(41598),p=new y({initialize:function(x,E,w){w===void 0&&(w={});var C={label:"Pointer Constraint",pointA:{x:0,y:0},pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,collisionFilter:{category:1,mask:4294967295,group:0}};this.scene=x,this.world=E,this.camera=null,this.pointer=null,this.active=!0,this.position=new d,this.body=null,this.part=null,this.constraint=l.create(c(w,C)),this.world.on(s.BEFORE_UPDATE,this.update,this),x.sys.input.on(a.POINTER_DOWN,this.onDown,this),x.sys.input.on(a.POINTER_UP,this.onUp,this)},onDown:function(m){this.pointer||(this.pointer=m,this.camera=m.camera)},onUp:function(m){m===this.pointer&&(this.pointer=null)},getBody:function(m){var x=this.position,E=this.constraint;this.camera.getWorldPoint(m.x,m.y,x);for(var w=f.allBodies(this.world.localWorld),C=0;C<w.length;C++){var P=w[C];if(!P.ignorePointer&&u.contains(P.bounds,x)&&o.canCollide(P.collisionFilter,E.collisionFilter)&&this.hitTestBody(P,x))return this.world.emit(s.DRAG_START,P,this.part,this),!0}return!1},hitTestBody:function(m,x){for(var E=this.constraint,w=m.parts.length,C=w>1?1:0,P=C;P<w;P++){var R=m.parts[P];if(v.contains(R.vertices,x))return E.pointA=x,E.pointB={x:x.x-m.position.x,y:x.y-m.position.y},E.bodyB=m,E.angleB=m.angle,r.set(m,!1),this.part=R,this.body=m,!0}return!1},update:function(){var m=this.pointer,x=this.body;if(!this.active||!m){x&&this.stopDrag();return}if(!m.isDown&&x){this.stopDrag();return}else if(m.isDown){if(!this.camera||!x&&!this.getBody(m))return;x=this.body;var E=this.position,w=this.constraint;this.camera.getWorldPoint(m.x,m.y,E),w.pointA.x=E.x,w.pointA.y=E.y,r.set(x,!1),this.world.emit(s.DRAG,x,this)}},stopDrag:function(){var m=this.body,x=this.constraint;x.bodyB=null,x.pointB=null,this.pointer=null,this.body=null,this.part=null,m&&this.world.emit(s.DRAG_END,m,this)},destroy:function(){this.world.removeConstraint(this.constraint),this.pointer=null,this.constraint=null,this.body=null,this.part=null,this.world.off(s.BEFORE_UPDATE,this.update),this.scene.sys.input.off(a.POINTER_DOWN,this.onDown,this),this.scene.sys.input.off(a.POINTER_UP,this.onUp,this)}});h.exports=p},68243:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(66280),y=e(22562),f=e(83419),l=e(53402),o=e(69351),s=e(48413),a=e(50792),c=e(1121),r=e(95540),d=e(35154),v=e(22562),p=e(35810),m=e(73834),x=e(4372),E=e(13037),w=e(31725),C=new f({Extends:a,initialize:function(R,M){a.call(this),this.scene=R,this.engine=s.create(M),this.localWorld=this.engine.world;var I=d(M,"gravity",null);I?this.setGravity(I.x,I.y,I.scale):I===!1&&this.setGravity(0,0,0),this.walls={left:null,right:null,top:null,bottom:null},this.enabled=d(M,"enabled",!0),this.getDelta=d(M,"getDelta",this.update60Hz);var D=r(M,"runner",{}),L=r(D,"fps",!1);L&&(D.delta=1e3/r(D,"fps",60)),this.runner=E.create(D),this.autoUpdate=d(M,"autoUpdate",!0);var F=d(M,"debug",!1);if(this.drawDebug=typeof F=="object"?!0:F,this.debugGraphic,this.debugConfig={showAxes:r(F,"showAxes",!1),showAngleIndicator:r(F,"showAngleIndicator",!1),angleColor:r(F,"angleColor",15208787),showBroadphase:r(F,"showBroadphase",!1),broadphaseColor:r(F,"broadphaseColor",16757760),showBounds:r(F,"showBounds",!1),boundsColor:r(F,"boundsColor",16777215),showVelocity:r(F,"showVelocity",!1),velocityColor:r(F,"velocityColor",44783),showCollisions:r(F,"showCollisions",!1),collisionColor:r(F,"collisionColor",16094476),showSeparations:r(F,"showSeparations",!1),separationColor:r(F,"separationColor",16753920),showBody:r(F,"showBody",!0),showStaticBody:r(F,"showStaticBody",!0),showInternalEdges:r(F,"showInternalEdges",!1),renderFill:r(F,"renderFill",!1),renderLine:r(F,"renderLine",!0),fillColor:r(F,"fillColor",1075465),fillOpacity:r(F,"fillOpacity",1),lineColor:r(F,"lineColor",2678297),lineOpacity:r(F,"lineOpacity",1),lineThickness:r(F,"lineThickness",1),staticFillColor:r(F,"staticFillColor",857979),staticLineColor:r(F,"staticLineColor",1255396),showSleeping:r(F,"showSleeping",!1),staticBodySleepOpacity:r(F,"staticBodySleepOpacity",.7),sleepFillColor:r(F,"sleepFillColor",4605510),sleepLineColor:r(F,"sleepLineColor",10066585),showSensors:r(F,"showSensors",!0),sensorFillColor:r(F,"sensorFillColor",857979),sensorLineColor:r(F,"sensorLineColor",1255396),showPositions:r(F,"showPositions",!0),positionSize:r(F,"positionSize",4),positionColor:r(F,"positionColor",14697178),showJoint:r(F,"showJoint",!0),jointColor:r(F,"jointColor",14737474),jointLineOpacity:r(F,"jointLineOpacity",1),jointLineThickness:r(F,"jointLineThickness",2),pinSize:r(F,"pinSize",4),pinColor:r(F,"pinColor",4382944),springColor:r(F,"springColor",14697184),anchorColor:r(F,"anchorColor",15724527),anchorSize:r(F,"anchorSize",4),showConvexHulls:r(F,"showConvexHulls",!1),hullColor:r(F,"hullColor",14091216)},this.drawDebug&&this.createDebugGraphic(),this.setEventsProxy(),r(M,"setBounds",!1)){var O=M.setBounds;if(typeof O=="boolean")this.setBounds();else{var N=r(O,"x",0),b=r(O,"y",0),V=r(O,"width",R.sys.scale.width),Y=r(O,"height",R.sys.scale.height),W=r(O,"thickness",64),U=r(O,"left",!0),z=r(O,"right",!0),B=r(O,"top",!0),X=r(O,"bottom",!0);this.setBounds(N,b,V,Y,W,U,z,B,X)}}},setCompositeRenderStyle:function(P){var R=P.bodies,M=P.constraints,I=P.composites,D,L,F;for(D=0;D<R.length;D++)L=R[D],F=L.render,this.setBodyRenderStyle(L,F.lineColor,F.lineOpacity,F.lineThickness,F.fillColor,F.fillOpacity);for(D=0;D<M.length;D++)L=M[D],F=L.render,this.setConstraintRenderStyle(L,F.lineColor,F.lineOpacity,F.lineThickness,F.pinSize,F.anchorColor,F.anchorSize);for(D=0;D<I.length;D++)L=I[D],this.setCompositeRenderStyle(L);return this},setBodyRenderStyle:function(P,R,M,I,D,L){var F=P.render,O=this.debugConfig;return F?(R==null&&(R=P.isStatic?O.staticLineColor:O.lineColor),M==null&&(M=O.lineOpacity),I==null&&(I=O.lineThickness),D==null&&(D=P.isStatic?O.staticFillColor:O.fillColor),L==null&&(L=O.fillOpacity),R!==!1&&(F.lineColor=R),M!==!1&&(F.lineOpacity=M),I!==!1&&(F.lineThickness=I),D!==!1&&(F.fillColor=D),L!==!1&&(F.fillOpacity=L),this):this},setConstraintRenderStyle:function(P,R,M,I,D,L,F){var O=P.render,N=this.debugConfig;if(!O)return this;if(R==null){var b=O.type;b==="line"?R=N.jointColor:b==="pin"?R=N.pinColor:b==="spring"&&(R=N.springColor)}return M==null&&(M=N.jointLineOpacity),I==null&&(I=N.jointLineThickness),D==null&&(D=N.pinSize),L==null&&(L=N.anchorColor),F==null&&(F=N.anchorSize),R!==!1&&(O.lineColor=R),M!==!1&&(O.lineOpacity=M),I!==!1&&(O.lineThickness=I),D!==!1&&(O.pinSize=D),L!==!1&&(O.anchorColor=L),F!==!1&&(O.anchorSize=F),this},setEventsProxy:function(){var P=this,R=this.engine,M=this.localWorld;this.drawDebug&&(p.on(M,"compositeModified",function(I){P.setCompositeRenderStyle(I)}),p.on(M,"beforeAdd",function(I){for(var D=[].concat(I.object),L=0;L<D.length;L++){var F=D[L],O=F.render;F.type==="body"?P.setBodyRenderStyle(F,O.lineColor,O.lineOpacity,O.lineThickness,O.fillColor,O.fillOpacity):F.type==="composite"?P.setCompositeRenderStyle(F):F.type==="constraint"&&P.setConstraintRenderStyle(F,O.lineColor,O.lineOpacity,O.lineThickness,O.pinSize,O.anchorColor,O.anchorSize)}})),p.on(M,"beforeAdd",function(I){P.emit(c.BEFORE_ADD,I)}),p.on(M,"afterAdd",function(I){P.emit(c.AFTER_ADD,I)}),p.on(M,"beforeRemove",function(I){P.emit(c.BEFORE_REMOVE,I)}),p.on(M,"afterRemove",function(I){P.emit(c.AFTER_REMOVE,I)}),p.on(R,"beforeUpdate",function(I){P.emit(c.BEFORE_UPDATE,I)}),p.on(R,"afterUpdate",function(I){P.emit(c.AFTER_UPDATE,I)}),p.on(R,"collisionStart",function(I){var D=I.pairs,L,F;D.length>0&&D.map(function(O){L=O.bodyA,F=O.bodyB,L.gameObject&&L.gameObject.emit("collide",L,F,O),F.gameObject&&F.gameObject.emit("collide",F,L,O),p.trigger(L,"onCollide",{pair:O}),p.trigger(F,"onCollide",{pair:O}),L.onCollideCallback&&L.onCollideCallback(O),F.onCollideCallback&&F.onCollideCallback(O),L.onCollideWith[F.id]&&L.onCollideWith[F.id](F,O),F.onCollideWith[L.id]&&F.onCollideWith[L.id](L,O)}),P.emit(c.COLLISION_START,I,L,F)}),p.on(R,"collisionActive",function(I){var D=I.pairs,L,F;D.length>0&&D.map(function(O){L=O.bodyA,F=O.bodyB,L.gameObject&&L.gameObject.emit("collideActive",L,F,O),F.gameObject&&F.gameObject.emit("collideActive",F,L,O),p.trigger(L,"onCollideActive",{pair:O}),p.trigger(F,"onCollideActive",{pair:O}),L.onCollideActiveCallback&&L.onCollideActiveCallback(O),F.onCollideActiveCallback&&F.onCollideActiveCallback(O)}),P.emit(c.COLLISION_ACTIVE,I,L,F)}),p.on(R,"collisionEnd",function(I){var D=I.pairs,L,F;D.length>0&&D.map(function(O){L=O.bodyA,F=O.bodyB,L.gameObject&&L.gameObject.emit("collideEnd",L,F,O),F.gameObject&&F.gameObject.emit("collideEnd",F,L,O),p.trigger(L,"onCollideEnd",{pair:O}),p.trigger(F,"onCollideEnd",{pair:O}),L.onCollideEndCallback&&L.onCollideEndCallback(O),F.onCollideEndCallback&&F.onCollideEndCallback(O)}),P.emit(c.COLLISION_END,I,L,F)})},setBounds:function(P,R,M,I,D,L,F,O,N){return P===void 0&&(P=0),R===void 0&&(R=0),M===void 0&&(M=this.scene.sys.scale.width),I===void 0&&(I=this.scene.sys.scale.height),D===void 0&&(D=64),L===void 0&&(L=!0),F===void 0&&(F=!0),O===void 0&&(O=!0),N===void 0&&(N=!0),this.updateWall(L,"left",P-D,R-D,D,I+D*2),this.updateWall(F,"right",P+M,R-D,D,I+D*2),this.updateWall(O,"top",P,R-D,M,D),this.updateWall(N,"bottom",P,R+I,M,D),this},updateWall:function(P,R,M,I,D,L){var F=this.walls[R];P?(F&&x.remove(this.localWorld,F),M+=D/2,I+=L/2,this.walls[R]=this.create(M,I,D,L,{isStatic:!0,friction:0,frictionStatic:0})):(F&&x.remove(this.localWorld,F),this.walls[R]=null)},createDebugGraphic:function(){var P=this.scene.sys.add.graphics({x:0,y:0});return P.setDepth(Number.MAX_VALUE),this.debugGraphic=P,this.drawDebug=!0,P},disableGravity:function(){return this.localWorld.gravity.x=0,this.localWorld.gravity.y=0,this.localWorld.gravity.scale=0,this},setGravity:function(P,R,M){return P===void 0&&(P=0),R===void 0&&(R=1),M===void 0&&(M=.001),this.localWorld.gravity.x=P,this.localWorld.gravity.y=R,this.localWorld.gravity.scale=M,this},create:function(P,R,M,I,D){var L=u.rectangle(P,R,M,I,D);return x.add(this.localWorld,L),L},add:function(P){return x.add(this.localWorld,P),this},remove:function(P,R){Array.isArray(P)||(P=[P]);for(var M=0;M<P.length;M++){var I=P[M],D=I.body?I.body:I;o.remove(this.localWorld,D,R)}return this},removeConstraint:function(P,R){return o.remove(this.localWorld,P,R),this},convertTilemapLayer:function(P,R){var M=P.layer,I=P.getTilesWithin(0,0,M.width,M.height,{isColliding:!0});return this.convertTiles(I,R),this},convertTiles:function(P,R){if(P.length===0)return this;for(var M=0;M<P.length;M++)new m(this,P[M],R);return this},nextGroup:function(P){return v.nextGroup(P)},nextCategory:function(){return v.nextCategory()},pause:function(){return this.enabled=!1,this.emit(c.PAUSE),this},resume:function(){return this.enabled=!0,this.runner.timeLastTick=l.now(),this.emit(c.RESUME),this},update:function(P){if(!(!this.enabled||!this.autoUpdate)){var R=this.engine,M=this.runner,I=l.now(),D=M.delta,L=0,F=P-M.timeLastTick;if((!F||!M.timeLastTick||F>Math.max(E._maxFrameDelta,M.maxFrameTime))&&(F=M.frameDelta||E._frameDeltaFallback),M.frameDeltaSmoothing){M.frameDeltaHistory.push(F),M.frameDeltaHistory=M.frameDeltaHistory.slice(-M.frameDeltaHistorySize);var O=M.frameDeltaHistory.slice(0).sort(),N=M.frameDeltaHistory.slice(O.length*E._smoothingLowerBound,O.length*E._smoothingUpperBound),b=E._mean(N);F=b||F}M.frameDeltaSnapping&&(F=1e3/Math.round(1e3/F)),M.frameDelta=F,M.timeLastTick=P,M.timeBuffer+=M.frameDelta,M.timeBuffer=l.clamp(M.timeBuffer,0,M.frameDelta+D*E._timeBufferMargin),M.lastUpdatesDeferred=0;for(var V=M.maxUpdates||Math.ceil(M.maxFrameTime/D),Y=l.now();D>0&&M.timeBuffer>=D*E._timeBufferMargin;){s.update(R,D),M.timeBuffer-=D,L+=1;var W=l.now()-I,U=l.now()-Y,z=W+E._elapsedNextEstimate*U/L;if(L>=V||z>M.maxFrameTime){M.lastUpdatesDeferred=Math.round(Math.max(0,M.timeBuffer/D-E._timeBufferMargin));break}}}},step:function(P){s.update(this.engine,P)},update60Hz:function(){return 1e3/60},update30Hz:function(){return 1e3/30},has:function(P){var R=P.hasOwnProperty("body")?P.body:P;return o.get(this.localWorld,R.id,R.type)!==null},getAllBodies:function(){return o.allBodies(this.localWorld)},getAllConstraints:function(){return o.allConstraints(this.localWorld)},getAllComposites:function(){return o.allComposites(this.localWorld)},postUpdate:function(){if(this.drawDebug){var P=this.debugConfig,R=this.engine,M=this.debugGraphic,I=o.allBodies(this.localWorld);this.debugGraphic.clear(),P.showBroadphase&&R.broadphase.controller&&this.renderGrid(R.broadphase,M,P.broadphaseColor,.5),P.showBounds&&this.renderBodyBounds(I,M,P.boundsColor,.5),(P.showBody||P.showStaticBody)&&this.renderBodies(I),P.showJoint&&this.renderJoints(),(P.showAxes||P.showAngleIndicator)&&this.renderBodyAxes(I,M,P.showAxes,P.angleColor,.5),P.showVelocity&&this.renderBodyVelocity(I,M,P.velocityColor,1,2),P.showSeparations&&this.renderSeparations(R.pairs.list,M,P.separationColor),P.showCollisions&&this.renderCollisions(R.pairs.list,M,P.collisionColor)}},renderGrid:function(P,R,M,I){R.lineStyle(1,M,I);for(var D=l.keys(P.buckets),L=0;L<D.length;L++){var F=D[L];if(!(P.buckets[F].length<2)){var O=F.split(/C|R/);R.strokeRect(parseInt(O[1],10)*P.bucketWidth,parseInt(O[2],10)*P.bucketHeight,P.bucketWidth,P.bucketHeight)}}return this},renderSeparations:function(P,R,M){R.lineStyle(1,M,1);for(var I=0;I<P.length;I++){var D=P[I];if(D.isActive){var L=D.collision,F=L.bodyA,O=L.bodyB,N=F.position,b=O.position,V=L.penetration,Y=!F.isStatic&&!O.isStatic?4:1;O.isStatic&&(Y=0),R.lineBetween(b.x,b.y,b.x-V.x*Y,b.y-V.y*Y),Y=!F.isStatic&&!O.isStatic?4:1,F.isStatic&&(Y=0),R.lineBetween(N.x,N.y,N.x-V.x*Y,N.y-V.y*Y)}}return this},renderCollisions:function(P,R,M){R.lineStyle(1,M,.5),R.fillStyle(M,1);var I,D;for(I=0;I<P.length;I++)if(D=P[I],!!D.isActive)for(var L=0;L<D.contactCount;L++){var F=D.contacts[L],O=F.vertex;O&&R.fillRect(O.x-2,O.y-2,5,5)}for(I=0;I<P.length;I++)if(D=P[I],!!D.isActive){var N=D.collision,b=D.contacts;if(D.contactCount>0){var V=b[0].vertex.x,Y=b[0].vertex.y;D.contactCount===2&&(V=(b[0].vertex.x+b[1].vertex.x)/2,Y=(b[0].vertex.y+b[1].vertex.y)/2),N.bodyB===N.supports[0].body||N.bodyA.isStatic?R.lineBetween(V-N.normal.x*8,Y-N.normal.y*8,V,Y):R.lineBetween(V+N.normal.x*8,Y+N.normal.y*8,V,Y)}}return this},renderBodyBounds:function(P,R,M,I){R.lineStyle(1,M,I);for(var D=0;D<P.length;D++){var L=P[D];if(L.render.visible){var F=L.bounds;if(F)R.strokeRect(F.min.x,F.min.y,F.max.x-F.min.x,F.max.y-F.min.y);else for(var O=L.parts,N=O.length>1?1:0;N<O.length;N++){var b=O[N];R.strokeRect(b.bounds.min.x,b.bounds.min.y,b.bounds.max.x-b.bounds.min.x,b.bounds.max.y-b.bounds.min.y)}}}return this},renderBodyAxes:function(P,R,M,I,D){R.lineStyle(1,I,D);for(var L=0;L<P.length;L++){var F=P[L],O=F.parts;if(F.render.visible){var N,b,V;if(M)for(b=O.length>1?1:0;b<O.length;b++)for(N=O[b],V=0;V<N.axes.length;V++){var Y=N.axes[V];R.lineBetween(N.position.x,N.position.y,N.position.x+Y.x*20,N.position.y+Y.y*20)}else for(b=O.length>1?1:0;b<O.length;b++)for(N=O[b],V=0;V<N.axes.length;V++)R.lineBetween(N.position.x,N.position.y,(N.vertices[0].x+N.vertices[N.vertices.length-1].x)/2,(N.vertices[0].y+N.vertices[N.vertices.length-1].y)/2)}}return this},renderBodyVelocity:function(P,R,M,I,D){R.lineStyle(D,M,I);for(var L=0;L<P.length;L++){var F=P[L];F.render.visible&&R.lineBetween(F.position.x,F.position.y,F.position.x+(F.position.x-F.positionPrev.x)*2,F.position.y+(F.position.y-F.positionPrev.y)*2)}return this},renderBodies:function(P){for(var R=this.debugGraphic,M=this.debugConfig,I=M.showBody,D=M.showStaticBody,L=M.showSleeping,F=M.showInternalEdges,O=M.showConvexHulls,N=M.renderFill,b=M.renderLine,V=M.staticBodySleepOpacity,Y=M.sleepFillColor,W=M.sleepLineColor,U=M.hullColor,z=0;z<P.length;z++){var B=P[z];if(B.render.visible&&!(!D&&B.isStatic||!I&&!B.isStatic)){var X=B.render.lineColor,G=B.render.lineOpacity,H=B.render.lineThickness,$=B.render.fillColor,k=B.render.fillOpacity;L&&B.isSleeping&&(B.isStatic?(G*=V,k*=V):(X=W,$=Y)),N||($=null),b||(X=null),this.renderBody(B,R,F,X,G,H,$,k);var j=B.parts.length;O&&j>1&&this.renderConvexHull(B,R,U,H)}}},renderBody:function(P,R,M,I,D,L,F,O){I===void 0&&(I=null),D===void 0&&(D=null),L===void 0&&(L=1),F===void 0&&(F=null),O===void 0&&(O=null);for(var N=this.debugConfig,b=N.sensorFillColor,V=N.sensorLineColor,Y=P.parts,W=Y.length,U=W>1?1:0;U<W;U++){var z=Y[U],B=z.render,X=B.opacity;if(!(!B.visible||X===0||z.isSensor&&!N.showSensors)){var G=z.circleRadius;if(R.beginPath(),z.isSensor?(F!==null&&R.fillStyle(b,O*X),I!==null&&R.lineStyle(L,V,D*X)):(F!==null&&R.fillStyle(F,O*X),I!==null&&R.lineStyle(L,I,D*X)),G)R.arc(z.position.x,z.position.y,G,0,2*Math.PI);else{var H=z.vertices,$=H.length;R.moveTo(H[0].x,H[0].y);for(var k=1;k<$;k++){var j=H[k];if(!H[k-1].isInternal||M?R.lineTo(j.x,j.y):R.moveTo(j.x,j.y),k<$&&j.isInternal&&!M){var Q=(k+1)%$;R.moveTo(H[Q].x,H[Q].y)}}R.closePath()}F!==null&&R.fillPath(),I!==null&&R.strokePath()}}if(N.showPositions&&!P.isStatic){var J=P.position.x,q=P.position.y,Z=Math.ceil(N.positionSize/2);R.fillStyle(N.positionColor,1),R.fillRect(J-Z,q-Z,N.positionSize,N.positionSize)}return this},renderConvexHull:function(P,R,M,I){I===void 0&&(I=1);var D=P.parts,L=D.length;if(L>1){var F=P.vertices;R.lineStyle(I,M),R.beginPath(),R.moveTo(F[0].x,F[0].y);for(var O=1;O<F.length;O++)R.lineTo(F[O].x,F[O].y);R.lineTo(F[0].x,F[0].y),R.strokePath()}return this},renderJoints:function(){for(var P=this.debugGraphic,R=o.allConstraints(this.localWorld),M=0;M<R.length;M++){var I=R[M].render,D=I.lineColor,L=I.lineOpacity,F=I.lineThickness,O=I.pinSize,N=I.anchorColor,b=I.anchorSize;this.renderConstraint(R[M],P,D,L,F,O,N,b)}},renderConstraint:function(P,R,M,I,D,L,F,O){var N=P.render;if(!N.visible||!P.pointA||!P.pointB)return this;R.lineStyle(D,M,I);var b=P.bodyA,V=P.bodyB,Y,W;if(b?Y=w.add(b.position,P.pointA):Y=P.pointA,N.type==="pin")R.strokeCircle(Y.x,Y.y,L);else{if(V?W=w.add(V.position,P.pointB):W=P.pointB,R.beginPath(),R.moveTo(Y.x,Y.y),N.type==="spring")for(var U=w.sub(W,Y),z=w.perp(w.normalise(U)),B=Math.ceil(l.clamp(P.length/5,12,20)),X,G=1;G<B;G+=1)X=G%2===0?1:-1,R.lineTo(Y.x+U.x*(G/B)+z.x*X*4,Y.y+U.y*(G/B)+z.y*X*4);R.lineTo(W.x,W.y)}return R.strokePath(),N.anchors&&O>0&&(R.fillStyle(F),R.fillCircle(Y.x,Y.y,O),R.fillCircle(W.x,W.y,O)),this},resetCollisionIDs:function(){return y._nextCollidingGroupId=1,y._nextNonCollidingGroupId=-1,y._nextCategory=1,this},shutdown:function(){p.off(this.engine),this.removeAllListeners(),x.clear(this.localWorld,!1),s.clear(this.engine),this.drawDebug&&this.debugGraphic.destroy()},destroy:function(){this.shutdown()}});h.exports=C},70410:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setBounce:function(e){return this.body.restitution=e,this}};h.exports=S},66968:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setCollisionCategory:function(e){return this.body.collisionFilter.category=e,this},setCollisionGroup:function(e){return this.body.collisionFilter.group=e,this},setCollidesWith:function(e){var u=0;if(!Array.isArray(e))u=e;else for(var y=0;y<e.length;y++)u|=e[y];return this.body.collisionFilter.mask=u,this},setOnCollide:function(e){return this.body.onCollideCallback=e,this},setOnCollideEnd:function(e){return this.body.onCollideEndCallback=e,this},setOnCollideActive:function(e){return this.body.onCollideActiveCallback=e,this},setOnCollideWith:function(e,u){Array.isArray(e)||(e=[e]);for(var y=0;y<e.length;y++){var f=e[y].hasOwnProperty("body")?e[y].body:e[y];this.body.setOnCollideWith(f,u)}return this}};h.exports=S},51607:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(22562),y={applyForce:function(f){return this._tempVec2.set(this.body.position.x,this.body.position.y),u.applyForce(this.body,this._tempVec2,f),this},applyForceFrom:function(f,l){return u.applyForce(this.body,f,l),this},thrust:function(f){var l=this.body.angle;return this._tempVec2.set(f*Math.cos(l),f*Math.sin(l)),u.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustLeft:function(f){var l=this.body.angle-Math.PI/2;return this._tempVec2.set(f*Math.cos(l),f*Math.sin(l)),u.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustRight:function(f){var l=this.body.angle+Math.PI/2;return this._tempVec2.set(f*Math.cos(l),f*Math.sin(l)),u.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustBack:function(f){var l=this.body.angle-Math.PI;return this._tempVec2.set(f*Math.cos(l),f*Math.sin(l)),u.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this}};h.exports=y},5436:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setFriction:function(e,u,y){return this.body.friction=e,u!==void 0&&(this.body.frictionAir=u),y!==void 0&&(this.body.frictionStatic=y),this},setFrictionAir:function(e){return this.body.frictionAir=e,this},setFrictionStatic:function(e){return this.body.frictionStatic=e,this}};h.exports=S},39858:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setIgnoreGravity:function(e){return this.body.ignoreGravity=e,this}};h.exports=S},37302:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(22562),y=e(26099),f={setMass:function(l){return u.setMass(this.body,l),this},setDensity:function(l){return u.setDensity(this.body,l),this},centerOfMass:{get:function(){return new y(this.body.centerOfMass.x,this.body.centerOfMass.y)}}};h.exports=f},39132:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setSensor:function(e){return this.body.isSensor=e,this},isSensor:function(){return this.body.isSensor}};h.exports=S},57772:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(66280),y=e(22562),f=e(43855),l=e(95540),o=e(19496),s=e(85791),a=e(41598),c={setRectangle:function(r,d,v){return this.setBody({type:"rectangle",width:r,height:d},v)},setCircle:function(r,d){return this.setBody({type:"circle",radius:r},d)},setPolygon:function(r,d,v){return this.setBody({type:"polygon",sides:d,radius:r},v)},setTrapezoid:function(r,d,v,p){return this.setBody({type:"trapezoid",width:r,height:d,slope:v},p)},setExistingBody:function(r,d){d===void 0&&(d=!0),this.body&&this.world.remove(this.body,!0),this.body=r;for(var v=0;v<r.parts.length;v++)r.parts[v].gameObject=this;var p=this;if(r.destroy=function(){p.world.remove(p.body,!0),p.body.gameObject=null},d&&(this.world.has(r)&&this.world.remove(r,!0),this.world.add(r)),this._originComponent){var m=r.render.sprite.xOffset,x=r.render.sprite.yOffset,E=r.centerOfMass.x,w=r.centerOfMass.y;if(f(E,.5)&&f(w,.5))this.setOrigin(m+.5,x+.5);else{var C=r.centerOffset.x,P=r.centerOffset.y;this.setOrigin(m+C/this.displayWidth,x+P/this.displayHeight)}}return this},setBody:function(r,d){if(!r)return this;var v;typeof r=="string"&&(r={type:r});var p=l(r,"type","rectangle"),m=l(r,"x",this._tempVec2.x),x=l(r,"y",this._tempVec2.y),E=l(r,"width",this.width),w=l(r,"height",this.height);switch(p){case"rectangle":v=u.rectangle(m,x,E,w,d);break;case"circle":var C=l(r,"radius",Math.max(E,w)/2),P=l(r,"maxSides",25);v=u.circle(m,x,C,d,P);break;case"trapezoid":var R=l(r,"slope",.5);v=u.trapezoid(m,x,E,w,R,d);break;case"polygon":var M=l(r,"sides",5),I=l(r,"radius",Math.max(E,w)/2);v=u.polygon(m,x,M,I,d);break;case"fromVertices":case"fromVerts":var D=l(r,"verts",null);if(D)if(typeof D=="string"&&(D=a.fromPath(D)),this.body&&!this.body.hasOwnProperty("temp"))y.setVertices(this.body,D),v=this.body;else{var L=l(r,"flagInternal",!1),F=l(r,"removeCollinear",.01),O=l(r,"minimumArea",10);v=u.fromVertices(m,x,D,d,L,F,O)}break;case"fromPhysicsEditor":v=o.parseBody(m,x,r,d);break;case"fromPhysicsTracer":v=s.parseBody(m,x,r,d);break}return v&&this.setExistingBody(v,r.addToWorld),this}};h.exports=c},38083:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(1121),y=e(53614),f=e(35810),l={setToSleep:function(){return y.set(this.body,!0),this},setAwake:function(){return y.set(this.body,!1),this},setSleepThreshold:function(o){return o===void 0&&(o=60),this.body.sleepThreshold=o,this},setSleepEvents:function(o,s){return this.setSleepStartEvent(o),this.setSleepEndEvent(s),this},setSleepStartEvent:function(o){if(o){var s=this.world;f.on(this.body,"sleepStart",function(a){s.emit(u.SLEEP_START,a,this)})}else f.off(this.body,"sleepStart");return this},setSleepEndEvent:function(o){if(o){var s=this.world;f.on(this.body,"sleepEnd",function(a){s.emit(u.SLEEP_END,a,this)})}else f.off(this.body,"sleepEnd");return this}};h.exports=l},90556:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(22562),y={setStatic:function(f){return u.setStatic(this.body,f),this},isStatic:function(){return this.body.isStatic}};h.exports=y},85436:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(22562),y=e(36383),f=e(86554),l=e(30954),o=4,s={x:{get:function(){return this.body.position.x},set:function(a){this._tempVec2.set(a,this.y),u.setPosition(this.body,this._tempVec2)}},y:{get:function(){return this.body.position.y},set:function(a){this._tempVec2.set(this.x,a),u.setPosition(this.body,this._tempVec2)}},scale:{get:function(){return(this._scaleX+this._scaleY)/2},set:function(a){this.setScale(a,a)}},scaleX:{get:function(){return this._scaleX},set:function(a){var c=1/this._scaleX,r=1/this._scaleY;this._scaleX=a,this._scaleX===0?this.renderFlags&=~o:this.renderFlags|=o,u.scale(this.body,c,r),u.scale(this.body,a,this._scaleY)}},scaleY:{get:function(){return this._scaleY},set:function(a){var c=1/this._scaleX,r=1/this._scaleY;this._scaleY=a,this._scaleY===0?this.renderFlags&=~o:this.renderFlags|=o,u.scale(this.body,c,r),u.scale(this.body,this._scaleX,a)}},angle:{get:function(){return l(this.body.angle*y.RAD_TO_DEG)},set:function(a){this.rotation=l(a)*y.DEG_TO_RAD}},rotation:{get:function(){return this.body.angle},set:function(a){this._rotation=f(a),u.setAngle(this.body,this._rotation)}},setPosition:function(a,c){return a===void 0&&(a=0),c===void 0&&(c=a),this._tempVec2.set(a,c),u.setPosition(this.body,this._tempVec2),this},setRotation:function(a){return a===void 0&&(a=0),this._rotation=f(a),u.setAngle(this.body,a),this},setFixedRotation:function(){return u.setInertia(this.body,1/0),this},setAngle:function(a){return a===void 0&&(a=0),this.angle=a,u.setAngle(this.body,this.rotation),this},setScale:function(a,c,r){a===void 0&&(a=1),c===void 0&&(c=a);var d=1/this._scaleX,v=1/this._scaleY;return this._scaleX=a,this._scaleY=c,u.scale(this.body,d,v,r),u.scale(this.body,a,c,r),this}};h.exports=s},42081:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(22562),y={setVelocityX:function(f){return this._tempVec2.set(f,this.body.velocity.y),u.setVelocity(this.body,this._tempVec2),this},setVelocityY:function(f){return this._tempVec2.set(this.body.velocity.x,f),u.setVelocity(this.body,this._tempVec2),this},setVelocity:function(f,l){return this._tempVec2.set(f,l),u.setVelocity(this.body,this._tempVec2),this},getVelocity:function(){return u.getVelocity(this.body)},setAngularVelocity:function(f){return u.setAngularVelocity(this.body,f),this},getAngularVelocity:function(){return u.getAngularVelocity(this.body)},setAngularSpeed:function(f){return u.setAngularSpeed(this.body,f),this},getAngularSpeed:function(){return u.getAngularSpeed(this.body)}};h.exports=y},31884:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={Bounce:e(70410),Collision:e(66968),Force:e(51607),Friction:e(5436),Gravity:e(39858),Mass:e(37302),Sensor:e(39132),SetBody:e(57772),Sleep:e(38083),Static:e(90556),Transform:e(85436),Velocity:e(42081)}},85608:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="afteradd"},1213:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="afterremove"},25968:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="afterupdate"},67205:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="beforeadd"},39438:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="beforeremove"},44823:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="beforeupdate"},92593:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="collisionactive"},60128:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="collisionend"},76861:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="collisionstart"},92362:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="dragend"},76408:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="drag"},93971:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="dragstart"},5656:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="pause"},47861:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="resume"},79099:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="sleepend"},35906:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="sleepstart"},1121:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={AFTER_ADD:e(85608),AFTER_REMOVE:e(1213),AFTER_UPDATE:e(25968),BEFORE_ADD:e(67205),BEFORE_REMOVE:e(39438),BEFORE_UPDATE:e(44823),COLLISION_ACTIVE:e(92593),COLLISION_END:e(60128),COLLISION_START:e(76861),DRAG_END:e(92362),DRAG:e(76408),DRAG_START:e(93971),PAUSE:e(5656),RESUME:e(47861),SLEEP_END:e(79099),SLEEP_START:e(35906)}},3875:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={BodyBounds:e(68174),Components:e(31884),Events:e(1121),Factory:e(28137),MatterGameObject:e(75803),Image:e(23181),Matter:e(19933),MatterPhysics:e(42045),PolyDecomp:e(55973),Sprite:e(34803),TileBody:e(73834),PhysicsEditorParser:e(19496),PhysicsJSONParser:e(85791),PointerConstraint:e(98713),World:e(68243)}},22562:(h,S,e)=>{var u={};h.exports=u;var y=e(41598),f=e(31725),l=e(53614),o=e(53402),s=e(15647),a=e(66615);(function(){u._timeCorrection=!0,u._inertiaScale=4,u._nextCollidingGroupId=1,u._nextNonCollidingGroupId=-1,u._nextCategory=1,u._baseDelta=16.666666666666668,u.create=function(r){var d={id:o.nextId(),type:"body",label:"Body",parts:[],plugin:{},attractors:r.attractors||[],wrapBounds:null,angle:0,vertices:null,position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,events:null,bounds:null,chamfer:null,circleRadius:0,positionPrev:null,anglePrev:0,parent:null,axes:null,area:0,mass:0,inverseMass:0,inertia:0,deltaTime:16.666666666666668,inverseInertia:0,_original:null,render:{visible:!0,opacity:1,sprite:{xOffset:0,yOffset:0},fillColor:null,fillOpacity:null,lineColor:null,lineOpacity:null,lineThickness:null},gameObject:null,scale:{x:1,y:1},centerOfMass:{x:0,y:0},centerOffset:{x:0,y:0},gravityScale:{x:1,y:1},ignoreGravity:!1,ignorePointer:!1,onCollideCallback:null,onCollideEndCallback:null,onCollideActiveCallback:null,onCollideWith:{}};!r.hasOwnProperty("position")&&r.hasOwnProperty("vertices")?r.position=y.centre(r.vertices):r.hasOwnProperty("vertices")||(d.vertices=y.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"));var v=o.extend(d,r);return c(v,r),v.setOnCollideWith=function(p,m){return m?this.onCollideWith[p.id]=m:delete this.onCollideWith[p.id],this},v},u.nextGroup=function(r){return r?u._nextNonCollidingGroupId--:u._nextCollidingGroupId++},u.nextCategory=function(){return u._nextCategory=u._nextCategory<<1,u._nextCategory};var c=function(r,d){if(d=d||{},u.set(r,{bounds:r.bounds||s.create(r.vertices),positionPrev:r.positionPrev||f.clone(r.position),anglePrev:r.anglePrev||r.angle,vertices:r.vertices,parts:r.parts||[r],isStatic:r.isStatic,isSleeping:r.isSleeping,parent:r.parent||r}),y.rotate(r.vertices,r.angle,r.position),a.rotate(r.axes,r.angle),s.update(r.bounds,r.vertices,r.velocity),u.set(r,{axes:d.axes||r.axes,area:d.area||r.area,mass:d.mass||r.mass,inertia:d.inertia||r.inertia}),r.parts.length===1){var v=r.bounds,p=r.centerOfMass,m=r.centerOffset,x=v.max.x-v.min.x,E=v.max.y-v.min.y;p.x=-(v.min.x-r.position.x)/x,p.y=-(v.min.y-r.position.y)/E,m.x=x*p.x,m.y=E*p.y}};u.set=function(r,d,v){var p;typeof d=="string"&&(p=d,d={},d[p]=v);for(p in d)if(Object.prototype.hasOwnProperty.call(d,p))switch(v=d[p],p){case"isStatic":u.setStatic(r,v);break;case"isSleeping":l.set(r,v);break;case"mass":u.setMass(r,v);break;case"density":u.setDensity(r,v);break;case"inertia":u.setInertia(r,v);break;case"vertices":u.setVertices(r,v);break;case"position":u.setPosition(r,v);break;case"angle":u.setAngle(r,v);break;case"velocity":u.setVelocity(r,v);break;case"angularVelocity":u.setAngularVelocity(r,v);break;case"speed":u.setSpeed(r,v);break;case"angularSpeed":u.setAngularSpeed(r,v);break;case"parts":u.setParts(r,v);break;case"centre":u.setCentre(r,v);break;default:r[p]=v}},u.setStatic=function(r,d){for(var v=0;v<r.parts.length;v++){var p=r.parts[v];d?(p.isStatic||(p._original={restitution:p.restitution,friction:p.friction,mass:p.mass,inertia:p.inertia,density:p.density,inverseMass:p.inverseMass,inverseInertia:p.inverseInertia}),p.restitution=0,p.friction=1,p.mass=p.inertia=p.density=1/0,p.inverseMass=p.inverseInertia=0,p.positionPrev.x=p.position.x,p.positionPrev.y=p.position.y,p.anglePrev=p.angle,p.angularVelocity=0,p.speed=0,p.angularSpeed=0,p.motion=0):p._original&&(p.restitution=p._original.restitution,p.friction=p._original.friction,p.mass=p._original.mass,p.inertia=p._original.inertia,p.density=p._original.density,p.inverseMass=p._original.inverseMass,p.inverseInertia=p._original.inverseInertia,p._original=null),p.isStatic=d}},u.setMass=function(r,d){var v=r.inertia/(r.mass/6);r.inertia=v*(d/6),r.inverseInertia=1/r.inertia,r.mass=d,r.inverseMass=1/r.mass,r.density=r.mass/r.area},u.setDensity=function(r,d){u.setMass(r,d*r.area),r.density=d},u.setInertia=function(r,d){r.inertia=d,r.inverseInertia=1/r.inertia},u.setVertices=function(r,d){d[0].body===r?r.vertices=d:r.vertices=y.create(d,r),r.axes=a.fromVertices(r.vertices),r.area=y.area(r.vertices),u.setMass(r,r.density*r.area);var v=y.centre(r.vertices);y.translate(r.vertices,v,-1),u.setInertia(r,u._inertiaScale*y.inertia(r.vertices,r.mass)),y.translate(r.vertices,r.position),s.update(r.bounds,r.vertices,r.velocity)},u.setParts=function(r,d,v){var p;for(d=d.slice(0),r.parts.length=0,r.parts.push(r),r.parent=r,p=0;p<d.length;p++){var m=d[p];m!==r&&(m.parent=r,r.parts.push(m))}if(r.parts.length!==1){if(v=typeof v<"u"?v:!0,v){var x=[];for(p=0;p<d.length;p++)x=x.concat(d[p].vertices);y.clockwiseSort(x);var E=y.hull(x),w=y.centre(E);u.setVertices(r,E),y.translate(r.vertices,w)}var C=u._totalProperties(r),P=C.centre.x,R=C.centre.y,M=r.bounds,I=r.centerOfMass,D=r.centerOffset;s.update(M,r.vertices,r.velocity),I.x=-(M.min.x-P)/(M.max.x-M.min.x),I.y=-(M.min.y-R)/(M.max.y-M.min.y),D.x=P,D.y=R,r.area=C.area,r.parent=r,r.position.x=P,r.position.y=R,r.positionPrev.x=P,r.positionPrev.y=R,u.setMass(r,C.mass),u.setInertia(r,C.inertia),u.setPosition(r,C.centre)}},u.setCentre=function(r,d,v){v?(r.positionPrev.x+=d.x,r.positionPrev.y+=d.y,r.position.x+=d.x,r.position.y+=d.y):(r.positionPrev.x=d.x-(r.position.x-r.positionPrev.x),r.positionPrev.y=d.y-(r.position.y-r.positionPrev.y),r.position.x=d.x,r.position.y=d.y)},u.setPosition=function(r,d,v){var p=f.sub(d,r.position);v?(r.positionPrev.x=r.position.x,r.positionPrev.y=r.position.y,r.velocity.x=p.x,r.velocity.y=p.y,r.speed=f.magnitude(p)):(r.positionPrev.x+=p.x,r.positionPrev.y+=p.y);for(var m=0;m<r.parts.length;m++){var x=r.parts[m];x.position.x+=p.x,x.position.y+=p.y,y.translate(x.vertices,p),s.update(x.bounds,x.vertices,r.velocity)}},u.setAngle=function(r,d,v){var p=d-r.angle;v?(r.anglePrev=r.angle,r.angularVelocity=p,r.angularSpeed=Math.abs(p)):r.anglePrev+=p;for(var m=0;m<r.parts.length;m++){var x=r.parts[m];x.angle+=p,y.rotate(x.vertices,p,r.position),a.rotate(x.axes,p),s.update(x.bounds,x.vertices,r.velocity),m>0&&f.rotateAbout(x.position,p,r.position,x.position)}},u.setVelocity=function(r,d){var v=r.deltaTime/u._baseDelta;r.positionPrev.x=r.position.x-d.x*v,r.positionPrev.y=r.position.y-d.y*v,r.velocity.x=(r.position.x-r.positionPrev.x)/v,r.velocity.y=(r.position.y-r.positionPrev.y)/v,r.speed=f.magnitude(r.velocity)},u.getVelocity=function(r){var d=u._baseDelta/r.deltaTime;return{x:(r.position.x-r.positionPrev.x)*d,y:(r.position.y-r.positionPrev.y)*d}},u.getSpeed=function(r){return f.magnitude(u.getVelocity(r))},u.setSpeed=function(r,d){u.setVelocity(r,f.mult(f.normalise(u.getVelocity(r)),d))},u.setAngularVelocity=function(r,d){var v=r.deltaTime/u._baseDelta;r.anglePrev=r.angle-d*v,r.angularVelocity=(r.angle-r.anglePrev)/v,r.angularSpeed=Math.abs(r.angularVelocity)},u.getAngularVelocity=function(r){return(r.angle-r.anglePrev)*u._baseDelta/r.deltaTime},u.getAngularSpeed=function(r){return Math.abs(u.getAngularVelocity(r))},u.setAngularSpeed=function(r,d){u.setAngularVelocity(r,o.sign(u.getAngularVelocity(r))*d)},u.translate=function(r,d,v){u.setPosition(r,f.add(r.position,d),v)},u.rotate=function(r,d,v,p){if(!v)u.setAngle(r,r.angle+d,p);else{var m=Math.cos(d),x=Math.sin(d),E=r.position.x-v.x,w=r.position.y-v.y;u.setPosition(r,{x:v.x+(E*m-w*x),y:v.y+(E*x+w*m)},p),u.setAngle(r,r.angle+d,p)}},u.scale=function(r,d,v,p){var m=0,x=0;p=p||r.position;for(var E=r.inertia===1/0,w=0;w<r.parts.length;w++){var C=r.parts[w];C.scale.x=d,C.scale.y=v,y.scale(C.vertices,d,v,p),C.axes=a.fromVertices(C.vertices),C.area=y.area(C.vertices),u.setMass(C,r.density*C.area),y.translate(C.vertices,{x:-C.position.x,y:-C.position.y}),u.setInertia(C,u._inertiaScale*y.inertia(C.vertices,C.mass)),y.translate(C.vertices,{x:C.position.x,y:C.position.y}),w>0&&(m+=C.area,x+=C.inertia),C.position.x=p.x+(C.position.x-p.x)*d,C.position.y=p.y+(C.position.y-p.y)*v,s.update(C.bounds,C.vertices,r.velocity)}r.parts.length>1&&(r.area=m,r.isStatic||(u.setMass(r,r.density*m),u.setInertia(r,x))),r.circleRadius&&(d===v?r.circleRadius*=d:r.circleRadius=null),E&&u.setInertia(r,1/0)},u.update=function(r,d){d=(typeof d<"u"?d:16.666666666666668)*r.timeScale;var v=d*d,p=u._timeCorrection?d/(r.deltaTime||d):1,m=1-r.frictionAir*(d/o._baseDelta),x=(r.position.x-r.positionPrev.x)*p,E=(r.position.y-r.positionPrev.y)*p;r.velocity.x=x*m+r.force.x/r.mass*v,r.velocity.y=E*m+r.force.y/r.mass*v,r.positionPrev.x=r.position.x,r.positionPrev.y=r.position.y,r.position.x+=r.velocity.x,r.position.y+=r.velocity.y,r.deltaTime=d,r.angularVelocity=(r.angle-r.anglePrev)*m*p+r.torque/r.inertia*v,r.anglePrev=r.angle,r.angle+=r.angularVelocity,r.speed=f.magnitude(r.velocity),r.angularSpeed=Math.abs(r.angularVelocity);for(var w=0;w<r.parts.length;w++){var C=r.parts[w];y.translate(C.vertices,r.velocity),w>0&&(C.position.x+=r.velocity.x,C.position.y+=r.velocity.y),r.angularVelocity!==0&&(y.rotate(C.vertices,r.angularVelocity,r.position),a.rotate(C.axes,r.angularVelocity),w>0&&f.rotateAbout(C.position,r.angularVelocity,r.position,C.position)),s.update(C.bounds,C.vertices,r.velocity)}},u.updateVelocities=function(r){var d=u._baseDelta/r.deltaTime,v=r.velocity;v.x=(r.position.x-r.positionPrev.x)*d,v.y=(r.position.y-r.positionPrev.y)*d,r.speed=Math.sqrt(v.x*v.x+v.y*v.y),r.angularVelocity=(r.angle-r.anglePrev)*d,r.angularSpeed=Math.abs(r.angularVelocity)},u.applyForce=function(r,d,v){var p={x:d.x-r.position.x,y:d.y-r.position.y};r.force.x+=v.x,r.force.y+=v.y,r.torque+=p.x*v.y-p.y*v.x},u._totalProperties=function(r){for(var d={mass:0,area:0,inertia:0,centre:{x:0,y:0}},v=r.parts.length===1?0:1;v<r.parts.length;v++){var p=r.parts[v],m=p.mass!==1/0?p.mass:1;d.mass+=m,d.area+=p.area,d.inertia+=p.inertia,d.centre=f.add(d.centre,f.mult(p.position,m))}return d.centre=f.div(d.centre,d.mass),d},u.wrap=function(r,d){var v=s.wrap(r.bounds,d);return v&&u.translate(r,v),v}})()},69351:(h,S,e)=>{var u={};h.exports=u;var y=e(35810),f=e(53402),l=e(15647),o=e(22562);(function(){u.create=function(s){return f.extend({id:f.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{},wrapBounds:null,cache:{allBodies:null,allConstraints:null,allComposites:null}},s)},u.setModified=function(s,a,c,r){if(y.trigger(s,"compositeModified",s),s.isModified=a,a&&s.cache&&(s.cache.allBodies=null,s.cache.allConstraints=null,s.cache.allComposites=null),c&&s.parent&&u.setModified(s.parent,a,c,r),r)for(var d=0;d<s.composites.length;d++){var v=s.composites[d];u.setModified(v,a,c,r)}},u.add=function(s,a){var c=[].concat(a);y.trigger(s,"beforeAdd",{object:a});for(var r=0;r<c.length;r++){var d=c[r];switch(d.type){case"body":if(d.parent!==d){f.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}u.addBody(s,d);break;case"constraint":u.addConstraint(s,d);break;case"composite":u.addComposite(s,d);break;case"mouseConstraint":u.addConstraint(s,d.constraint);break}}return y.trigger(s,"afterAdd",{object:a}),s},u.remove=function(s,a,c){var r=[].concat(a);y.trigger(s,"beforeRemove",{object:a});for(var d=0;d<r.length;d++){var v=r[d];switch(v.type){case"body":u.removeBody(s,v,c);break;case"constraint":u.removeConstraint(s,v,c);break;case"composite":u.removeComposite(s,v,c);break;case"mouseConstraint":u.removeConstraint(s,v.constraint);break}}return y.trigger(s,"afterRemove",{object:a}),s},u.addComposite=function(s,a){return s.composites.push(a),a.parent=s,u.setModified(s,!0,!0,!1),s},u.removeComposite=function(s,a,c){var r=f.indexOf(s.composites,a);if(r!==-1){var d=u.allBodies(a);u.removeCompositeAt(s,r);for(var v=0;v<d.length;v++)d[v].sleepCounter=0}if(c)for(var v=0;v<s.composites.length;v++)u.removeComposite(s.composites[v],a,!0);return s},u.removeCompositeAt=function(s,a){return s.composites.splice(a,1),u.setModified(s,!0,!0,!1),s},u.addBody=function(s,a){return s.bodies.push(a),u.setModified(s,!0,!0,!1),s},u.removeBody=function(s,a,c){var r=f.indexOf(s.bodies,a);if(r!==-1&&(u.removeBodyAt(s,r),a.sleepCounter=0),c)for(var d=0;d<s.composites.length;d++)u.removeBody(s.composites[d],a,!0);return s},u.removeBodyAt=function(s,a){return s.bodies.splice(a,1),u.setModified(s,!0,!0,!1),s},u.addConstraint=function(s,a){return s.constraints.push(a),u.setModified(s,!0,!0,!1),s},u.removeConstraint=function(s,a,c){var r=f.indexOf(s.constraints,a);if(r!==-1&&u.removeConstraintAt(s,r),c)for(var d=0;d<s.composites.length;d++)u.removeConstraint(s.composites[d],a,!0);return s},u.removeConstraintAt=function(s,a){return s.constraints.splice(a,1),u.setModified(s,!0,!0,!1),s},u.clear=function(s,a,c){if(c)for(var r=0;r<s.composites.length;r++)u.clear(s.composites[r],a,!0);return a?s.bodies=s.bodies.filter(function(d){return d.isStatic}):s.bodies.length=0,s.constraints.length=0,s.composites.length=0,u.setModified(s,!0,!0,!1),s},u.allBodies=function(s){if(s.cache&&s.cache.allBodies)return s.cache.allBodies;for(var a=[].concat(s.bodies),c=0;c<s.composites.length;c++)a=a.concat(u.allBodies(s.composites[c]));return s.cache&&(s.cache.allBodies=a),a},u.allConstraints=function(s){if(s.cache&&s.cache.allConstraints)return s.cache.allConstraints;for(var a=[].concat(s.constraints),c=0;c<s.composites.length;c++)a=a.concat(u.allConstraints(s.composites[c]));return s.cache&&(s.cache.allConstraints=a),a},u.allComposites=function(s){if(s.cache&&s.cache.allComposites)return s.cache.allComposites;for(var a=[].concat(s.composites),c=0;c<s.composites.length;c++)a=a.concat(u.allComposites(s.composites[c]));return s.cache&&(s.cache.allComposites=a),a},u.get=function(s,a,c){var r,d;switch(c){case"body":r=u.allBodies(s);break;case"constraint":r=u.allConstraints(s);break;case"composite":r=u.allComposites(s).concat(s);break}return r?(d=r.filter(function(v){return v.id.toString()===a.toString()}),d.length===0?null:d[0]):null},u.move=function(s,a,c){return u.remove(s,a),u.add(c,a),s},u.rebase=function(s){for(var a=u.allBodies(s).concat(u.allConstraints(s)).concat(u.allComposites(s)),c=0;c<a.length;c++)a[c].id=f.nextId();return s},u.translate=function(s,a,c){for(var r=c?u.allBodies(s):s.bodies,d=0;d<r.length;d++)o.translate(r[d],a);return s},u.rotate=function(s,a,c,r){for(var d=Math.cos(a),v=Math.sin(a),p=r?u.allBodies(s):s.bodies,m=0;m<p.length;m++){var x=p[m],E=x.position.x-c.x,w=x.position.y-c.y;o.setPosition(x,{x:c.x+(E*d-w*v),y:c.y+(E*v+w*d)}),o.rotate(x,a)}return s},u.scale=function(s,a,c,r,d){for(var v=d?u.allBodies(s):s.bodies,p=0;p<v.length;p++){var m=v[p],x=m.position.x-r.x,E=m.position.y-r.y;o.setPosition(m,{x:r.x+x*a,y:r.y+E*c}),o.scale(m,a,c)}return s},u.bounds=function(s){for(var a=u.allBodies(s),c=[],r=0;r<a.length;r+=1){var d=a[r];c.push(d.bounds.min,d.bounds.max)}return l.create(c)},u.wrap=function(s,a){var c=l.wrap(u.bounds(s),a);return c&&u.translate(s,c),c}})()},4372:(h,S,e)=>{var u={};h.exports=u;var y=e(69351);(function(){u.create=y.create,u.add=y.add,u.remove=y.remove,u.clear=y.clear,u.addComposite=y.addComposite,u.addBody=y.addBody,u.addConstraint=y.addConstraint})()},52284:(h,S,e)=>{var u={};h.exports=u;var y=e(41598),f=e(4506);(function(){var l=[],o={overlap:0,axis:null},s={overlap:0,axis:null};u.create=function(a,c){return{pair:null,collided:!1,bodyA:a,bodyB:c,parentA:a.parent,parentB:c.parent,depth:0,normal:{x:0,y:0},tangent:{x:0,y:0},penetration:{x:0,y:0},supports:[null,null],supportCount:0}},u.collides=function(a,c,r){if(u._overlapAxes(o,a.vertices,c.vertices,a.axes),o.overlap<=0||(u._overlapAxes(s,c.vertices,a.vertices,c.axes),s.overlap<=0))return null;var d=r&&r.table[f.id(a,c)],v;d?v=d.collision:(v=u.create(a,c),v.collided=!0,v.bodyA=a.id<c.id?a:c,v.bodyB=a.id<c.id?c:a,v.parentA=v.bodyA.parent,v.parentB=v.bodyB.parent),a=v.bodyA,c=v.bodyB;var p;o.overlap<s.overlap?p=o:p=s;var m=v.normal,x=v.tangent,E=v.penetration,w=v.supports,C=p.overlap,P=p.axis,R=P.x,M=P.y,I=c.position.x-a.position.x,D=c.position.y-a.position.y;R*I+M*D>=0&&(R=-R,M=-M),m.x=R,m.y=M,x.x=-M,x.y=R,E.x=R*C,E.y=M*C,v.depth=C;var L=u._findSupports(a,c,m,1),F=0;if(y.contains(a.vertices,L[0])&&(w[F++]=L[0]),y.contains(a.vertices,L[1])&&(w[F++]=L[1]),F<2){var O=u._findSupports(c,a,m,-1);y.contains(c.vertices,O[0])&&(w[F++]=O[0]),F<2&&y.contains(c.vertices,O[1])&&(w[F++]=O[1])}return F===0&&(w[F++]=L[0]),v.supportCount=F,v},u._overlapAxes=function(a,c,r,d){var v=c.length,p=r.length,m=c[0].x,x=c[0].y,E=r[0].x,w=r[0].y,C=d.length,P=Number.MAX_VALUE,R=0,M,I,D,L,F,O;for(F=0;F<C;F++){var N=d[F],b=N.x,V=N.y,Y=m*b+x*V,W=E*b+w*V,U=Y,z=W;for(O=1;O<v;O+=1)L=c[O].x*b+c[O].y*V,L>U?U=L:L<Y&&(Y=L);for(O=1;O<p;O+=1)L=r[O].x*b+r[O].y*V,L>z?z=L:L<W&&(W=L);if(I=U-W,D=z-Y,M=I<D?I:D,M<P&&(P=M,R=F,M<=0))break}a.axis=d[R],a.overlap=P},u._findSupports=function(a,c,r,d){var v=c.vertices,p=v.length,m=a.position.x,x=a.position.y,E=r.x*d,w=r.y*d,C=v[0],P=C,R=E*(m-P.x)+w*(x-P.y),M,I,D;for(D=1;D<p;D+=1)P=v[D],I=E*(m-P.x)+w*(x-P.y),I<R&&(R=I,C=P);return M=v[(p+C.index-1)%p],R=E*(m-M.x)+w*(x-M.y),P=v[(C.index+1)%p],E*(m-P.x)+w*(x-P.y)<R?(l[0]=C,l[1]=P,l):(l[0]=C,l[1]=M,l)}})()},43424:h=>{var S={};h.exports=S,function(){S.create=function(e){return{vertex:e,normalImpulse:0,tangentImpulse:0}}}()},81388:(h,S,e)=>{var u={};h.exports=u;var y=e(53402),f=e(52284);(function(){u.create=function(l){var o={bodies:[],collisions:[],pairs:null};return y.extend(o,l)},u.setBodies=function(l,o){l.bodies=o.slice(0)},u.clear=function(l){l.bodies=[],l.collisions=[]},u.collisions=function(l){var o=l.pairs,s=l.bodies,a=s.length,c=u.canCollide,r=f.collides,d=l.collisions,v=0,p,m;for(s.sort(u._compareBoundsX),p=0;p<a;p++){var x=s[p],E=x.bounds,w=x.bounds.max.x,C=x.bounds.max.y,P=x.bounds.min.y,R=x.isStatic||x.isSleeping,M=x.parts.length,I=M===1;for(m=p+1;m<a;m++){var D=s[m],L=D.bounds;if(L.min.x>w)break;if(!(C<L.min.y||P>L.max.y)&&!(R&&(D.isStatic||D.isSleeping))&&c(x.collisionFilter,D.collisionFilter)){var F=D.parts.length;if(I&&F===1){var O=r(x,D,o);O&&(d[v++]=O)}else for(var N=M>1?1:0,b=F>1?1:0,V=N;V<M;V++)for(var Y=x.parts[V],E=Y.bounds,W=b;W<F;W++){var U=D.parts[W],L=U.bounds;if(!(E.min.x>L.max.x||E.max.x<L.min.x||E.max.y<L.min.y||E.min.y>L.max.y)){var O=r(Y,U,o);O&&(d[v++]=O)}}}}}return d.length!==v&&(d.length=v),d},u.canCollide=function(l,o){return l.group===o.group&&l.group!==0?l.group>0:(l.mask&o.category)!==0&&(o.mask&l.category)!==0},u._compareBoundsX=function(l,o){return l.bounds.min.x-o.bounds.min.x}})()},4506:(h,S,e)=>{var u={};h.exports=u;var y=e(43424);(function(){u.create=function(f,l){var o=f.bodyA,s=f.bodyB,a={id:u.id(o,s),bodyA:o,bodyB:s,collision:f,contacts:[y.create(),y.create()],contactCount:0,separation:0,isActive:!0,isSensor:o.isSensor||s.isSensor,timeCreated:l,timeUpdated:l,inverseMass:0,friction:0,frictionStatic:0,restitution:0,slop:0};return u.update(a,f,l),a},u.update=function(f,l,o){var s=l.supports,a=l.supportCount,c=f.contacts,r=l.parentA,d=l.parentB;f.isActive=!0,f.timeUpdated=o,f.collision=l,f.separation=l.depth,f.inverseMass=r.inverseMass+d.inverseMass,f.friction=r.friction<d.friction?r.friction:d.friction,f.frictionStatic=r.frictionStatic>d.frictionStatic?r.frictionStatic:d.frictionStatic,f.restitution=r.restitution>d.restitution?r.restitution:d.restitution,f.slop=r.slop>d.slop?r.slop:d.slop,f.contactCount=a,l.pair=f;var v=s[0],p=c[0],m=s[1],x=c[1];(x.vertex===v||p.vertex===m)&&(c[1]=p,c[0]=p=x,x=c[1]),p.vertex=v,x.vertex=m},u.setActive=function(f,l,o){l?(f.isActive=!0,f.timeUpdated=o):(f.isActive=!1,f.contactCount=0)},u.id=function(f,l){return f.id<l.id?f.id.toString(36)+":"+l.id.toString(36):l.id.toString(36)+":"+f.id.toString(36)}})()},99561:(h,S,e)=>{var u={};h.exports=u;var y=e(4506),f=e(53402);(function(){u.create=function(l){return f.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},l)},u.update=function(l,o,s){var a=y.update,c=y.create,r=y.setActive,d=l.table,v=l.list,p=v.length,m=p,x=l.collisionStart,E=l.collisionEnd,w=l.collisionActive,C=o.length,P=0,R=0,M=0,I,D,L;for(L=0;L<C;L++)I=o[L],D=I.pair,D?(D.isActive&&(w[M++]=D),a(D,I,s)):(D=c(I,s),d[D.id]=D,x[P++]=D,v[m++]=D);for(m=0,p=v.length,L=0;L<p;L++)D=v[L],D.timeUpdated>=s?v[m++]=D:(r(D,!1,s),D.collision.bodyA.sleepCounter>0&&D.collision.bodyB.sleepCounter>0?v[m++]=D:(E[R++]=D,delete d[D.id]));v.length!==m&&(v.length=m),x.length!==P&&(x.length=P),E.length!==R&&(E.length=R),w.length!==M&&(w.length=M)},u.clear=function(l){return l.table={},l.list.length=0,l.collisionStart.length=0,l.collisionActive.length=0,l.collisionEnd.length=0,l}})()},73296:(h,S,e)=>{var u={};h.exports=u;var y=e(31725),f=e(52284),l=e(15647),o=e(66280),s=e(41598);(function(){u.collides=function(a,c){for(var r=[],d=c.length,v=a.bounds,p=f.collides,m=l.overlaps,x=0;x<d;x++){var E=c[x],w=E.parts.length,C=w===1?0:1;if(a!==E&&m(E.bounds,v))for(var P=C;P<w;P++){var R=E.parts[P];if(m(R.bounds,v)){var M=p(R,a);if(M){r.push(M);break}}}}return r},u.ray=function(a,c,r,d){d=d||1e-100;for(var v=y.angle(c,r),p=y.magnitude(y.sub(c,r)),m=(r.x+c.x)*.5,x=(r.y+c.y)*.5,E=o.rectangle(m,x,p,d,{angle:v}),w=u.collides(E,a),C=0;C<w.length;C+=1){var P=w[C];P.body=P.bodyB=P.bodyA}return w},u.region=function(a,c,r){for(var d=[],v=0;v<a.length;v++){var p=a[v],m=l.overlaps(p.bounds,c);(m&&!r||!m&&r)&&d.push(p)}return d},u.point=function(a,c){for(var r=[],d=0;d<a.length;d++){var v=a[d];if(l.contains(v.bounds,c))for(var p=v.parts.length===1?0:1;p<v.parts.length;p++){var m=v.parts[p];if(l.contains(m.bounds,c)&&s.contains(m.vertices,c)){r.push(v);break}}}return r}})()},66272:(h,S,e)=>{var u={};h.exports=u;var y=e(41598),f=e(53402),l=e(15647);(function(){u._restingThresh=2,u._restingThreshTangent=Math.sqrt(6),u._positionDampen=.9,u._positionWarming=.8,u._frictionNormalMultiplier=5,u._frictionMaxStatic=Number.MAX_VALUE,u.preSolvePosition=function(o){var s,a,c,r=o.length;for(s=0;s<r;s++)a=o[s],a.isActive&&(c=a.contactCount,a.collision.parentA.totalContacts+=c,a.collision.parentB.totalContacts+=c)},u.solvePosition=function(o,s,a){var c,r,d,v,p,m,x,E,w=u._positionDampen*(a||1),C=f.clamp(s/f._baseDelta,0,1),P=o.length;for(c=0;c<P;c++)r=o[c],!(!r.isActive||r.isSensor)&&(d=r.collision,v=d.parentA,p=d.parentB,m=d.normal,r.separation=d.depth+m.x*(p.positionImpulse.x-v.positionImpulse.x)+m.y*(p.positionImpulse.y-v.positionImpulse.y));for(c=0;c<P;c++)r=o[c],!(!r.isActive||r.isSensor)&&(d=r.collision,v=d.parentA,p=d.parentB,m=d.normal,E=r.separation-r.slop*C,(v.isStatic||p.isStatic)&&(E*=2),v.isStatic||v.isSleeping||(x=w/v.totalContacts,v.positionImpulse.x+=m.x*E*x,v.positionImpulse.y+=m.y*E*x),p.isStatic||p.isSleeping||(x=w/p.totalContacts,p.positionImpulse.x-=m.x*E*x,p.positionImpulse.y-=m.y*E*x))},u.postSolvePosition=function(o){for(var s=u._positionWarming,a=o.length,c=y.translate,r=l.update,d=0;d<a;d++){var v=o[d],p=v.positionImpulse,m=p.x,x=p.y,E=v.velocity;if(v.totalContacts=0,m!==0||x!==0){for(var w=0;w<v.parts.length;w++){var C=v.parts[w];c(C.vertices,p),r(C.bounds,C.vertices,E),C.position.x+=m,C.position.y+=x}v.positionPrev.x+=m,v.positionPrev.y+=x,m*E.x+x*E.y<0?(p.x=0,p.y=0):(p.x*=s,p.y*=s)}}},u.preSolveVelocity=function(o){var s=o.length,a,c;for(a=0;a<s;a++){var r=o[a];if(!(!r.isActive||r.isSensor)){var d=r.contacts,v=r.contactCount,p=r.collision,m=p.parentA,x=p.parentB,E=p.normal,w=p.tangent;for(c=0;c<v;c++){var C=d[c],P=C.vertex,R=C.normalImpulse,M=C.tangentImpulse;if(R!==0||M!==0){var I=E.x*R+w.x*M,D=E.y*R+w.y*M;m.isStatic||m.isSleeping||(m.positionPrev.x+=I*m.inverseMass,m.positionPrev.y+=D*m.inverseMass,m.anglePrev+=m.inverseInertia*((P.x-m.position.x)*D-(P.y-m.position.y)*I)),x.isStatic||x.isSleeping||(x.positionPrev.x-=I*x.inverseMass,x.positionPrev.y-=D*x.inverseMass,x.anglePrev-=x.inverseInertia*((P.x-x.position.x)*D-(P.y-x.position.y)*I))}}}}},u.solveVelocity=function(o,s){var a=s/f._baseDelta,c=a*a,r=c*a,d=-u._restingThresh*a,v=u._restingThreshTangent,p=u._frictionNormalMultiplier*a,m=u._frictionMaxStatic,x=o.length,E,w,C,P;for(C=0;C<x;C++){var R=o[C];if(!(!R.isActive||R.isSensor)){var M=R.collision,I=M.parentA,D=M.parentB,L=M.normal.x,F=M.normal.y,O=M.tangent.x,N=M.tangent.y,b=R.inverseMass,V=R.friction*R.frictionStatic*p,Y=R.contacts,W=R.contactCount,U=1/W,z=I.position.x-I.positionPrev.x,B=I.position.y-I.positionPrev.y,X=I.angle-I.anglePrev,G=D.position.x-D.positionPrev.x,H=D.position.y-D.positionPrev.y,$=D.angle-D.anglePrev;for(P=0;P<W;P++){var k=Y[P],j=k.vertex,Q=j.x-I.position.x,J=j.y-I.position.y,q=j.x-D.position.x,Z=j.y-D.position.y,it=z-J*X,rt=B+Q*X,et=G-Z*$,ct=H+q*$,pt=it-et,mt=rt-ct,nt=L*pt+F*mt,lt=O*pt+N*mt,ht=R.separation+nt,Tt=Math.min(ht,1);Tt=ht<0?0:Tt;var It=Tt*V;lt<-It||lt>It?(w=lt>0?lt:-lt,E=R.friction*(lt>0?1:-1)*r,E<-w?E=-w:E>w&&(E=w)):(E=lt,w=m);var Vt=Q*F-J*L,At=q*F-Z*L,Rt=U/(b+I.inverseInertia*Vt*Vt+D.inverseInertia*At*At),$t=(1+R.restitution)*nt*Rt;if(E*=Rt,nt<d)k.normalImpulse=0;else{var fe=k.normalImpulse;k.normalImpulse+=$t,k.normalImpulse>0&&(k.normalImpulse=0),$t=k.normalImpulse-fe}if(lt<-v||lt>v)k.tangentImpulse=0;else{var Nt=k.tangentImpulse;k.tangentImpulse+=E,k.tangentImpulse<-w&&(k.tangentImpulse=-w),k.tangentImpulse>w&&(k.tangentImpulse=w),E=k.tangentImpulse-Nt}var kt=L*$t+O*E,_t=F*$t+N*E;I.isStatic||I.isSleeping||(I.positionPrev.x+=kt*I.inverseMass,I.positionPrev.y+=_t*I.inverseMass,I.anglePrev+=(Q*_t-J*kt)*I.inverseInertia),D.isStatic||D.isSleeping||(D.positionPrev.x-=kt*D.inverseMass,D.positionPrev.y-=_t*D.inverseMass,D.anglePrev-=(q*_t-Z*kt)*D.inverseInertia)}}}}})()},48140:(h,S,e)=>{var u={};h.exports=u;var y=e(41598),f=e(31725),l=e(53614),o=e(15647),s=e(66615),a=e(53402);(function(){u._warming=.4,u._torqueDampen=1,u._minLength=1e-6,u.create=function(c){var r=c;r.bodyA&&!r.pointA&&(r.pointA={x:0,y:0}),r.bodyB&&!r.pointB&&(r.pointB={x:0,y:0});var d=r.bodyA?f.add(r.bodyA.position,r.pointA):r.pointA,v=r.bodyB?f.add(r.bodyB.position,r.pointB):r.pointB,p=f.magnitude(f.sub(d,v));r.length=typeof r.length<"u"?r.length:p,r.id=r.id||a.nextId(),r.label=r.label||"Constraint",r.type="constraint",r.stiffness=r.stiffness||(r.length>0?1:.7),r.damping=r.damping||0,r.angularStiffness=r.angularStiffness||0,r.angleA=r.bodyA?r.bodyA.angle:r.angleA,r.angleB=r.bodyB?r.bodyB.angle:r.angleB,r.plugin={};var m={visible:!0,type:"line",anchors:!0,lineColor:null,lineOpacity:null,lineThickness:null,pinSize:null,anchorColor:null,anchorSize:null};return r.length===0&&r.stiffness>.1?(m.type="pin",m.anchors=!1):r.stiffness<.9&&(m.type="spring"),r.render=a.extend(m,r.render),r},u.preSolveAll=function(c){for(var r=0;r<c.length;r+=1){var d=c[r],v=d.constraintImpulse;d.isStatic||v.x===0&&v.y===0&&v.angle===0||(d.position.x+=v.x,d.position.y+=v.y,d.angle+=v.angle)}},u.solveAll=function(c,r){for(var d=a.clamp(r/a._baseDelta,0,1),v=0;v<c.length;v+=1){var p=c[v],m=!p.bodyA||p.bodyA&&p.bodyA.isStatic,x=!p.bodyB||p.bodyB&&p.bodyB.isStatic;(m||x)&&u.solve(c[v],d)}for(v=0;v<c.length;v+=1)p=c[v],m=!p.bodyA||p.bodyA&&p.bodyA.isStatic,x=!p.bodyB||p.bodyB&&p.bodyB.isStatic,!m&&!x&&u.solve(c[v],d)},u.solve=function(c,r){var d=c.bodyA,v=c.bodyB,p=c.pointA,m=c.pointB;if(!(!d&&!v)){d&&!d.isStatic&&(f.rotate(p,d.angle-c.angleA,p),c.angleA=d.angle),v&&!v.isStatic&&(f.rotate(m,v.angle-c.angleB,m),c.angleB=v.angle);var x=p,E=m;if(d&&(x=f.add(d.position,p)),v&&(E=f.add(v.position,m)),!(!x||!E)){var w=f.sub(x,E),C=f.magnitude(w);C<u._minLength&&(C=u._minLength);var P=(C-c.length)/C,R=c.stiffness>=1||c.length===0,M=R?c.stiffness*r:c.stiffness*r*r,I=c.damping*r,D=f.mult(w,P*M),L=(d?d.inverseMass:0)+(v?v.inverseMass:0),F=(d?d.inverseInertia:0)+(v?v.inverseInertia:0),O=L+F,N,b,V,Y,W;if(I>0){var U=f.create();V=f.div(w,C),W=f.sub(v&&f.sub(v.position,v.positionPrev)||U,d&&f.sub(d.position,d.positionPrev)||U),Y=f.dot(V,W)}d&&!d.isStatic&&(b=d.inverseMass/L,d.constraintImpulse.x-=D.x*b,d.constraintImpulse.y-=D.y*b,d.position.x-=D.x*b,d.position.y-=D.y*b,I>0&&(d.positionPrev.x-=I*V.x*Y*b,d.positionPrev.y-=I*V.y*Y*b),N=f.cross(p,D)/O*u._torqueDampen*d.inverseInertia*(1-c.angularStiffness),d.constraintImpulse.angle-=N,d.angle-=N),v&&!v.isStatic&&(b=v.inverseMass/L,v.constraintImpulse.x+=D.x*b,v.constraintImpulse.y+=D.y*b,v.position.x+=D.x*b,v.position.y+=D.y*b,I>0&&(v.positionPrev.x+=I*V.x*Y*b,v.positionPrev.y+=I*V.y*Y*b),N=f.cross(m,D)/O*u._torqueDampen*v.inverseInertia*(1-c.angularStiffness),v.constraintImpulse.angle+=N,v.angle+=N)}}},u.postSolveAll=function(c){for(var r=0;r<c.length;r++){var d=c[r],v=d.constraintImpulse;if(!(d.isStatic||v.x===0&&v.y===0&&v.angle===0)){l.set(d,!1);for(var p=0;p<d.parts.length;p++){var m=d.parts[p];y.translate(m.vertices,v),p>0&&(m.position.x+=v.x,m.position.y+=v.y),v.angle!==0&&(y.rotate(m.vertices,v.angle,d.position),s.rotate(m.axes,v.angle),p>0&&f.rotateAbout(m.position,v.angle,d.position,m.position)),o.update(m.bounds,m.vertices,d.velocity)}v.angle*=u._warming,v.x*=u._warming,v.y*=u._warming}}},u.pointAWorld=function(c){return{x:(c.bodyA?c.bodyA.position.x:0)+(c.pointA?c.pointA.x:0),y:(c.bodyA?c.bodyA.position.y:0)+(c.pointA?c.pointA.y:0)}},u.pointBWorld=function(c){return{x:(c.bodyB?c.bodyB.position.x:0)+(c.pointB?c.pointB.x:0),y:(c.bodyB?c.bodyB.position.y:0)+(c.pointB?c.pointB.y:0)}},u.currentLength=function(c){var r=(c.bodyA?c.bodyA.position.x:0)+(c.pointA?c.pointA.x:0),d=(c.bodyA?c.bodyA.position.y:0)+(c.pointA?c.pointA.y:0),v=(c.bodyB?c.bodyB.position.x:0)+(c.pointB?c.pointB.x:0),p=(c.bodyB?c.bodyB.position.y:0)+(c.pointB?c.pointB.y:0),m=r-v,x=d-p;return Math.sqrt(m*m+x*x)}})()},53402:(h,S,e)=>{var u={};h.exports=u,function(){u._baseDelta=16.666666666666668,u._nextId=0,u._seed=0,u._nowStartTime=+new Date,u._warnedOnce={},u._decomp=null,u.extend=function(f,l){var o,s;typeof l=="boolean"?(o=2,s=l):(o=1,s=!0);for(var a=o;a<arguments.length;a++){var c=arguments[a];if(c)for(var r in c)s&&c[r]&&c[r].constructor===Object&&(!f[r]||f[r].constructor===Object)?(f[r]=f[r]||{},u.extend(f[r],s,c[r])):f[r]=c[r]}return f},u.clone=function(f,l){return u.extend({},l,f)},u.keys=function(f){if(Object.keys)return Object.keys(f);var l=[];for(var o in f)l.push(o);return l},u.values=function(f){var l=[];if(Object.keys){for(var o=Object.keys(f),s=0;s<o.length;s++)l.push(f[o[s]]);return l}for(var a in f)l.push(f[a]);return l},u.get=function(f,l,o,s){l=l.split(".").slice(o,s);for(var a=0;a<l.length;a+=1)f=f[l[a]];return f},u.set=function(f,l,o,s,a){var c=l.split(".").slice(s,a);return u.get(f,l,0,-1)[c[c.length-1]]=o,o},u.shuffle=function(f){for(var l=f.length-1;l>0;l--){var o=Math.floor(u.random()*(l+1)),s=f[l];f[l]=f[o],f[o]=s}return f},u.choose=function(f){return f[Math.floor(u.random()*f.length)]},u.isElement=function(f){return typeof HTMLElement<"u"?f instanceof HTMLElement:!!(f&&f.nodeType&&f.nodeName)},u.isArray=function(f){return Object.prototype.toString.call(f)==="[object Array]"},u.isFunction=function(f){return typeof f=="function"},u.isPlainObject=function(f){return typeof f=="object"&&f.constructor===Object},u.isString=function(f){return toString.call(f)==="[object String]"},u.clamp=function(f,l,o){return f<l?l:f>o?o:f},u.sign=function(f){return f<0?-1:1},u.now=function(){if(typeof window<"u"&&window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return Date.now?Date.now():new Date-u._nowStartTime},u.random=function(f,l){return f=typeof f<"u"?f:0,l=typeof l<"u"?l:1,f+y()*(l-f)};var y=function(){return u._seed=(u._seed*9301+49297)%233280,u._seed/233280};u.colorToNumber=function(f){return f=f.replace("#",""),f.length==3&&(f=f.charAt(0)+f.charAt(0)+f.charAt(1)+f.charAt(1)+f.charAt(2)+f.charAt(2)),parseInt(f,16)},u.logLevel=1,u.log=function(){console&&u.logLevel>0&&u.logLevel<=3&&console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},u.info=function(){console&&u.logLevel>0&&u.logLevel<=2&&console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},u.warn=function(){console&&u.logLevel>0&&u.logLevel<=3&&console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},u.warnOnce=function(){var f=Array.prototype.slice.call(arguments).join(" ");u._warnedOnce[f]||(u.warn(f),u._warnedOnce[f]=!0)},u.deprecated=function(f,l,o){f[l]=u.chain(function(){u.warnOnce(" deprecated ",o)},f[l])},u.nextId=function(){return u._nextId++},u.indexOf=function(f,l){if(f.indexOf)return f.indexOf(l);for(var o=0;o<f.length;o++)if(f[o]===l)return o;return-1},u.map=function(f,l){if(f.map)return f.map(l);for(var o=[],s=0;s<f.length;s+=1)o.push(l(f[s]));return o},u.topologicalSort=function(f){var l=[],o=[],s=[];for(var a in f)!o[a]&&!s[a]&&u._topologicalSort(a,o,s,f,l);return l},u._topologicalSort=function(f,l,o,s,a){var c=s[f]||[];o[f]=!0;for(var r=0;r<c.length;r+=1){var d=c[r];o[d]||l[d]||u._topologicalSort(d,l,o,s,a)}o[f]=!1,l[f]=!0,a.push(f)},u.chain=function(){for(var f=[],l=0;l<arguments.length;l+=1){var o=arguments[l];o._chained?f.push.apply(f,o._chained):f.push(o)}var s=function(){for(var a,c=new Array(arguments.length),r=0,d=arguments.length;r<d;r++)c[r]=arguments[r];for(r=0;r<f.length;r+=1){var v=f[r].apply(a,c);typeof v<"u"&&(a=v)}return a};return s._chained=f,s},u.chainPathBefore=function(f,l,o){return u.set(f,l,u.chain(o,u.get(f,l)))},u.chainPathAfter=function(f,l,o){return u.set(f,l,u.chain(u.get(f,l),o))},u.setDecomp=function(f){u._decomp=f},u.getDecomp=function(){var f=u._decomp;try{!f&&typeof window<"u"&&(f=window.decomp),!f&&typeof e.g<"u"&&(f=e.g.decomp)}catch{f=null}return f}}()},48413:(h,S,e)=>{var u={};h.exports=u;var y=e(53614),f=e(66272),l=e(81388),o=e(99561),s=e(35810),a=e(69351),c=e(48140),r=e(53402),d=e(22562);(function(){u._deltaMax=16.666666666666668,u.create=function(v){v=v||{};var p={positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},gravity:{x:0,y:1,scale:.001},timing:{timestamp:0,timeScale:1,lastDelta:0,lastElapsed:0,lastUpdatesPerFrame:0}},m=r.extend(p,v);return m.world=v.world||a.create({label:"World"}),m.pairs=v.pairs||o.create(),m.detector=v.detector||l.create(),m.detector.pairs=m.pairs,m.grid={buckets:[]},m.world.gravity=m.gravity,m.broadphase=m.grid,m.metrics={},m},u.update=function(v,p){var m=r.now(),x=v.world,E=v.detector,w=v.pairs,C=v.timing,P=C.timestamp,R;p>u._deltaMax&&r.warnOnce("Matter.Engine.update: delta argument is recommended to be less than or equal to",u._deltaMax.toFixed(3),"ms."),p=typeof p<"u"?p:r._baseDelta,p*=C.timeScale,C.timestamp+=p,C.lastDelta=p;var M={timestamp:C.timestamp,delta:p};s.trigger(v,"beforeUpdate",M);var I=a.allBodies(x),D=a.allConstraints(x),L=a.allComposites(x);for(x.isModified&&(l.setBodies(E,I),a.setModified(x,!1,!1,!0)),v.enableSleeping&&y.update(I,p),u._bodiesApplyGravity(I,v.gravity),u.wrap(I,L),u.attractors(I),p>0&&u._bodiesUpdate(I,p),s.trigger(v,"beforeSolve",M),c.preSolveAll(I),R=0;R<v.constraintIterations;R++)c.solveAll(D,p);c.postSolveAll(I);var F=l.collisions(E);o.update(w,F,P),v.enableSleeping&&y.afterCollisions(w.list),w.collisionStart.length>0&&s.trigger(v,"collisionStart",{pairs:w.collisionStart,timestamp:C.timestamp,delta:p});var O=r.clamp(20/v.positionIterations,0,1);for(f.preSolvePosition(w.list),R=0;R<v.positionIterations;R++)f.solvePosition(w.list,p,O);for(f.postSolvePosition(I),c.preSolveAll(I),R=0;R<v.constraintIterations;R++)c.solveAll(D,p);for(c.postSolveAll(I),f.preSolveVelocity(w.list),R=0;R<v.velocityIterations;R++)f.solveVelocity(w.list,p);return u._bodiesUpdateVelocities(I),w.collisionActive.length>0&&s.trigger(v,"collisionActive",{pairs:w.collisionActive,timestamp:C.timestamp,delta:p}),w.collisionEnd.length>0&&s.trigger(v,"collisionEnd",{pairs:w.collisionEnd,timestamp:C.timestamp,delta:p}),u._bodiesClearForces(I),s.trigger(v,"afterUpdate",M),v.timing.lastElapsed=r.now()-m,v},u.merge=function(v,p){if(r.extend(v,p),p.world){v.world=p.world,u.clear(v);for(var m=a.allBodies(v.world),x=0;x<m.length;x++){var E=m[x];y.set(E,!1),E.id=r.nextId()}}},u.clear=function(v){o.clear(v.pairs),l.clear(v.detector)},u._bodiesClearForces=function(v){for(var p=v.length,m=0;m<p;m++){var x=v[m];x.force.x=0,x.force.y=0,x.torque=0}},u._bodiesApplyGravity=function(v,p){var m=typeof p.scale<"u"?p.scale:.001,x=v.length;if(!(p.x===0&&p.y===0||m===0))for(var E=0;E<x;E++){var w=v[E];w.ignoreGravity||w.isStatic||w.isSleeping||(w.force.y+=w.mass*p.y*m,w.force.x+=w.mass*p.x*m)}},u._bodiesUpdate=function(v,p){for(var m=v.length,x=0;x<m;x++){var E=v[x];E.isStatic||E.isSleeping||d.update(E,p)}},u._bodiesUpdateVelocities=function(v){for(var p=v.length,m=0;m<p;m++)d.updateVelocities(v[m])},u.wrap=function(v,p){for(var m=0;m<v.length;m+=1){var x=v[m];x.wrapBounds!==null&&d.wrap(x,x.wrapBounds)}for(m=0;m<p.length;m+=1){var E=p[m];E.wrapBounds!==null&&a.wrap(E,E.wrapBounds)}},u.attractors=function(v){for(var p=0;p<v.length;p++){var m=v[p],x=m.attractors;if(x&&x.length>0)for(var E=0;E<v.length;E++){var w=v[E];if(p!==E)for(var C=0;C<x.length;C++){var P=x[C],R=P;r.isFunction(P)&&(R=P(m,w)),R&&d.applyForce(w,w.position,R)}}}}})()},35810:(h,S,e)=>{var u={};h.exports=u;var y=e(53402);(function(){u.on=function(f,l,o){for(var s=l.split(" "),a,c=0;c<s.length;c++)a=s[c],f.events=f.events||{},f.events[a]=f.events[a]||[],f.events[a].push(o);return o},u.off=function(f,l,o){if(!l){f.events={};return}typeof l=="function"&&(o=l,l=y.keys(f.events).join(" "));for(var s=l.split(" "),a=0;a<s.length;a++){var c=f.events[s[a]],r=[];if(o&&c)for(var d=0;d<c.length;d++)c[d]!==o&&r.push(c[d]);f.events[s[a]]=r}},u.trigger=function(f,l,o){var s,a,c,r,d=f.events;if(d&&y.keys(d).length>0){o||(o={}),s=l.split(" ");for(var v=0;v<s.length;v++)if(a=s[v],c=d[a],c){r=y.clone(o,!1),r.name=a,r.source=f;for(var p=0;p<c.length;p++)c[p].apply(f,[r])}}}})()},6790:(h,S,e)=>{var u={};h.exports=u;var y=e(73832),f=e(53402);(function(){u.name="matter-js",u.version="0.20.0",u.uses=[],u.used=[],u.use=function(){y.use(u,Array.prototype.slice.call(arguments))},u.before=function(l,o){return l=l.replace(/^Matter./,""),f.chainPathBefore(u,l,o)},u.after=function(l,o){return l=l.replace(/^Matter./,""),f.chainPathAfter(u,l,o)}})()},73832:(h,S,e)=>{var u={};h.exports=u;var y=e(53402);(function(){u._registry={},u.register=function(f){if(u.isPlugin(f)||y.warn("Plugin.register:",u.toString(f),"does not implement all required fields."),f.name in u._registry){var l=u._registry[f.name],o=u.versionParse(f.version).number,s=u.versionParse(l.version).number;o>s?(y.warn("Plugin.register:",u.toString(l),"was upgraded to",u.toString(f)),u._registry[f.name]=f):o<s?y.warn("Plugin.register:",u.toString(l),"can not be downgraded to",u.toString(f)):f!==l&&y.warn("Plugin.register:",u.toString(f),"is already registered to different plugin object")}else u._registry[f.name]=f;return f},u.resolve=function(f){return u._registry[u.dependencyParse(f).name]},u.toString=function(f){return typeof f=="string"?f:(f.name||"anonymous")+"@"+(f.version||f.range||"0.0.0")},u.isPlugin=function(f){return f&&f.name&&f.version&&f.install},u.isUsed=function(f,l){return f.used.indexOf(l)>-1},u.isFor=function(f,l){var o=f.for&&u.dependencyParse(f.for);return!f.for||l.name===o.name&&u.versionSatisfies(l.version,o.range)},u.use=function(f,l){if(f.uses=(f.uses||[]).concat(l||[]),f.uses.length===0){y.warn("Plugin.use:",u.toString(f),"does not specify any dependencies to install.");return}for(var o=u.dependencies(f),s=y.topologicalSort(o),a=[],c=0;c<s.length;c+=1)if(s[c]!==f.name){var r=u.resolve(s[c]);if(!r){a.push(" "+s[c]);continue}u.isUsed(f,r.name)||(u.isFor(r,f)||(y.warn("Plugin.use:",u.toString(r),"is for",r.for,"but installed on",u.toString(f)+"."),r._warned=!0),r.install?r.install(f):(y.warn("Plugin.use:",u.toString(r),"does not specify an install function."),r._warned=!0),r._warned?(a.push(" "+u.toString(r)),delete r._warned):a.push(" "+u.toString(r)),f.used.push(r.name))}a.length>0&&!r.silent&&y.info(a.join("  "))},u.dependencies=function(f,l){var o=u.dependencyParse(f),s=o.name;if(l=l||{},!(s in l)){f=u.resolve(f)||f,l[s]=y.map(f.uses||[],function(c){u.isPlugin(c)&&u.register(c);var r=u.dependencyParse(c),d=u.resolve(c);return d&&!u.versionSatisfies(d.version,r.range)?(y.warn("Plugin.dependencies:",u.toString(d),"does not satisfy",u.toString(r),"used by",u.toString(o)+"."),d._warned=!0,f._warned=!0):d||(y.warn("Plugin.dependencies:",u.toString(c),"used by",u.toString(o),"could not be resolved."),f._warned=!0),r.name});for(var a=0;a<l[s].length;a+=1)u.dependencies(l[s][a],l);return l}},u.dependencyParse=function(f){if(y.isString(f)){var l=/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-+]+)?))?$/;return l.test(f)||y.warn("Plugin.dependencyParse:",f,"is not a valid dependency string."),{name:f.split("@")[0],range:f.split("@")[1]||"*"}}return{name:f.name,range:f.range||f.version}},u.versionParse=function(f){var l=/^(\*)|(\^|~|>=|>)?\s*((\d+)\.(\d+)\.(\d+))(-[0-9A-Za-z-+]+)?$/;l.test(f)||y.warn("Plugin.versionParse:",f,"is not a valid version or range.");var o=l.exec(f),s=Number(o[4]),a=Number(o[5]),c=Number(o[6]);return{isRange:!!(o[1]||o[2]),version:o[3],range:f,operator:o[1]||o[2]||"",major:s,minor:a,patch:c,parts:[s,a,c],prerelease:o[7],number:s*1e8+a*1e4+c}},u.versionSatisfies=function(f,l){l=l||"*";var o=u.versionParse(l),s=u.versionParse(f);if(o.isRange){if(o.operator==="*"||f==="*")return!0;if(o.operator===">")return s.number>o.number;if(o.operator===">=")return s.number>=o.number;if(o.operator==="~")return s.major===o.major&&s.minor===o.minor&&s.patch>=o.patch;if(o.operator==="^")return o.major>0?s.major===o.major&&s.number>=o.number:o.minor>0?s.minor===o.minor&&s.patch>=o.patch:s.patch===o.patch}return f===l||f==="*"}})()},13037:(h,S,e)=>{var u={};h.exports=u;var y=e(35810),f=e(48413),l=e(53402);(function(){u._maxFrameDelta=66.66666666666667,u._frameDeltaFallback=16.666666666666668,u._timeBufferMargin=1.5,u._elapsedNextEstimate=1,u._smoothingLowerBound=.1,u._smoothingUpperBound=.9,u.create=function(s){var a={delta:16.666666666666668,frameDelta:null,frameDeltaSmoothing:!0,frameDeltaSnapping:!0,frameDeltaHistory:[],frameDeltaHistorySize:100,frameRequestId:null,timeBuffer:0,timeLastTick:null,maxUpdates:null,maxFrameTime:33.333333333333336,lastUpdatesDeferred:0,enabled:!0},c=l.extend(a,s);return c.fps=0,c},u.run=function(s,a){return s.timeBuffer=u._frameDeltaFallback,function c(r){s.frameRequestId=u._onNextFrame(s,c),r&&s.enabled&&u.tick(s,a,r)}(),s},u.tick=function(s,a,c){var r=l.now(),d=s.delta,v=0,p=c-s.timeLastTick;if((!p||!s.timeLastTick||p>Math.max(u._maxFrameDelta,s.maxFrameTime))&&(p=s.frameDelta||u._frameDeltaFallback),s.frameDeltaSmoothing){s.frameDeltaHistory.push(p),s.frameDeltaHistory=s.frameDeltaHistory.slice(-s.frameDeltaHistorySize);var m=s.frameDeltaHistory.slice(0).sort(),x=s.frameDeltaHistory.slice(m.length*u._smoothingLowerBound,m.length*u._smoothingUpperBound),E=o(x);p=E||p}s.frameDeltaSnapping&&(p=1e3/Math.round(1e3/p)),s.frameDelta=p,s.timeLastTick=c,s.timeBuffer+=s.frameDelta,s.timeBuffer=l.clamp(s.timeBuffer,0,s.frameDelta+d*u._timeBufferMargin),s.lastUpdatesDeferred=0;var w=s.maxUpdates||Math.ceil(s.maxFrameTime/d),C={timestamp:a.timing.timestamp};y.trigger(s,"beforeTick",C),y.trigger(s,"tick",C);for(var P=l.now();d>0&&s.timeBuffer>=d*u._timeBufferMargin;){y.trigger(s,"beforeUpdate",C),f.update(a,d),y.trigger(s,"afterUpdate",C),s.timeBuffer-=d,v+=1;var R=l.now()-r,M=l.now()-P,I=R+u._elapsedNextEstimate*M/v;if(v>=w||I>s.maxFrameTime){s.lastUpdatesDeferred=Math.round(Math.max(0,s.timeBuffer/d-u._timeBufferMargin));break}}a.timing.lastUpdatesPerFrame=v,y.trigger(s,"afterTick",C),s.frameDeltaHistory.length>=100&&(s.lastUpdatesDeferred&&Math.round(s.frameDelta/d)>w?l.warnOnce("Matter.Runner: runner reached runner.maxUpdates, see docs."):s.lastUpdatesDeferred&&l.warnOnce("Matter.Runner: runner reached runner.maxFrameTime, see docs."),typeof s.isFixed<"u"&&l.warnOnce("Matter.Runner: runner.isFixed is now redundant, see docs."),(s.deltaMin||s.deltaMax)&&l.warnOnce("Matter.Runner: runner.deltaMin and runner.deltaMax were removed, see docs."),s.fps!==0&&l.warnOnce("Matter.Runner: runner.fps was replaced by runner.delta, see docs."))},u.stop=function(s){u._cancelNextFrame(s)},u._onNextFrame=function(s,a){if(typeof window<"u"&&window.requestAnimationFrame)s.frameRequestId=window.requestAnimationFrame(a);else throw new Error("Matter.Runner: missing required global window.requestAnimationFrame.");return s.frameRequestId},u._cancelNextFrame=function(s){if(typeof window<"u"&&window.cancelAnimationFrame)window.cancelAnimationFrame(s.frameRequestId);else throw new Error("Matter.Runner: missing required global window.cancelAnimationFrame.")};var o=function(s){for(var a=0,c=s.length,r=0;r<c;r+=1)a+=s[r];return a/c||0};u._mean=o})()},53614:(h,S,e)=>{var u={};h.exports=u;var y=e(22562),f=e(35810),l=e(53402);(function(){u._motionWakeThreshold=.18,u._motionSleepThreshold=.08,u._minBias=.9,u.update=function(o,s){for(var a=s/l._baseDelta,c=u._motionSleepThreshold,r=0;r<o.length;r++){var d=o[r],v=y.getSpeed(d),p=y.getAngularSpeed(d),m=v*v+p*p;if(d.force.x!==0||d.force.y!==0){u.set(d,!1);continue}var x=Math.min(d.motion,m),E=Math.max(d.motion,m);d.motion=u._minBias*x+(1-u._minBias)*E,d.sleepThreshold>0&&d.motion<c?(d.sleepCounter+=1,d.sleepCounter>=d.sleepThreshold/a&&u.set(d,!0)):d.sleepCounter>0&&(d.sleepCounter-=1)}},u.afterCollisions=function(o){for(var s=u._motionSleepThreshold,a=0;a<o.length;a++){var c=o[a];if(c.isActive){var r=c.collision,d=r.bodyA.parent,v=r.bodyB.parent;if(!(d.isSleeping&&v.isSleeping||d.isStatic||v.isStatic)&&(d.isSleeping||v.isSleeping)){var p=d.isSleeping&&!d.isStatic?d:v,m=p===d?v:d;!p.isStatic&&m.motion>s&&u.set(p,!1)}}}},u.set=function(o,s){var a=o.isSleeping;s?(o.isSleeping=!0,o.sleepCounter=o.sleepThreshold,o.positionImpulse.x=0,o.positionImpulse.y=0,o.positionPrev.x=o.position.x,o.positionPrev.y=o.position.y,o.anglePrev=o.angle,o.speed=0,o.angularSpeed=0,o.motion=0,a||f.trigger(o,"sleepStart")):(o.isSleeping=!1,o.sleepCounter=0,a&&f.trigger(o,"sleepEnd"))}})()},66280:(h,S,e)=>{var u={};h.exports=u;var y=e(41598),f=e(53402),l=e(22562),o=e(15647),s=e(31725);(function(){u.rectangle=function(a,c,r,d,v){v=v||{};var p={label:"Rectangle Body",position:{x:a,y:c},vertices:y.fromPath("L 0 0 L "+r+" 0 L "+r+" "+d+" L 0 "+d)};if(v.chamfer){var m=v.chamfer;p.vertices=y.chamfer(p.vertices,m.radius,m.quality,m.qualityMin,m.qualityMax),delete v.chamfer}return l.create(f.extend({},p,v))},u.trapezoid=function(a,c,r,d,v,p){p=p||{},v>=1&&f.warn("Bodies.trapezoid: slope parameter must be < 1."),v*=.5;var m=(1-v*2)*r,x=r*v,E=x+m,w=E+x,C;v<.5?C="L 0 0 L "+x+" "+-d+" L "+E+" "+-d+" L "+w+" 0":C="L 0 0 L "+E+" "+-d+" L "+w+" 0";var P={label:"Trapezoid Body",position:{x:a,y:c},vertices:y.fromPath(C)};if(p.chamfer){var R=p.chamfer;P.vertices=y.chamfer(P.vertices,R.radius,R.quality,R.qualityMin,R.qualityMax),delete p.chamfer}return l.create(f.extend({},P,p))},u.circle=function(a,c,r,d,v){d=d||{};var p={label:"Circle Body",circleRadius:r};v=v||25;var m=Math.ceil(Math.max(10,Math.min(v,r)));return m%2===1&&(m+=1),u.polygon(a,c,m,r,f.extend({},p,d))},u.polygon=function(a,c,r,d,v){if(v=v||{},r<3)return u.circle(a,c,d,v);for(var p=2*Math.PI/r,m="",x=p*.5,E=0;E<r;E+=1){var w=x+E*p,C=Math.cos(w)*d,P=Math.sin(w)*d;m+="L "+C.toFixed(3)+" "+P.toFixed(3)+" "}var R={label:"Polygon Body",position:{x:a,y:c},vertices:y.fromPath(m)};if(v.chamfer){var M=v.chamfer;R.vertices=y.chamfer(R.vertices,M.radius,M.quality,M.qualityMin,M.qualityMax),delete v.chamfer}return l.create(f.extend({},R,v))},u.fromVertices=function(a,c,r,d,v,p,m,x){var E=f.getDecomp(),w,C,P,R,M,I,D,L,F,O,N;for(w=!!(E&&E.quickDecomp),d=d||{},P=[],v=typeof v<"u"?v:!1,p=typeof p<"u"?p:.01,m=typeof m<"u"?m:10,x=typeof x<"u"?x:.01,f.isArray(r[0])||(r=[r]),O=0;O<r.length;O+=1)if(I=r[O],R=y.isConvex(I),M=!R,M&&!w&&f.warnOnce("Bodies.fromVertices: Install the 'poly-decomp' library and use Common.setDecomp or provide 'decomp' as a global to decompose concave vertices."),R||!w)R?I=y.clockwiseSort(I):I=y.hull(I),P.push({position:{x:a,y:c},vertices:I});else{var b=I.map(function(k){return[k.x,k.y]});E.makeCCW(b),p!==!1&&E.removeCollinearPoints(b,p),x!==!1&&E.removeDuplicatePoints&&E.removeDuplicatePoints(b,x);var V=E.quickDecomp(b);for(D=0;D<V.length;D++){var Y=V[D],W=Y.map(function(k){return{x:k[0],y:k[1]}});m>0&&y.area(W)<m||P.push({position:y.centre(W),vertices:W})}}for(D=0;D<P.length;D++)P[D]=l.create(f.extend(P[D],d));if(v){var U=5;for(D=0;D<P.length;D++){var z=P[D];for(L=D+1;L<P.length;L++){var B=P[L];if(o.overlaps(z.bounds,B.bounds)){var X=z.vertices,G=B.vertices;for(F=0;F<z.vertices.length;F++)for(N=0;N<B.vertices.length;N++){var H=s.magnitudeSquared(s.sub(X[(F+1)%X.length],G[N])),$=s.magnitudeSquared(s.sub(X[F],G[(N+1)%G.length]));H<U&&$<U&&(X[F].isInternal=!0,G[N].isInternal=!0)}}}}}return P.length>1?(C=l.create(f.extend({parts:P.slice(0)},d)),l.setPosition(C,{x:a,y:c}),C):P[0]},u.flagCoincidentParts=function(a,c){c===void 0&&(c=5);for(var r=0;r<a.length;r++)for(var d=a[r],v=r+1;v<a.length;v++){var p=a[v];if(o.overlaps(d.bounds,p.bounds))for(var m=d.vertices,x=p.vertices,E=0;E<d.vertices.length;E++)for(var w=0;w<p.vertices.length;w++){var C=s.magnitudeSquared(s.sub(m[(E+1)%m.length],x[w])),P=s.magnitudeSquared(s.sub(m[E],x[(w+1)%x.length]));C<c&&P<c&&(m[E].isInternal=!0,x[w].isInternal=!0)}}return a}})()},74116:(h,S,e)=>{var u={};h.exports=u;var y=e(69351),f=e(48140),l=e(53402),o=e(22562),s=e(66280);(function(){u.stack=function(a,c,r,d,v,p,m){for(var x=y.create({label:"Stack"}),E=a,w=c,C,P=0,R=0;R<d;R++){for(var M=0,I=0;I<r;I++){var D=m(E,w,I,R,C,P);if(D){var L=D.bounds.max.y-D.bounds.min.y,F=D.bounds.max.x-D.bounds.min.x;L>M&&(M=L),o.translate(D,{x:F*.5,y:L*.5}),E=D.bounds.max.x+v,y.addBody(x,D),C=D,P+=1}else E+=v}w+=M+p,E=a}return x},u.chain=function(a,c,r,d,v,p){for(var m=a.bodies,x=1;x<m.length;x++){var E=m[x-1],w=m[x],C=E.bounds.max.y-E.bounds.min.y,P=E.bounds.max.x-E.bounds.min.x,R=w.bounds.max.y-w.bounds.min.y,M=w.bounds.max.x-w.bounds.min.x,I={bodyA:E,pointA:{x:P*c,y:C*r},bodyB:w,pointB:{x:M*d,y:R*v}},D=l.extend(I,p);y.addConstraint(a,f.create(D))}return a.label+=" Chain",a},u.mesh=function(a,c,r,d,v){var p=a.bodies,m,x,E,w,C;for(m=0;m<r;m++){for(x=1;x<c;x++)E=p[x-1+m*c],w=p[x+m*c],y.addConstraint(a,f.create(l.extend({bodyA:E,bodyB:w},v)));if(m>0)for(x=0;x<c;x++)E=p[x+(m-1)*c],w=p[x+m*c],y.addConstraint(a,f.create(l.extend({bodyA:E,bodyB:w},v))),d&&x>0&&(C=p[x-1+(m-1)*c],y.addConstraint(a,f.create(l.extend({bodyA:C,bodyB:w},v)))),d&&x<c-1&&(C=p[x+1+(m-1)*c],y.addConstraint(a,f.create(l.extend({bodyA:C,bodyB:w},v))))}return a.label+=" Mesh",a},u.pyramid=function(a,c,r,d,v,p,m){return u.stack(a,c,r,d,v,p,function(x,E,w,C,P,R){var M=Math.min(d,Math.ceil(r/2)),I=P?P.bounds.max.x-P.bounds.min.x:0;if(!(C>M)){C=M-C;var D=C,L=r-1-C;if(!(w<D||w>L)){R===1&&o.translate(P,{x:(w+(r%2===1?1:-1))*I,y:0});var F=P?w*I:0;return m(a+F+w*v,E,w,C,P,R)}}})},u.newtonsCradle=function(a,c,r,d,v){for(var p=y.create({label:"Newtons Cradle"}),m=0;m<r;m++){var x=1.9,E=s.circle(a+m*(d*x),c+v,d,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),w=f.create({pointA:{x:a+m*(d*x),y:c},bodyB:E});y.addBody(p,E),y.addConstraint(p,w)}return p},u.car=function(a,c,r,d,v){var p=o.nextGroup(!0),m=20,x=-r*.5+m,E=r*.5-m,w=0,C=y.create({label:"Car"}),P=s.rectangle(a,c,r,d,{collisionFilter:{group:p},chamfer:{radius:d*.5},density:2e-4}),R=s.circle(a+x,c+w,v,{collisionFilter:{group:p},friction:.8}),M=s.circle(a+E,c+w,v,{collisionFilter:{group:p},friction:.8}),I=f.create({bodyB:P,pointB:{x,y:w},bodyA:R,stiffness:1,length:0}),D=f.create({bodyB:P,pointB:{x:E,y:w},bodyA:M,stiffness:1,length:0});return y.addBody(C,P),y.addBody(C,R),y.addBody(C,M),y.addConstraint(C,I),y.addConstraint(C,D),C},u.softBody=function(a,c,r,d,v,p,m,x,E,w){E=l.extend({inertia:1/0},E),w=l.extend({stiffness:.2,render:{type:"line",anchors:!1}},w);var C=u.stack(a,c,r,d,v,p,function(P,R){return s.circle(P,R,x,E)});return u.mesh(C,r,d,m,w),C.label="Soft Body",C}})()},66615:(h,S,e)=>{var u={};h.exports=u;var y=e(31725),f=e(53402);(function(){u.fromVertices=function(l){for(var o={},s=0;s<l.length;s++){var a=(s+1)%l.length,c=y.normalise({x:l[a].y-l[s].y,y:l[s].x-l[a].x}),r=c.y===0?1/0:c.x/c.y;r=r.toFixed(3).toString(),o[r]=c}return f.values(o)},u.rotate=function(l,o){if(o!==0)for(var s=Math.cos(o),a=Math.sin(o),c=0;c<l.length;c++){var r=l[c],d;d=r.x*s-r.y*a,r.y=r.x*a+r.y*s,r.x=d}}})()},15647:h=>{var S={};h.exports=S,function(){S.create=function(e){var u={min:{x:0,y:0},max:{x:0,y:0}};return e&&S.update(u,e),u},S.update=function(e,u,y){e.min.x=1/0,e.max.x=-1/0,e.min.y=1/0,e.max.y=-1/0;for(var f=0;f<u.length;f++){var l=u[f];l.x>e.max.x&&(e.max.x=l.x),l.x<e.min.x&&(e.min.x=l.x),l.y>e.max.y&&(e.max.y=l.y),l.y<e.min.y&&(e.min.y=l.y)}y&&(y.x>0?e.max.x+=y.x:e.min.x+=y.x,y.y>0?e.max.y+=y.y:e.min.y+=y.y)},S.contains=function(e,u){return u.x>=e.min.x&&u.x<=e.max.x&&u.y>=e.min.y&&u.y<=e.max.y},S.overlaps=function(e,u){return e.min.x<=u.max.x&&e.max.x>=u.min.x&&e.max.y>=u.min.y&&e.min.y<=u.max.y},S.translate=function(e,u){e.min.x+=u.x,e.max.x+=u.x,e.min.y+=u.y,e.max.y+=u.y},S.shift=function(e,u){var y=e.max.x-e.min.x,f=e.max.y-e.min.y;e.min.x=u.x,e.max.x=u.x+y,e.min.y=u.y,e.max.y=u.y+f},S.wrap=function(e,u,y){var f=null,l=null;if(typeof u.min.x<"u"&&typeof u.max.x<"u"&&(e.min.x>u.max.x?f=u.min.x-e.max.x:e.max.x<u.min.x&&(f=u.max.x-e.min.x)),typeof u.min.y<"u"&&typeof u.max.y<"u"&&(e.min.y>u.max.y?l=u.min.y-e.max.y:e.max.y<u.min.y&&(l=u.max.y-e.min.y)),f!==null||l!==null)return{x:f||0,y:l||0}}}()},74058:(h,S,e)=>{var u={};h.exports=u,e(15647);var y=e(53402);(function(){u.pathToVertices=function(f,l){typeof window<"u"&&!("SVGPathSeg"in window)&&y.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var o,s,a,c,r,d,v,p,m,x,E=[],w,C,P=0,R=0,M=0;l=l||15;var I=function(L,F,O){var N=O%2===1&&O>1;if(!m||L!=m.x||F!=m.y){m&&N?(w=m.x,C=m.y):(w=0,C=0);var b={x:w+L,y:C+F};(N||!m)&&(m=b),E.push(b),R=w+L,M=C+F}},D=function(L){var F=L.pathSegTypeAsLetter.toUpperCase();if(F!=="Z"){switch(F){case"M":case"L":case"T":case"C":case"S":case"Q":R=L.x,M=L.y;break;case"H":R=L.x;break;case"V":M=L.y;break}I(R,M,L.pathSegType)}};for(u._svgPathToAbsolute(f),a=f.getTotalLength(),d=[],o=0;o<f.pathSegList.numberOfItems;o+=1)d.push(f.pathSegList.getItem(o));for(v=d.concat();P<a;){if(x=f.getPathSegAtLength(P),r=d[x],r!=p){for(;v.length&&v[0]!=r;)D(v.shift());p=r}switch(r.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":c=f.getPointAtLength(P),I(c.x,c.y,0);break}P+=l}for(o=0,s=v.length;o<s;++o)D(v[o]);return E},u._svgPathToAbsolute=function(f){for(var l,o,s,a,c,r,d=f.pathSegList,v=0,p=0,m=d.numberOfItems,x=0;x<m;++x){var E=d.getItem(x),w=E.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(w))"x"in E&&(v=E.x),"y"in E&&(p=E.y);else switch("x1"in E&&(s=v+E.x1),"x2"in E&&(c=v+E.x2),"y1"in E&&(a=p+E.y1),"y2"in E&&(r=p+E.y2),"x"in E&&(v+=E.x),"y"in E&&(p+=E.y),w){case"m":d.replaceItem(f.createSVGPathSegMovetoAbs(v,p),x);break;case"l":d.replaceItem(f.createSVGPathSegLinetoAbs(v,p),x);break;case"h":d.replaceItem(f.createSVGPathSegLinetoHorizontalAbs(v),x);break;case"v":d.replaceItem(f.createSVGPathSegLinetoVerticalAbs(p),x);break;case"c":d.replaceItem(f.createSVGPathSegCurvetoCubicAbs(v,p,s,a,c,r),x);break;case"s":d.replaceItem(f.createSVGPathSegCurvetoCubicSmoothAbs(v,p,c,r),x);break;case"q":d.replaceItem(f.createSVGPathSegCurvetoQuadraticAbs(v,p,s,a),x);break;case"t":d.replaceItem(f.createSVGPathSegCurvetoQuadraticSmoothAbs(v,p),x);break;case"a":d.replaceItem(f.createSVGPathSegArcAbs(v,p,E.r1,E.r2,E.angle,E.largeArcFlag,E.sweepFlag),x);break;case"z":case"Z":v=l,p=o;break}(w=="M"||w=="m")&&(l=v,o=p)}}})()},31725:h=>{var S={};h.exports=S,function(){S.create=function(e,u){return{x:e||0,y:u||0}},S.clone=function(e){return{x:e.x,y:e.y}},S.magnitude=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},S.magnitudeSquared=function(e){return e.x*e.x+e.y*e.y},S.rotate=function(e,u,y){var f=Math.cos(u),l=Math.sin(u);y||(y={});var o=e.x*f-e.y*l;return y.y=e.x*l+e.y*f,y.x=o,y},S.rotateAbout=function(e,u,y,f){var l=Math.cos(u),o=Math.sin(u);f||(f={});var s=y.x+((e.x-y.x)*l-(e.y-y.y)*o);return f.y=y.y+((e.x-y.x)*o+(e.y-y.y)*l),f.x=s,f},S.normalise=function(e){var u=S.magnitude(e);return u===0?{x:0,y:0}:{x:e.x/u,y:e.y/u}},S.dot=function(e,u){return e.x*u.x+e.y*u.y},S.cross=function(e,u){return e.x*u.y-e.y*u.x},S.cross3=function(e,u,y){return(u.x-e.x)*(y.y-e.y)-(u.y-e.y)*(y.x-e.x)},S.add=function(e,u,y){return y||(y={}),y.x=e.x+u.x,y.y=e.y+u.y,y},S.sub=function(e,u,y){return y||(y={}),y.x=e.x-u.x,y.y=e.y-u.y,y},S.mult=function(e,u){return{x:e.x*u,y:e.y*u}},S.div=function(e,u){return{x:e.x/u,y:e.y/u}},S.perp=function(e,u){return u=u===!0?-1:1,{x:u*-e.y,y:u*e.x}},S.neg=function(e){return{x:-e.x,y:-e.y}},S.angle=function(e,u){return Math.atan2(u.y-e.y,u.x-e.x)},S._temp=[S.create(),S.create(),S.create(),S.create(),S.create(),S.create()]}()},41598:(h,S,e)=>{var u={};h.exports=u;var y=e(31725),f=e(53402);(function(){u.create=function(l,o){for(var s=[],a=0;a<l.length;a++){var c=l[a],r={x:c.x,y:c.y,index:a,body:o,isInternal:!1};s.push(r)}return s},u.fromPath=function(l,o){var s=/L?\s*([-\d.e]+)[\s,]*([-\d.e]+)*/ig,a=[];return l.replace(s,function(c,r,d){a.push({x:parseFloat(r),y:parseFloat(d)})}),u.create(a,o)},u.centre=function(l){for(var o=u.area(l,!0),s={x:0,y:0},a,c,r,d=0;d<l.length;d++)r=(d+1)%l.length,a=y.cross(l[d],l[r]),c=y.mult(y.add(l[d],l[r]),a),s=y.add(s,c);return y.div(s,6*o)},u.mean=function(l){for(var o={x:0,y:0},s=0;s<l.length;s++)o.x+=l[s].x,o.y+=l[s].y;return y.div(o,l.length)},u.area=function(l,o){for(var s=0,a=l.length-1,c=0;c<l.length;c++)s+=(l[a].x-l[c].x)*(l[a].y+l[c].y),a=c;return o?s/2:Math.abs(s)/2},u.inertia=function(l,o){for(var s=0,a=0,c=l,r,d,v=0;v<c.length;v++)d=(v+1)%c.length,r=Math.abs(y.cross(c[d],c[v])),s+=r*(y.dot(c[d],c[d])+y.dot(c[d],c[v])+y.dot(c[v],c[v])),a+=r;return o/6*(s/a)},u.translate=function(l,o,s){s=typeof s<"u"?s:1;var a=l.length,c=o.x*s,r=o.y*s,d;for(d=0;d<a;d++)l[d].x+=c,l[d].y+=r;return l},u.rotate=function(l,o,s){if(o!==0){var a=Math.cos(o),c=Math.sin(o),r=s.x,d=s.y,v=l.length,p,m,x,E;for(E=0;E<v;E++)p=l[E],m=p.x-r,x=p.y-d,p.x=r+(m*a-x*c),p.y=d+(m*c+x*a);return l}},u.contains=function(l,o){for(var s=o.x,a=o.y,c=l.length,r=l[c-1],d,v=0;v<c;v++){if(d=l[v],(s-r.x)*(d.y-r.y)+(a-r.y)*(r.x-d.x)>0)return!1;r=d}return!0},u.scale=function(l,o,s,a){if(o===1&&s===1)return l;a=a||u.centre(l);for(var c,r,d=0;d<l.length;d++)c=l[d],r=y.sub(c,a),l[d].x=a.x+r.x*o,l[d].y=a.y+r.y*s;return l},u.chamfer=function(l,o,s,a,c){typeof o=="number"?o=[o]:o=o||[8],s=typeof s<"u"?s:-1,a=a||2,c=c||14;for(var r=[],d=0;d<l.length;d++){var v=l[d-1>=0?d-1:l.length-1],p=l[d],m=l[(d+1)%l.length],x=o[d<o.length?d:o.length-1];if(x===0){r.push(p);continue}var E=y.normalise({x:p.y-v.y,y:v.x-p.x}),w=y.normalise({x:m.y-p.y,y:p.x-m.x}),C=Math.sqrt(2*Math.pow(x,2)),P=y.mult(f.clone(E),x),R=y.normalise(y.mult(y.add(E,w),.5)),M=y.sub(p,y.mult(R,C)),I=s;s===-1&&(I=Math.pow(x,.32)*1.75),I=f.clamp(I,a,c),I%2===1&&(I+=1);for(var D=Math.acos(y.dot(E,w)),L=D/I,F=0;F<I;F++)r.push(y.add(y.rotate(P,L*F),M))}return r},u.clockwiseSort=function(l){var o=u.mean(l);return l.sort(function(s,a){return y.angle(o,s)-y.angle(o,a)}),l},u.isConvex=function(l){var o=0,s=l.length,a,c,r,d;if(s<3)return null;for(a=0;a<s;a++)if(c=(a+1)%s,r=(a+2)%s,d=(l[c].x-l[a].x)*(l[r].y-l[c].y),d-=(l[c].y-l[a].y)*(l[r].x-l[c].x),d<0?o|=1:d>0&&(o|=2),o===3)return!1;return o!==0?!0:null},u.hull=function(l){var o=[],s=[],a,c;for(l=l.slice(0),l.sort(function(r,d){var v=r.x-d.x;return v!==0?v:r.y-d.y}),c=0;c<l.length;c+=1){for(a=l[c];s.length>=2&&y.cross3(s[s.length-2],s[s.length-1],a)<=0;)s.pop();s.push(a)}for(c=l.length-1;c>=0;c-=1){for(a=l[c];o.length>=2&&y.cross3(o[o.length-2],o[o.length-1],a)<=0;)o.pop();o.push(a)}return o.pop(),s.pop(),o.concat(s)}})()},55973:h=>{/**
 * @author       Stefan Hedman <schteppe@gmail.com> (http://steffe.se)
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={decomp:D,quickDecomp:N,isSimple:F,removeCollinearPoints:b,removeDuplicatePoints:V,makeCCW:m};function S(U,z,B){B=B||0;var X=[0,0],G,H,$,k,j,Q,J;return G=U[1][1]-U[0][1],H=U[0][0]-U[1][0],$=G*U[0][0]+H*U[0][1],k=z[1][1]-z[0][1],j=z[0][0]-z[1][0],Q=k*z[0][0]+j*z[0][1],J=G*j-k*H,Y(J,0,B)||(X[0]=(j*$-H*Q)/J,X[1]=(G*Q-k*$)/J),X}function e(U,z,B,X){var G=z[0]-U[0],H=z[1]-U[1],$=X[0]-B[0],k=X[1]-B[1];if($*H-k*G===0)return!1;var j=(G*(B[1]-U[1])+H*(U[0]-B[0]))/($*H-k*G),Q=($*(U[1]-B[1])+k*(B[0]-U[0]))/(k*G-$*H);return j>=0&&j<=1&&Q>=0&&Q<=1}function u(U,z,B){return(z[0]-U[0])*(B[1]-U[1])-(B[0]-U[0])*(z[1]-U[1])}function y(U,z,B){return u(U,z,B)>0}function f(U,z,B){return u(U,z,B)>=0}function l(U,z,B){return u(U,z,B)<0}function o(U,z,B){return u(U,z,B)<=0}var s=[],a=[];function c(U,z,B,X){if(X){var G=s,H=a;G[0]=z[0]-U[0],G[1]=z[1]-U[1],H[0]=B[0]-z[0],H[1]=B[1]-z[1];var $=G[0]*H[0]+G[1]*H[1],k=Math.sqrt(G[0]*G[0]+G[1]*G[1]),j=Math.sqrt(H[0]*H[0]+H[1]*H[1]),Q=Math.acos($/(k*j));return Q<X}else return u(U,z,B)===0}function r(U,z){var B=z[0]-U[0],X=z[1]-U[1];return B*B+X*X}function d(U,z){var B=U.length;return U[z<0?z%B+B:z%B]}function v(U){U.length=0}function p(U,z,B,X){for(var G=B;G<X;G++)U.push(z[G])}function m(U){for(var z=0,B=U,X=1;X<U.length;++X)(B[X][1]<B[z][1]||B[X][1]===B[z][1]&&B[X][0]>B[z][0])&&(z=X);return y(d(U,z-1),d(U,z),d(U,z+1))?!1:(x(U),!0)}function x(U){for(var z=[],B=U.length,X=0;X!==B;X++)z.push(U.pop());for(var X=0;X!==B;X++)U[X]=z[X]}function E(U,z){return l(d(U,z-1),d(U,z),d(U,z+1))}var w=[],C=[];function P(U,z,B){var X,G,H=w,$=C;if(f(d(U,z+1),d(U,z),d(U,B))&&o(d(U,z-1),d(U,z),d(U,B)))return!1;G=r(d(U,z),d(U,B));for(var k=0;k!==U.length;++k)if(!((k+1)%U.length===z||k===z)&&f(d(U,z),d(U,B),d(U,k+1))&&o(d(U,z),d(U,B),d(U,k))&&(H[0]=d(U,z),H[1]=d(U,B),$[0]=d(U,k),$[1]=d(U,k+1),X=S(H,$),r(d(U,z),X)<G))return!1;return!0}function R(U,z,B){for(var X=0;X!==U.length;++X)if(!(X===z||X===B||(X+1)%U.length===z||(X+1)%U.length===B)&&e(d(U,z),d(U,B),d(U,X),d(U,X+1)))return!1;return!0}function M(U,z,B,X){var G=X||[];if(v(G),z<B)for(var H=z;H<=B;H++)G.push(U[H]);else{for(var H=0;H<=B;H++)G.push(U[H]);for(var H=z;H<U.length;H++)G.push(U[H])}return G}function I(U){for(var z=[],B=[],X=[],G=[],H=Number.MAX_VALUE,$=0;$<U.length;++$)if(E(U,$)){for(var k=0;k<U.length;++k)if(P(U,$,k)){B=I(M(U,$,k,G)),X=I(M(U,k,$,G));for(var j=0;j<X.length;j++)B.push(X[j]);B.length<H&&(z=B,H=B.length,z.push([d(U,$),d(U,k)]))}}return z}function D(U){var z=I(U);return z.length>0?L(U,z):[U]}function L(U,z){if(z.length===0)return[U];if(z instanceof Array&&z.length&&z[0]instanceof Array&&z[0].length===2&&z[0][0]instanceof Array){for(var B=[U],X=0;X<z.length;X++)for(var G=z[X],H=0;H<B.length;H++){var $=B[H],k=L($,G);if(k){B.splice(H,1),B.push(k[0],k[1]);break}}return B}else{var G=z,X=U.indexOf(G[0]),H=U.indexOf(G[1]);return X!==-1&&H!==-1?[M(U,X,H),M(U,H,X)]:!1}}function F(U){var z=U,B;for(B=0;B<z.length-1;B++)for(var X=0;X<B-1;X++)if(e(z[B],z[B+1],z[X],z[X+1]))return!1;for(B=1;B<z.length-2;B++)if(e(z[0],z[z.length-1],z[B],z[B+1]))return!1;return!0}function O(U,z,B,X,G){G=G||0;var H=z[1]-U[1],$=U[0]-z[0],k=H*U[0]+$*U[1],j=X[1]-B[1],Q=B[0]-X[0],J=j*B[0]+Q*B[1],q=H*Q-j*$;return Y(q,0,G)?[0,0]:[(Q*k-$*J)/q,(H*J-j*k)/q]}function N(U,z,B,X,G,H,$){H=H||100,$=$||0,G=G||25,z=typeof z<"u"?z:[],B=B||[],X=X||[];var k=[0,0],j=[0,0],Q=[0,0],J=0,q=0,Z=0,it=0,rt=0,et=0,ct=0,pt=[],mt=[],nt=U,lt=U;if(lt.length<3)return z;if($++,$>H)return console.warn("quickDecomp: max level ("+H+") reached."),z;for(var ht=0;ht<U.length;++ht)if(E(nt,ht)){B.push(nt[ht]),J=q=Number.MAX_VALUE;for(var Tt=0;Tt<U.length;++Tt)y(d(nt,ht-1),d(nt,ht),d(nt,Tt))&&o(d(nt,ht-1),d(nt,ht),d(nt,Tt-1))&&(Q=O(d(nt,ht-1),d(nt,ht),d(nt,Tt),d(nt,Tt-1)),l(d(nt,ht+1),d(nt,ht),Q)&&(Z=r(nt[ht],Q),Z<q&&(q=Z,j=Q,et=Tt))),y(d(nt,ht+1),d(nt,ht),d(nt,Tt+1))&&o(d(nt,ht+1),d(nt,ht),d(nt,Tt))&&(Q=O(d(nt,ht+1),d(nt,ht),d(nt,Tt),d(nt,Tt+1)),y(d(nt,ht-1),d(nt,ht),Q)&&(Z=r(nt[ht],Q),Z<J&&(J=Z,k=Q,rt=Tt)));if(et===(rt+1)%U.length)Q[0]=(j[0]+k[0])/2,Q[1]=(j[1]+k[1])/2,X.push(Q),ht<rt?(p(pt,nt,ht,rt+1),pt.push(Q),mt.push(Q),et!==0&&p(mt,nt,et,nt.length),p(mt,nt,0,ht+1)):(ht!==0&&p(pt,nt,ht,nt.length),p(pt,nt,0,rt+1),pt.push(Q),mt.push(Q),p(mt,nt,et,ht+1));else{if(et>rt&&(rt+=U.length),it=Number.MAX_VALUE,rt<et)return z;for(var Tt=et;Tt<=rt;++Tt)f(d(nt,ht-1),d(nt,ht),d(nt,Tt))&&o(d(nt,ht+1),d(nt,ht),d(nt,Tt))&&(Z=r(d(nt,ht),d(nt,Tt)),Z<it&&R(nt,ht,Tt)&&(it=Z,ct=Tt%U.length));ht<ct?(p(pt,nt,ht,ct+1),ct!==0&&p(mt,nt,ct,lt.length),p(mt,nt,0,ht+1)):(ht!==0&&p(pt,nt,ht,lt.length),p(pt,nt,0,ct+1),p(mt,nt,ct,ht+1))}return pt.length<mt.length?(N(pt,z,B,X,G,H,$),N(mt,z,B,X,G,H,$)):(N(mt,z,B,X,G,H,$),N(pt,z,B,X,G,H,$)),z}return z.push(U),z}function b(U,z){for(var B=0,X=U.length-1;U.length>3&&X>=0;--X)c(d(U,X-1),d(U,X),d(U,X+1),z)&&(U.splice(X%U.length,1),B++);return B}function V(U,z){for(var B=U.length-1;B>=1;--B)for(var X=U[B],G=B-1;G>=0;--G)if(W(X,U[G],z)){U.splice(B,1);continue}}function Y(U,z,B){return B=B||0,Math.abs(U-z)<=B}function W(U,z,B){return Y(U[0],z[0],B)&&Y(U[1],z[1],B)}},52018:(h,S,e)=>{/**
* @author       Richard Davey <rich@phaser.io>
* @copyright    2013-2025 Phaser Studio Inc.
* @license      {@link https://github.com/photonstorm/phaser3-plugin-template/blob/master/LICENSE|MIT License}
*/var u=e(83419),y=new u({initialize:function(l){this.pluginManager=l,this.game=l.game},init:function(){},start:function(){},stop:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});h.exports=y},42363:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={Global:["game","anims","cache","plugins","registry","scale","sound","textures","renderer"],CoreScene:["EventEmitter","CameraManager","GameObjectCreator","GameObjectFactory","ScenePlugin","DisplayList","UpdateList"],DefaultScene:["Clock","DataManagerPlugin","InputPlugin","Loader","TweenManager","LightsPlugin"]};h.exports=S},37277:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={},e={},u={};u.register=function(y,f,l,o){o===void 0&&(o=!1),S[y]={plugin:f,mapping:l,custom:o}},u.registerCustom=function(y,f,l,o){e[y]={plugin:f,mapping:l,data:o}},u.hasCore=function(y){return S.hasOwnProperty(y)},u.hasCustom=function(y){return e.hasOwnProperty(y)},u.getCore=function(y){return S[y]},u.getCustom=function(y){return e[y]},u.getCustomClass=function(y){return e.hasOwnProperty(y)?e[y].plugin:null},u.remove=function(y){S.hasOwnProperty(y)&&delete S[y]},u.removeCustom=function(y){e.hasOwnProperty(y)&&delete e[y]},u.destroyCorePlugins=function(){for(var y in S)S.hasOwnProperty(y)&&delete S[y]},u.destroyCustomPlugins=function(){for(var y in e)e.hasOwnProperty(y)&&delete e[y]},h.exports=u},77332:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(8443),f=e(50792),l=e(74099),o=e(44603),s=e(39429),a=e(95540),c=e(37277),r=e(72905),d=e(8054),v=new u({Extends:f,initialize:function(m){f.call(this),this.game=m,this.plugins=[],this.scenePlugins=[],this._pendingGlobal=[],this._pendingScene=[],m.isBooted||m.config.renderType===d.HEADLESS?this.boot():m.events.once(y.BOOT,this.boot,this)},boot:function(){var p,m,x,E,w,C,P,R=this.game.config,M=R.installGlobalPlugins;for(M=M.concat(this._pendingGlobal),p=0;p<M.length;p++)m=M[p],x=a(m,"key",null),E=a(m,"plugin",null),w=a(m,"start",!1),C=a(m,"mapping",null),P=a(m,"data",null),x&&(E?this.install(x,E,w,C,P):console.warn("Missing `plugin` for key: "+x));for(M=R.installScenePlugins,M=M.concat(this._pendingScene),p=0;p<M.length;p++)m=M[p],x=a(m,"key",null),E=a(m,"plugin",null),C=a(m,"mapping",null),x&&(E?this.installScenePlugin(x,E,C):console.warn("Missing `plugin` for key: "+x));this._pendingGlobal=[],this._pendingScene=[],this.game.events.once(y.DESTROY,this.destroy,this)},addToScene:function(p,m,x){var E,w,C,P=this.game,R=p.scene,M=p.settings.map,I=p.settings.isBooted;for(E=0;E<m.length;E++)w=m[E],P[w]?(p[w]=P[w],M.hasOwnProperty(w)&&(R[M[w]]=p[w])):w==="game"&&M.hasOwnProperty(w)&&(R[M[w]]=P);for(var D=0;D<x.length;D++)for(C=x[D],E=0;E<C.length;E++)if(w=C[E],!!c.hasCore(w)){var L=c.getCore(w),F=L.mapping,O=new L.plugin(R,this,F);p[F]=O,L.custom?R[F]=O:M.hasOwnProperty(F)&&(R[M[F]]=O),I&&O.boot()}for(C=this.plugins,E=0;E<C.length;E++){var N=C[E];N.mapping&&(R[N.mapping]=N.plugin)}},getDefaultScenePlugins:function(){var p=this.game.config.defaultPlugins;return p=p.concat(this.scenePlugins),p},installScenePlugin:function(p,m,x,E,w){if(w===void 0&&(w=!1),typeof m!="function"){console.warn("Invalid Scene Plugin: "+p);return}if(c.hasCore(p)||c.register(p,m,x,!0),this.scenePlugins.indexOf(p)===-1)this.scenePlugins.push(p);else if(!w&&c.hasCore(p)){console.warn("Scene Plugin key in use: "+p);return}if(E){var C=new m(E,this,p);E.sys[p]=C,x&&x!==""&&(E[x]=C),C.boot()}},install:function(p,m,x,E,w){if(x===void 0&&(x=!1),E===void 0&&(E=null),w===void 0&&(w=null),typeof m!="function")return console.warn("Invalid Plugin: "+p),null;if(c.hasCustom(p))return console.warn("Plugin key in use: "+p),null;if(E!==null&&(x=!0),!this.game.isBooted)this._pendingGlobal.push({key:p,plugin:m,start:x,mapping:E,data:w});else if(c.registerCustom(p,m,E,w),x)return this.start(p);return null},getIndex:function(p){for(var m=this.plugins,x=0;x<m.length;x++){var E=m[x];if(E.key===p)return x}return-1},getEntry:function(p){var m=this.getIndex(p);if(m!==-1)return this.plugins[m]},isActive:function(p){var m=this.getEntry(p);return m&&m.active},start:function(p,m){m===void 0&&(m=p);var x=this.getEntry(m);return x&&!x.active?(x.active=!0,x.plugin.start()):x||(x=this.createEntry(p,m)),x?x.plugin:null},createEntry:function(p,m){var x=c.getCustom(p);if(x){var E=new x.plugin(this);x={key:m,plugin:E,active:!0,mapping:x.mapping,data:x.data},this.plugins.push(x),E.init(x.data),E.start()}return x},stop:function(p){var m=this.getEntry(p);return m&&m.active&&(m.active=!1,m.plugin.stop()),this},get:function(p,m){m===void 0&&(m=!0);var x=this.getEntry(p);if(x)return x.plugin;var E=this.getClass(p);return E&&m?(x=this.createEntry(p,p),x?x.plugin:null):E||null},getClass:function(p){return c.getCustomClass(p)},removeGlobalPlugin:function(p){var m=this.getEntry(p);m&&r(this.plugins,m),c.removeCustom(p)},removeScenePlugin:function(p){r(this.scenePlugins,p),c.remove(p)},registerGameObject:function(p,m,x){return m&&s.register(p,m),x&&o.register(p,x),this},removeGameObject:function(p,m,x){return m===void 0&&(m=!0),x===void 0&&(x=!0),m&&s.remove(p),x&&o.remove(p),this},registerFileType:function(p,m,x){l.register(p,m),x&&x.sys.load&&(x.sys.load[p]=m)},destroy:function(){for(var p=0;p<this.plugins.length;p++)this.plugins[p].plugin.destroy();c.destroyCustomPlugins(),this.game.noReturn&&c.destroyCorePlugins(),this.game=null,this.plugins=[],this.scenePlugins=[]}});h.exports=v},45145:(h,S,e)=>{/**
* @author       Richard Davey <rich@phaser.io>
* @copyright    2013-2025 Phaser Studio Inc.
* @license      {@link https://github.com/photonstorm/phaser3-plugin-template/blob/master/LICENSE|MIT License}
*/var u=e(52018),y=e(83419),f=e(44594),l=new y({Extends:u,initialize:function(s,a,c){u.call(this,a),this.scene=s,this.systems=s.sys,this.pluginKey=c,s.sys.events.once(f.BOOT,this.boot,this)},boot:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});h.exports=l},18922:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={BasePlugin:e(52018),DefaultPlugins:e(42363),PluginCache:e(37277),PluginManager:e(77332),ScenePlugin:e(45145)}},63595:()=>{typeof HTMLVideoElement<"u"&&!("requestVideoFrameCallback"in HTMLVideoElement.prototype)&&"getVideoPlaybackQuality"in HTMLVideoElement.prototype&&(HTMLVideoElement.prototype._rvfcpolyfillmap={},HTMLVideoElement.prototype.requestVideoFrameCallback=function(h){const S=performance.now(),e=this.getVideoPlaybackQuality(),u=this.mozPresentedFrames||this.mozPaintedFrames||e.totalVideoFrames-e.droppedVideoFrames,y=(f,l)=>{const o=this.getVideoPlaybackQuality(),s=this.mozPresentedFrames||this.mozPaintedFrames||o.totalVideoFrames-o.droppedVideoFrames;if(s>u){const a=this.mozFrameDelay||o.totalFrameDelay-e.totalFrameDelay||0,c=l-f;h(l,{presentationTime:l+a*1e3,expectedDisplayTime:l+c,width:this.videoWidth,height:this.videoHeight,mediaTime:Math.max(0,this.currentTime||0)+c/1e3,presentedFrames:s,processingDuration:a}),delete this._rvfcpolyfillmap[S]}else this._rvfcpolyfillmap[S]=requestAnimationFrame(a=>y(l,a))};return this._rvfcpolyfillmap[S]=requestAnimationFrame(f=>y(S,f)),S},HTMLVideoElement.prototype.cancelVideoFrameCallback=function(h){cancelAnimationFrame(this._rvfcpolyfillmap[h]),delete this._rvfcpolyfillmap[h]})},10312:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={SKIP_CHECK:-1,NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16,ERASE:17,SOURCE_IN:18,SOURCE_OUT:19,SOURCE_ATOP:20,DESTINATION_OVER:21,DESTINATION_IN:22,DESTINATION_OUT:23,DESTINATION_ATOP:24,LIGHTER:25,COPY:26,XOR:27}},29795:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={DEFAULT:0,LINEAR:0,NEAREST:1};h.exports=S},68627:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(19715),y=e(32880),f=e(83419),l=e(8054),o=e(50792),s=e(92503),a=e(56373),c=e(97480),r=e(69442),d=e(8443),v=e(61340),p=new f({Extends:o,initialize:function(x){o.call(this);var E=x.config;this.config={clearBeforeRender:E.clearBeforeRender,backgroundColor:E.backgroundColor,antialias:E.antialias,roundPixels:E.roundPixels,transparent:E.transparent},this.game=x,this.type=l.CANVAS,this.drawCount=0,this.width=0,this.height=0,this.gameCanvas=x.canvas;var w={alpha:E.transparent,desynchronized:E.desynchronized,willReadFrequently:!1};this.gameContext=E.context?E.context:this.gameCanvas.getContext("2d",w),this.currentContext=this.gameContext,this.antialias=E.antialias,this.blendModes=a(),this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92},this._tempMatrix1=new v,this._tempMatrix2=new v,this._tempMatrix3=new v,this.isBooted=!1,this.init()},init:function(){var m=this.game;m.events.once(d.BOOT,function(){var x=this.config;if(!x.transparent){var E=this.gameContext,w=this.gameCanvas;E.fillStyle=x.backgroundColor.rgba,E.fillRect(0,0,w.width,w.height)}},this),m.textures.once(r.READY,this.boot,this)},boot:function(){var m=this.game,x=m.scale.baseSize;this.width=x.width,this.height=x.height,this.isBooted=!0,m.scale.on(c.RESIZE,this.onResize,this),this.resize(x.width,x.height)},onResize:function(m,x){(x.width!==this.width||x.height!==this.height)&&this.resize(x.width,x.height)},resize:function(m,x){this.width=m,this.height=x,this.emit(s.RESIZE,m,x)},resetTransform:function(){this.currentContext.setTransform(1,0,0,1,0,0)},setBlendMode:function(m){return this.currentContext.globalCompositeOperation=m,this},setContext:function(m){return this.currentContext=m||this.gameContext,this},setAlpha:function(m){return this.currentContext.globalAlpha=m,this},preRender:function(){var m=this.gameContext,x=this.config,E=this.width,w=this.height;m.globalAlpha=1,m.globalCompositeOperation="source-over",m.setTransform(1,0,0,1,0,0),this.emit(s.PRE_RENDER_CLEAR),x.clearBeforeRender&&(m.clearRect(0,0,E,w),x.transparent||(m.fillStyle=x.backgroundColor.rgba,m.fillRect(0,0,E,w))),m.save(),this.drawCount=0,this.emit(s.PRE_RENDER)},render:function(m,x,E){var w=x.length;this.emit(s.RENDER,m,E);var C=E.x,P=E.y,R=E.width,M=E.height,I=E.renderToTexture?E.context:m.sys.context;I.save(),this.game.scene.customViewports&&(I.beginPath(),I.rect(C,P,R,M),I.clip()),E.emit(u.PRE_RENDER,E),this.currentContext=I;var D=E.mask;D&&D.preRenderCanvas(this,null,E._maskCamera),E.transparent||(I.fillStyle=E.backgroundColor.rgba,I.fillRect(C,P,R,M)),I.globalAlpha=E.alpha,I.globalCompositeOperation="source-over",this.drawCount+=w,E.renderToTexture&&E.emit(u.PRE_RENDER,E),E.matrix.copyToContext(I);for(var L=0;L<w;L++){var F=x[L];F.mask&&F.mask.preRenderCanvas(this,F,E),F.renderCanvas(this,F,E),F.mask&&F.mask.postRenderCanvas(this,F,E)}I.setTransform(1,0,0,1,0,0),I.globalCompositeOperation="source-over",I.globalAlpha=1,E.flashEffect.postRenderCanvas(I),E.fadeEffect.postRenderCanvas(I),E.dirty=!1,D&&D.postRenderCanvas(this),I.restore(),E.renderToTexture&&(E.emit(u.POST_RENDER,E),E.renderToGame&&m.sys.context.drawImage(E.canvas,C,P)),E.emit(u.POST_RENDER,E)},postRender:function(){var m=this.gameContext;m.restore(),this.emit(s.POST_RENDER);var x=this.snapshotState;x.callback&&(y(this.gameCanvas,x),x.callback=null)},snapshotCanvas:function(m,x,E,w,C,P,R,M,I){E===void 0&&(E=!1),this.snapshotArea(w,C,P,R,x,M,I);var D=this.snapshotState;return D.getPixel=E,y(m,D),D.callback=null,this},snapshot:function(m,x,E){return this.snapshotArea(0,0,this.gameCanvas.width,this.gameCanvas.height,m,x,E)},snapshotArea:function(m,x,E,w,C,P,R){var M=this.snapshotState;return M.callback=C,M.type=P,M.encoder=R,M.getPixel=!1,M.x=m,M.y=x,M.width=Math.min(E,this.gameCanvas.width),M.height=Math.min(w,this.gameCanvas.height),this},snapshotPixel:function(m,x,E){return this.snapshotArea(m,x,1,1,E),this.snapshotState.getPixel=!0,this},batchSprite:function(m,x,E,w){var C=E.alpha*m.alpha;if(C!==0){var P=this.currentContext,R=this._tempMatrix1,M=this._tempMatrix2,I=x.canvasData,D=I.x,L=I.y,F=x.cutWidth,O=x.cutHeight,N=x.customPivot,b=x.source.resolution,V=m.displayOriginX,Y=m.displayOriginY,W=-V+x.x,U=-Y+x.y;if(m.isCropped){var z=m._crop;(z.flipX!==m.flipX||z.flipY!==m.flipY)&&x.updateCropUVs(z,m.flipX,m.flipY),F=z.cw,O=z.ch,D=z.cx,L=z.cy,W=-V+z.x,U=-Y+z.y,m.flipX&&(W>=0?W=-(W+F):W<0&&(W=Math.abs(W)-F)),m.flipY&&(U>=0?U=-(U+O):U<0&&(U=Math.abs(U)-O))}var B=1,X=1;m.flipX&&(N||(W+=-x.realWidth+V*2),B=-1),m.flipY&&(N||(U+=-x.realHeight+Y*2),X=-1);var G=m.x,H=m.y;if(E.roundPixels&&(G=Math.floor(G),H=Math.floor(H)),M.applyITRS(G,H,m.rotation,m.scaleX*B,m.scaleY*X),R.copyFrom(E.matrix),w?(R.multiplyWithOffset(w,-E.scrollX*m.scrollFactorX,-E.scrollY*m.scrollFactorY),M.e=G,M.f=H):(M.e-=E.scrollX*m.scrollFactorX,M.f-=E.scrollY*m.scrollFactorY),R.multiply(M),E.renderRoundPixels&&(R.e=Math.floor(R.e+.5),R.f=Math.floor(R.f+.5)),P.save(),R.setToContext(P),P.globalCompositeOperation=this.blendModes[m.blendMode],P.globalAlpha=C,P.imageSmoothingEnabled=!x.source.scaleMode,m.mask&&m.mask.preRenderCanvas(this,m,E),F>0&&O>0){var $=F/b,k=O/b;E.roundPixels&&(W=Math.floor(W+.5),U=Math.floor(U+.5),$+=.5,k+=.5),P.drawImage(x.source.image,D,L,F,O,W,U,$,k)}m.mask&&m.mask.postRenderCanvas(this,m,E),P.restore()}},destroy:function(){this.removeAllListeners(),this.game=null,this.gameCanvas=null,this.gameContext=null}});h.exports=p},55830:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={CanvasRenderer:e(68627),GetBlendModes:e(56373),SetTransform:e(20926)}},56373:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(10312),y=e(89289),f=function(){var l=[],o=y.supportNewBlendModes,s="source-over";return l[u.NORMAL]=s,l[u.ADD]="lighter",l[u.MULTIPLY]=o?"multiply":s,l[u.SCREEN]=o?"screen":s,l[u.OVERLAY]=o?"overlay":s,l[u.DARKEN]=o?"darken":s,l[u.LIGHTEN]=o?"lighten":s,l[u.COLOR_DODGE]=o?"color-dodge":s,l[u.COLOR_BURN]=o?"color-burn":s,l[u.HARD_LIGHT]=o?"hard-light":s,l[u.SOFT_LIGHT]=o?"soft-light":s,l[u.DIFFERENCE]=o?"difference":s,l[u.EXCLUSION]=o?"exclusion":s,l[u.HUE]=o?"hue":s,l[u.SATURATION]=o?"saturation":s,l[u.COLOR]=o?"color":s,l[u.LUMINOSITY]=o?"luminosity":s,l[u.ERASE]="destination-out",l[u.SOURCE_IN]="source-in",l[u.SOURCE_OUT]="source-out",l[u.SOURCE_ATOP]="source-atop",l[u.DESTINATION_OVER]="destination-over",l[u.DESTINATION_IN]="destination-in",l[u.DESTINATION_OUT]="destination-out",l[u.DESTINATION_ATOP]="destination-atop",l[u.LIGHTER]="lighter",l[u.COPY]="copy",l[u.XOR]="xor",l};h.exports=f},20926:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(91296),y=function(f,l,o,s,a){var c=s.alpha*o.alpha;if(c<=0)return!1;var r=u(o,s,a).calc;return l.globalCompositeOperation=f.blendModes[o.blendMode],l.globalAlpha=c,l.save(),r.setToContext(l),l.imageSmoothingEnabled=o.frame?!o.frame.source.scaleMode:f.antialias,!0};h.exports=y},63899:h=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="losewebgl"},6119:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="postrender"},48070:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="prerender"},15640:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="render"},8912:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="resize"},87124:h=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="restorewebgl"},92503:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={LOSE_WEBGL:e(63899),POST_RENDER:e(6119),PRE_RENDER:e(48070),RENDER:e(15640),RESIZE:e(8912),RESTORE_WEBGL:e(87124)}},36909:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={Events:e(92503),Snapshot:e(89966)},h.exports.Canvas=e(55830),h.exports.WebGL=e(4159)},32880:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(27919),y=e(40987),f=e(95540),l=function(o,s){var a=f(s,"callback"),c=f(s,"type","image/png"),r=f(s,"encoder",.92),d=Math.abs(Math.round(f(s,"x",0))),v=Math.abs(Math.round(f(s,"y",0))),p=Math.floor(f(s,"width",o.width)),m=Math.floor(f(s,"height",o.height)),x=f(s,"getPixel",!1);if(x){var E=o.getContext("2d",{willReadFrequently:!1}),w=E.getImageData(d,v,1,1),C=w.data;a.call(null,new y(C[0],C[1],C[2],C[3]))}else if(d!==0||v!==0||p!==o.width||m!==o.height){var P=u.createWebGL(this,p,m),R=P.getContext("2d",{willReadFrequently:!0});p>0&&m>0&&R.drawImage(o,d,v,p,m,0,0,p,m);var M=new Image;M.onerror=function(){a.call(null),u.remove(P)},M.onload=function(){a.call(null,M),u.remove(P)},M.src=P.toDataURL(c,r)}else{var I=new Image;I.onerror=function(){a.call(null)},I.onload=function(){a.call(null,I)},I.src=o.toDataURL(c,r)}};h.exports=l},88815:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(27919),y=e(40987),f=e(95540),l=function(o,s){var a=o,c=f(s,"callback"),r=f(s,"type","image/png"),d=f(s,"encoder",.92),v=Math.abs(Math.round(f(s,"x",0))),p=Math.abs(Math.round(f(s,"y",0))),m=f(s,"getPixel",!1),x=f(s,"isFramebuffer",!1),E=x?f(s,"bufferWidth",1):a.drawingBufferWidth,w=x?f(s,"bufferHeight",1):a.drawingBufferHeight;if(m){var C=new Uint8Array(4),P=x?p:w-p;a.readPixels(v,P,1,1,a.RGBA,a.UNSIGNED_BYTE,C),c.call(null,new y(C[0],C[1],C[2],C[3]))}else{var R=Math.floor(f(s,"width",E)),M=Math.floor(f(s,"height",w)),I=R*M*4,D=new Uint8Array(I);a.readPixels(v,w-p-M,R,M,a.RGBA,a.UNSIGNED_BYTE,D);for(var L=u.createWebGL(this,R,M),F=L.getContext("2d",{willReadFrequently:!0}),O=F.getImageData(0,0,R,M),N=O.data,b=0;b<M;b++)for(var V=0;V<R;V++){var Y=((M-b-1)*R+V)*4,W=x?I-(b*R+(R-V))*4:(b*R+V)*4;N[W+0]=D[Y+0],N[W+1]=D[Y+1],N[W+2]=D[Y+2],N[W+3]=D[Y+3]}F.putImageData(O,0,0);var U=new Image;U.onerror=function(){c.call(null),u.remove(L)},U.onload=function(){c.call(null,U),u.remove(L)},U.src=L.toDataURL(r,d)}};h.exports=l},89966:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={Canvas:e(32880),WebGL:e(88815)}},7530:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(36060),f=e(90330),l=e(82264),o=e(95540),s=e(32302),a=e(63448),c=e(31302),r=e(58918),d=e(14811),v=e(92651),p=e(96569),m=e(56527),x=e(57516),E=e(43439),w=e(81041),C=e(12385),P=e(7589),R=e(95428),M=e(72905),I=new u({initialize:function(L){this.game=L.game,this.renderer=L,this.classes=new f([[y.UTILITY_PIPELINE,P],[y.MULTI_PIPELINE,x],[y.BITMAPMASK_PIPELINE,c],[y.SINGLE_PIPELINE,C],[y.ROPE_PIPELINE,w],[y.LIGHT_PIPELINE,p],[y.POINTLIGHT_PIPELINE,E],[y.MOBILE_PIPELINE,m]]),this.postPipelineClasses=new f,this.pipelines=new f,this.postPipelineInstances=[],this.default=null,this.current=null,this.previous=null,this.MULTI_PIPELINE=null,this.BITMAPMASK_PIPELINE=null,this.UTILITY_PIPELINE=null,this.MOBILE_PIPELINE=null,this.FX_PIPELINE=null,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2,this.renderTargets=[],this.maxDimension=0,this.frameInc=32,this.targetIndex=0},boot:function(D,L,F){var O=this.renderer,N=this.renderTargets;this.frameInc=Math.floor(o(D,"frameInc",32));var b=O.width,V=O.height,Y=this.game.config.disablePreFX,W=this.game.config.disablePostFX;if(W||this.postPipelineClasses.setAll([[String(d.BARREL),r.Barrel],[String(d.BLOOM),r.Bloom],[String(d.BLUR),r.Blur],[String(d.BOKEH),r.Bokeh],[String(d.CIRCLE),r.Circle],[String(d.COLOR_MATRIX),r.ColorMatrix],[String(d.DISPLACEMENT),r.Displacement],[String(d.GLOW),r.Glow],[String(d.GRADIENT),r.Gradient],[String(d.PIXELATE),r.Pixelate],[String(d.SHADOW),r.Shadow],[String(d.SHINE),r.Shine],[String(d.VIGNETTE),r.Vignette],[String(d.WIPE),r.Wipe]]),!Y){this.classes.set(y.FX_PIPELINE,v);for(var U=Math.min(b,V),z=Math.ceil(U/this.frameInc),B=1;B<z;B++){var X=B*this.frameInc;N.push(new s(O,X,X)),N.push(new s(O,X,X)),N.push(new s(O,X,X)),this.maxDimension=X}N.push(new s(O,b,V,1,0,!0,!0)),N.push(new s(O,b,V,1,0,!0,!0)),N.push(new s(O,b,V,1,0,!0,!0))}var G,H,$=this,k=this.game;if(this.classes.each(function(Q,J){G=$.add(Q,new J({game:k})),Q===y.UTILITY_PIPELINE&&($.UTILITY_PIPELINE=G,$.fullFrame1=G.fullFrame1,$.fullFrame2=G.fullFrame2,$.halfFrame1=G.halfFrame1,$.halfFrame2=G.halfFrame2)}),this.MULTI_PIPELINE=this.get(y.MULTI_PIPELINE),this.BITMAPMASK_PIPELINE=this.get(y.BITMAPMASK_PIPELINE),this.MOBILE_PIPELINE=this.get(y.MOBILE_PIPELINE),Y||(this.FX_PIPELINE=this.get(y.FX_PIPELINE)),D)for(H in D){var j=D[H];G=new j(k),G.name=H,G.isPostFX?this.postPipelineClasses.set(H,j):this.has(H)||(this.classes.set(H,j),this.add(H,G))}this.default=this.get(L),F&&!l.os.desktop&&(this.default=this.MOBILE_PIPELINE)},setDefaultPipeline:function(D){var L=this.get(D);return L&&(this.default=L),L},add:function(D,L){if(L.isPostFX){console.warn(D+" is a Post Pipeline. Use `addPostPipeline` instead");return}var F=this.pipelines,O=this.renderer;return F.has(D)?console.warn("Pipeline exists: "+D):(L.name=D,L.manager=this,F.set(D,L)),L.hasBooted||L.boot(),O.width!==0&&O.height!==0&&!L.isPreFX&&L.resize(O.width,O.height),L},addPostPipeline:function(D,L){this.postPipelineClasses.has(D)||this.postPipelineClasses.set(D,L)},flush:function(){this.current&&this.current.flush()},has:function(D){var L=this.pipelines;return typeof D=="string"?L.has(D):!!L.contains(D)},get:function(D){var L=this.pipelines;if(typeof D=="string")return L.get(D);if(L.contains(D))return D},getPostPipeline:function(D,L,F){var O=this.postPipelineClasses,N,b="",V=typeof D;if(V==="string"||V==="number"?(N=O.get(D),b=D):V==="function"?(O.contains(D)&&(N=D),b=D.name):V==="object"&&(N=O.get(D.name),b=D.name),N){var Y=new N(this.game,F);return Y.name=b,L&&(Y.gameObject=L),this.postPipelineInstances.push(Y),Y}},removePostPipeline:function(D){M(this.postPipelineInstances,D)},remove:function(D,L,F){L===void 0&&(L=!0),F===void 0&&(F=!0),this.pipelines.delete(D),L&&this.classes.delete(D),F&&this.postPipelineClasses.delete(D)},set:function(D,L,F){if(!D.isPostFX)return this.isCurrent(D,F)||(this.flush(),this.current&&this.current.unbind(),this.current=D,D.bind(F)),D.updateProjectionMatrix(),D.onBind(L),D},preBatch:function(D){if(D.hasPostPipeline){this.flush();for(var L=D.postPipelines,F=L.length-1;F>=0;F--){var O=L[F];O.active&&O.preBatch(D)}}},postBatch:function(D){if(D.hasPostPipeline){this.flush();for(var L=D.postPipelines,F=0;F<L.length;F++){var O=L[F];O.active&&O.postBatch(D)}}},preBatchCamera:function(D){if(D.hasPostPipeline){this.flush();for(var L=D.postPipelines,F=L.length-1;F>=0;F--){var O=L[F];O.active&&O.preBatch(D)}}},postBatchCamera:function(D){if(D.hasPostPipeline){this.flush();for(var L=D.postPipelines,F=0;F<L.length;F++){var O=L[F];O.active&&O.postBatch(D)}}},isCurrent:function(D,L){var F=this.renderer,O=this.current;return O&&!L&&(L=O.currentShader),!(O!==D||L.program!==F.currentProgram)},copyFrame:function(D,L,F,O,N){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyFrame(D,L,F,O,N),this},copyToGame:function(D){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyToGame(D),this},drawFrame:function(D,L,F,O){return this.setUtility(this.UTILITY_PIPELINE.colorMatrixShader).drawFrame(D,L,F,O),this},blendFrames:function(D,L,F,O,N){return this.setUtility(this.UTILITY_PIPELINE.linearShader).blendFrames(D,L,F,O,N),this},blendFramesAdditive:function(D,L,F,O,N){return this.setUtility(this.UTILITY_PIPELINE.addShader).blendFramesAdditive(D,L,F,O,N),this},clearFrame:function(D,L){return this.UTILITY_PIPELINE.clearFrame(D,L),this},blitFrame:function(D,L,F,O,N,b){return this.setUtility(this.UTILITY_PIPELINE.copyShader).blitFrame(D,L,F,O,N,b),this},copyFrameRect:function(D,L,F,O,N,b,V,Y){return this.UTILITY_PIPELINE.copyFrameRect(D,L,F,O,N,b,V,Y),this},forceZero:function(){return this.current&&this.current.forceZero},setMulti:function(){return this.set(this.MULTI_PIPELINE)},setUtility:function(D){return this.UTILITY_PIPELINE.bind(D)},setFX:function(){return this.set(this.FX_PIPELINE)},restoreContext:function(){this.rebind(),this.pipelines.each(function(D,L){L.restoreContext()}),R(this.postPipelineInstances,function(D){D.restoreContext()})},rebind:function(D){D===void 0&&this.previous&&(D=this.previous);var L=this.renderer,F=L.gl;F.disable(F.DEPTH_TEST),F.disable(F.CULL_FACE),L.hasActiveStencilMask()?F.clear(F.DEPTH_BUFFER_BIT):(F.disable(F.STENCIL_TEST),F.clear(F.DEPTH_BUFFER_BIT|F.STENCIL_BUFFER_BIT)),F.viewport(0,0,L.width,L.height),L.currentProgram=null,L.setBlendMode(0,!0);var O=L.vaoExtension;O&&O.bindVertexArrayOES(null);var N=this.pipelines.entries;for(var b in N)N[b].glReset=!0;D&&(this.current=D,D.rebind())},clear:function(){var D=this.renderer;this.flush(),this.current?(this.current.unbind(),this.previous=this.current,this.current=null):this.previous=null,D.currentProgram=null,D.setBlendMode(0,!0);var L=D.vaoExtension;L&&L.bindVertexArrayOES(null)},getRenderTarget:function(D){var L=this.renderTargets,F=3;if(D>this.maxDimension)return this.targetIndex=L.length-F,L[this.targetIndex];var O=(a(D,this.frameInc,0,!0)-1)*F;return this.targetIndex=O,L[O]},getSwapRenderTarget:function(){return this.renderTargets[this.targetIndex+1]},getAltSwapRenderTarget:function(){return this.renderTargets[this.targetIndex+2]},destroy:function(){this.flush(),this.classes.clear(),this.postPipelineClasses.clear(),this.pipelines.clear(),this.renderer=null,this.game=null,this.classes=null,this.postPipelineClasses=null,this.pipelines=null,this.default=null,this.current=null,this.previous=null}});h.exports=I},32302:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(92503),f=new u({initialize:function(o,s,a,c,r,d,v,p,m){c===void 0&&(c=1),r===void 0&&(r=0),d===void 0&&(d=!0),v===void 0&&(v=!1),p===void 0&&(p=!0),m===void 0&&(m=!0),this.renderer=o,this.framebuffer=null,this.texture=null,this.width=0,this.height=0,this.scale=c,this.minFilter=r,this.autoClear=d,this.autoResize=!0,this.hasDepthBuffer=p,this.forceClamp=m,this.init(s,a),v?this.renderer.on(y.RESIZE,this.resize,this):this.autoResize=!1},init:function(l,o){var s=this.renderer;this.texture=s.createTextureFromSource(null,l,o,this.minFilter,this.forceClamp),this.framebuffer=s.createFramebuffer(l,o,this.texture,this.hasDepthBuffer),this.width=l,this.height=o},setAutoResize:function(l){return l&&!this.autoResize?(this.renderer.on(y.RESIZE,this.resize,this),this.autoResize=!0):!l&&this.autoResize&&(this.renderer.off(y.RESIZE,this.resize,this),this.autoResize=!1),this},resize:function(l,o){if(this.autoResize&&this.willResize(l,o)){var s=this.renderer;s.deleteFramebuffer(this.framebuffer),s.deleteTexture(this.texture),this.texture=s.createTextureFromSource(null,l,o,this.minFilter,this.forceClamp),this.framebuffer=s.createFramebuffer(l,o,this.texture,this.hasDepthBuffer),this.width=l,this.height=o}return this},willResize:function(l,o){return typeof l!="number"||typeof o!="number"?!1:(l=Math.round(l*this.scale),o=Math.round(o*this.scale),l=Math.max(l,1),o=Math.max(o,1),l!==this.width||o!==this.height)},bind:function(l,o,s){l===void 0&&(l=!1);var a=this.renderer;if(l&&a.flush(),o&&s&&this.resize(o,s),a.pushFramebuffer(this.framebuffer,!1,!1),l&&this.adjustViewport(),this.autoClear){var c=this.renderer.gl;c.clearColor(0,0,0,0),c.clear(c.COLOR_BUFFER_BIT)}a.clearStencilMask()},adjustViewport:function(){var l=this.renderer.gl;l.viewport(0,0,this.width,this.height),l.disable(l.SCISSOR_TEST)},clear:function(l,o,s,a){var c=this.renderer,r=c.gl;c.pushFramebuffer(this.framebuffer),l!==void 0&&o!==void 0&&s!==void 0&&a!==void 0?(r.enable(r.SCISSOR_TEST),r.scissor(l,o,s,a)):r.disable(r.SCISSOR_TEST),r.clearColor(0,0,0,0),r.clear(r.COLOR_BUFFER_BIT),c.popFramebuffer(),c.resetScissor()},unbind:function(l){l===void 0&&(l=!1);var o=this.renderer;return l&&o.flush(),o.popFramebuffer()},destroy:function(){var l=this.renderer;l.off(y.RESIZE,this.resize,this),l.deleteFramebuffer(this.framebuffer),l.deleteTexture(this.texture),this.renderer=null,this.framebuffer=null,this.texture=null}});h.exports=f},70554:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @author       Matthew Groves <@doormat>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={getTintFromFloats:function(S,e,u,y){var f=(S*255|0)&255,l=(e*255|0)&255,o=(u*255|0)&255,s=(y*255|0)&255;return(s<<24|f<<16|l<<8|o)>>>0},getTintAppendFloatAlpha:function(S,e){var u=(e*255|0)&255;return(u<<24|S)>>>0},getTintAppendFloatAlphaAndSwap:function(S,e){var u=(S>>16|0)&255,y=(S>>8|0)&255,f=(S|0)&255,l=(e*255|0)&255;return(l<<24|f<<16|y<<8|u)>>>0},getFloatsFromUintRGB:function(S){var e=(S>>16|0)&255,u=(S>>8|0)&255,y=(S|0)&255;return[e/255,u/255,y/255]},checkShaderMax:function(S,e){var u=Math.min(16,S.getParameter(S.MAX_TEXTURE_IMAGE_UNITS));return!e||e===-1?u:Math.min(u,e)},parseFragmentShaderMaxTextures:function(S,e){if(!S)return"";for(var u="",y=0;y<e;y++)y>0&&(u+=`
	else `),y<e-1&&(u+="if (outTexId < "+y+".5)"),u+=`
	{`,u+=`
		texture = texture2D(uMainSampler[`+y+"], outTexCoord);",u+=`
	}`;return S=S.replace(/%count%/gi,e.toString()),S.replace(/%forloop%/gi,u)},setGlowQuality:function(S,e,u,y){return u===void 0&&(u=e.config.glowFXQuality),y===void 0&&(y=e.config.glowFXDistance),S=S.replace(/__SIZE__/gi,(1/u/y).toFixed(7)),S=S.replace(/__DIST__/gi,y.toFixed(0)+".0"),S}}},29100:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(62644),f=e(50792),l=e(77085),o=e(95540),s=e(37867),a=e(92503),c=e(32302),r=e(70554),d=e(38683),v=new u({Extends:f,initialize:function(m){f.call(this);var x=m.game,E=x.renderer,w=E.gl;this.name=o(m,"name","WebGLPipeline"),this.game=x,this.renderer=E,this.manager,this.gl=w,this.view=x.canvas,this.width=0,this.height=0,this.vertexCount=0,this.vertexCapacity=0,this.vertexData,this.vertexBuffer,this.activeBuffer,this.topology=o(m,"topology",w.TRIANGLES),this.bytes,this.vertexViewF32,this.vertexViewU32,this.active=!0,this.forceZero=o(m,"forceZero",!1),this.hasBooted=!1,this.isPostFX=!1,this.isPreFX=!1,this.renderTargets=[],this.currentRenderTarget,this.shaders=[],this.currentShader,this.projectionMatrix,this.projectionWidth=0,this.projectionHeight=0,this.config=m,this.glReset=!1,this.batch=[],this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,this.activeTextures=[],this.resizeUniform=o(m,"resizeUniform","")},boot:function(){var p,m=this.gl,x=this.config,E=this.renderer;this.isPostFX||(this.projectionMatrix=new s().identity());var w=this.renderTargets,C=o(x,"renderTarget",!1);typeof C=="boolean"&&C&&(C=1);var P=E.width,R=E.height;if(typeof C=="number")for(p=0;p<C;p++)w.push(new c(E,P,R,1,0,!0));else if(Array.isArray(C))for(p=0;p<C.length;p++){var M=o(C[p],"scale",1),I=o(C[p],"minFilter",0),D=o(C[p],"autoClear",1),L=o(C[p],"autoResize",!1),F=o(C[p],"width",null),O=o(C[p],"height",F);F?w.push(new c(E,F,O,1,I,D,L)):w.push(new c(E,P,R,M,I,D,L))}w.length&&(this.currentRenderTarget=w[0]),this.setShadersFromConfig(x);var N=this.shaders,b=0;for(p=0;p<N.length;p++)N[p].vertexSize>b&&(b=N[p].vertexSize);var V=o(x,"batchSize",E.config.batchSize);this.vertexCapacity=V*6;var Y=new ArrayBuffer(this.vertexCapacity*b);this.vertexData=Y,this.bytes=new Uint8Array(Y),this.vertexViewF32=new Float32Array(Y),this.vertexViewU32=new Uint32Array(Y);var W=o(x,"vertices",null);for(W?(this.vertexViewF32.set(W),this.vertexBuffer=E.createVertexBuffer(Y,m.STATIC_DRAW)):this.vertexBuffer=E.createVertexBuffer(Y.byteLength,m.DYNAMIC_DRAW),this.setVertexBuffer(),p=N.length-1;p>=0;p--)N[p].rebind();this.hasBooted=!0,E.on(a.RESIZE,this.resize,this),E.on(a.PRE_RENDER,this.onPreRender,this),E.on(a.RENDER,this.onRender,this),E.on(a.POST_RENDER,this.onPostRender,this),this.emit(l.BOOT,this),this.onBoot()},onBoot:function(){},onResize:function(){},setShader:function(p,m,x){var E=this.renderer;if(p!==this.currentShader||E.currentProgram!==this.currentShader.program){this.flush();var w=this.setVertexBuffer(x);w&&!m&&(m=!0),p.bind(m,!1),this.currentShader=p}return this},getShaderByName:function(p){for(var m=this.shaders,x=0;x<m.length;x++)if(m[x].name===p)return m[x]},setShadersFromConfig:function(p){var m,x=this.shaders,E=this.renderer;for(m=0;m<x.length;m++)x[m].destroy();var w="vertShader",C="fragShader",P="attributes",R=o(p,w,null),M=r.parseFragmentShaderMaxTextures(o(p,C,null),E.maxTextures),I=o(p,P,null),D=o(p,"shaders",[]),L=D.length;if(L===0)R&&M&&(this.shaders=[new d(this,"default",R,M,y(I))]);else{var F=[];for(m=0;m<L;m++){var O=D[m],N,b,V,Y;if(typeof O=="string"?(N="default",b=R,V=r.parseFragmentShaderMaxTextures(O,E.maxTextures),Y=I):(N=o(O,"name","default"),b=o(O,w,R),V=r.parseFragmentShaderMaxTextures(o(O,C,M),E.maxTextures),Y=o(O,P,I)),N==="default"){var W=V.split(`
`),U=W[0].trim();U.indexOf("#define SHADER_NAME")>-1&&(N=U.substring(20))}b&&V&&F.push(new d(this,N,b,V,y(Y)))}this.shaders=F}return this.shaders.length===0?console.warn("Pipeline: "+this.name+" - Invalid shader config"):this.currentShader=this.shaders[0],this},createBatch:function(p){return this.currentBatch={start:this.vertexCount,count:0,texture:[p],unit:0,maxUnit:0},this.currentUnit=0,this.currentTexture=p,this.batch.push(this.currentBatch),0},addTextureToBatch:function(p){var m=this.currentBatch;m&&(m.texture.push(p),m.unit++,m.maxUnit++)},pushBatch:function(p){if(!this.currentBatch||this.forceZero&&p!==this.currentTexture)return this.createBatch(p);if(p===this.currentTexture)return this.currentUnit;var m=this.currentBatch,x=m.texture.indexOf(p);return x===-1?m.texture.length===this.renderer.maxTextures?this.createBatch(p):(m.unit++,m.maxUnit++,m.texture.push(p),this.currentUnit=m.unit,this.currentTexture=p,m.unit):(this.currentUnit=x,this.currentTexture=p,x)},setGameObject:function(p,m){return m===void 0&&(m=p.frame),this.pushBatch(m.source.glTexture)},shouldFlush:function(p){return p===void 0&&(p=0),this.vertexCount+p>this.vertexCapacity},vertexAvailable:function(){return this.vertexCapacity-this.vertexCount},resize:function(p,m){(p!==this.width||m!==this.height)&&this.flush(),this.width=p,this.height=m;for(var x=this.renderTargets,E=0;E<x.length;E++)x[E].resize(p,m);return this.setProjectionMatrix(p,m),this.resizeUniform&&this.set2f(this.resizeUniform,p,m),this.emit(l.RESIZE,p,m,this),this.onResize(p,m),this},setProjectionMatrix:function(p,m){var x=this.projectionMatrix;if(!x)return this;this.projectionWidth=p,this.projectionHeight=m,x.ortho(0,p,m,0,-1e3,1e3);for(var E=this.shaders,w="uProjectionMatrix",C=0;C<E.length;C++){var P=E[C];P.hasUniform(w)&&(P.resetUniform(w),P.setMatrix4fv(w,!1,x.val,P))}return this},flipProjectionMatrix:function(p){p===void 0&&(p=!0);var m=this.projectionMatrix;if(!m)return this;var x=this.projectionWidth,E=this.projectionHeight;p?m.ortho(0,x,0,E,-1e3,1e3):m.ortho(0,x,E,0,-1e3,1e3),this.setMatrix4fv("uProjectionMatrix",!1,m.val)},updateProjectionMatrix:function(){if(this.projectionMatrix){var p=this.renderer.projectionWidth,m=this.renderer.projectionHeight;(this.projectionWidth!==p||this.projectionHeight!==m)&&this.setProjectionMatrix(p,m)}},bind:function(p){if(p===void 0&&(p=this.currentShader),this.glReset)return this.rebind(p);var m=!1,x=this.gl;return x.getParameter(x.ARRAY_BUFFER_BINDING)!==this.vertexBuffer&&(x.bindBuffer(x.ARRAY_BUFFER,this.vertexBuffer.webGLBuffer),this.activeBuffer=this.vertexBuffer,m=!0),p.bind(m),this.currentShader=p,this.activeTextures.length=0,this.emit(l.BIND,this,p),this.onActive(p),this},rebind:function(p){this.activeBuffer=null,this.setVertexBuffer();for(var m=this.shaders,x=m.length-1;x>=0;x--){var E=m[x].rebind();(!p||E===p)&&(this.currentShader=E)}return this.activeTextures.length=0,this.emit(l.REBIND,this.currentShader),this.onActive(this.currentShader),this.onRebind(),this.glReset=!1,this},restoreContext:function(){var p=this.shaders,m=!!this.vertexBuffer;this.activeBuffer=null,this.activeTextures.length=0,this.batch.length=0,this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,m&&this.setVertexBuffer();for(var x=0;x<p.length;x++){var E=p[x];E.syncUniforms(),m&&E.rebind()}},setVertexBuffer:function(p){if(p===void 0&&(p=this.vertexBuffer),p!==this.activeBuffer){var m=this.gl;return this.gl.bindBuffer(m.ARRAY_BUFFER,p.webGLBuffer),this.activeBuffer=p,!0}return!1},preBatch:function(p){return this.currentRenderTarget&&this.currentRenderTarget.bind(),this.onPreBatch(p),this},postBatch:function(p){return this.onDraw(this.currentRenderTarget),this.onPostBatch(p),this},onDraw:function(){},unbind:function(){this.currentRenderTarget&&this.currentRenderTarget.unbind()},flush:function(p){if(p===void 0&&(p=!1),this.vertexCount>0){this.emit(l.BEFORE_FLUSH,this,p),this.onBeforeFlush(p);var m=this.gl,x=this.vertexCount,E=this.currentShader.vertexSize,w=this.topology;if(this.active){this.setVertexBuffer(),x===this.vertexCapacity?m.bufferData(m.ARRAY_BUFFER,this.vertexData,m.DYNAMIC_DRAW):m.bufferSubData(m.ARRAY_BUFFER,0,this.bytes.subarray(0,x*E));var C,P,R,M=this.batch,I=this.activeTextures;if(this.forceZero)for(I[0]||m.activeTexture(m.TEXTURE0),C=0;C<M.length;C++)P=M[C],R=P.texture[0],I[0]!==R&&(m.bindTexture(m.TEXTURE_2D,R.webGLTexture),I[0]=R),m.drawArrays(w,P.start,P.count);else for(C=0;C<M.length;C++){P=M[C];for(var D=0;D<=P.maxUnit;D++)R=P.texture[D],I[D]!==R&&(m.activeTexture(m.TEXTURE0+D),m.bindTexture(m.TEXTURE_2D,R.webGLTexture),I[D]=R);m.drawArrays(w,P.start,P.count)}}this.vertexCount=0,this.batch.length=0,this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,this.emit(l.AFTER_FLUSH,this,p),this.onAfterFlush(p)}return this},onActive:function(){},onBind:function(){},onRebind:function(){},onBatch:function(){},onPreBatch:function(){},onPostBatch:function(){},onPreRender:function(){},onRender:function(){},onPostRender:function(){},onBeforeFlush:function(){},onAfterFlush:function(){},batchVert:function(p,m,x,E,w,C,P){var R=this.vertexViewF32,M=this.vertexViewU32,I=this.vertexCount*this.currentShader.vertexComponentCount-1;R[++I]=p,R[++I]=m,R[++I]=x,R[++I]=E,R[++I]=w,R[++I]=C,M[++I]=P,this.vertexCount++,this.currentBatch.count=this.vertexCount-this.currentBatch.start},batchQuad:function(p,m,x,E,w,C,P,R,M,I,D,L,F,O,N,b,V,Y,W,U){U===void 0&&(U=this.currentUnit);var z=!1;this.shouldFlush(6)&&(this.flush(),z=!0),this.currentBatch||(U=this.setTexture2D(W));var B=this.vertexViewF32,X=this.vertexViewU32,G=this.vertexCount*this.currentShader.vertexComponentCount-1;return B[++G]=m,B[++G]=x,B[++G]=I,B[++G]=D,B[++G]=U,B[++G]=Y,X[++G]=O,B[++G]=E,B[++G]=w,B[++G]=I,B[++G]=F,B[++G]=U,B[++G]=Y,X[++G]=b,B[++G]=C,B[++G]=P,B[++G]=L,B[++G]=F,B[++G]=U,B[++G]=Y,X[++G]=V,B[++G]=m,B[++G]=x,B[++G]=I,B[++G]=D,B[++G]=U,B[++G]=Y,X[++G]=O,B[++G]=C,B[++G]=P,B[++G]=L,B[++G]=F,B[++G]=U,B[++G]=Y,X[++G]=V,B[++G]=R,B[++G]=M,B[++G]=L,B[++G]=D,B[++G]=U,B[++G]=Y,X[++G]=N,this.vertexCount+=6,this.currentBatch.count=this.vertexCount-this.currentBatch.start,this.onBatch(p),z},batchTri:function(p,m,x,E,w,C,P,R,M,I,D,L,F,O,N,b,V){V===void 0&&(V=this.currentUnit);var Y=!1;this.shouldFlush(3)&&(this.flush(),Y=!0),this.currentBatch||(V=this.setTexture2D(b));var W=this.vertexViewF32,U=this.vertexViewU32,z=this.vertexCount*this.currentShader.vertexComponentCount-1;return W[++z]=m,W[++z]=x,W[++z]=R,W[++z]=M,W[++z]=V,W[++z]=N,U[++z]=L,W[++z]=E,W[++z]=w,W[++z]=R,W[++z]=D,W[++z]=V,W[++z]=N,U[++z]=F,W[++z]=C,W[++z]=P,W[++z]=I,W[++z]=D,W[++z]=V,W[++z]=N,U[++z]=O,this.vertexCount+=3,this.currentBatch.count=this.vertexCount-this.currentBatch.start,this.onBatch(p),Y},drawFillRect:function(p,m,x,E,w,C,P,R){P===void 0&&(P=this.renderer.whiteTexture),R===void 0&&(R=!0),p=Math.floor(p),m=Math.floor(m);var M=Math.floor(p+x),I=Math.floor(m+E),D=this.setTexture2D(P),L=r.getTintAppendFloatAlphaAndSwap(w,C),F=0,O=0,N=1,b=1;R&&(O=1,b=0),this.batchQuad(null,p,m,p,I,M,I,M,m,F,O,N,b,L,L,L,L,0,P,D)},setTexture2D:function(p){return p===void 0&&(p=this.renderer.whiteTexture),this.pushBatch(p)},bindTexture:function(p,m){m===void 0&&(m=0);var x=this.gl;return x.activeTexture(x.TEXTURE0+m),x.bindTexture(x.TEXTURE_2D,p.webGLTexture),this},bindRenderTarget:function(p,m){return this.bindTexture(p.texture,m)},setTime:function(p,m){return this.set1f(p,this.game.loop.getDuration(),m),this},setBoolean:function(p,m,x){return x===void 0&&(x=this.currentShader),x.setBoolean(p,m),this},set1f:function(p,m,x){return x===void 0&&(x=this.currentShader),x.set1f(p,m),this},set2f:function(p,m,x,E){return E===void 0&&(E=this.currentShader),E.set2f(p,m,x),this},set3f:function(p,m,x,E,w){return w===void 0&&(w=this.currentShader),w.set3f(p,m,x,E),this},set4f:function(p,m,x,E,w,C){return C===void 0&&(C=this.currentShader),C.set4f(p,m,x,E,w),this},set1fv:function(p,m,x){return x===void 0&&(x=this.currentShader),x.set1fv(p,m),this},set2fv:function(p,m,x){return x===void 0&&(x=this.currentShader),x.set2fv(p,m),this},set3fv:function(p,m,x){return x===void 0&&(x=this.currentShader),x.set3fv(p,m),this},set4fv:function(p,m,x){return x===void 0&&(x=this.currentShader),x.set4fv(p,m),this},set1iv:function(p,m,x){return x===void 0&&(x=this.currentShader),x.set1iv(p,m),this},set2iv:function(p,m,x){return x===void 0&&(x=this.currentShader),x.set2iv(p,m),this},set3iv:function(p,m,x){return x===void 0&&(x=this.currentShader),x.set3iv(p,m),this},set4iv:function(p,m,x){return x===void 0&&(x=this.currentShader),x.set4iv(p,m),this},set1i:function(p,m,x){return x===void 0&&(x=this.currentShader),x.set1i(p,m),this},set2i:function(p,m,x,E){return E===void 0&&(E=this.currentShader),E.set2i(p,m,x),this},set3i:function(p,m,x,E,w){return w===void 0&&(w=this.currentShader),w.set3i(p,m,x,E),this},set4i:function(p,m,x,E,w,C){return C===void 0&&(C=this.currentShader),C.set4i(p,m,x,E,w),this},setMatrix2fv:function(p,m,x,E){return E===void 0&&(E=this.currentShader),E.setMatrix2fv(p,m,x),this},setMatrix3fv:function(p,m,x,E){return E===void 0&&(E=this.currentShader),E.setMatrix3fv(p,m,x),this},setMatrix4fv:function(p,m,x,E){return E===void 0&&(E=this.currentShader),E.setMatrix4fv(p,m,x),this},destroy:function(){this.emit(l.DESTROY,this);var p,m=this.shaders;for(p=0;p<m.length;p++)m[p].destroy();var x=this.renderTargets;for(p=0;p<x.length;p++)x[p].destroy();var E=this.renderer;return E.deleteBuffer(this.vertexBuffer),E.off(a.RESIZE,this.resize,this),E.off(a.PRE_RENDER,this.onPreRender,this),E.off(a.RENDER,this.onRender,this),E.off(a.POST_RENDER,this.onPostRender,this),this.removeAllListeners(),this.game=null,this.renderer=null,this.manager=null,this.gl=null,this.view=null,this.shaders=null,this.renderTargets=null,this.bytes=null,this.vertexViewF32=null,this.vertexViewU32=null,this.vertexData=null,this.vertexBuffer=null,this.currentShader=null,this.currentRenderTarget=null,this.activeTextures=null,this}});h.exports=v},74797:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(95428),y=e(72905),f=e(19715),l=e(83419),o=e(8054),s=e(50792),a=e(92503),c=e(50030),r=e(37867),d=e(29747),v=e(7530),p=e(32302),m=e(97480),x=e(69442),E=e(70554),w=e(88815),C=e(26128),P=e(1482),R=e(82751),M=e(84387),I=e(93567),D=e(57183),L=new l({Extends:s,initialize:function(O){s.call(this);var N=O.config,b={alpha:N.transparent,desynchronized:N.desynchronized,depth:!0,antialias:N.antialiasGL,premultipliedAlpha:N.premultipliedAlpha,stencil:!0,failIfMajorPerformanceCaveat:N.failIfMajorPerformanceCaveat,powerPreference:N.powerPreference,preserveDrawingBuffer:N.preserveDrawingBuffer,willReadFrequently:!1};this.config={clearBeforeRender:N.clearBeforeRender,antialias:N.antialias,backgroundColor:N.backgroundColor,contextCreation:b,roundPixels:N.roundPixels,maxTextures:N.maxTextures,maxTextureSize:N.maxTextureSize,batchSize:N.batchSize,maxLights:N.maxLights,mipmapFilter:N.mipmapFilter},this.game=O,this.type=o.WEBGL,this.pipelines=null,this.width=0,this.height=0,this.canvas=O.canvas,this.blendModes=[],this.contextLost=!1,this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92,isFramebuffer:!1,bufferWidth:0,bufferHeight:0},this.maxTextures=0,this.textureIndexes,this.glBufferWrappers=[],this.glProgramWrappers=[],this.glTextureWrappers=[],this.glFramebufferWrappers=[],this.glAttribLocationWrappers=[],this.glUniformLocationWrappers=[],this.currentFramebuffer=null,this.fboStack=[],this.currentProgram=null,this.currentBlendMode=1/0,this.currentScissorEnabled=!1,this.currentScissor=null,this.scissorStack=[],this.contextLostHandler=d,this.contextRestoredHandler=d,this.previousContextLostHandler=d,this.previousContextRestoredHandler=d,this.gl=null,this.supportedExtensions=null,this.instancedArraysExtension=null,this.vaoExtension=null,this.extensions={},this.glFormats,this.compression,this.drawingBufferHeight=0,this.blankTexture=null,this.normalTexture=null,this.whiteTexture=null,this.maskCount=0,this.maskStack=[],this.currentMask={mask:null,camera:null},this.currentCameraMask={mask:null,camera:null},this.glFuncMap=null,this.currentType="",this.newType=!1,this.nextTypeMatch=!1,this.finalType=!1,this.mipmapFilter=null,this.defaultScissor=[0,0,0,0],this.isBooted=!1,this.renderTarget=null,this.projectionMatrix,this.projectionWidth=0,this.projectionHeight=0,this.maskSource=null,this.maskTarget=null,this.spector=null,this._debugCapture=!1,this.init(this.config)},init:function(F){var O,N=this.game,b=this.canvas,V=F.backgroundColor;if(N.config.context?O=N.config.context:O=b.getContext("webgl",F.contextCreation)||b.getContext("experimental-webgl",F.contextCreation),!O||O.isContextLost())throw this.contextLost=!0,new Error("WebGL unsupported");this.gl=O,this.setExtensions(),this.setContextHandlers(),N.context=O;for(var Y=0;Y<=27;Y++)this.blendModes.push({func:[O.ONE,O.ONE_MINUS_SRC_ALPHA],equation:O.FUNC_ADD});this.blendModes[1].func=[O.ONE,O.DST_ALPHA],this.blendModes[2].func=[O.DST_COLOR,O.ONE_MINUS_SRC_ALPHA],this.blendModes[3].func=[O.ONE,O.ONE_MINUS_SRC_COLOR],this.blendModes[17]={func:[O.ZERO,O.ONE_MINUS_SRC_ALPHA],equation:O.FUNC_REVERSE_SUBTRACT},this.glFormats=[O.BYTE,O.SHORT,O.UNSIGNED_BYTE,O.UNSIGNED_SHORT,O.FLOAT],this.glFuncMap={mat2:{func:O.uniformMatrix2fv,length:1,matrix:!0},mat3:{func:O.uniformMatrix3fv,length:1,matrix:!0},mat4:{func:O.uniformMatrix4fv,length:1,matrix:!0},"1f":{func:O.uniform1f,length:1},"1fv":{func:O.uniform1fv,length:1},"1i":{func:O.uniform1i,length:1},"1iv":{func:O.uniform1iv,length:1},"2f":{func:O.uniform2f,length:2},"2fv":{func:O.uniform2fv,length:1},"2i":{func:O.uniform2i,length:2},"2iv":{func:O.uniform2iv,length:1},"3f":{func:O.uniform3f,length:3},"3fv":{func:O.uniform3fv,length:1},"3i":{func:O.uniform3i,length:3},"3iv":{func:O.uniform3iv,length:1},"4f":{func:O.uniform4f,length:4},"4fv":{func:O.uniform4fv,length:1},"4i":{func:O.uniform4i,length:4},"4iv":{func:O.uniform4iv,length:1}},(!F.maxTextures||F.maxTextures===-1)&&(F.maxTextures=O.getParameter(O.MAX_TEXTURE_IMAGE_UNITS)),F.maxTextureSize||(F.maxTextureSize=O.getParameter(O.MAX_TEXTURE_SIZE)),this.compression=this.getCompressedTextures(),O.disable(O.DEPTH_TEST),O.disable(O.CULL_FACE),O.enable(O.BLEND),O.clearColor(V.redGL,V.greenGL,V.blueGL,V.alphaGL),O.clear(O.COLOR_BUFFER_BIT);var W=["NEAREST","LINEAR","NEAREST_MIPMAP_NEAREST","LINEAR_MIPMAP_NEAREST","NEAREST_MIPMAP_LINEAR","LINEAR_MIPMAP_LINEAR"];return W.indexOf(F.mipmapFilter)!==-1&&(this.mipmapFilter=O[F.mipmapFilter]),this.maxTextures=E.checkShaderMax(O,F.maxTextures),this.textureIndexes=[],this.createTemporaryTextures(),this.pipelines=new v(this),this.setBlendMode(o.BlendModes.NORMAL),this.projectionMatrix=new r().identity(),N.textures.once(x.READY,this.boot,this),this},boot:function(){var F=this.game,O=this.pipelines,N=F.scale.baseSize,b=N.width,V=N.height;this.width=b,this.height=V,this.isBooted=!0,this.renderTarget=new p(this,b,V,1,0,!0,!0),this.maskTarget=new p(this,b,V,1,0,!0,!0),this.maskSource=new p(this,b,V,1,0,!0,!0);var Y=F.config;O.boot(Y.pipeline,Y.defaultPipeline,Y.autoMobilePipeline),this.blankTexture=F.textures.getFrame("__DEFAULT").glTexture,this.normalTexture=F.textures.getFrame("__NORMAL").glTexture,this.whiteTexture=F.textures.getFrame("__WHITE").glTexture;var W=this.gl;W.bindFramebuffer(W.FRAMEBUFFER,null),W.enable(W.SCISSOR_TEST),F.scale.on(m.RESIZE,this.onResize,this),this.resize(b,V)},setExtensions:function(){var F=this.gl,O=F.getSupportedExtensions();this.supportedExtensions=O;var N="ANGLE_instanced_arrays";this.instancedArraysExtension=O.indexOf(N)>-1?F.getExtension(N):null;var b="OES_vertex_array_object";this.vaoExtension=O.indexOf(b)>-1?F.getExtension(b):null},setContextHandlers:function(F,O){this.previousContextLostHandler&&this.canvas.removeEventListener("webglcontextlost",this.previousContextLostHandler,!1),this.previousContextRestoredHandler&&this.canvas.removeEventListener("webglcontextlost",this.previousContextRestoredHandler,!1),typeof F=="function"?this.contextLostHandler=F.bind(this):this.contextLostHandler=this.dispatchContextLost.bind(this),typeof O=="function"?this.contextRestoredHandler=O.bind(this):this.contextRestoredHandler=this.dispatchContextRestored.bind(this),this.canvas.addEventListener("webglcontextlost",this.contextLostHandler,!1),this.canvas.addEventListener("webglcontextrestored",this.contextRestoredHandler,!1),this.previousContextLostHandler=this.contextLostHandler,this.previousContextRestoredHandler=this.contextRestoredHandler},dispatchContextLost:function(F){this.contextLost=!0,console&&console.warn("WebGL Context lost. Renderer disabled"),this.emit(a.LOSE_WEBGL,this),F.preventDefault()},dispatchContextRestored:function(F){var O=this.gl;if(O.isContextLost()){console&&console.log("WebGL Context restored, but context is still lost");return}this.currentProgram=null,this.currentFramebuffer=null,this.setBlendMode(o.BlendModes.NORMAL),O.disable(O.BLEND),O.disable(O.DEPTH_TEST),O.enable(O.CULL_FACE),this.compression=this.getCompressedTextures();var N=function(b){b.createResource()};u(this.glTextureWrappers,N),u(this.glBufferWrappers,N),u(this.glFramebufferWrappers,N),u(this.glProgramWrappers,N),u(this.glAttribLocationWrappers,N),u(this.glUniformLocationWrappers,N),this.createTemporaryTextures(),this.pipelines.restoreContext(),this.resize(this.game.scale.baseSize.width,this.game.scale.baseSize.height),this.setExtensions(),this.contextLost=!1,console&&console.warn("WebGL Context restored. Renderer running again."),this.emit(a.RESTORE_WEBGL,this),F.preventDefault()},createTemporaryTextures:function(){for(var F=this.gl,O=0;O<this.maxTextures;O++){var N=F.createTexture();F.activeTexture(F.TEXTURE0+O),F.bindTexture(F.TEXTURE_2D,N),F.texImage2D(F.TEXTURE_2D,0,F.RGBA,1,1,0,F.RGBA,F.UNSIGNED_BYTE,new Uint8Array([0,0,255,255])),this.textureIndexes.push(O)}},captureFrame:function(F,O){},captureNextFrame:function(){},getFps:function(){},log:function(){},startCapture:function(F,O,N){},stopCapture:function(){},onCapture:function(F){},onResize:function(F,O){(O.width!==this.width||O.height!==this.height)&&this.resize(O.width,O.height)},beginCapture:function(F,O){F===void 0&&(F=this.width),O===void 0&&(O=this.height),this.renderTarget.bind(!0,F,O),this.setProjectionMatrix(F,O)},endCapture:function(){return this.renderTarget.unbind(!0),this.resetProjectionMatrix(),this.renderTarget},resize:function(F,O){var N=this.gl;return this.width=F,this.height=O,this.setProjectionMatrix(F,O),N.viewport(0,0,F,O),this.drawingBufferHeight=N.drawingBufferHeight,N.scissor(0,N.drawingBufferHeight-O,F,O),this.defaultScissor[2]=F,this.defaultScissor[3]=O,this.emit(a.RESIZE,F,O),this},getCompressedTextures:function(){var F="WEBGL_compressed_texture_",O="WEBKIT_"+F,N="EXT_texture_compression_",b=function(Y,W){var U=Y.getExtension(F+W)||Y.getExtension(O+W)||Y.getExtension(N+W);if(U){var z={};for(var B in U)z[U[B]]=B;return z}},V=this.gl;return{ETC:b(V,"etc"),ETC1:b(V,"etc1"),ATC:b(V,"atc"),ASTC:b(V,"astc"),BPTC:b(V,"bptc"),RGTC:b(V,"rgtc"),PVRTC:b(V,"pvrtc"),S3TC:b(V,"s3tc"),S3TCSRGB:b(V,"s3tc_srgb"),IMG:!0}},getCompressedTextureName:function(F,O){var N=this.compression[F.toUpperCase()];if(O in N)return N[O]},supportsCompressedTexture:function(F,O){var N=this.compression[F.toUpperCase()];return N?O?O in N:!0:!1},getAspectRatio:function(){return this.width/this.height},setProjectionMatrix:function(F,O){return(F!==this.projectionWidth||O!==this.projectionHeight)&&(this.projectionWidth=F,this.projectionHeight=O,this.projectionMatrix.ortho(0,F,O,0,-1e3,1e3)),this},resetProjectionMatrix:function(){return this.setProjectionMatrix(this.width,this.height)},hasExtension:function(F){return this.supportedExtensions?this.supportedExtensions.indexOf(F):!1},getExtension:function(F){return this.hasExtension(F)?(F in this.extensions||(this.extensions[F]=this.gl.getExtension(F)),this.extensions[F]):null},flush:function(){this.pipelines.flush()},pushScissor:function(F,O,N,b,V){V===void 0&&(V=this.drawingBufferHeight);var Y=this.scissorStack,W=[F,O,N,b];return Y.push(W),this.setScissor(F,O,N,b,V),this.currentScissor=W,W},setScissor:function(F,O,N,b,V){V===void 0&&(V=this.drawingBufferHeight);var Y=this.gl,W=this.currentScissor,U=N>0&&b>0;if(W&&U){var z=W[0],B=W[1],X=W[2],G=W[3];U=z!==F||B!==O||X!==N||G!==b}U&&(this.flush(),Y.scissor(F,V-O-b,N,b))},resetScissor:function(){var F=this.gl;F.enable(F.SCISSOR_TEST);var O=this.currentScissor;if(O){var N=O[0],b=O[1],V=O[2],Y=O[3];V>0&&Y>0&&F.scissor(N,this.drawingBufferHeight-b-Y,V,Y)}},popScissor:function(){var F=this.scissorStack;F.pop();var O=F[F.length-1];O&&this.setScissor(O[0],O[1],O[2],O[3]),this.currentScissor=O},hasActiveStencilMask:function(){var F=this.currentMask.mask,O=this.currentCameraMask.mask;return F&&F.isStencil||O&&O.isStencil},resetViewport:function(){var F=this.gl;F.viewport(0,0,this.width,this.height),this.drawingBufferHeight=F.drawingBufferHeight},setBlendMode:function(F,O){O===void 0&&(O=!1);var N=this.gl,b=this.blendModes[F];return O||F!==o.BlendModes.SKIP_CHECK&&this.currentBlendMode!==F?(this.flush(),N.enable(N.BLEND),N.blendEquation(b.equation),b.func.length>2?N.blendFuncSeparate(b.func[0],b.func[1],b.func[2],b.func[3]):N.blendFunc(b.func[0],b.func[1]),this.currentBlendMode=F,!0):!1},addBlendMode:function(F,O){var N=this.blendModes.push({func:F,equation:O});return N-1},updateBlendMode:function(F,O,N){return this.blendModes[F]&&(this.blendModes[F].func=O,N&&(this.blendModes[F].equation=N)),this},removeBlendMode:function(F){return F>17&&this.blendModes[F]&&this.blendModes.splice(F,1),this},pushFramebuffer:function(F,O,N,b,V){return F===this.currentFramebuffer?this:(this.fboStack.push(F),this.setFramebuffer(F,O,N,b,V))},setFramebuffer:function(F,O,N,b,V){if(O===void 0&&(O=!1),N===void 0&&(N=!0),b===void 0&&(b=null),V===void 0&&(V=!1),F===this.currentFramebuffer)return this;var Y=this.gl,W=this.width,U=this.height;return F&&F.renderTexture&&N?(W=F.renderTexture.width,U=F.renderTexture.height):this.flush(),F?Y.bindFramebuffer(Y.FRAMEBUFFER,F.webGLFramebuffer):Y.bindFramebuffer(Y.FRAMEBUFFER,null),N&&Y.viewport(0,0,W,U),b&&Y.framebufferTexture2D(Y.FRAMEBUFFER,Y.COLOR_ATTACHMENT0,Y.TEXTURE_2D,b.webGLTexture,0),V&&(Y.clearColor(0,0,0,0),Y.clear(Y.COLOR_BUFFER_BIT)),O&&(F?(this.drawingBufferHeight=U,this.pushScissor(0,0,W,U)):(this.drawingBufferHeight=this.height,this.popScissor())),this.currentFramebuffer=F,this},popFramebuffer:function(F,O){F===void 0&&(F=!1),O===void 0&&(O=!0);var N=this.fboStack;N.pop();var b=N[N.length-1];return b||(b=null),this.setFramebuffer(b,F,O),b},restoreFramebuffer:function(F,O){F===void 0&&(F=!1),O===void 0&&(O=!0);var N=this.fboStack,b=N[N.length-1];b||(b=null),this.currentFramebuffer=null,this.setFramebuffer(b,F,O)},setProgram:function(F){return F!==this.currentProgram?(this.flush(),this.gl.useProgram(F.webGLProgram),this.currentProgram=F,!0):!1},resetProgram:function(){return this.gl.useProgram(this.currentProgram.webGLProgramWrapper),this},createTextureFromSource:function(F,O,N,b,V){V===void 0&&(V=!1);var Y=this.gl,W=Y.NEAREST,U=Y.NEAREST,z=Y.CLAMP_TO_EDGE,B=null;O=F?F.width:O,N=F?F.height:N;var X=c(O,N);if(X&&!V&&(z=Y.REPEAT),b===o.ScaleModes.LINEAR&&this.config.antialias){var G=F&&F.compressed,H=!G&&X||G&&F.mipmaps.length>1;W=this.mipmapFilter&&H?this.mipmapFilter:Y.LINEAR,U=Y.LINEAR}return!F&&typeof O=="number"&&typeof N=="number"?B=this.createTexture2D(0,W,U,z,z,Y.RGBA,null,O,N):B=this.createTexture2D(0,W,U,z,z,Y.RGBA,F),B},createTexture2D:function(F,O,N,b,V,Y,W,U,z,B,X,G){typeof U!="number"&&(U=W?W.width:1),typeof z!="number"&&(z=W?W.height:1);var H=new R(this.gl,F,O,N,b,V,Y,W,U,z,B,X,G);return this.glTextureWrappers.push(H),H},createFramebuffer:function(F,O,N,b){this.currentFramebuffer=null;var V=new M(this.gl,F,O,N,b);return this.glFramebufferWrappers.push(V),V},beginBitmapMask:function(F,O){var N=this.gl;N&&(this.flush(),this.maskTarget.bind(!0),this.currentCameraMask.mask!==F&&(this.currentMask.mask=F,this.currentMask.camera=O))},drawBitmapMask:function(F,O,N){this.flush(),this.maskSource.bind(),this.setBlendMode(0,!0),F.renderWebGL(this,F,O),this.maskSource.unbind(!0),this.maskTarget.unbind();var b=this.gl,V=this.getCurrentStencilMask();V?(b.enable(b.STENCIL_TEST),V.mask.applyStencil(this,V.camera,!0)):this.currentMask.mask=null,this.pipelines.set(N),b.activeTexture(b.TEXTURE0),b.bindTexture(b.TEXTURE_2D,this.maskTarget.texture.webGLTexture),b.activeTexture(b.TEXTURE1),b.bindTexture(b.TEXTURE_2D,this.maskSource.texture.webGLTexture)},createProgram:function(F,O){var N=new P(this.gl,F,O);return this.glProgramWrappers.push(N),N},createVertexBuffer:function(F,O){var N=this.gl,b=new C(N,F,N.ARRAY_BUFFER,O);return this.glBufferWrappers.push(b),b},createAttribLocation:function(F,O){var N=new I(this.gl,F,O);return this.glAttribLocationWrappers.push(N),N},createUniformLocation:function(F,O){var N=new D(this.gl,F,O);return this.glUniformLocationWrappers.push(N),N},createIndexBuffer:function(F,O){var N=this.gl,b=new C(N,F,N.ELEMENT_ARRAY_BUFFER,O);return this.glBufferWrappers.push(b),b},deleteTexture:function(F){if(F)return y(this.glTextureWrappers,F),F.destroy(),this},deleteFramebuffer:function(F){return F?(y(this.fboStack,F),y(this.glFramebufferWrappers,F),F.destroy(),this):this},deleteProgram:function(F){return F&&(y(this.glProgramWrappers,F),F.destroy()),this},deleteAttribLocation:function(F){return F&&(y(this.glAttribLocationWrappers,F),F.destroy()),this},deleteUniformLocation:function(F){return F&&(y(this.glUniformLocationWrappers,F),F.destroy()),this},deleteBuffer:function(F){return F?(y(this.glBufferWrappers,F),F.destroy(),this):this},preRenderCamera:function(F){var O=F.x,N=F.y,b=F.width,V=F.height,Y=F.backgroundColor;if(F.emit(f.PRE_RENDER,F),this.pipelines.preBatchCamera(F),this.pushScissor(O,N,b,V),F.mask&&(this.currentCameraMask.mask=F.mask,this.currentCameraMask.camera=F._maskCamera,F.mask.preRenderWebGL(this,F,F._maskCamera)),Y.alphaGL>0){var W=this.pipelines.setMulti();W.drawFillRect(O,N,b,V,E.getTintFromFloats(Y.blueGL,Y.greenGL,Y.redGL,1),Y.alphaGL)}},getCurrentStencilMask:function(){var F=null,O=this.maskStack,N=this.currentCameraMask;return O.length>0?F=O[O.length-1]:N.mask&&N.mask.isStencil&&(F=N),F},postRenderCamera:function(F){var O=F.flashEffect,N=F.fadeEffect;if(O.isRunning||N.isRunning||N.isComplete){var b=this.pipelines.setMulti();O.postRenderWebGL(b,E.getTintFromFloats),N.postRenderWebGL(b,E.getTintFromFloats)}F.dirty=!1,this.popScissor(),F.mask&&(this.currentCameraMask.mask=null,F.mask.postRenderWebGL(this,F._maskCamera)),this.pipelines.postBatchCamera(F),F.emit(f.POST_RENDER,F)},preRender:function(){if(!this.contextLost){var F=this.gl;if(F.bindFramebuffer(F.FRAMEBUFFER,null),this.emit(a.PRE_RENDER_CLEAR),this.config.clearBeforeRender){var O=this.config.backgroundColor;F.clearColor(O.redGL,O.greenGL,O.blueGL,O.alphaGL),F.clear(F.COLOR_BUFFER_BIT|F.DEPTH_BUFFER_BIT|F.STENCIL_BUFFER_BIT)}F.enable(F.SCISSOR_TEST),this.currentScissor=this.defaultScissor,this.scissorStack.length=0,this.scissorStack.push(this.currentScissor),this.game.scene.customViewports&&F.scissor(0,this.drawingBufferHeight-this.height,this.width,this.height),this.currentMask.mask=null,this.currentCameraMask.mask=null,this.maskStack.length=0,this.emit(a.PRE_RENDER)}},render:function(F,O,N){if(!this.contextLost){var b=O.length;if(this.emit(a.RENDER,F,N),this.preRenderCamera(N),b===0){this.setBlendMode(o.BlendModes.NORMAL),this.postRenderCamera(N);return}this.currentType="";for(var V=this.currentMask,Y=0;Y<b;Y++){this.finalType=Y===b-1;var W=O[Y],U=W.mask;V=this.currentMask,V.mask&&V.mask!==U&&V.mask.postRenderWebGL(this,V.camera),U&&V.mask!==U&&U.preRenderWebGL(this,W,N),W.blendMode!==this.currentBlendMode&&this.setBlendMode(W.blendMode);var z=W.type;z!==this.currentType&&(this.newType=!0,this.currentType=z),this.finalType?this.nextTypeMatch=!1:this.nextTypeMatch=O[Y+1].type===this.currentType,W.renderWebGL(this,W,N),this.newType=!1}V=this.currentMask,V.mask&&V.mask.postRenderWebGL(this,V.camera),this.setBlendMode(o.BlendModes.NORMAL),this.postRenderCamera(N)}},postRender:function(){if(!this.contextLost){this.flush(),this.emit(a.POST_RENDER);var F=this.snapshotState;F.callback&&(w(this.gl,F),F.callback=null)}},clearStencilMask:function(){this.gl.disable(this.gl.STENCIL_TEST)},restoreStencilMask:function(){var F=this.gl,O=this.getCurrentStencilMask();if(O){var N=O.mask;F.enable(F.STENCIL_TEST),N.invertAlpha?F.stencilFunc(F.NOTEQUAL,N.level,255):F.stencilFunc(F.EQUAL,N.level,255)}},snapshot:function(F,O,N){return this.snapshotArea(0,0,this.gl.drawingBufferWidth,this.gl.drawingBufferHeight,F,O,N)},snapshotArea:function(F,O,N,b,V,Y,W){var U=this.snapshotState;return U.callback=V,U.type=Y,U.encoder=W,U.getPixel=!1,U.x=F,U.y=O,U.width=N,U.height=b,this},snapshotPixel:function(F,O,N){return this.snapshotArea(F,O,1,1,N),this.snapshotState.getPixel=!0,this},snapshotFramebuffer:function(F,O,N,b,V,Y,W,U,z,B,X){V===void 0&&(V=!1),Y===void 0&&(Y=0),W===void 0&&(W=0),U===void 0&&(U=O),z===void 0&&(z=N),B==="pixel"&&(V=!0,B="image/png");var G=this.currentFramebuffer;this.snapshotArea(Y,W,U,z,b,B,X);var H=this.snapshotState;return H.getPixel=V,H.isFramebuffer=!0,H.bufferWidth=O,H.bufferHeight=N,H.width=Math.min(H.width,O),H.height=Math.min(H.height,N),this.setFramebuffer(F),w(this.gl,H),this.setFramebuffer(G),H.callback=null,H.isFramebuffer=!1,this},canvasToTexture:function(F,O,N,b){N===void 0&&(N=!1),b===void 0&&(b=!1);var V=this.gl,Y=V.NEAREST,W=V.NEAREST,U=F.width,z=F.height,B=V.CLAMP_TO_EDGE,X=c(U,z);return!N&&X&&(B=V.REPEAT),this.config.antialias&&(Y=X&&this.mipmapFilter?this.mipmapFilter:V.LINEAR,W=V.LINEAR),O?(O.update(F,U,z,b,B,B,Y,W,O.format),O):this.createTexture2D(0,Y,W,B,B,V.RGBA,F,U,z,!0,!1,b)},createCanvasTexture:function(F,O,N){return O===void 0&&(O=!1),N===void 0&&(N=!1),this.canvasToTexture(F,null,O,N)},updateCanvasTexture:function(F,O,N,b){return N===void 0&&(N=!1),b===void 0&&(b=!1),this.canvasToTexture(F,O,b,N)},videoToTexture:function(F,O,N,b){N===void 0&&(N=!1),b===void 0&&(b=!1);var V=this.gl,Y=V.NEAREST,W=V.NEAREST,U=F.videoWidth,z=F.videoHeight,B=V.CLAMP_TO_EDGE,X=c(U,z);return!N&&X&&(B=V.REPEAT),this.config.antialias&&(Y=X&&this.mipmapFilter?this.mipmapFilter:V.LINEAR,W=V.LINEAR),O?(O.update(F,U,z,b,B,B,Y,W,O.format),O):this.createTexture2D(0,Y,W,B,B,V.RGBA,F,U,z,!0,!0,b)},createVideoTexture:function(F,O,N){return O===void 0&&(O=!1),N===void 0&&(N=!1),this.videoToTexture(F,null,O,N)},updateVideoTexture:function(F,O,N,b){return N===void 0&&(N=!1),b===void 0&&(b=!1),this.videoToTexture(F,O,b,N)},createUint8ArrayTexture:function(F,O,N){var b=this.gl,V=b.NEAREST,Y=b.NEAREST,W=b.CLAMP_TO_EDGE,U=c(O,N);return U&&(W=b.REPEAT),this.createTexture2D(0,V,Y,W,W,b.RGBA,F,O,N)},setTextureFilter:function(F,O){var N=this.gl,b=O===0?N.LINEAR:N.NEAREST;N.activeTexture(N.TEXTURE0);var V=N.getParameter(N.TEXTURE_BINDING_2D);return N.bindTexture(N.TEXTURE_2D,F.webGLTexture),N.texParameteri(N.TEXTURE_2D,N.TEXTURE_MIN_FILTER,b),N.texParameteri(N.TEXTURE_2D,N.TEXTURE_MAG_FILTER,b),F.minFilter=b,F.magFilter=b,V&&N.bindTexture(N.TEXTURE_2D,V),this},getMaxTextureSize:function(){return this.config.maxTextureSize},destroy:function(){this.canvas.removeEventListener("webglcontextlost",this.contextLostHandler,!1),this.canvas.removeEventListener("webglcontextrestored",this.contextRestoredHandler,!1);var F=function(O){O.destroy()};u(this.glAttribLocationWrappers,F),u(this.glBufferWrappers,F),u(this.glFramebufferWrappers,F),u(this.glProgramWrappers,F),u(this.glTextureWrappers,F),u(this.glUniformLocationWrappers,F),this.maskTarget.destroy(),this.maskSource.destroy(),this.pipelines.destroy(),this.removeAllListeners(),this.fboStack=[],this.maskStack=[],this.extensions={},this.textureIndexes=[],this.gl=null,this.game=null,this.canvas=null,this.contextLost=!0,this.currentMask=null,this.currentCameraMask=null}});h.exports=L},38683:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(95428),f=e(95540),l=e(14500),o=new u({initialize:function(a,c,r,d,v){this.pipeline=a,this.name=c,this.renderer=a.renderer,this.gl=this.renderer.gl,this.fragSrc=d,this.vertSrc=r,this.program=this.renderer.createProgram(r,d),this.attributes,this.vertexComponentCount=0,this.vertexSize=0,this.uniforms={},this.createAttributes(v),this.createUniforms()},createAttributes:function(s){var a=0,c=0,r=[];this.vertexComponentCount=0;for(var d=0;d<s.length;d++){var v=s[d],p=v.name,m=f(v,"size",1),x=f(v,"type",l.FLOAT),E=x.enum,w=x.size,C=!!v.normalized;r.push({name:p,size:m,type:E,normalized:C,offset:c,enabled:!1,location:-1}),w===4?a+=m:a++,c+=m*w}this.vertexSize=c,this.vertexComponentCount=a,this.attributes=r},bind:function(s,a){return s===void 0&&(s=!1),a===void 0&&(a=!1),a&&this.pipeline.flush(),this.renderer.setProgram(this.program),s&&this.setAttribPointers(),this},rebind:function(){return this.renderer.setProgram(this.program),this.setAttribPointers(!0),this},setAttribPointers:function(s){s===void 0&&(s=!1);for(var a=this.gl,c=this.renderer,r=this.vertexSize,d=this.attributes,v=this.program,p=0;p<d.length;p++){var m=d[p],x=m.size,E=m.type,w=m.offset,C=m.enabled,P=m.location,R=!!m.normalized;if(s){P!==-1&&c.deleteAttribLocation(P);var M=this.renderer.createAttribLocation(v,m.name);M.webGLAttribLocation>=0?(a.enableVertexAttribArray(M.webGLAttribLocation),a.vertexAttribPointer(M.webGLAttribLocation,x,E,R,r,w),m.enabled=!0,m.location=M):M.webGLAttribLocation!==-1&&a.disableVertexAttribArray(M.webGLAttribLocation)}else C?a.vertexAttribPointer(P.webGLAttribLocation,x,E,R,r,w):!C&&P!==-1&&P.webGLAttribLocation>-1&&(a.disableVertexAttribArray(P.webGLAttribLocation),m.location=-1)}return this},createUniforms:function(){var s=this.gl,a=this.program,c=this.uniforms,r,d,v,p=s.getProgramParameter(a.webGLProgram,s.ACTIVE_UNIFORMS);for(r=0;r<p;r++){var m=s.getActiveUniform(a.webGLProgram,r);if(m){d=m.name,v=this.renderer.createUniformLocation(a,d),v!==null&&(c[d]={name:d,location:v,setter:null,value1:null,value2:null,value3:null,value4:null});var x=d.indexOf("[");x>0&&(d=d.substr(0,x),c.hasOwnProperty(d)||(v=this.renderer.createUniformLocation(a,d),v!==null&&(c[d]={name:d,location:v,setter:null,value1:null,value2:null,value3:null,value4:null})))}}return this},syncUniforms:function(){var s=this.gl;this.renderer.setProgram(this.program);for(var a in this.uniforms){var c=this.uniforms[a];c.setter&&c.setter.call(s,c.location.webGLUniformLocation,c.value1,c.value2,c.value3,c.value4)}},hasUniform:function(s){return this.uniforms.hasOwnProperty(s)},resetUniform:function(s){var a=this.uniforms[s];return a&&(a.value1=null,a.value2=null,a.value3=null,a.value4=null),this},setUniform1:function(s,a,c,r){var d=this.uniforms[a];return d?((r||d.value1!==c)&&(d.setter||(d.setter=s),d.value1=c,this.renderer.setProgram(this.program),s.call(this.gl,d.location.webGLUniformLocation,c),this.pipeline.currentShader=this),this):this},setUniform2:function(s,a,c,r,d){var v=this.uniforms[a];return v?((d||v.value1!==c||v.value2!==r)&&(v.setter||(v.setter=s),v.value1=c,v.value2=r,this.renderer.setProgram(this.program),s.call(this.gl,v.location.webGLUniformLocation,c,r),this.pipeline.currentShader=this),this):this},setUniform3:function(s,a,c,r,d,v){var p=this.uniforms[a];return p?((v||p.value1!==c||p.value2!==r||p.value3!==d)&&(p.setter||(p.setter=s),p.value1=c,p.value2=r,p.value3=d,this.renderer.setProgram(this.program),s.call(this.gl,p.location.webGLUniformLocation,c,r,d),this.pipeline.currentShader=this),this):this},setUniform4:function(s,a,c,r,d,v,p){var m=this.uniforms[a];return m?((p||m.value1!==c||m.value2!==r||m.value3!==d||m.value4!==v)&&(m.setter||(m.setter=s),m.value1=c,m.value2=r,m.value3=d,m.value4=v,this.renderer.setProgram(this.program),s.call(this.gl,m.location.webGLUniformLocation,c,r,d,v),this.pipeline.currentShader=this),this):this},setBoolean:function(s,a){return this.setUniform1(this.gl.uniform1i,s,Number(a))},set1f:function(s,a){return this.setUniform1(this.gl.uniform1f,s,a)},set2f:function(s,a,c){return this.setUniform2(this.gl.uniform2f,s,a,c)},set3f:function(s,a,c,r){return this.setUniform3(this.gl.uniform3f,s,a,c,r)},set4f:function(s,a,c,r,d){return this.setUniform4(this.gl.uniform4f,s,a,c,r,d)},set1fv:function(s,a){return this.setUniform1(this.gl.uniform1fv,s,a,!0)},set2fv:function(s,a){return this.setUniform1(this.gl.uniform2fv,s,a,!0)},set3fv:function(s,a){return this.setUniform1(this.gl.uniform3fv,s,a,!0)},set4fv:function(s,a){return this.setUniform1(this.gl.uniform4fv,s,a,!0)},set1iv:function(s,a){return this.setUniform1(this.gl.uniform1iv,s,a,!0)},set2iv:function(s,a){return this.setUniform1(this.gl.uniform2iv,s,a,!0)},set3iv:function(s,a){return this.setUniform1(this.gl.uniform3iv,s,a,!0)},set4iv:function(s,a){return this.setUniform1(this.gl.uniform4iv,s,a,!0)},set1i:function(s,a){return this.setUniform1(this.gl.uniform1i,s,a)},set2i:function(s,a,c){return this.setUniform2(this.gl.uniform2i,s,a,c)},set3i:function(s,a,c,r){return this.setUniform3(this.gl.uniform3i,s,a,c,r)},set4i:function(s,a,c,r,d){return this.setUniform4(this.gl.uniform4i,s,a,c,r,d)},setMatrix2fv:function(s,a,c){return this.setUniform2(this.gl.uniformMatrix2fv,s,a,c,!0)},setMatrix3fv:function(s,a,c){return this.setUniform2(this.gl.uniformMatrix3fv,s,a,c,!0)},setMatrix4fv:function(s,a,c){return this.setUniform2(this.gl.uniformMatrix4fv,s,a,c,!0)},createProgram:function(s,a){return s===void 0&&(s=this.vertSrc),a===void 0&&(a=this.fragSrc),this.program&&this.renderer.deleteProgram(this.program),this.vertSrc=s,this.fragSrc=a,this.program=this.renderer.createProgram(s,a),this.createUniforms(),this.rebind()},destroy:function(){var s=this.renderer;y(this.uniforms,function(a){s.deleteUniformLocation(a.location)}),this.uniforms=null,y(this.attributes,function(a){s.deleteAttribLocation(a.location)}),this.attributes=null,s.deleteProgram(this.program),this.pipeline=null,this.renderer=null,this.gl=null,this.program=null}});h.exports=o},14500:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={BYTE:{enum:5120,size:1},UNSIGNED_BYTE:{enum:5121,size:1},SHORT:{enum:5122,size:2},UNSIGNED_SHORT:{enum:5123,size:2},INT:{enum:5124,size:4},UNSIGNED_INT:{enum:5125,size:4},FLOAT:{enum:5126,size:4}};h.exports=S},4159:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(14500),y=e(79291),f={PipelineManager:e(7530),Pipelines:e(96615),RenderTarget:e(32302),Utils:e(70554),WebGLPipeline:e(29100),WebGLRenderer:e(74797),WebGLShader:e(38683),Wrappers:e(9503)};f=y(!1,f,u),h.exports=f},31302:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(95540),f=e(78908),l=e(85191),o=e(14500),s=e(29100),a=new u({Extends:s,initialize:function(r){r.fragShader=y(r,"fragShader",f),r.vertShader=y(r,"vertShader",l),r.batchSize=y(r,"batchSize",1),r.vertices=y(r,"vertices",[-1,1,-1,-7,7,1]),r.attributes=y(r,"attributes",[{name:"inPosition",size:2,type:o.FLOAT}]),s.call(this,r)},boot:function(){s.prototype.boot.call(this),this.set1i("uMainSampler",0),this.set1i("uMaskSampler",1)},resize:function(c,r){s.prototype.resize.call(this,c,r),this.set2f("uResolution",c,r)},beginMask:function(c,r,d){this.renderer.beginBitmapMask(c,d)},endMask:function(c,r,d){var v=this.gl,p=this.renderer,m=c.bitmapMask;m&&v&&(p.drawBitmapMask(m,r,this),d&&this.set2f("uResolution",d.width,d.height),this.set1i("uInvertMaskAlpha",c.invertAlpha),v.drawArrays(this.topology,0,3),d&&this.set2f("uResolution",this.width,this.height),v.bindTexture(v.TEXTURE_2D,null))}});h.exports=a},92651:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(58918),f=e(14811),l=e(95540),o=e(43558),s=e(89350),a=e(70554),c=new u({Extends:o,initialize:function(d){d.shaders=[a.setGlowQuality(s.FXGlowFrag,d.game),s.FXShadowFrag,s.FXPixelateFrag,s.FXVignetteFrag,s.FXShineFrag,s.FXBlurLowFrag,s.FXBlurMedFrag,s.FXBlurHighFrag,s.FXGradientFrag,s.FXBloomFrag,s.ColorMatrixFrag,s.FXCircleFrag,s.FXBarrelFrag,s.FXDisplacementFrag,s.FXWipeFrag,s.FXBokehFrag],o.call(this,d);var v=this.game;this.glow=new y.Glow(v),this.shadow=new y.Shadow(v),this.pixelate=new y.Pixelate(v),this.vignette=new y.Vignette(v),this.shine=new y.Shine(v),this.gradient=new y.Gradient(v),this.circle=new y.Circle(v),this.barrel=new y.Barrel(v),this.wipe=new y.Wipe(v),this.bokeh=new y.Bokeh(v);var p=[];p[f.GLOW]=this.onGlow,p[f.SHADOW]=this.onShadow,p[f.PIXELATE]=this.onPixelate,p[f.VIGNETTE]=this.onVignette,p[f.SHINE]=this.onShine,p[f.BLUR]=this.onBlur,p[f.GRADIENT]=this.onGradient,p[f.BLOOM]=this.onBloom,p[f.COLOR_MATRIX]=this.onColorMatrix,p[f.CIRCLE]=this.onCircle,p[f.BARREL]=this.onBarrel,p[f.DISPLACEMENT]=this.onDisplacement,p[f.WIPE]=this.onWipe,p[f.BOKEH]=this.onBokeh,this.fxHandlers=p,this.source,this.target,this.swap},onDraw:function(r,d,v){this.source=r,this.target=d,this.swap=v;var p=r.width,m=r.height,x=this.tempSprite,E=this.fxHandlers;if(x&&x.preFX)for(var w=x.preFX.list,C=0;C<w.length;C++){var P=w[C];P.active&&E[P.type].call(this,P,p,m)}this.drawToGame(this.source)},runDraw:function(){var r=this.source,d=this.target;this.copy(r,d),this.source=d,this.target=r},onGlow:function(r,d,v){var p=this.shaders[f.GLOW];this.setShader(p),this.glow.onPreRender(r,p,d,v),this.runDraw()},onShadow:function(r){var d=this.shaders[f.SHADOW];this.setShader(d),this.shadow.onPreRender(r,d),this.runDraw()},onPixelate:function(r,d,v){var p=this.shaders[f.PIXELATE];this.setShader(p),this.pixelate.onPreRender(r,p,d,v),this.runDraw()},onVignette:function(r){var d=this.shaders[f.VIGNETTE];this.setShader(d),this.vignette.onPreRender(r,d),this.runDraw()},onShine:function(r,d,v){var p=this.shaders[f.SHINE];this.setShader(p),this.shine.onPreRender(r,p,d,v),this.runDraw()},onBlur:function(r,d,v){var p=l(r,"quality"),m=this.shaders[f.BLUR+p];this.setShader(m),this.set1i("uMainSampler",0),this.set2f("resolution",d,v),this.set1f("strength",l(r,"strength")),this.set3fv("color",l(r,"glcolor"));for(var x=l(r,"x"),E=l(r,"y"),w=l(r,"steps"),C=0;C<w;C++)this.set2f("offset",x,0),this.runDraw(),this.set2f("offset",0,E),this.runDraw()},onGradient:function(r){var d=this.shaders[f.GRADIENT];this.setShader(d),this.gradient.onPreRender(r,d),this.runDraw()},onBloom:function(r,d,v){var p=this.shaders[f.BLOOM];this.copySprite(this.source,this.swap),this.setShader(p),this.set1i("uMainSampler",0),this.set1f("strength",l(r,"blurStrength")),this.set3fv("color",l(r,"glcolor"));for(var m=2/d*l(r,"offsetX"),x=2/v*l(r,"offsetY"),E=l(r,"steps"),w=0;w<E;w++)this.set2f("offset",m,0),this.runDraw(),this.set2f("offset",0,x),this.runDraw();this.blendFrames(this.swap,this.source,this.target,l(r,"strength")),this.copySprite(this.target,this.source)},onColorMatrix:function(r){this.setShader(this.colorMatrixShader),this.set1fv("uColorMatrix",r.getData()),this.set1f("uAlpha",r.alpha),this.runDraw()},onCircle:function(r,d,v){var p=this.shaders[f.CIRCLE];this.setShader(p),this.circle.onPreRender(r,p,d,v),this.runDraw()},onBarrel:function(r){var d=this.shaders[f.BARREL];this.setShader(d),this.barrel.onPreRender(r,d),this.runDraw()},onDisplacement:function(r){this.setShader(this.shaders[f.DISPLACEMENT]),this.set1i("uDisplacementSampler",1),this.set2f("amount",r.x,r.y),this.bindTexture(r.glTexture,1),this.runDraw()},onWipe:function(r){var d=this.shaders[f.WIPE];this.setShader(d),this.wipe.onPreRender(r,d),this.runDraw()},onBokeh:function(r,d,v){var p=this.shaders[f.BOKEH];this.setShader(p),this.bokeh.onPreRender(r,p,d,v),this.runDraw()},destroy:function(){return this.glow.destroy(),this.shadow.destroy(),this.pixelate.destroy(),this.vignette.destroy(),this.shine.destroy(),this.gradient.destroy(),this.circle.destroy(),this.barrel.destroy(),this.wipe.destroy(),this.bokeh.destroy(),this.fxHandlers=null,this.source=null,this.target=null,this.swap=null,o.prototype.destroy.call(this),this}});h.exports=c},96569:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(95540),f=e(31063),l=e(57516),o=e(61340),s=e(26099),a=e(29100),c=new u({Extends:l,initialize:function(d){var v=y(d,"fragShader",f);d.fragShader=v.replace("%LIGHT_COUNT%",d.game.renderer.config.maxLights),l.call(this,d),this.inverseRotationMatrix=new Float32Array([1,0,0,0,1,0,0,0,1]),this.currentNormalMap,this.lightsActive=!0,this.tempVec2=new s,this._tempMatrix=new o,this._tempMatrix2=new o},boot:function(){a.prototype.boot.call(this)},onRender:function(r,d){var v=r.sys.lights;if(this.lightsActive=!1,!(!v||!v.active)){var p=v.getLights(d),m=p.length;this.lightsActive=!0;var x,E=this.renderer,w=E.height,C=d.matrix,P=this.tempVec2;for(this.set1i("uMainSampler",0),this.set1i("uNormSampler",1),this.set2f("uResolution",this.width/2,this.height/2),this.set4f("uCamera",d.x,d.y,d.rotation,d.zoom),this.set3f("uAmbientLightColor",v.ambientColor.r,v.ambientColor.g,v.ambientColor.b),this.set1i("uLightCount",m),x=0;x<m;x++){var R=p[x].light,M=R.color,I="uLights["+x+"].";C.transformPoint(R.x,R.y,P),this.set2f(I+"position",P.x-d.scrollX*R.scrollFactorX*d.zoom,w-(P.y-d.scrollY*R.scrollFactorY*d.zoom)),this.set3f(I+"color",M.r,M.g,M.b),this.set1f(I+"intensity",R.intensity),this.set1f(I+"radius",R.radius)}this.currentNormalMapRotation=null}},setNormalMapRotation:function(r){if(r!==this.currentNormalMapRotation||this.vertexCount===0){this.vertexCount>0&&this.flush();var d=this.inverseRotationMatrix;if(r){var v=-r,p=Math.cos(v),m=Math.sin(v);d[1]=m,d[3]=-m,d[0]=d[4]=p}else d[0]=d[4]=1,d[1]=d[3]=0;this.setMatrix3fv("uInverseRotationMatrix",!1,d),this.currentNormalMapRotation=r}},setTexture2D:function(r,d){var v=this.renderer;r===void 0&&(r=v.whiteTexture);var p=this.getNormalMap(d);this.isNewNormalMap(r,p)&&(this.flush(),this.createBatch(r),this.addTextureToBatch(p),this.currentNormalMap=p);var m=0;if(d&&d.parentContainer){var x=d.getWorldTransformMatrix(this._tempMatrix,this._tempMatrix2);m=x.rotationNormalized}else d&&(m=d.rotation);return this.currentBatch===null&&(this.createBatch(r),this.addTextureToBatch(p)),this.setNormalMapRotation(m),0},setGameObject:function(r,d){d===void 0&&(d=r.frame);var v=d.glTexture,p=this.getNormalMap(r);if(this.isNewNormalMap(v,p)&&(this.flush(),this.createBatch(v),this.addTextureToBatch(p),this.currentNormalMap=p),r.parentContainer){var m=r.getWorldTransformMatrix(this._tempMatrix,this._tempMatrix2);this.setNormalMapRotation(m.rotationNormalized)}else this.setNormalMapRotation(r.rotation);return this.currentBatch===null&&(this.createBatch(v),this.addTextureToBatch(p)),0},isNewNormalMap:function(r,d){return this.currentTexture!==r||this.currentNormalMap!==d},getNormalMap:function(r){var d;if(r)r.displayTexture?d=r.displayTexture.dataSource[r.displayFrame.sourceIndex]:r.texture?d=r.texture.dataSource[r.frame.sourceIndex]:r.tileset&&(Array.isArray(r.tileset)?d=r.tileset[0].image.dataSource[0]:d=r.tileset.image.dataSource[0]);else return this.renderer.normalTexture;return d?d.glTexture:this.renderer.normalTexture},batchSprite:function(r,d,v){this.lightsActive&&l.prototype.batchSprite.call(this,r,d,v)},batchTexture:function(r,d,v,p,m,x,E,w,C,P,R,M,I,D,L,F,O,N,b,V,Y,W,U,z,B,X,G,H,$,k,j,Q){this.lightsActive&&l.prototype.batchTexture.call(this,r,d,v,p,m,x,E,w,C,P,R,M,I,D,L,F,O,N,b,V,Y,W,U,z,B,X,G,H,$,k,j,Q)},batchTextureFrame:function(r,d,v,p,m,x,E){this.lightsActive&&l.prototype.batchTextureFrame.call(this,r,d,v,p,m,x,E)}});h.exports=c},56527:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(95540),f=e(57516),l=e(45561),o=e(60722),s=e(14500),a=e(29100),c=new u({Extends:f,initialize:function(d){d.fragShader=y(d,"fragShader",l),d.vertShader=y(d,"vertShader",o),d.attributes=y(d,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2},{name:"inTexId"},{name:"inTintEffect"},{name:"inTint",size:4,type:s.UNSIGNED_BYTE,normalized:!0}]),d.forceZero=!0,d.resizeUniform="uResolution",f.call(this,d)},boot:function(){a.prototype.boot.call(this);var r=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",r.width,r.height)}});h.exports=c},57516:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(94811),f=e(95540),l=e(98840),o=e(44667),s=e(61340),a=e(70554),c=e(14500),r=e(29100),d=new u({Extends:r,initialize:function(p){var m=p.game.renderer,x=f(p,"fragShader",l);p.fragShader=a.parseFragmentShaderMaxTextures(x,m.maxTextures),p.vertShader=f(p,"vertShader",o),p.attributes=f(p,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2},{name:"inTexId"},{name:"inTintEffect"},{name:"inTint",size:4,type:c.UNSIGNED_BYTE,normalized:!0}]),p.resizeUniform="uResolution",r.call(this,p),this._tempMatrix1=new s,this._tempMatrix2=new s,this._tempMatrix3=new s,this.calcMatrix=new s,this.tempTriangle=[{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0}],this.strokeTint={TL:0,TR:0,BL:0,BR:0},this.fillTint={TL:0,TR:0,BL:0,BR:0},this.currentFrame={u0:0,v0:0,u1:1,v1:1},this.firstQuad=[0,0,0,0,0],this.prevQuad=[0,0,0,0,0],this.polygonCache=[]},boot:function(){r.prototype.boot.call(this);var v=this.renderer;this.set1iv("uMainSampler",v.textureIndexes),this.set2f("uResolution",v.width,v.height)},batchSprite:function(v,p,m){this.manager.set(this,v);var x=this._tempMatrix1,E=this._tempMatrix2,w=this._tempMatrix3,C=v.frame,P=C.glTexture,R=C.u0,M=C.v0,I=C.u1,D=C.v1,L=C.x,F=C.y,O=C.cutWidth,N=C.cutHeight,b=C.customPivot,V=v.displayOriginX,Y=v.displayOriginY,W=-V+L,U=-Y+F;if(v.isCropped){var z=v._crop;(z.flipX!==v.flipX||z.flipY!==v.flipY)&&C.updateCropUVs(z,v.flipX,v.flipY),R=z.u0,M=z.v0,I=z.u1,D=z.v1,O=z.width,N=z.height,L=z.x,F=z.y,W=-V+L,U=-Y+F}var B=1,X=1;v.flipX&&(b||(W+=-C.realWidth+V*2),B=-1),v.flipY&&(b||(U+=-C.realHeight+Y*2),X=-1);var G=v.x,H=v.y;p.roundPixels&&(G=Math.floor(G),H=Math.floor(H)),E.applyITRS(G,H,v.rotation,v.scaleX*B,v.scaleY*X),x.copyFrom(p.matrix),m?(x.multiplyWithOffset(m,-p.scrollX*v.scrollFactorX,-p.scrollY*v.scrollFactorY),E.e=G,E.f=H):(E.e-=p.scrollX*v.scrollFactorX,E.f-=p.scrollY*v.scrollFactorY),x.multiply(E,w);var $=w.setQuad(W,U,W+O,U+N,p.renderRoundPixels),k=a.getTintAppendFloatAlpha,j=p.alpha,Q=k(v.tintTopLeft,j*v._alphaTL),J=k(v.tintTopRight,j*v._alphaTR),q=k(v.tintBottomLeft,j*v._alphaBL),Z=k(v.tintBottomRight,j*v._alphaBR);this.shouldFlush(6)&&this.flush();var it=this.setGameObject(v,C);this.manager.preBatch(v),this.batchQuad(v,$[0],$[1],$[2],$[3],$[4],$[5],$[6],$[7],R,M,I,D,Q,J,q,Z,v.tintFill,P,it),this.manager.postBatch(v)},batchTexture:function(v,p,m,x,E,w,C,P,R,M,I,D,L,F,O,N,b,V,Y,W,U,z,B,X,G,H,$,k,j,Q,J,q,Z){Z===void 0&&(Z=!1),this.manager.set(this,v);var it=this._tempMatrix1,rt=this._tempMatrix2,et=this._tempMatrix3,ct=V/m+$,pt=Y/x+k,mt=(V+W)/m+$,nt=(Y+U)/x+k,lt=C,ht=P,Tt=-N,It=-b;if(v.isCropped){var Vt=v._crop,At=Vt.width,Rt=Vt.height;lt=At,ht=Rt,C=At,P=Rt,V=Vt.x,Y=Vt.y;var $t=V,fe=Y;D&&($t=W-Vt.x-At),L&&(fe=U-Vt.y-Rt),ct=$t/m+$,pt=fe/x+k,mt=($t+At)/m+$,nt=(fe+Rt)/x+k,Tt=-N+V,It=-b+Y}L=L^(!J&&p.isRenderTexture?1:0),D&&(lt*=-1,Tt+=C),L&&(ht*=-1,It+=P),j.roundPixels&&(E=Math.floor(E),w=Math.floor(w)),rt.applyITRS(E,w,I,R,M),it.copyFrom(j.matrix),Q?(it.multiplyWithOffset(Q,-j.scrollX*F,-j.scrollY*O),rt.e=E,rt.f=w):(rt.e-=j.scrollX*F,rt.f-=j.scrollY*O),it.multiply(rt,et);var Nt=et.setQuad(Tt,It,Tt+lt,It+ht,j.renderRoundPixels);q==null&&(q=this.setTexture2D(p)),v&&!Z&&this.manager.preBatch(v),this.batchQuad(v,Nt[0],Nt[1],Nt[2],Nt[3],Nt[4],Nt[5],Nt[6],Nt[7],ct,pt,mt,nt,z,B,X,G,H,p,q),v&&!Z&&this.manager.postBatch(v)},batchTextureFrame:function(v,p,m,x,E,w,C){this.manager.set(this);var P=this._tempMatrix1.copyFrom(w),R=this._tempMatrix2;C?P.multiply(C,R):R=P;var M=R.setQuad(p,m,p+v.width,m+v.height),I=this.setTexture2D(v.source.glTexture);x=a.getTintAppendFloatAlpha(x,E),this.batchQuad(null,M[0],M[1],M[2],M[3],M[4],M[5],M[6],M[7],v.u0,v.v0,v.u1,v.v1,x,x,x,x,0,v.glTexture,I)},batchFillRect:function(v,p,m,x,E,w){this.renderer.pipelines.set(this);var C=this.calcMatrix;w&&w.multiply(E,C);var P=C.setQuad(v,p,v+m,p+x),R=this.fillTint;this.batchQuad(null,P[0],P[1],P[2],P[3],P[4],P[5],P[6],P[7],0,0,1,1,R.TL,R.TR,R.BL,R.BR,2)},batchFillTriangle:function(v,p,m,x,E,w,C,P){this.renderer.pipelines.set(this);var R=this.calcMatrix;P&&P.multiply(C,R);var M=R.getX(v,p),I=R.getY(v,p),D=R.getX(m,x),L=R.getY(m,x),F=R.getX(E,w),O=R.getY(E,w),N=this.fillTint;this.batchTri(null,M,I,D,L,F,O,0,0,1,1,N.TL,N.TR,N.BL,2)},batchStrokeTriangle:function(v,p,m,x,E,w,C,P,R){var M=this.tempTriangle;M[0].x=v,M[0].y=p,M[0].width=C,M[1].x=m,M[1].y=x,M[1].width=C,M[2].x=E,M[2].y=w,M[2].width=C,M[3].x=v,M[3].y=p,M[3].width=C,this.batchStrokePath(M,C,!1,P,R)},batchFillPath:function(v,p,m){this.renderer.pipelines.set(this);var x=this.calcMatrix;m&&m.multiply(p,x);for(var E=v.length,w=this.polygonCache,C,P,R=this.fillTint.TL,M=this.fillTint.TR,I=this.fillTint.BL,D=0;D<E;++D)P=v[D],w.push(P.x,P.y);C=y(w),E=C.length;for(var L=0;L<E;L+=3){var F=C[L+0]*2,O=C[L+1]*2,N=C[L+2]*2,b=w[F+0],V=w[F+1],Y=w[O+0],W=w[O+1],U=w[N+0],z=w[N+1],B=x.getX(b,V),X=x.getY(b,V),G=x.getX(Y,W),H=x.getY(Y,W),$=x.getX(U,z),k=x.getY(U,z);this.batchTri(null,B,X,G,H,$,k,0,0,1,1,R,M,I,2)}w.length=0},batchStrokePath:function(v,p,m,x,E){this.renderer.pipelines.set(this),this.prevQuad[4]=0,this.firstQuad[4]=0;for(var w=v.length-1,C=0;C<w;C++){var P=v[C],R=v[C+1];this.batchLine(P.x,P.y,R.x,R.y,P.width/2,R.width/2,p,C,!m&&C===w-1,x,E)}},batchLine:function(v,p,m,x,E,w,C,P,R,M,I){this.renderer.pipelines.set(this);var D=this.calcMatrix;I&&I.multiply(M,D);var L=m-v,F=x-p,O=Math.sqrt(L*L+F*F);if(O!==0){var N=E*(x-p)/O,b=E*(v-m)/O,V=w*(x-p)/O,Y=w*(v-m)/O,W=m-V,U=x-Y,z=v-N,B=p-b,X=m+V,G=x+Y,H=v+N,$=p+b,k=D.getX(W,U),j=D.getY(W,U),Q=D.getX(z,B),J=D.getY(z,B),q=D.getX(X,G),Z=D.getY(X,G),it=D.getX(H,$),rt=D.getY(H,$),et=this.strokeTint,ct=et.TL,pt=et.TR,mt=et.BL,nt=et.BR;if(this.batchQuad(null,it,rt,Q,J,k,j,q,Z,0,0,1,1,ct,pt,mt,nt,2),!(C<=2)){var lt=this.prevQuad,ht=this.firstQuad;P>0&&lt[4]?this.batchQuad(null,it,rt,Q,J,lt[0],lt[1],lt[2],lt[3],0,0,1,1,ct,pt,mt,nt,2):(ht[0]=it,ht[1]=rt,ht[2]=Q,ht[3]=J,ht[4]=1),R&&ht[4]?this.batchQuad(null,k,j,q,Z,ht[0],ht[1],ht[2],ht[3],0,0,1,1,ct,pt,mt,nt,2):(lt[0]=k,lt[1]=j,lt[2]=q,lt[3]=Z,lt[4]=1)}}},destroy:function(){return this._tempMatrix1.destroy(),this._tempMatrix2.destroy(),this._tempMatrix3.destroy(),this._tempMatrix1=null,this._tempMatrix1=null,this._tempMatrix1=null,r.prototype.destroy.call(this),this}});h.exports=d},43439:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(95540),f=e(4127),l=e(89924),o=e(29100),s=new u({Extends:o,initialize:function(c){c.vertShader=y(c,"vertShader",l),c.fragShader=y(c,"fragShader",f),c.attributes=y(c,"attributes",[{name:"inPosition",size:2},{name:"inLightPosition",size:2},{name:"inLightRadius"},{name:"inLightAttenuation"},{name:"inLightColor",size:4}]),o.call(this,c)},onRender:function(a,c){this.set2f("uResolution",this.width,this.height),this.set1f("uCameraZoom",c.zoom)},batchPointLight:function(a,c,r,d,v,p,m,x,E,w,C,P){var R=a.color,M=a.intensity,I=a.radius,D=a.attenuation,L=R.r*M,F=R.g*M,O=R.b*M,N=c.alpha*a.alpha;this.shouldFlush(6)&&this.flush(),this.currentBatch||this.setTexture2D(),this.batchLightVert(r,d,C,P,I,D,L,F,O,N),this.batchLightVert(v,p,C,P,I,D,L,F,O,N),this.batchLightVert(m,x,C,P,I,D,L,F,O,N),this.batchLightVert(r,d,C,P,I,D,L,F,O,N),this.batchLightVert(m,x,C,P,I,D,L,F,O,N),this.batchLightVert(E,w,C,P,I,D,L,F,O,N),this.currentBatch.count=this.vertexCount-this.currentBatch.start},batchLightVert:function(a,c,r,d,v,p,m,x,E,w){var C=this.vertexViewF32,P=this.vertexCount*this.currentShader.vertexComponentCount-1;C[++P]=a,C[++P]=c,C[++P]=r,C[++P]=d,C[++P]=v,C[++P]=p,C[++P]=m,C[++P]=x,C[++P]=E,C[++P]=w,this.vertexCount++}});h.exports=s},84057:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(89422),f=e(95540),l=e(27681),o=e(49627),s=e(29100),a=new u({Extends:s,initialize:function(r){r.renderTarget=f(r,"renderTarget",1),r.fragShader=f(r,"fragShader",l),r.vertShader=f(r,"vertShader",o),r.attributes=f(r,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),r.batchSize=1,r.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],s.call(this,r),this.isPostFX=!0,this.gameObject,this.controller,this.colorMatrix=new y,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2,this.renderer.isBooted&&(this.manager=this.renderer.pipelines)},bootFX:function(){s.prototype.boot.call(this);var c=this.manager.UTILITY_PIPELINE;this.fullFrame1=c.fullFrame1,this.fullFrame2=c.fullFrame2,this.halfFrame1=c.halfFrame1,this.halfFrame2=c.halfFrame2;var r=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",r.width,r.height);for(var d=this.renderTargets,v=0;v<d.length;v++)d[v].autoResize=!0},postBatch:function(c){return this.hasBooted||(this.bootFX(),this.currentRenderTarget&&this.currentRenderTarget.bind()),this.onDraw(this.currentRenderTarget),this.onPostBatch(c),this},onDraw:function(c){this.bindAndDraw(c)},getController:function(c){return c!==void 0?c:this.controller?this.controller:this},copySprite:function(c,r,d){d===void 0&&(d=!1);var v=this.gl;v.activeTexture(v.TEXTURE0),v.bindTexture(v.TEXTURE_2D,c.texture.webGLTexture);var p=v.getParameter(v.FRAMEBUFFER_BINDING);v.bindFramebuffer(v.FRAMEBUFFER,r.framebuffer.webGLFramebuffer),v.framebufferTexture2D(v.FRAMEBUFFER,v.COLOR_ATTACHMENT0,v.TEXTURE_2D,r.texture.webGLTexture,0),v.clearColor(0,0,0,0),v.clear(v.COLOR_BUFFER_BIT),v.bufferData(v.ARRAY_BUFFER,this.vertexData,v.STATIC_DRAW),v.drawArrays(v.TRIANGLES,0,6),d&&(v.bindTexture(v.TEXTURE_2D,null),v.bindFramebuffer(v.FRAMEBUFFER,p))},copyFrame:function(c,r,d,v,p){this.manager.copyFrame(c,r,d,v,p)},copyToGame:function(c){this.manager.copyToGame(c)},drawFrame:function(c,r,d){this.manager.drawFrame(c,r,d,this.colorMatrix)},blendFrames:function(c,r,d,v,p){this.manager.blendFrames(c,r,d,v,p)},blendFramesAdditive:function(c,r,d,v,p){this.manager.blendFramesAdditive(c,r,d,v,p)},clearFrame:function(c,r){this.manager.clearFrame(c,r)},blitFrame:function(c,r,d,v,p,m){this.manager.blitFrame(c,r,d,v,p,m)},copyFrameRect:function(c,r,d,v,p,m,x,E){this.manager.copyFrameRect(c,r,d,v,p,m,x,E)},bindAndDraw:function(c,r,d,v,p){d===void 0&&(d=!0),v===void 0&&(v=!0);var m=this.gl,x=this.renderer;this.bind(p),this.set1i("uMainSampler",0),r?(m.viewport(0,0,r.width,r.height),m.bindFramebuffer(m.FRAMEBUFFER,r.framebuffer.webGLFramebuffer),m.framebufferTexture2D(m.FRAMEBUFFER,m.COLOR_ATTACHMENT0,m.TEXTURE_2D,r.texture.webGLTexture,0),d&&(v?m.clearColor(0,0,0,0):m.clearColor(0,0,0,1),m.clear(m.COLOR_BUFFER_BIT))):(x.popFramebuffer(!1,!1),x.currentFramebuffer||m.viewport(0,0,x.width,x.height)),x.restoreStencilMask(),m.activeTexture(m.TEXTURE0),m.bindTexture(m.TEXTURE_2D,c.texture.webGLTexture),m.bufferData(m.ARRAY_BUFFER,this.vertexData,m.STATIC_DRAW),m.drawArrays(m.TRIANGLES,0,6),r&&(m.bindTexture(m.TEXTURE_2D,null),m.bindFramebuffer(m.FRAMEBUFFER,x.currentFramebuffer.webGLFramebuffer))},destroy:function(){return this.controller&&this.controller.destroy(),this.gameObject=null,this.controller=null,this.colorMatrix=null,this.fullFrame1=null,this.fullFrame2=null,this.halfFrame1=null,this.halfFrame2=null,this.manager.removePostPipeline(this),s.prototype.destroy.call(this),this}});h.exports=a},43558:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(10312),y=e(67502),f=e(83419),l=e(96293),o=e(95540),s=e(57516),a=e(27681),c=e(87841),r=e(32302),d=e(45561),v=e(60722),p=e(29100),m=new f({Extends:s,initialize:function(E){var w=o(E,"fragShader",a),C=o(E,"vertShader",v),P=o(E,"drawShader",a),R=[{name:"DrawSprite",fragShader:d,vertShader:v},{name:"CopySprite",fragShader:w,vertShader:C},{name:"DrawGame",fragShader:P,vertShader:v},{name:"ColorMatrix",fragShader:l}],M=o(E,"shaders",[]);E.shaders=R.concat(M),E.vertShader||(E.vertShader=C),E.batchSize=1,s.call(this,E),this.isPreFX=!0,this.customMainSampler=null,this.drawSpriteShader,this.copyShader,this.gameShader,this.colorMatrixShader,this.quadVertexData,this.quadVertexBuffer,this.quadVertexViewF32,this.spriteBounds=new c,this.targetBounds=new c,this.fsTarget,this.tempSprite,this.renderer.isBooted&&(this.manager=this.renderer.pipelines,this.boot())},boot:function(){p.prototype.boot.call(this);var x=this.shaders,E=this.renderer;this.drawSpriteShader=x[0],this.copyShader=x[1],this.gameShader=x[2],this.colorMatrixShader=x[3],this.fsTarget=new r(E,E.width,E.height,1,0,!0,!0),this.renderTargets=this.manager.renderTargets.concat(this.fsTarget);var w=new ArrayBuffer(168);this.quadVertexData=w,this.quadVertexViewF32=new Float32Array(w),this.quadVertexBuffer=E.createVertexBuffer(w,this.gl.STATIC_DRAW),this.onResize(E.width,E.height),this.currentShader=this.copyShader,this.set2f("uResolution",E.width,E.height)},onResize:function(x,E){var w=this.quadVertexViewF32;w[1]=E,w[22]=E,w[14]=x,w[28]=x,w[35]=x,w[36]=E},batchQuad:function(x,E,w,C,P,R,M,I,D,L,F,O,N,b,V,Y,W,U,z){var B=Math.min(E,C,R,I),X=Math.min(w,P,M,D),G=Math.max(E,C,R,I),H=Math.max(w,P,M,D),$=G-B,k=H-X,j=this.spriteBounds.setTo(B,X,$,k),Q=x?x.preFX.padding:0,J=$+Q*2,q=k+Q*2,Z=Math.abs(Math.max(J,q)),it=this.manager.getRenderTarget(Z),rt=this.targetBounds.setTo(0,0,it.width,it.height);y(rt,Math.round(j.centerX),Math.round(j.centerY)),this.tempSprite=x;var et=this.gl,ct=this.renderer;ct.clearStencilMask(),this.setShader(this.drawSpriteShader),this.set1i("uMainSampler",0),this.set2f("uResolution",ct.width,ct.height),this.flipProjectionMatrix(!0),x&&(this.onDrawSprite(x,it),x.preFX.onFX(this));var pt=this.fsTarget;return this.flush(),et.viewport(0,0,ct.width,ct.height),et.bindFramebuffer(et.FRAMEBUFFER,pt.framebuffer.webGLFramebuffer),et.framebufferTexture2D(et.FRAMEBUFFER,et.COLOR_ATTACHMENT0,et.TEXTURE_2D,pt.texture.webGLTexture,0),et.clearColor(0,0,0,0),et.clear(et.COLOR_BUFFER_BIT),this.setTexture2D(z),this.batchVert(E,w,L,F,0,U,b),this.batchVert(C,P,L,N,0,U,Y),this.batchVert(R,M,O,N,0,U,W),this.batchVert(E,w,L,F,0,U,b),this.batchVert(R,M,O,N,0,U,W),this.batchVert(I,D,O,F,0,U,V),this.flush(),this.flipProjectionMatrix(!1),et.activeTexture(et.TEXTURE0),et.bindTexture(et.TEXTURE_2D,it.texture.webGLTexture),et.copyTexSubImage2D(et.TEXTURE_2D,0,0,0,rt.x,rt.y,rt.width,rt.height),et.bindFramebuffer(et.FRAMEBUFFER,null),et.bindTexture(et.TEXTURE_2D,null),this.onBatch(x),this.currentShader=this.copyShader,this.onDraw(it,this.manager.getSwapRenderTarget(),this.manager.getAltSwapRenderTarget()),!0},onDrawSprite:function(){},onCopySprite:function(){},copySprite:function(x,E,w,C,P,R,M){w===void 0&&(w=!0),C===void 0&&(C=!0),P===void 0&&(P=!1),M===void 0&&(M=this.copyShader);var I=this.gl,D=this.tempSprite;R&&(M=this.colorMatrixShader),this.currentShader=M;var L=this.setVertexBuffer(this.quadVertexBuffer);M.bind(L,!1);var F=this.renderer;if(this.set1i("uMainSampler",0),this.set2f("uResolution",F.width,F.height),D.preFX.onFXCopy(this),this.onCopySprite(x,E,D),R&&(this.set1fv("uColorMatrix",R.getData()),this.set1f("uAlpha",R.alpha)),I.activeTexture(I.TEXTURE0),I.bindTexture(I.TEXTURE_2D,x.texture.webGLTexture),x.height>E.height)I.viewport(0,0,x.width,x.height),this.setTargetUVs(x,E);else{var O=E.height-x.height;I.viewport(0,O,x.width,x.height),this.resetUVs()}if(I.bindFramebuffer(I.FRAMEBUFFER,E.framebuffer.webGLFramebuffer),I.framebufferTexture2D(I.FRAMEBUFFER,I.COLOR_ATTACHMENT0,I.TEXTURE_2D,E.texture.webGLTexture,0),w&&(I.clearColor(0,0,0,+!C),I.clear(I.COLOR_BUFFER_BIT)),P){var N=this.renderer.currentBlendMode;this.renderer.setBlendMode(u.ERASE)}I.bufferData(I.ARRAY_BUFFER,this.quadVertexData,I.STATIC_DRAW),I.drawArrays(I.TRIANGLES,0,6),P&&this.renderer.setBlendMode(N),I.bindFramebuffer(I.FRAMEBUFFER,null)},copy:function(x,E){var w=this.gl;this.set1i("uMainSampler",0),w.activeTexture(w.TEXTURE0),w.bindTexture(w.TEXTURE_2D,x.texture.webGLTexture),w.viewport(0,0,x.width,x.height),this.setUVs(0,0,0,1,1,1,1,0),w.bindFramebuffer(w.FRAMEBUFFER,E.framebuffer.webGLFramebuffer),w.framebufferTexture2D(w.FRAMEBUFFER,w.COLOR_ATTACHMENT0,w.TEXTURE_2D,E.texture.webGLTexture,0),w.clearColor(0,0,0,0),w.clear(w.COLOR_BUFFER_BIT),w.bufferData(w.ARRAY_BUFFER,this.quadVertexData,w.STATIC_DRAW),w.drawArrays(w.TRIANGLES,0,6),w.bindFramebuffer(w.FRAMEBUFFER,null)},blendFrames:function(x,E,w,C,P){this.manager.blendFrames(x,E,w,C,P)},blendFramesAdditive:function(x,E,w,C,P){this.manager.blendFramesAdditive(x,E,w,C,P)},drawToGame:function(x){this.currentShader=null,this.setShader(this.copyShader),this.bindAndDraw(x)},copyToGame:function(x){this.currentShader=null,this.setShader(this.gameShader),this.bindAndDraw(x)},bindAndDraw:function(x){var E=this.gl,w=this.renderer;this.set1i("uMainSampler",0),this.customMainSampler?this.setTexture2D(this.customMainSampler):this.setTexture2D(x.texture);var C=this._tempMatrix1.loadIdentity(),P=this.targetBounds.x,R=this.targetBounds.y,M=P+x.width,I=R+x.height,D=C.getX(P,R),L=C.getX(P,I),F=C.getX(M,I),O=C.getX(M,R),N=C.getY(P,R),b=C.getY(P,I),V=C.getY(M,I),Y=C.getY(M,R),W=16777215;this.batchVert(D,N,0,0,0,0,W),this.batchVert(L,b,0,1,0,0,W),this.batchVert(F,V,1,1,0,0,W),this.batchVert(D,N,0,0,0,0,W),this.batchVert(F,V,1,1,0,0,W),this.batchVert(O,Y,1,0,0,0,W),w.restoreFramebuffer(!1,!0),w.currentFramebuffer||E.viewport(0,0,w.width,w.height),w.restoreStencilMask(),this.flush(),this.tempSprite=null},onDraw:function(x){this.drawToGame(x)},setUVs:function(x,E,w,C,P,R,M,I){var D=this.quadVertexViewF32;D[2]=x,D[3]=E,D[9]=w,D[10]=C,D[16]=P,D[17]=R,D[23]=x,D[24]=E,D[30]=P,D[31]=R,D[37]=M,D[38]=I},setTargetUVs:function(x,E){var w=E.height/x.height;w>.5?w=.5-(w-.5):w=.5+(.5-w),this.setUVs(0,w,0,1+w,1,1+w,1,w)},resetUVs:function(){this.setUVs(0,0,0,1,1,1,1,0)},destroy:function(){return this.renderer.deleteBuffer(this.quadVertexBuffer),this.drawSpriteShader=null,this.copyShader=null,this.gameShader=null,this.colorMatrixShader=null,this.quadVertexData=null,this.quadVertexBuffer=null,this.quadVertexViewF32=null,this.fsTarget=null,this.tempSprite=null,s.prototype.destroy.call(this),this}});h.exports=m},81041:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(95540),f=e(57516),l=new u({Extends:f,initialize:function(s){s.topology=5,s.batchSize=y(s,"batchSize",256),f.call(this,s)}});h.exports=l},12385:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(95540),f=e(57516),l=e(45561),o=e(60722),s=e(29100),a=new u({Extends:f,initialize:function(r){r.fragShader=y(r,"fragShader",l),r.vertShader=y(r,"vertShader",o),r.forceZero=!0,f.call(this,r)},boot:function(){s.prototype.boot.call(this);var c=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",c.width,c.height)}});h.exports=a},7589:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(35407),y=e(10312),f=e(83419),l=e(89422),o=e(96293),s=e(36682),a=e(95540),c=e(48247),r=e(49627),d=e(29100),v=new f({Extends:d,initialize:function(m){m.renderTarget=a(m,"renderTarget",[{scale:1,autoResize:!0},{scale:1,autoResize:!0},{scale:.5,autoResize:!0},{scale:.5,autoResize:!0}]),m.vertShader=a(m,"vertShader",r),m.shaders=a(m,"shaders",[{name:"Copy",fragShader:s},{name:"AddBlend",fragShader:u},{name:"LinearBlend",fragShader:c},{name:"ColorMatrix",fragShader:o}]),m.attributes=a(m,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),m.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],m.batchSize=1,d.call(this,m),this.colorMatrix=new l,this.copyShader,this.addShader,this.linearShader,this.colorMatrixShader,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2},boot:function(){d.prototype.boot.call(this);var p=this.shaders,m=this.renderTargets;this.copyShader=p[0],this.addShader=p[1],this.linearShader=p[2],this.colorMatrixShader=p[3],this.fullFrame1=m[0],this.fullFrame2=m[1],this.halfFrame1=m[2],this.halfFrame2=m[3]},copyFrame:function(p,m,x,E,w){x===void 0&&(x=1),E===void 0&&(E=!0),w===void 0&&(w=!0);var C=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",x),C.activeTexture(C.TEXTURE0),C.bindTexture(C.TEXTURE_2D,p.texture.webGLTexture),m?(C.viewport(0,0,m.width,m.height),C.bindFramebuffer(C.FRAMEBUFFER,m.framebuffer.webGLFramebuffer),C.framebufferTexture2D(C.FRAMEBUFFER,C.COLOR_ATTACHMENT0,C.TEXTURE_2D,m.texture.webGLTexture,0)):C.viewport(0,0,p.width,p.height),E&&(w?C.clearColor(0,0,0,0):C.clearColor(0,0,0,1),C.clear(C.COLOR_BUFFER_BIT)),C.bufferData(C.ARRAY_BUFFER,this.vertexData,C.STATIC_DRAW),C.drawArrays(C.TRIANGLES,0,6),C.bindFramebuffer(C.FRAMEBUFFER,null),C.bindTexture(C.TEXTURE_2D,null)},blitFrame:function(p,m,x,E,w,C,P){x===void 0&&(x=1),E===void 0&&(E=!0),w===void 0&&(w=!0),C===void 0&&(C=!1),P===void 0&&(P=!1);var R=this.gl;if(this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",x),R.activeTexture(R.TEXTURE0),R.bindTexture(R.TEXTURE_2D,p.texture.webGLTexture),p.height>m.height)R.viewport(0,0,p.width,p.height),this.setTargetUVs(p,m);else{var M=m.height-p.height;R.viewport(0,M,p.width,p.height)}if(R.bindFramebuffer(R.FRAMEBUFFER,m.framebuffer.webGLFramebuffer),R.framebufferTexture2D(R.FRAMEBUFFER,R.COLOR_ATTACHMENT0,R.TEXTURE_2D,m.texture.webGLTexture,0),E&&(w?R.clearColor(0,0,0,0):R.clearColor(0,0,0,1),R.clear(R.COLOR_BUFFER_BIT)),C){var I=this.renderer.currentBlendMode;this.renderer.setBlendMode(y.ERASE)}P&&this.flipY(),R.bufferData(R.ARRAY_BUFFER,this.vertexData,R.STATIC_DRAW),R.drawArrays(R.TRIANGLES,0,6),C&&this.renderer.setBlendMode(I),R.bindFramebuffer(R.FRAMEBUFFER,null),R.bindTexture(R.TEXTURE_2D,null),this.resetUVs()},copyFrameRect:function(p,m,x,E,w,C,P,R){P===void 0&&(P=!0),R===void 0&&(R=!0);var M=this.gl;M.bindFramebuffer(M.FRAMEBUFFER,p.framebuffer.webGLFramebuffer),M.framebufferTexture2D(M.FRAMEBUFFER,M.COLOR_ATTACHMENT0,M.TEXTURE_2D,p.texture.webGLTexture,0),P&&(R?M.clearColor(0,0,0,0):M.clearColor(0,0,0,1),M.clear(M.COLOR_BUFFER_BIT)),M.activeTexture(M.TEXTURE0),M.bindTexture(M.TEXTURE_2D,m.texture.webGLTexture),M.copyTexSubImage2D(M.TEXTURE_2D,0,0,0,x,E,w,C),M.bindFramebuffer(M.FRAMEBUFFER,null),M.bindTexture(M.TEXTURE_2D,null)},copyToGame:function(p){var m=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",1),this.renderer.popFramebuffer(),m.activeTexture(m.TEXTURE0),m.bindTexture(m.TEXTURE_2D,p.texture.webGLTexture),m.bufferData(m.ARRAY_BUFFER,this.vertexData,m.STATIC_DRAW),m.drawArrays(m.TRIANGLES,0,6)},drawFrame:function(p,m,x,E){x===void 0&&(x=!0),E===void 0&&(E=this.colorMatrix);var w=this.gl;this.setShader(this.colorMatrixShader),this.set1i("uMainSampler",0),this.set1fv("uColorMatrix",E.getData()),this.set1f("uAlpha",E.alpha),w.activeTexture(w.TEXTURE0),w.bindTexture(w.TEXTURE_2D,p.texture.webGLTexture),m?(w.viewport(0,0,m.width,m.height),w.bindFramebuffer(w.FRAMEBUFFER,m.framebuffer.webGLFramebuffer),w.framebufferTexture2D(w.FRAMEBUFFER,w.COLOR_ATTACHMENT0,w.TEXTURE_2D,m.texture.webGLTexture,0)):w.viewport(0,0,p.width,p.height),x?w.clearColor(0,0,0,0):w.clearColor(0,0,0,1),w.clear(w.COLOR_BUFFER_BIT),w.bufferData(w.ARRAY_BUFFER,this.vertexData,w.STATIC_DRAW),w.drawArrays(w.TRIANGLES,0,6),w.bindFramebuffer(w.FRAMEBUFFER,null),w.bindTexture(w.TEXTURE_2D,null)},blendFrames:function(p,m,x,E,w,C){E===void 0&&(E=1),w===void 0&&(w=!0),C===void 0&&(C=this.linearShader);var P=this.gl;this.setShader(C),this.set1i("uMainSampler1",0),this.set1i("uMainSampler2",1),this.set1f("uStrength",E),P.activeTexture(P.TEXTURE0),P.bindTexture(P.TEXTURE_2D,p.texture.webGLTexture),P.activeTexture(P.TEXTURE1),P.bindTexture(P.TEXTURE_2D,m.texture.webGLTexture),x?(P.bindFramebuffer(P.FRAMEBUFFER,x.framebuffer.webGLFramebuffer),P.framebufferTexture2D(P.FRAMEBUFFER,P.COLOR_ATTACHMENT0,P.TEXTURE_2D,x.texture.webGLTexture,0),P.viewport(0,0,x.width,x.height)):P.viewport(0,0,p.width,p.height),w?P.clearColor(0,0,0,0):P.clearColor(0,0,0,1),P.clear(P.COLOR_BUFFER_BIT),P.bufferData(P.ARRAY_BUFFER,this.vertexData,P.STATIC_DRAW),P.drawArrays(P.TRIANGLES,0,6),P.bindFramebuffer(P.FRAMEBUFFER,null),P.bindTexture(P.TEXTURE_2D,null)},blendFramesAdditive:function(p,m,x,E,w){this.blendFrames(p,m,x,E,w,this.addShader)},clearFrame:function(p,m){m===void 0&&(m=!0);var x=this.gl;x.viewport(0,0,p.width,p.height),x.bindFramebuffer(x.FRAMEBUFFER,p.framebuffer.webGLFramebuffer),m?x.clearColor(0,0,0,0):x.clearColor(0,0,0,1),x.clear(x.COLOR_BUFFER_BIT);var E=this.renderer.currentFramebuffer;x.bindFramebuffer(x.FRAMEBUFFER,E.webGLFramebuffer)},setUVs:function(p,m,x,E,w,C,P,R){var M=this.vertexViewF32;M[2]=p,M[3]=m,M[6]=x,M[7]=E,M[10]=w,M[11]=C,M[14]=p,M[15]=m,M[18]=w,M[19]=C,M[22]=P,M[23]=R},setTargetUVs:function(p,m){var x=m.height/p.height;x>.5?x=.5-(x-.5):x=.5+(.5-x),this.setUVs(0,x,0,1+x,1,1+x,1,x)},flipX:function(){this.setUVs(1,0,1,1,0,1,0,0)},flipY:function(){this.setUVs(0,1,0,0,1,0,1,1)},resetUVs:function(){this.setUVs(0,0,0,1,1,1,1,0)}});h.exports=v},36060:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={BITMAPMASK_PIPELINE:"BitmapMaskPipeline",LIGHT_PIPELINE:"Light2D",POINTLIGHT_PIPELINE:"PointLightPipeline",SINGLE_PIPELINE:"SinglePipeline",MULTI_PIPELINE:"MultiPipeline",ROPE_PIPELINE:"RopePipeline",GRAPHICS_PIPELINE:"GraphicsPipeline",POSTFX_PIPELINE:"PostFXPipeline",UTILITY_PIPELINE:"UtilityPipeline",MOBILE_PIPELINE:"MobilePipeline",FX_PIPELINE:"FxPipeline"};h.exports=S},84817:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="pipelineafterflush"},36712:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="pipelinebeforeflush"},40285:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="pipelinebind"},65918:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="pipelineboot"},92852:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="pipelinedestroy"},56072:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="pipelinerebind"},57566:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="pipelineresize"},77085:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={AFTER_FLUSH:e(84817),BEFORE_FLUSH:e(36712),BIND:e(40285),BOOT:e(65918),DESTROY:e(92852),REBIND:e(56072),RESIZE:e(57566)}},54812:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(99155),f=e(84057),l=new u({Extends:f,initialize:function(s){f.call(this,{game:s,fragShader:y}),this.amount=1},onPreRender:function(o,s){o=this.getController(o),this.set1f("amount",o.amount,s)}});h.exports=l},67329:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(24400),f=e(84057),l=new u({Extends:f,initialize:function(s){f.call(this,{game:s,fragShader:y}),this.steps=4,this.offsetX=1,this.offsetY=1,this.blurStrength=1,this.strength=1,this.glcolor=[1,1,1]},onPreRender:function(o){o=this.getController(o),this.set1f("strength",o.blurStrength),this.set3fv("color",o.glcolor)},onDraw:function(o){var s=this.getController(),a=this.fullFrame1,c=this.fullFrame2;this.copyFrame(o,c);for(var r=2/o.width*s.offsetX,d=2/o.height*s.offsetY,v=0;v<s.steps;v++)this.set2f("offset",r,0),this.copySprite(o,a),this.set2f("offset",0,d),this.copySprite(a,o);this.blendFrames(c,o,a,s.strength),this.copyToGame(a)}});h.exports=l},8861:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(41514),f=e(51078),l=e(94328),o=e(84057),s=new u({Extends:o,initialize:function(c){o.call(this,{game:c,shaders:[{name:"Gaussian5",fragShader:y},{name:"Gaussian9",fragShader:f},{name:"Gaussian13",fragShader:l}]}),this.activeShader=this.shaders[0],this.x=2,this.y=2,this.steps=4,this.strength=1,this.glcolor=[1,1,1]},setQualityLow:function(){return this.activeShader=this.shaders[0],this},setQualityMedium:function(){return this.activeShader=this.shaders[1],this},setQualityHigh:function(){return this.activeShader=this.shaders[2],this},onDraw:function(a){var c=this.getController(),r=this.gl,d=this.fullFrame1,v=r.getParameter(r.FRAMEBUFFER_BINDING);this.bind(this.shaders[c.quality]),r.activeTexture(r.TEXTURE0),r.viewport(0,0,a.width,a.height),this.set1i("uMainSampler",0),this.set2f("resolution",a.width,a.height),this.set1f("strength",c.strength),this.set3fv("color",c.glcolor);for(var p=0;p<c.steps;p++)this.set2f("offset",c.x,0),this.copySprite(a,d),this.set2f("offset",0,c.y),this.copySprite(d,a);r.bindFramebuffer(r.FRAMEBUFFER,v),r.bindTexture(r.TEXTURE_2D,null),this.copyToGame(a)}});h.exports=s},51051:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(90610),f=e(84057),l=new u({Extends:f,initialize:function(s){f.call(this,{game:s,fragShader:y}),this.isTiltShift=!1,this.strength=1,this.blurX=1,this.blurY=1,this.radius=.5,this.amount=1,this.contrast=.2},onPreRender:function(o,s,a,c){o=this.getController(o),this.set1f("radius",o.radius,s),this.set1f("amount",o.amount,s),this.set1f("contrast",o.contrast,s),this.set1f("strength",o.strength,s),this.set2f("blur",o.blurX,o.blurY,s),this.setBoolean("isTiltShift",o.isTiltShift,s),a&&c&&this.set2f("resolution",a,c,s)},onDraw:function(o){this.set2f("resolution",o.width,o.height),this.bindAndDraw(o)}});h.exports=l},89428:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(91899),f=e(84057),l=new u({Extends:f,initialize:function(s){f.call(this,{game:s,fragShader:y}),this.scale=1,this.feather=.005,this.thickness=8,this.glcolor=[1,.2,.7],this.glcolor2=[1,0,0,.4]},onPreRender:function(o,s,a,c){o=this.getController(o),this.set1f("scale",o.scale,s),this.set1f("feather",o.feather,s),this.set1f("thickness",o.thickness,s),this.set3fv("color",o.glcolor,s),this.set4fv("backgroundColor",o.glcolor2,s),a&&c&&this.set2f("resolution",a,c,s)},onDraw:function(o){this.set2f("resolution",o.width,o.height),this.bindAndDraw(o)}});h.exports=l},88904:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(84057),f=new u({Extends:y,initialize:function(o){y.call(this,{game:o})},onDraw:function(l){var o=this.fullFrame1;this.controller?this.manager.drawFrame(l,o,!0,this.controller):this.drawFrame(l,o),this.copyToGame(o)}});h.exports=f},63563:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(47838),f=e(84057),l=new u({Extends:f,initialize:function(s){f.call(this,{game:s,fragShader:y}),this.x=.005,this.y=.005,this.glTexture},onBoot:function(){this.setTexture("__WHITE")},setTexture:function(o){var s=this.game.textures.getFrame(o);s&&(this.glTexture=s.glTexture)},onDraw:function(o){var s=this.getController(),a=this.fullFrame1;this.bind(),this.set1i("uMainSampler",0),this.set1i("uDisplacementSampler",1),this.set2f("amount",s.x,s.y),this.bindTexture(s.glTexture,1),this.copySprite(o,a),this.copyToGame(a)}});h.exports=l},94045:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(95540),f=e(98656),l=e(84057),o=e(70554),s=new u({Extends:l,initialize:function(c,r){var d=y(r,"quality",.1),v=y(r,"distance",10);l.call(this,{game:c,fragShader:o.setGlowQuality(f,c,d,v)}),this.outerStrength=4,this.innerStrength=0,this.knockout=!1,this.glcolor=[1,1,1,1]},onPreRender:function(a,c,r,d){a=this.getController(a),this.set1f("outerStrength",a.outerStrength,c),this.set1f("innerStrength",a.innerStrength,c),this.set4fv("glowColor",a.glcolor,c),this.setBoolean("knockout",a.knockout,c),r&&d&&this.set2f("resolution",r,d,c)},onDraw:function(a){this.set2f("resolution",a.width,a.height),this.bindAndDraw(a)}});h.exports=s},74088:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(70463),f=e(84057),l=new u({Extends:f,initialize:function(s){f.call(this,{game:s,fragShader:y}),this.alpha=.2,this.size=0,this.fromX=0,this.fromY=0,this.toX=0,this.toY=1,this.glcolor1=[255,0,0],this.glcolor2=[0,255,0]},onPreRender:function(o,s){o=this.getController(o),this.set1f("alpha",o.alpha,s),this.set1i("size",o.size,s),this.set3fv("color1",o.glcolor1,s),this.set3fv("color2",o.glcolor2,s),this.set2f("positionFrom",o.fromX,o.fromY,s),this.set2f("positionTo",o.toX,o.toY,s)}});h.exports=l},99636:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(50831),f=e(84057),l=new u({Extends:f,initialize:function(s){f.call(this,{game:s,fragShader:y}),this.amount=1},onPreRender:function(o,s,a,c){o=this.getController(o),this.set1f("amount",o.amount,s),a&&c&&this.set2f("resolution",a,c,s)},onDraw:function(o){this.set2f("resolution",o.width,o.height),this.bindAndDraw(o)}});h.exports=l},34700:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(92595),f=e(84057),l=new u({Extends:f,initialize:function(s){f.call(this,{game:s,fragShader:y}),this.x=0,this.y=0,this.decay=.1,this.power=1,this.glcolor=[0,0,0,1],this.samples=6,this.intensity=1},onPreRender:function(o,s){o=this.getController(o);var a=o.samples;this.set1i("samples",a,s),this.set1f("intensity",o.intensity,s),this.set1f("decay",o.decay,s),this.set1f("power",o.power/a,s),this.set2f("lightPosition",o.x,o.y,s),this.set4fv("color",o.glcolor,s)}});h.exports=l},91157:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(72464),f=e(84057),l=new u({Extends:f,initialize:function(s){f.call(this,{game:s,fragShader:y}),this.speed=.5,this.lineWidth=.5,this.gradient=3,this.reveal=!1},onPreRender:function(o,s,a,c){o=this.getController(o),this.setTime("time",s),this.set1f("speed",o.speed,s),this.set1f("lineWidth",o.lineWidth,s),this.set1f("gradient",o.gradient,s),this.setBoolean("reveal",o.reveal,s),a&&c&&this.set2f("resolution",a,c,s)},onDraw:function(o){this.set2f("resolution",o.width,o.height),this.bindAndDraw(o)}});h.exports=l},27797:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(39249),f=e(84057),l=new u({Extends:f,initialize:function(s){f.call(this,{game:s,fragShader:y}),this.x=.5,this.y=.5,this.radius=.5,this.strength=.5},onPreRender:function(o,s){o=this.getController(o),this.set1f("radius",o.radius,s),this.set1f("strength",o.strength,s),this.set2f("position",o.x,o.y,s)}});h.exports=l},67603:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(2878),f=e(84057),l=new u({Extends:f,initialize:function(s){f.call(this,{game:s,fragShader:y}),this.progress=0,this.wipeWidth=.1,this.direction=0,this.axis=0,this.reveal=!1},onPreRender:function(o,s){o=this.getController(o);var a=o.progress,c=o.wipeWidth,r=o.direction,d=o.axis;this.set4f("config",a,c,r,d,s),this.setBoolean("reveal",o.reveal,s)}});h.exports=l},58918:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u={Barrel:e(54812),Bloom:e(67329),Blur:e(8861),Bokeh:e(51051),Circle:e(89428),ColorMatrix:e(88904),Displacement:e(63563),Glow:e(94045),Gradient:e(74088),Pixelate:e(99636),Shadow:e(34700),Shine:e(91157),Vignette:e(27797),Wipe:e(67603)};h.exports=u},96615:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(36060),y=e(79291),f={FX:e(58918),BitmapMaskPipeline:e(31302),Events:e(77085),FXPipeline:e(92651),LightPipeline:e(96569),MobilePipeline:e(56527),MultiPipeline:e(57516),PointLightPipeline:e(43439),PostFXPipeline:e(84057),PreFXPipeline:e(43558),RopePipeline:e(81041),SinglePipeline:e(12385),UtilityPipeline:e(7589)};f=y(!1,f,u),h.exports=f},35407:h=>{h.exports=["#define SHADER_NAME PHASER_ADD_BLEND_FS","precision mediump float;","uniform sampler2D uMainSampler1;","uniform sampler2D uMainSampler2;","uniform float uStrength;","varying vec2 outTexCoord;","void main ()","{","    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);","    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);","    gl_FragColor = frame1 + frame2 * uStrength;","}"].join(`
`)},78908:h=>{h.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_FS","precision mediump float;","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uMaskSampler;","uniform bool uInvertMaskAlpha;","void main ()","{","    vec2 uv = gl_FragCoord.xy / uResolution;","    vec4 mainColor = texture2D(uMainSampler, uv);","    vec4 maskColor = texture2D(uMaskSampler, uv);","    if (!uInvertMaskAlpha)","    {","        mainColor *= maskColor.a;","    }","    else","    {","        mainColor *= (1.0 - maskColor.a);","    }","    gl_FragColor = mainColor;","}"].join(`
`)},85191:h=>{h.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_VS","precision mediump float;","attribute vec2 inPosition;","void main ()","{","    gl_Position = vec4(inPosition, 0.0, 1.0);","}"].join(`
`)},96293:h=>{h.exports=["#define SHADER_NAME PHASER_COLORMATRIX_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float uColorMatrix[20];","uniform float uAlpha;","varying vec2 outTexCoord;","void main ()","{","    vec4 c = texture2D(uMainSampler, outTexCoord);","    if (uAlpha == 0.0)","    {","        gl_FragColor = c;","        return;","    }","    if (c.a > 0.0)","    {","        c.rgb /= c.a;","    }","    vec4 result;","    result.r = (uColorMatrix[0] * c.r) + (uColorMatrix[1] * c.g) + (uColorMatrix[2] * c.b) + (uColorMatrix[3] * c.a) + uColorMatrix[4];","    result.g = (uColorMatrix[5] * c.r) + (uColorMatrix[6] * c.g) + (uColorMatrix[7] * c.b) + (uColorMatrix[8] * c.a) + uColorMatrix[9];","    result.b = (uColorMatrix[10] * c.r) + (uColorMatrix[11] * c.g) + (uColorMatrix[12] * c.b) + (uColorMatrix[13] * c.a) + uColorMatrix[14];","    result.a = (uColorMatrix[15] * c.r) + (uColorMatrix[16] * c.g) + (uColorMatrix[17] * c.b) + (uColorMatrix[18] * c.a) + uColorMatrix[19];","    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);","    rgb *= result.a;","    gl_FragColor = vec4(rgb, result.a);","}"].join(`
`)},36682:h=>{h.exports=["#define SHADER_NAME PHASER_COPY_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float uBrightness;","varying vec2 outTexCoord;","void main ()","{","    gl_FragColor = texture2D(uMainSampler, outTexCoord) * uBrightness;","}"].join(`
`)},99155:h=>{h.exports=["#define SHADER_NAME BARREL_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float amount;","varying vec2 outTexCoord;","vec2 Distort(vec2 p)","{","    float theta  = atan(p.y, p.x);","    float radius = length(p);","    radius = pow(radius, amount);","    p.x = radius * cos(theta);","    p.y = radius * sin(theta);","    return 0.5 * (p + 1.0);","}","void main()","{","    vec2 xy = 2.0 * outTexCoord - 1.0;","    vec2 texCoord = outTexCoord;","    if (length(xy) < 1.0)","    {","        texCoord = Distort(xy);","    }","    gl_FragColor = texture2D(uMainSampler, texCoord);","}"].join(`
`)},24400:h=>{h.exports=["#define SHADER_NAME BLOOM_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec4 sum = texture2D(uMainSampler, outTexCoord) * 0.204164 * strength;","    sum = sum + texture2D(uMainSampler, outTexCoord + offset * 1.407333) * 0.304005;","    sum = sum + texture2D(uMainSampler, outTexCoord - offset * 1.407333) * 0.304005;","    sum = sum + texture2D(uMainSampler, outTexCoord + offset * 3.294215) * 0.093913;","    gl_FragColor = (sum + texture2D(uMainSampler, outTexCoord - offset * 3.294215) * 0.093913) * vec4(color, 1);","}"].join(`
`)},94328:h=>{h.exports=["#define SHADER_NAME BLUR_HIGH_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 off1 = vec2(1.411764705882353) * offset * strength;","    vec2 off2 = vec2(3.2941176470588234) * offset * strength;","    vec2 off3 = vec2(5.176470588235294) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.1964825501511404;","    col += texture2D(uMainSampler, uv + (off1 / resolution)) * 0.2969069646728344;","    col += texture2D(uMainSampler, uv - (off1 / resolution)) * 0.2969069646728344;","    col += texture2D(uMainSampler, uv + (off2 / resolution)) * 0.09447039785044732;","    col += texture2D(uMainSampler, uv - (off2 / resolution)) * 0.09447039785044732;","    col += texture2D(uMainSampler, uv + (off3 / resolution)) * 0.010381362401148057;","    col += texture2D(uMainSampler, uv - (off3 / resolution)) * 0.010381362401148057;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},41514:h=>{h.exports=["#define SHADER_NAME BLUR_LOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 offset = vec2(1.333) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.29411764705882354;","    col += texture2D(uMainSampler, uv + (offset / resolution)) * 0.35294117647058826;","    col += texture2D(uMainSampler, uv - (offset / resolution)) * 0.35294117647058826;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},51078:h=>{h.exports=["#define SHADER_NAME BLUR_MED_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 off1 = vec2(1.3846153846) * offset * strength;","    vec2 off2 = vec2(3.2307692308) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.2270270270;","    col += texture2D(uMainSampler, uv + (off1 / resolution)) * 0.3162162162;","    col += texture2D(uMainSampler, uv - (off1 / resolution)) * 0.3162162162;","    col += texture2D(uMainSampler, uv + (off2 / resolution)) * 0.0702702703;","    col += texture2D(uMainSampler, uv - (off2 / resolution)) * 0.0702702703;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},90610:h=>{h.exports=["#define SHADER_NAME BOKEH_FS","precision mediump float;","#define ITERATIONS 100.0","#define ONEOVER_ITR 1.0 / ITERATIONS","#define PI 3.141596","#define GOLDEN_ANGLE 2.39996323","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform float radius;","uniform float amount;","uniform float contrast;","uniform bool isTiltShift;","uniform float strength;","uniform vec2 blur;","varying vec2 outTexCoord;","vec2 Sample (in float theta, inout float r)","{","    r += 1.0 / r;","    return (r - 1.0) * vec2(cos(theta), sin(theta)) * 0.06;","}","vec3 Bokeh (sampler2D tex, vec2 uv, float radius)","{","    vec3 acc = vec3(0.0);","    vec3 div = vec3(0.0);","    vec2 pixel = vec2(resolution.y / resolution.x, 1.0) * radius * .025;","    float r = 1.0;","    for (float j = 0.0; j < GOLDEN_ANGLE * ITERATIONS; j += GOLDEN_ANGLE)","    {","        vec3 col = texture2D(tex, uv + pixel * Sample(j, r)).xyz;","        col = contrast > 0.0 ? col * col * (1.0 + contrast) : col;","        vec3 bokeh = vec3(0.5) + pow(col, vec3(10.0)) * amount;","        acc += col * bokeh;","        div += bokeh;","    }","    return acc / div;","}","void main ()","{","    float shift = 1.0;","    if (isTiltShift)","    {","        vec2 uv = vec2(gl_FragCoord.xy / resolution + vec2(-0.5, -0.5)) * 2.0;","        float centerStrength = 1.0;","        shift = length(uv * blur * strength) * centerStrength;","    }","    gl_FragColor = vec4(Bokeh(uMainSampler, outTexCoord * vec2(1.0, 1.0), radius * shift), 0.0);","}"].join(`
`)},91899:h=>{h.exports=["#define SHADER_NAME CIRCLE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec3 color;","uniform vec4 backgroundColor;","uniform float thickness;","uniform float scale;","uniform float feather;","varying vec2 outTexCoord;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec2 position = (gl_FragCoord.xy / resolution.xy) * 2.0 - 1.0;","    float aspectRatio = resolution.x / resolution.y;","    position.x *= aspectRatio;","    float grad = length(position);","    float outer = aspectRatio;","    float inner = outer - (thickness * 2.0 / resolution.y);","    if (aspectRatio >= 1.0)","    {","        float f = 2.0 + (resolution.y / resolution.x);","        outer = 1.0;","        inner = 1.0 - (thickness * f / resolution.x);","    }","    outer *= scale;","    inner *= scale;","    float circle = smoothstep(outer, outer - 0.01, grad);","    float ring = circle - smoothstep(inner, inner - feather, grad);","    texture = mix(backgroundColor * backgroundColor.a, texture, texture.a);","    texture = (texture * (circle - ring));","    gl_FragColor = vec4(texture.rgb + (ring * color), texture.a);","}"].join(`
`)},47838:h=>{h.exports=["#define SHADER_NAME DISPLACEMENT_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform sampler2D uDisplacementSampler;","uniform vec2 amount;","varying vec2 outTexCoord;","void main ()","{","    vec2 disp = (-vec2(0.5, 0.5) + texture2D(uDisplacementSampler, outTexCoord).rr) * amount;","    gl_FragColor = texture2D(uMainSampler, outTexCoord + disp).rgba;","}"].join(`
`)},98656:h=>{h.exports=["#define SHADER_NAME GLOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","uniform float outerStrength;","uniform float innerStrength;","uniform vec2 resolution;","uniform vec4 glowColor;","uniform bool knockout;","const float PI = 3.14159265358979323846264;","const float DIST = __DIST__;","const float SIZE = min(__SIZE__, PI * 2.0);","const float STEP = ceil(PI * 2.0 / SIZE);","const float MAX_ALPHA = STEP * DIST * (DIST + 1.0) / 2.0;","void main ()","{","    vec2 px = vec2(1.0 / resolution.x, 1.0 / resolution.y);","    float totalAlpha = 0.0;","    vec2 direction;","    vec2 displaced;","    vec4 color;","    for (float angle = 0.0; angle < PI * 2.0; angle += SIZE)","    {","        direction = vec2(cos(angle), sin(angle)) * px;","        for (float curDistance = 0.0; curDistance < DIST; curDistance++)","        {","            displaced = outTexCoord + direction * (curDistance + 1.0);","            color = texture2D(uMainSampler, displaced);","            totalAlpha += (DIST - curDistance) * color.a;","        }","    }","    color = texture2D(uMainSampler, outTexCoord);","    float alphaRatio = (totalAlpha / MAX_ALPHA);","    float innerGlowAlpha = (1.0 - alphaRatio) * innerStrength * color.a;","    float innerGlowStrength = min(1.0, innerGlowAlpha);","    vec4 innerColor = mix(color, glowColor, innerGlowStrength);","    float outerGlowAlpha = alphaRatio * outerStrength * (1.0 - color.a);","    float outerGlowStrength = min(1.0 - innerColor.a, outerGlowAlpha);","    vec4 outerGlowColor = outerGlowStrength * glowColor.rgba;","    if (knockout)","    {","        float resultAlpha = outerGlowAlpha + innerGlowAlpha;","        gl_FragColor = vec4(glowColor.rgb * resultAlpha, resultAlpha);","    }","    else","    {","        gl_FragColor = innerColor + outerGlowColor;","    }","}"].join(`
`)},70463:h=>{h.exports=["#define SHADER_NAME GRADIENT_FS","#define SRGB_TO_LINEAR(c) pow((c), vec3(2.2))","#define LINEAR_TO_SRGB(c) pow((c), vec3(1.0 / 2.2))","#define SRGB(r, g, b) SRGB_TO_LINEAR(vec3(float(r), float(g), float(b)) / 255.0)","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 positionFrom;","uniform vec2 positionTo;","uniform vec3 color1;","uniform vec3 color2;","uniform float alpha;","uniform int size;","varying vec2 outTexCoord;","float gradientNoise(in vec2 uv)","{","    const vec3 magic = vec3(0.06711056, 0.00583715, 52.9829189);","    return fract(magic.z * fract(dot(uv, magic.xy)));","}","float stepped (in float s, in float scale, in int steps)","{","    return steps > 0 ? floor( s / ((1.0 * scale) / float(steps))) * 1.0 / float(steps - 1) : s;","}","void main ()","{","    vec2 a = positionFrom;","    vec2 b = positionTo;","    vec2 ba = b - a;","    float d = dot(outTexCoord - a, ba) / dot(ba, ba);","    float t = size > 0 ? stepped(d, 1.0, size) : d;","    t = smoothstep(0.0, 1.0, clamp(t, 0.0, 1.0));","    vec3 color = mix(SRGB(color1.r, color1.g, color1.b), SRGB(color2.r, color2.g, color2.b), t);","    color = LINEAR_TO_SRGB(color);","    color += (1.0 / 255.0) * gradientNoise(outTexCoord) - (0.5 / 255.0);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    gl_FragColor = vec4(mix(color.rgb, texture.rgb, alpha), 1.0) * texture.a;","}"].join(`
`)},50831:h=>{h.exports=["#define SHADER_NAME PIXELATE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform float amount;","varying vec2 outTexCoord;","void main ()","{","    float pixelSize = floor(2.0 + amount);","    vec2 center = pixelSize * floor(outTexCoord * resolution / pixelSize) + pixelSize * vec2(0.5, 0.5);","    vec2 corner1 = center + pixelSize * vec2(-0.5, -0.5);","    vec2 corner2 = center + pixelSize * vec2(+0.5, -0.5);","    vec2 corner3 = center + pixelSize * vec2(+0.5, +0.5);","    vec2 corner4 = center + pixelSize * vec2(-0.5, +0.5);","    vec4 pixel = 0.4 * texture2D(uMainSampler, center / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner1 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner2 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner3 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner4 / resolution);","    gl_FragColor = pixel;","}"].join(`
`)},92595:h=>{h.exports=["#define SHADER_NAME SHADOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","uniform vec2 lightPosition;","uniform vec4 color;","uniform float decay;","uniform float power;","uniform float intensity;","uniform int samples;","const int MAX = 12;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec2 pc = (lightPosition - outTexCoord) * intensity;","    float shadow = 0.0;","    float limit = max(float(MAX), float(samples));","    for (int i = 0; i < MAX; ++i)","    {","        if (i >= samples)","        {","            break;","        }","        shadow += texture2D(uMainSampler, outTexCoord + float(i) * decay / limit * pc).a * power;","    }","    float mask = 1.0 - texture.a;","    gl_FragColor = mix(texture, color, shadow * mask);","}"].join(`
`)},72464:h=>{h.exports=["#define SHADER_NAME SHINE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform bool reveal;","uniform float speed;","uniform float time;","uniform float lineWidth;","uniform float gradient;","varying vec2 outTexCoord;","void main ()","{","	vec2 uv = gl_FragCoord.xy / resolution.xy;","    vec4 tex = texture2D(uMainSampler, outTexCoord);","    vec4 col1 = vec4(0.3, 0.0, 0.0, 1.0);","    vec4 col2 = vec4(0.85, 0.85, 0.85, 1.0);","    uv.x = uv.x - mod(time * speed, 2.0) + 0.5;","    float y = uv.x * gradient;","    float s = smoothstep(y - lineWidth, y, uv.y) - smoothstep(y, y + lineWidth, uv.y);","    gl_FragColor = (((s * col1) + (s * col2)) * tex);","    if (!reveal)","    {","        gl_FragColor += tex;","    }","}"].join(`
`)},39249:h=>{h.exports=["#define SHADER_NAME VIGNETTE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float radius;","uniform float strength;","uniform vec2 position;","varying vec2 outTexCoord;","void main ()","{","    vec4 col = vec4(1.0);","    float d = length(outTexCoord - position);","    if (d <= radius)","    {","        float g = d / radius;","        g = sin(g * 3.14 * strength);","    	col = vec4(g * g * g);","    }","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    gl_FragColor = texture * (1.0 - col);","}"].join(`
`)},2878:h=>{h.exports=["#define SHADER_NAME WIPE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec4 config;","uniform bool reveal;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 color0;","    vec4 color1;","    if (reveal)","    {","        color0 = vec4(0);","        color1 = texture2D(uMainSampler, uv);","    }","    else","    {","        color0 = texture2D(uMainSampler, uv);","        color1 = vec4(0);","    }","    float distance = config.x;","    float width = config.y;","    float direction = config.z;","    float axis = uv.x;","    if (config.w == 1.0)","    {","        axis = uv.y;","    }","    float adjust = mix(width, -width, distance);","    float value = smoothstep(distance - width, distance + width, abs(direction - axis) + adjust);","    gl_FragColor = mix(color1, color0, value);","}"].join(`
`)},31063:h=>{h.exports=["#define SHADER_NAME PHASER_LIGHT_FS","precision mediump float;","struct Light","{","    vec2 position;","    vec3 color;","    float intensity;","    float radius;","};","const int kMaxLights = %LIGHT_COUNT%;","uniform vec4 uCamera; /* x, y, rotation, zoom */","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uNormSampler;","uniform vec3 uAmbientLightColor;","uniform Light uLights[kMaxLights];","uniform mat3 uInverseRotationMatrix;","uniform int uLightCount;","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec3 finalColor = vec3(0.0, 0.0, 0.0);","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    vec3 normalMap = texture2D(uNormSampler, outTexCoord).rgb;","    vec3 normal = normalize(uInverseRotationMatrix * vec3(normalMap * 2.0 - 1.0));","    vec2 res = vec2(min(uResolution.x, uResolution.y)) * uCamera.w;","    for (int index = 0; index < kMaxLights; ++index)","    {","        if (index < uLightCount)","        {","            Light light = uLights[index];","            vec3 lightDir = vec3((light.position.xy / res) - (gl_FragCoord.xy / res), 0.1);","            vec3 lightNormal = normalize(lightDir);","            float distToSurf = length(lightDir) * uCamera.w;","            float diffuseFactor = max(dot(normal, lightNormal), 0.0);","            float radius = (light.radius / res.x * uCamera.w) * uCamera.w;","            float attenuation = clamp(1.0 - distToSurf * distToSurf / (radius * radius), 0.0, 1.0);","            vec3 diffuse = light.color * diffuseFactor;","            finalColor += (attenuation * diffuse) * light.intensity;","        }","    }","    vec4 colorOutput = vec4(uAmbientLightColor + finalColor, 1.0);","    gl_FragColor = color * vec4(colorOutput.rgb * colorOutput.a, colorOutput.a);","}"].join(`
`)},48247:h=>{h.exports=["#define SHADER_NAME PHASER_LINEAR_BLEND_FS","precision mediump float;","uniform sampler2D uMainSampler1;","uniform sampler2D uMainSampler2;","uniform float uStrength;","varying vec2 outTexCoord;","void main ()","{","    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);","    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);","    gl_FragColor = mix(frame1, frame2 * uStrength, 0.5);","}"].join(`
`)},41214:h=>{h.exports=["#define SHADER_NAME PHASER_MESH_FS","precision mediump float;","uniform vec3 uLightPosition;","uniform vec3 uLightAmbient;","uniform vec3 uLightDiffuse;","uniform vec3 uLightSpecular;","uniform vec3 uFogColor;","uniform float uFogNear;","uniform float uFogFar;","uniform vec3 uMaterialAmbient;","uniform vec3 uMaterialDiffuse;","uniform vec3 uMaterialSpecular;","uniform float uMaterialShine;","uniform vec3 uCameraPosition;","uniform sampler2D uTexture;","varying vec2 vTextureCoord;","varying vec3 vNormal;","varying vec3 vPosition;","void main (void)","{","    vec4 color = texture2D(uTexture, vTextureCoord);","    vec3 ambient = uLightAmbient * uMaterialAmbient;","    vec3 norm = normalize(vNormal);","    vec3 lightDir = normalize(uLightPosition - vPosition);","    float diff = max(dot(norm, lightDir), 0.0);","    vec3 diffuse = uLightDiffuse * (diff * uMaterialDiffuse);","    vec3 viewDir = normalize(uCameraPosition - vPosition);","    vec3 reflectDir = reflect(-lightDir, norm);","    float spec = pow(max(dot(viewDir, reflectDir), 0.0), uMaterialShine);","    vec3 specular = uLightSpecular * (spec * uMaterialSpecular);","    vec3 result = (ambient + diffuse + specular) * color.rgb;","    float depth = gl_FragCoord.z / gl_FragCoord.w;","    float fogFactor = smoothstep(uFogNear, uFogFar, depth);","    gl_FragColor.rgb = mix(result.rgb, uFogColor, fogFactor);","    gl_FragColor.a = color.a;","}"].join(`
`)},39653:h=>{h.exports=["#define SHADER_NAME PHASER_MESH_VS","precision mediump float;","attribute vec3 aVertexPosition;","attribute vec3 aVertexNormal;","attribute vec2 aTextureCoord;","uniform mat4 uViewProjectionMatrix;","uniform mat4 uModelMatrix;","uniform mat4 uNormalMatrix;","varying vec2 vTextureCoord;","varying vec3 vNormal;","varying vec3 vPosition;","void main ()","{","    vTextureCoord = aTextureCoord;","    vPosition = vec3(uModelMatrix * vec4(aVertexPosition, 1.0));","    vNormal = vec3(uNormalMatrix * vec4(aVertexNormal, 1.0));","    gl_Position = uViewProjectionMatrix * uModelMatrix * vec4(aVertexPosition, 1.0);","}"].join(`
`)},62143:h=>{h.exports=["#define SHADER_NAME PHASER_MOBILE_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},47940:h=>{h.exports=["#define SHADER_NAME PHASER_MOBILE_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    outTexCoord = inTexCoord;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},98840:h=>{h.exports=["#define SHADER_NAME PHASER_MULTI_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler[%count%];","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texture;","    %forloop%","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},44667:h=>{h.exports=["#define SHADER_NAME PHASER_MULTI_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    outTexCoord = inTexCoord;","    outTexId = inTexId;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},4127:h=>{h.exports=["#define SHADER_NAME PHASER_POINTLIGHT_FS","precision mediump float;","uniform vec2 uResolution;","uniform float uCameraZoom;","varying vec4 lightPosition;","varying vec4 lightColor;","varying float lightRadius;","varying float lightAttenuation;","void main ()","{","    vec2 center = (lightPosition.xy + 1.0) * (uResolution.xy * 0.5);","    float distToSurf = length(center - gl_FragCoord.xy);","    float radius = 1.0 - distToSurf / (lightRadius * uCameraZoom);","    float intensity = smoothstep(0.0, 1.0, radius * lightAttenuation);","    vec4 color = vec4(intensity, intensity, intensity, 0.0) * lightColor;","    gl_FragColor = vec4(color.rgb * lightColor.a, color.a);","}"].join(`
`)},89924:h=>{h.exports=["#define SHADER_NAME PHASER_POINTLIGHT_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","attribute vec2 inPosition;","attribute vec2 inLightPosition;","attribute vec4 inLightColor;","attribute float inLightRadius;","attribute float inLightAttenuation;","varying vec4 lightPosition;","varying vec4 lightColor;","varying float lightRadius;","varying float lightAttenuation;","void main ()","{","    lightColor = inLightColor;","    lightRadius = inLightRadius;","    lightAttenuation = inLightAttenuation;","    lightPosition = uProjectionMatrix * vec4(inLightPosition, 1.0, 1.0);","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","}"].join(`
`)},27681:h=>{h.exports=["#define SHADER_NAME PHASER_POSTFX_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","void main ()","{","    gl_FragColor = texture2D(uMainSampler, outTexCoord);","}"].join(`
`)},49627:h=>{h.exports=["#define SHADER_NAME PHASER_QUAD_VS","precision mediump float;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","varying vec2 outFragCoord;","varying vec2 outTexCoord;","void main ()","{","    outFragCoord = inPosition.xy * 0.5 + 0.5;","    outTexCoord = inTexCoord;","    gl_Position = vec4(inPosition, 0, 1);","}"].join(`
`)},45561:h=>{h.exports=["#define SHADER_NAME PHASER_SINGLE_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},60722:h=>{h.exports=["#define SHADER_NAME PHASER_SINGLE_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    outTexCoord = inTexCoord;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},89350:(h,S,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={AddBlendFrag:e(35407),BitmapMaskFrag:e(78908),BitmapMaskVert:e(85191),ColorMatrixFrag:e(96293),CopyFrag:e(36682),FXBarrelFrag:e(99155),FXBloomFrag:e(24400),FXBlurHighFrag:e(94328),FXBlurLowFrag:e(41514),FXBlurMedFrag:e(51078),FXBokehFrag:e(90610),FXCircleFrag:e(91899),FXDisplacementFrag:e(47838),FXGlowFrag:e(98656),FXGradientFrag:e(70463),FXPixelateFrag:e(50831),FXShadowFrag:e(92595),FXShineFrag:e(72464),FXVignetteFrag:e(39249),FXWipeFrag:e(2878),LightFrag:e(31063),LinearBlendFrag:e(48247),MeshFrag:e(41214),MeshVert:e(39653),MobileFrag:e(62143),MobileVert:e(47940),MultiFrag:e(98840),MultiVert:e(44667),PointLightFrag:e(4127),PointLightVert:e(89924),PostFXFrag:e(27681),QuadVert:e(49627),SingleFrag:e(45561),SingleVert:e(60722)}},93567:(h,S,e)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=new u({initialize:function(l,o,s){this.webGLAttribLocation=-1,this.gl=l,this.program=o,this.name=s,this.createResource()},createResource:function(){if(this.program.webGLProgram===null){this.webGLAttribLocation=-1;return}var f=this.gl;f.isContextLost()||(this.webGLAttribLocation=f.getAttribLocation(this.program.webGLProgram,this.name))},destroy:function(){this.gl=null,this.program=null,this.name=null,this.webGLAttribLocation=-1}});h.exports=y},26128:(h,S,e)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=new u({initialize:function(l,o,s,a){this.webGLBuffer=null,this.gl=l,this.initialDataOrSize=o,this.bufferType=s,this.bufferUsage=a,this.createResource()},createResource:function(){if(this.initialDataOrSize!==null){var f=this.gl;if(!f.isContextLost()){var l=this.bufferType,o=f.createBuffer();this.webGLBuffer=o,f.bindBuffer(l,this.webGLBuffer),f.bufferData(l,this.initialDataOrSize,this.bufferUsage),f.bindBuffer(l,null)}}},destroy:function(){var f=this.gl;f.isContextLost()||f.deleteBuffer(this.webGLBuffer),this.webGLBuffer=null,this.initialDataOrSize=null,this.gl=null}});h.exports=y},84387:(h,S,e)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y={36054:"Incomplete Attachment",36055:"Missing Attachment",36057:"Incomplete Dimensions",36061:"Framebuffer Unsupported"},f=new u({initialize:function(o,s,a,c,r){this.webGLFramebuffer=null,this.gl=o,this.width=s,this.height=a,this.renderTexture=c,this.addDepthStencilBuffer=!!r,this.createResource()},createResource:function(){var l=this.gl;if(!l.isContextLost()){var o=this.renderTexture,s=0,a=l.createFramebuffer();if(this.webGLFramebuffer=a,l.bindFramebuffer(l.FRAMEBUFFER,a),o.isRenderTexture=!0,o.isAlphaPremultiplied=!1,l.framebufferTexture2D(l.FRAMEBUFFER,l.COLOR_ATTACHMENT0,l.TEXTURE_2D,o.webGLTexture,0),s=l.checkFramebufferStatus(l.FRAMEBUFFER),s!==l.FRAMEBUFFER_COMPLETE)throw new Error("Framebuffer status: "+(y[s]||s));if(this.addDepthStencilBuffer){var c=l.createRenderbuffer();l.bindRenderbuffer(l.RENDERBUFFER,c),l.renderbufferStorage(l.RENDERBUFFER,l.DEPTH_STENCIL,this.width,this.height),l.framebufferRenderbuffer(l.FRAMEBUFFER,l.DEPTH_STENCIL_ATTACHMENT,l.RENDERBUFFER,c)}l.bindFramebuffer(l.FRAMEBUFFER,null)}},destroy:function(){if(this.webGLFramebuffer!==null){var l=this.gl;if(!l.isContextLost()){l.bindFramebuffer(l.FRAMEBUFFER,this.webGLFramebuffer);var o=l.getFramebufferAttachmentParameter(l.FRAMEBUFFER,l.COLOR_ATTACHMENT0,l.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME);o!==null&&(l.framebufferTexture2D(l.FRAMEBUFFER,l.COLOR_ATTACHMENT0,l.TEXTURE_2D,null,0),l.deleteTexture(o));var s=l.getFramebufferAttachmentParameter(l.FRAMEBUFFER,l.DEPTH_STENCIL_ATTACHMENT,l.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME);s!==null&&l.deleteRenderbuffer(s),l.bindFramebuffer(l.FRAMEBUFFER,null),l.deleteFramebuffer(this.webGLFramebuffer)}this.renderTexture=null,this.webGLFramebuffer=null,this.gl=null}}});h.exports=f},1482:(h,S,e)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=new u({initialize:function(l,o,s){this.webGLProgram=null,this.gl=l,this.vertexSource=o,this.fragmentSource=s,this.createResource()},createResource:function(){var f=this.gl;if(!f.isContextLost()){var l=f.createProgram(),o=f.createShader(f.VERTEX_SHADER),s=f.createShader(f.FRAGMENT_SHADER);f.shaderSource(o,this.vertexSource),f.shaderSource(s,this.fragmentSource),f.compileShader(o),f.compileShader(s);var a=`Shader failed:
`;if(!f.getShaderParameter(o,f.COMPILE_STATUS))throw new Error("Vertex "+a+f.getShaderInfoLog(o));if(!f.getShaderParameter(s,f.COMPILE_STATUS))throw new Error("Fragment "+a+f.getShaderInfoLog(s));if(f.attachShader(l,o),f.attachShader(l,s),f.linkProgram(l),!f.getProgramParameter(l,f.LINK_STATUS))throw new Error("Link "+a+f.getProgramInfoLog(l));f.useProgram(l),this.webGLProgram=l}},destroy:function(){this.webGLProgram&&(this.gl.isContextLost()||this.gl.deleteProgram(this.webGLProgram),this.webGLProgram=null,this.gl=null)}});h.exports=y},82751:(h,S,e)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(50030),f=new u({initialize:function(o,s,a,c,r,d,v,p,m,x,E,w,C){this.webGLTexture=null,this.isRenderTexture=!1,this.gl=o,this.mipLevel=s,this.minFilter=a,this.magFilter=c,this.wrapT=r,this.wrapS=d,this.format=v,this.pixels=p,this.width=m,this.height=x,this.pma=E??!0,this.forceSize=!!w,this.flipY=!!C,this.__SPECTOR_Metadata={},this.createResource()},createResource:function(){var l=this.gl;if(!l.isContextLost()){if(this.pixels instanceof f){this.webGLTexture=this.pixels.webGLTexture;return}var o=l.createTexture();o.__SPECTOR_Metadata=this.__SPECTOR_Metadata,this.webGLTexture=o,this._processTexture()}},update:function(l,o,s,a,c,r,d,v,p){if(!(o===0||s===0)){this.pixels=l,this.width=o,this.height=s,this.flipY=a,this.wrapS=c,this.wrapT=r,this.minFilter=d,this.magFilter=v,this.format=p;var m=this.gl;m.isContextLost()||this._processTexture()}},_processTexture:function(){var l=this.gl;l.activeTexture(l.TEXTURE0);var o=l.getParameter(l.TEXTURE_BINDING_2D);l.bindTexture(l.TEXTURE_2D,this.webGLTexture),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MIN_FILTER,this.minFilter),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MAG_FILTER,this.magFilter),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_S,this.wrapS),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_T,this.wrapT),l.pixelStorei(l.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.pma),l.pixelStorei(l.UNPACK_FLIP_Y_WEBGL,this.flipY);var s=this.pixels,a=this.mipLevel,c=this.width,r=this.height,d=this.format,v=!1;if(s==null)l.texImage2D(l.TEXTURE_2D,a,d,c,r,0,d,l.UNSIGNED_BYTE,null),v=y(c,r);else if(s.compressed){c=s.width,r=s.height,v=s.generateMipmap;for(var p=0;p<s.mipmaps.length;p++)l.compressedTexImage2D(l.TEXTURE_2D,p,s.internalFormat,s.mipmaps[p].width,s.mipmaps[p].height,0,s.mipmaps[p].data)}else s instanceof Uint8Array?(l.texImage2D(l.TEXTURE_2D,a,d,c,r,0,d,l.UNSIGNED_BYTE,s),v=y(c,r)):(this.forceSize||(c=s.width,r=s.height),l.texImage2D(l.TEXTURE_2D,a,d,d,l.UNSIGNED_BYTE,s),v=y(c,r));v&&l.generateMipmap(l.TEXTURE_2D),o?l.bindTexture(l.TEXTURE_2D,o):l.bindTexture(l.TEXTURE_2D,null)},spectorMetadata:{get:function(){return this.__SPECTOR_Metadata},set:function(l){this.__SPECTOR_Metadata=l,this.gl.isContextLost()||(this.webGLTexture.__SPECTOR_Metadata=l)}},destroy:function(){this.webGLTexture!==null&&(this.gl.isContextLost()||this.pixels instanceof f||this.gl.deleteTexture(this.webGLTexture),this.pixels=null,this.webGLTexture=null,this.gl=null)}});h.exports=f},57183:(h,S,e)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=new u({initialize:function(l,o,s){this.webGLUniformLocation=null,this.gl=l,this.program=o,this.name=s,this.createResource()},createResource:function(){if(this.program.webGLProgram===null){this.webGLUniformLocation=null;return}var f=this.gl;f.isContextLost()||(this.webGLUniformLocation=f.getUniformLocation(this.program.webGLProgram,this.name))},destroy:function(){this.gl=null,this.program=null,this.name=null,this.webGLUniformLocation=null}});h.exports=y},9503:(h,S,e)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u={WebGLAttribLocationWrapper:e(93567),WebGLBufferWrapper:e(26128),WebGLProgramWrapper:e(1482),WebGLTextureWrapper:e(82751),WebGLFramebufferWrapper:e(84387),WebGLUniformLocationWrapper:e(57183)};h.exports=u},76531:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(13560),y=e(83419),f=e(45319),l=e(50792),o=e(97480),s=e(8443),a=e(57811),c=e(74403),r=e(45818),d=e(29747),v=e(87841),p=e(86555),m=e(56583),x=e(26099),E=e(38058),w=new y({Extends:l,initialize:function(P){l.call(this),this.game=P,this.canvas,this.canvasBounds=new v,this.parent=null,this.parentIsWindow=!1,this.parentSize=new p,this.gameSize=new p,this.baseSize=new p,this.displaySize=new p,this.scaleMode=u.SCALE_MODE.NONE,this.zoom=1,this._resetZoom=!1,this.displayScale=new x(1,1),this.autoRound=!1,this.autoCenter=u.CENTER.NO_CENTER,this.orientation=u.ORIENTATION.LANDSCAPE,this.fullscreen,this.fullscreenTarget=null,this._createdFullscreenTarget=!1,this.dirty=!1,this.resizeInterval=500,this._lastCheck=0,this._checkOrientation=!1,this.domlisteners={orientationChange:d,windowResize:d,fullScreenChange:d,fullScreenError:d}},preBoot:function(){this.parseConfig(this.game.config),this.game.events.once(s.BOOT,this.boot,this)},boot:function(){var C=this.game;this.canvas=C.canvas,this.fullscreen=C.device.fullscreen;var P=this.scaleMode;P!==u.SCALE_MODE.RESIZE&&P!==u.SCALE_MODE.EXPAND&&this.displaySize.setAspectMode(P),P===u.SCALE_MODE.NONE?this.resize(this.width,this.height):(this.getParentBounds(),this.parentSize.width>0&&this.parentSize.height>0&&this.displaySize.setParent(this.parentSize),this.refresh()),C.events.on(s.PRE_STEP,this.step,this),C.events.once(s.READY,this.refresh,this),C.events.once(s.DESTROY,this.destroy,this),this.startListeners()},parseConfig:function(C){this.getParent(C),this.getParentBounds();var P=C.width,R=C.height,M=C.scaleMode,I=C.zoom,D=C.autoRound;if(typeof P=="string")if(P.substr(-1)!=="%")P=parseInt(P,10);else{var L=this.parentSize.width;L===0&&(L=window.innerWidth);var F=parseInt(P,10)/100;P=Math.floor(L*F)}if(typeof R=="string")if(R.substr(-1)!=="%")R=parseInt(R,10);else{var O=this.parentSize.height;O===0&&(O=window.innerHeight);var N=parseInt(R,10)/100;R=Math.floor(O*N)}this.scaleMode=M,this.autoRound=D,this.autoCenter=C.autoCenter,this.resizeInterval=C.resizeInterval,D&&(P=Math.floor(P),R=Math.floor(R)),this.gameSize.setSize(P,R),I===u.ZOOM.MAX_ZOOM&&(I=this.getMaxZoom()),this.zoom=I,I!==1&&(this._resetZoom=!0),this.baseSize.setSize(P,R),D&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),C.minWidth>0&&this.displaySize.setMin(C.minWidth*I,C.minHeight*I),C.maxWidth>0&&this.displaySize.setMax(C.maxWidth*I,C.maxHeight*I),this.displaySize.setSize(P,R),(C.snapWidth>0||C.snapHeight>0)&&this.displaySize.setSnap(C.snapWidth,C.snapHeight),this.orientation=r(P,R)},getParent:function(C){var P=C.parent;if(P!==null){if(this.parent=c(P),this.parentIsWindow=this.parent===document.body,C.expandParent&&C.scaleMode!==u.SCALE_MODE.NONE){var R=this.parent.getBoundingClientRect();(this.parentIsWindow||R.height===0)&&(document.documentElement.style.height="100%",document.body.style.height="100%",R=this.parent.getBoundingClientRect(),!this.parentIsWindow&&R.height===0&&(this.parent.style.overflow="hidden",this.parent.style.width="100%",this.parent.style.height="100%"))}C.fullscreenTarget&&!this.fullscreenTarget&&(this.fullscreenTarget=c(C.fullscreenTarget))}},getParentBounds:function(){if(!this.parent)return!1;var C=this.parentSize,P=this.parent.getBoundingClientRect();this.parentIsWindow&&this.game.device.os.iOS&&(P.height=a(!0));var R=P.width,M=P.height;if(C.width!==R||C.height!==M)return C.setSize(R,M),!0;if(this.canvas){var I=this.canvasBounds,D=this.canvas.getBoundingClientRect();if(D.x!==I.x||D.y!==I.y)return!0}return!1},lockOrientation:function(C){var P=screen.lockOrientation||screen.mozLockOrientation||screen.msLockOrientation;return P?P.call(screen,C):!1},setParentSize:function(C,P){return this.parentSize.setSize(C,P),this.refresh()},setGameSize:function(C,P){var R=this.autoRound;R&&(C=Math.floor(C),P=Math.floor(P));var M=this.width,I=this.height;return this.gameSize.resize(C,P),this.baseSize.resize(C,P),R&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setAspectRatio(C/P),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height,this.refresh(M,I)},resize:function(C,P){var R=this.zoom,M=this.autoRound;M&&(C=Math.floor(C),P=Math.floor(P));var I=this.width,D=this.height;this.gameSize.resize(C,P),this.baseSize.resize(C,P),M&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setSize(C*R,P*R),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height;var L=this.canvas.style,F=C*R,O=P*R;return M&&(F=Math.floor(F),O=Math.floor(O)),(F!==C||O!==P)&&(L.width=F+"px",L.height=O+"px"),this.refresh(I,D)},setZoom:function(C){return this.zoom=C,this._resetZoom=!0,this.refresh()},setMaxZoom:function(){return this.zoom=this.getMaxZoom(),this._resetZoom=!0,this.refresh()},setSnap:function(C,P){return C===void 0&&(C=0),P===void 0&&(P=C),this.displaySize.setSnap(C,P),this.refresh()},refresh:function(C,P){C===void 0&&(C=this.width),P===void 0&&(P=this.height),this.updateScale(),this.updateBounds(),this.updateOrientation(),this.displayScale.set(this.baseSize.width/this.canvasBounds.width,this.baseSize.height/this.canvasBounds.height);var R=this.game.domContainer;if(R){this.baseSize.setCSS(R);var M=this.canvas.style,I=R.style;I.transform="scale("+this.displaySize.width/this.baseSize.width+","+this.displaySize.height/this.baseSize.height+")",I.marginLeft=M.marginLeft,I.marginTop=M.marginTop}return this.emit(o.RESIZE,this.gameSize,this.baseSize,this.displaySize,C,P),this},updateOrientation:function(){if(this._checkOrientation){this._checkOrientation=!1;var C=r(this.width,this.height);C!==this.orientation&&(this.orientation=C,this.emit(o.ORIENTATION_CHANGE,C))}},updateScale:function(){var C=this.canvas.style,P=this.gameSize.width,R=this.gameSize.height,M,I,D=this.zoom,L=this.autoRound;if(this.scaleMode===u.SCALE_MODE.NONE)this.displaySize.setSize(P*D,R*D),M=this.displaySize.width,I=this.displaySize.height,L&&(M=Math.floor(M),I=Math.floor(I)),this._resetZoom&&(C.width=M+"px",C.height=I+"px",this._resetZoom=!1);else if(this.scaleMode===u.SCALE_MODE.RESIZE)this.displaySize.setSize(this.parentSize.width,this.parentSize.height),this.gameSize.setSize(this.displaySize.width,this.displaySize.height),this.baseSize.setSize(this.displaySize.width,this.displaySize.height),M=this.displaySize.width,I=this.displaySize.height,L&&(M=Math.floor(M),I=Math.floor(I)),this.canvas.width=M,this.canvas.height=I;else if(this.scaleMode===u.SCALE_MODE.EXPAND){var F=this.game.config.width,O=this.game.config.height,N=this.parentSize.width,b=this.parentSize.height,V=N/F,Y=b/O,W,U;V<Y?(W=F,U=V!==0?b/V:O):(W=Y!==0?N/Y:F,U=O);var z=f(W,this.displaySize.minWidth,this.displaySize.maxWidth),B=f(U,this.displaySize.minHeight,this.displaySize.maxHeight);this.baseSize.setSize(z,B),this.gameSize.setSize(z,B),L&&(z=Math.floor(z),B=Math.floor(B)),this.canvas.width=z,this.canvas.height=B;var X=N*(z/W),G=b*(B/U);this.displaySize.setSize(X,G),M=this.displaySize.width,I=this.displaySize.height,L&&(M=Math.floor(M),I=Math.floor(I)),C.width=M+"px",C.height=I+"px"}else this.displaySize.setSize(this.parentSize.width,this.parentSize.height),M=this.displaySize.width,I=this.displaySize.height,L&&(M=Math.floor(M),I=Math.floor(I)),C.width=M+"px",C.height=I+"px";this.getParentBounds(),this.updateCenter()},getMaxZoom:function(){var C=m(this.parentSize.width,this.gameSize.width,0,!0),P=m(this.parentSize.height,this.gameSize.height,0,!0);return Math.max(Math.min(C,P),1)},updateCenter:function(){var C=this.autoCenter;if(C!==u.CENTER.NO_CENTER){var P=this.canvas,R=P.style,M=P.getBoundingClientRect(),I=M.width,D=M.height,L=Math.floor((this.parentSize.width-I)/2),F=Math.floor((this.parentSize.height-D)/2);C===u.CENTER.CENTER_HORIZONTALLY?F=0:C===u.CENTER.CENTER_VERTICALLY&&(L=0),R.marginLeft=L+"px",R.marginTop=F+"px"}},updateBounds:function(){var C=this.canvasBounds,P=this.canvas.getBoundingClientRect();C.x=P.left+(window.pageXOffset||0)-(document.documentElement.clientLeft||0),C.y=P.top+(window.pageYOffset||0)-(document.documentElement.clientTop||0),C.width=P.width,C.height=P.height},transformX:function(C){return(C-this.canvasBounds.left)*this.displayScale.x},transformY:function(C){return(C-this.canvasBounds.top)*this.displayScale.y},startFullscreen:function(C){C===void 0&&(C={navigationUI:"hide"});var P=this.fullscreen;if(!P.available){this.emit(o.FULLSCREEN_UNSUPPORTED);return}if(!P.active){var R=this.getFullscreenTarget();P.keyboard?R[P.request](Element.ALLOW_KEYBOARD_INPUT):R[P.request](C)}},fullscreenSuccessHandler:function(){this.getParentBounds(),this.refresh(),this.emit(o.ENTER_FULLSCREEN)},fullscreenErrorHandler:function(C){this.removeFullscreenTarget(),this.emit(o.FULLSCREEN_FAILED,C)},getFullscreenTarget:function(){if(!this.fullscreenTarget){var C=document.createElement("div");C.style.margin="0",C.style.padding="0",C.style.width="100%",C.style.height="100%",this.fullscreenTarget=C,this._createdFullscreenTarget=!0}if(this._createdFullscreenTarget){var P=this.canvas.parentNode;P.insertBefore(this.fullscreenTarget,this.canvas),this.fullscreenTarget.appendChild(this.canvas)}return this.fullscreenTarget},removeFullscreenTarget:function(){if(this._createdFullscreenTarget){var C=this.fullscreenTarget;if(C&&C.parentNode){var P=C.parentNode;P.insertBefore(this.canvas,C),P.removeChild(C)}}},stopFullscreen:function(){var C=this.fullscreen;if(!C.available)return this.emit(o.FULLSCREEN_UNSUPPORTED),!1;C.active&&document[C.cancel](),this.removeFullscreenTarget()},leaveFullScreenSuccessHandler:function(){this.getParentBounds(),this.emit(o.LEAVE_FULLSCREEN),this.refresh()},toggleFullscreen:function(C){this.fullscreen.active?this.stopFullscreen():this.startFullscreen(C)},startListeners:function(){var C=this,P=this.domlisteners;if(P.orientationChange=function(){C.updateBounds(),C._checkOrientation=!0,C.dirty=!0,C.refresh()},P.windowResize=function(){C.updateBounds(),C.dirty=!0},screen.orientation&&screen.orientation.addEventListener?screen.orientation.addEventListener("change",P.orientationChange,!1):window.addEventListener("orientationchange",P.orientationChange,!1),window.addEventListener("resize",P.windowResize,!1),this.fullscreen.available){P.fullScreenChange=function(M){return C.onFullScreenChange(M)},P.fullScreenError=function(M){return C.onFullScreenError(M)};var R=["webkit","moz",""];R.forEach(function(M){document.addEventListener(M+"fullscreenchange",P.fullScreenChange,!1),document.addEventListener(M+"fullscreenerror",P.fullScreenError,!1)}),document.addEventListener("MSFullscreenChange",P.fullScreenChange,!1),document.addEventListener("MSFullscreenError",P.fullScreenError,!1)}},onFullScreenChange:function(){document.fullscreenElement||document.webkitFullscreenElement||document.msFullscreenElement||document.mozFullScreenElement?this.fullscreenSuccessHandler():(this.stopFullscreen(),this.leaveFullScreenSuccessHandler())},onFullScreenError:function(){this.removeFullscreenTarget()},getViewPort:function(C,P){C instanceof E||(P=C,C=void 0),P===void 0&&(P=new v);var R=this.baseSize,M=this.parentSize,I=this.canvasBounds,D=this.displayScale,L=I.x>=0?0:-(I.x*D.x),F=I.y>=0?0:-(I.y*D.y),O;M.width>=I.width?O=R.width:O=R.width-(I.width-M.width)*D.x;var N;return M.height>=I.height?N=R.height:N=R.height-(I.height-M.height)*D.y,P.setTo(L,F,O,N),C&&(P.width/=C.zoomX,P.height/=C.zoomY,P.centerX=C.centerX+C.scrollX,P.centerY=C.centerY+C.scrollY),P},step:function(C,P){this.parent&&(this._lastCheck+=P,(this.dirty||this._lastCheck>this.resizeInterval)&&(this.getParentBounds()&&this.refresh(),this.dirty=!1,this._lastCheck=0))},stopListeners:function(){var C=this.domlisteners;screen.orientation&&screen.orientation.addEventListener?screen.orientation.removeEventListener("change",C.orientationChange,!1):window.removeEventListener("orientationchange",C.orientationChange,!1),window.removeEventListener("resize",C.windowResize,!1);var P=["webkit","moz",""];P.forEach(function(R){document.removeEventListener(R+"fullscreenchange",C.fullScreenChange,!1),document.removeEventListener(R+"fullscreenerror",C.fullScreenError,!1)}),document.removeEventListener("MSFullscreenChange",C.fullScreenChange,!1),document.removeEventListener("MSFullscreenError",C.fullScreenError,!1)},destroy:function(){this.removeAllListeners(),this.stopListeners(),this.game=null,this.canvas=null,this.canvasBounds=null,this.parent=null,this.fullscreenTarget=null,this.parentSize.destroy(),this.gameSize.destroy(),this.baseSize.destroy(),this.displaySize.destroy()},isFullscreen:{get:function(){return this.fullscreen.active}},width:{get:function(){return this.gameSize.width}},height:{get:function(){return this.gameSize.height}},isPortrait:{get:function(){return this.orientation===u.ORIENTATION.PORTRAIT}},isLandscape:{get:function(){return this.orientation===u.ORIENTATION.LANDSCAPE}},isGamePortrait:{get:function(){return this.height>this.width}},isGameLandscape:{get:function(){return this.width>this.height}}});h.exports=w},64743:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={NO_CENTER:0,CENTER_BOTH:1,CENTER_HORIZONTALLY:2,CENTER_VERTICALLY:3}},39218:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={LANDSCAPE:"landscape-primary",LANDSCAPE_SECONDARY:"landscape-secondary",PORTRAIT:"portrait-primary",PORTRAIT_SECONDARY:"portrait-secondary"}},81050:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={NONE:0,WIDTH_CONTROLS_HEIGHT:1,HEIGHT_CONTROLS_WIDTH:2,FIT:3,ENVELOP:4,RESIZE:5,EXPAND:6}},80805:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={NO_ZOOM:1,ZOOM_2X:2,ZOOM_4X:4,MAX_ZOOM:-1}},13560:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u={CENTER:e(64743),ORIENTATION:e(39218),SCALE_MODE:e(81050),ZOOM:e(80805)};h.exports=u},56139:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="enterfullscreen"},2336:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="fullscreenfailed"},47412:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="fullscreenunsupported"},51452:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="leavefullscreen"},20666:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="orientationchange"},47945:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="resize"},97480:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={ENTER_FULLSCREEN:e(56139),FULLSCREEN_FAILED:e(2336),FULLSCREEN_UNSUPPORTED:e(47412),LEAVE_FULLSCREEN:e(51452),ORIENTATION_CHANGE:e(20666),RESIZE:e(47945)}},93364:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(79291),y=e(13560),f={Center:e(64743),Events:e(97480),Orientation:e(39218),ScaleManager:e(76531),ScaleModes:e(81050),Zoom:e(80805)};f=u(!1,f,y.CENTER),f=u(!1,f,y.ORIENTATION),f=u(!1,f,y.SCALE_MODE),f=u(!1,f,y.ZOOM),h.exports=f},27397:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(95540),y=e(35355),f=function(l){var o=l.game.config.defaultPhysicsSystem,s=u(l.settings,"physics",!1);if(!(!o&&!s)){var a=[];if(o&&a.push(y(o+"Physics")),s)for(var c in s)c=y(c.concat("Physics")),a.indexOf(c)===-1&&a.push(c);return a}};h.exports=f},52106:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(95540),y=function(f){var l=f.plugins.getDefaultScenePlugins(),o=u(f.settings,"plugins",!1);return Array.isArray(o)?o:l||[]};h.exports=y},87033:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={game:"game",renderer:"renderer",anims:"anims",cache:"cache",plugins:"plugins",registry:"registry",scale:"scale",sound:"sound",textures:"textures",events:"events",cameras:"cameras",add:"add",make:"make",scenePlugin:"scene",displayList:"children",lights:"lights",data:"data",input:"input",load:"load",time:"time",tweens:"tweens",arcadePhysics:"physics",impactPhysics:"impact",matterPhysics:"matter"};h.exports=S},97482:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(2368),f=new u({initialize:function(o){this.sys=new y(this,o),this.game,this.anims,this.cache,this.registry,this.sound,this.textures,this.events,this.cameras,this.add,this.make,this.scene,this.children,this.lights,this.data,this.input,this.load,this.time,this.tweens,this.physics,this.matter,this.scale,this.plugins,this.renderer},update:function(){}});h.exports=f},60903:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(89993),f=e(44594),l=e(8443),o=e(35154),s=e(54899),a=e(29747),c=e(97482),r=e(2368),d=new u({initialize:function(p,m){if(this.game=p,this.keys={},this.scenes=[],this._pending=[],this._start=[],this._queue=[],this._data={},this.isProcessing=!1,this.isBooted=!1,this.customViewports=0,this.systemScene,m){Array.isArray(m)||(m=[m]);for(var x=0;x<m.length;x++)this._pending.push({key:"default",scene:m[x],autoStart:x===0,data:{}})}p.events.once(l.READY,this.bootQueue,this)},bootQueue:function(){if(!this.isBooted){this.systemScene=this.createSceneFromInstance("__SYSTEM",new c),this.game.events.emit(l.SYSTEM_READY,this.systemScene,this);var v,p,m,x;for(v=0;v<this._pending.length;v++){p=this._pending[v],m=p.key,x=p.scene;var E;x instanceof c?E=this.createSceneFromInstance(m,x):typeof x=="object"?E=this.createSceneFromObject(m,x):typeof x=="function"&&(E=this.createSceneFromFunction(m,x)),m=E.sys.settings.key,this.keys[m]=E,this.scenes.push(E),this._data[m]&&(E.sys.settings.data=this._data[m].data,this._data[m].autoStart&&(p.autoStart=!0)),(p.autoStart||E.sys.settings.active)&&this._start.push(m)}for(this._pending.length=0,this._data={},this.isBooted=!0,v=0;v<this._start.length;v++)p=this._start[v],this.start(p);this._start.length=0}},processQueue:function(){var v=this._pending.length,p=this._queue.length;if(!(v===0&&p===0)){var m,x;if(v){for(m=0;m<v;m++)x=this._pending[m],this.add(x.key,x.scene,x.autoStart,x.data);for(m=0;m<this._start.length;m++)x=this._start[m],this.start(x);this._start.length=0,this._pending.length=0}for(m=0;m<this._queue.length;m++)x=this._queue[m],this[x.op](x.keyA,x.keyB,x.data);this._queue.length=0}},add:function(v,p,m,x){if(m===void 0&&(m=!1),x===void 0&&(x={}),this.isProcessing||!this.isBooted)return this._pending.push({key:v,scene:p,autoStart:m,data:x}),this.isBooted||(this._data[v]={data:x}),null;v=this.getKey(v,p);var E;return p instanceof c?E=this.createSceneFromInstance(v,p):typeof p=="object"?(p.key=v,E=this.createSceneFromObject(v,p)):typeof p=="function"&&(E=this.createSceneFromFunction(v,p)),E.sys.settings.data=x,v=E.sys.settings.key,this.keys[v]=E,this.scenes.push(E),(m||E.sys.settings.active)&&(this._pending.length?this._start.push(v):this.start(v)),E},remove:function(v){if(this.isProcessing)return this.queueOp("remove",v);var p=this.getScene(v);if(!p||p.sys.isTransitioning())return this;var m=this.scenes.indexOf(p),x=p.sys.settings.key;return m>-1&&(delete this.keys[x],this.scenes.splice(m,1),this._start.indexOf(x)>-1&&(m=this._start.indexOf(x),this._start.splice(m,1)),p.sys.destroy()),this},bootScene:function(v){var p=v.sys,m=p.settings;p.sceneUpdate=a,v.init&&(v.init.call(v,m.data),m.status=y.INIT,m.isTransition&&p.events.emit(f.TRANSITION_INIT,m.transitionFrom,m.transitionDuration));var x;p.load&&(x=p.load,x.reset()),x&&v.preload?(v.preload.call(v),m.status=y.LOADING,x.once(s.COMPLETE,this.loadComplete,this),x.start()):this.create(v)},loadComplete:function(v){this.create(v.scene)},payloadComplete:function(v){this.bootScene(v.scene)},update:function(v,p){this.processQueue(),this.isProcessing=!0;for(var m=this.scenes.length-1;m>=0;m--){var x=this.scenes[m].sys;x.settings.status>y.START&&x.settings.status<=y.RUNNING&&x.step(v,p),x.scenePlugin&&x.scenePlugin._target&&x.scenePlugin.step(v,p)}},render:function(v){for(var p=0;p<this.scenes.length;p++){var m=this.scenes[p].sys;m.settings.visible&&m.settings.status>=y.LOADING&&m.settings.status<y.SLEEPING&&m.render(v)}this.isProcessing=!1},create:function(v){var p=v.sys,m=p.settings;v.create&&(m.status=y.CREATING,v.create.call(v,m.data),m.status===y.DESTROYED)||(m.isTransition&&p.events.emit(f.TRANSITION_START,m.transitionFrom,m.transitionDuration),v.update&&(p.sceneUpdate=v.update),m.status=y.RUNNING,p.events.emit(f.CREATE,v))},createSceneFromFunction:function(v,p){var m=new p;if(m instanceof c){var x=m.sys.settings.key;if(x!==""&&(v=x),this.keys.hasOwnProperty(v))throw new Error("Cannot add Scene with duplicate key: "+v);return this.createSceneFromInstance(v,m)}else return m.sys=new r(m),m.sys.settings.key=v,m.sys.init(this.game),m},createSceneFromInstance:function(v,p){var m=p.sys.settings.key;return m===""&&(p.sys.settings.key=v),p.sys.init(this.game),p},createSceneFromObject:function(v,p){var m=new c(p),x=m.sys.settings.key;x!==""?v=x:m.sys.settings.key=v,m.sys.init(this.game);for(var E=["init","preload","create","update","render"],w=0;w<E.length;w++){var C=o(p,E[w],null);C&&(m[E[w]]=C)}if(p.hasOwnProperty("extend")){for(var P in p.extend)if(p.extend.hasOwnProperty(P)){var R=p.extend[P];P==="data"&&m.hasOwnProperty("data")&&typeof R=="object"?m.data.merge(R):P!=="sys"&&(m[P]=R)}}return m},getKey:function(v,p){if(v||(v="default"),typeof p=="function")return v;if(p instanceof c?v=p.sys.settings.key:typeof p=="object"&&p.hasOwnProperty("key")&&(v=p.key),this.keys.hasOwnProperty(v))throw new Error("Cannot add Scene with duplicate key: "+v);return v},getScenes:function(v,p){v===void 0&&(v=!0),p===void 0&&(p=!1);for(var m=[],x=this.scenes,E=0;E<x.length;E++){var w=x[E];w&&(!v||v&&w.sys.isActive())&&m.push(w)}return p?m.reverse():m},getScene:function(v){if(typeof v=="string"){if(this.keys[v])return this.keys[v]}else for(var p=0;p<this.scenes.length;p++)if(v===this.scenes[p])return v;return null},isActive:function(v){var p=this.getScene(v);return p?p.sys.isActive():null},isPaused:function(v){var p=this.getScene(v);return p?p.sys.isPaused():null},isVisible:function(v){var p=this.getScene(v);return p?p.sys.isVisible():null},isSleeping:function(v){var p=this.getScene(v);return p?p.sys.isSleeping():null},pause:function(v,p){var m=this.getScene(v);return m&&m.sys.pause(p),this},resume:function(v,p){var m=this.getScene(v);return m&&m.sys.resume(p),this},sleep:function(v,p){var m=this.getScene(v);return m&&!m.sys.isTransitioning()&&m.sys.sleep(p),this},wake:function(v,p){var m=this.getScene(v);return m&&m.sys.wake(p),this},run:function(v,p){var m=this.getScene(v);if(!m){for(var x=0;x<this._pending.length;x++)if(this._pending[x].key===v){this.queueOp("start",v,p);break}return this}m.sys.isSleeping()?m.sys.wake(p):m.sys.isPaused()?m.sys.resume(p):this.start(v,p)},start:function(v,p){if(!this.isBooted)return this._data[v]={autoStart:!0,data:p},this;var m=this.getScene(v);if(!m)return console.warn("Scene key not found: "+v),this;var x=m.sys,E=x.settings.status;if(E>=y.START&&E<=y.CREATING)return this;if(E>=y.RUNNING&&E<=y.SLEEPING)x.shutdown(),x.sceneUpdate=a,x.start(p);else{x.sceneUpdate=a,x.start(p);var w;if(x.load&&(w=x.load),w&&x.settings.hasOwnProperty("pack")&&(w.reset(),w.addPack({payload:x.settings.pack})))return x.settings.status=y.LOADING,w.once(s.COMPLETE,this.payloadComplete,this),w.start(),this}return this.bootScene(m),this},stop:function(v,p){var m=this.getScene(v);if(m&&!m.sys.isTransitioning()&&m.sys.settings.status!==y.SHUTDOWN){var x=m.sys.load;x&&(x.off(s.COMPLETE,this.loadComplete,this),x.off(s.COMPLETE,this.payloadComplete,this)),m.sys.shutdown(p)}return this},switch:function(v,p,m){var x=this.getScene(v),E=this.getScene(p);return x&&E&&x!==E&&(this.sleep(v),this.isSleeping(p)?this.wake(p,m):this.start(p,m)),this},getAt:function(v){return this.scenes[v]},getIndex:function(v){var p=this.getScene(v);return this.scenes.indexOf(p)},bringToTop:function(v){if(this.isProcessing)return this.queueOp("bringToTop",v);var p=this.getIndex(v),m=this.scenes;if(p!==-1&&p<m.length){var x=this.getScene(v);m.splice(p,1),m.push(x)}return this},sendToBack:function(v){if(this.isProcessing)return this.queueOp("sendToBack",v);var p=this.getIndex(v);if(p!==-1&&p>0){var m=this.getScene(v);this.scenes.splice(p,1),this.scenes.unshift(m)}return this},moveDown:function(v){if(this.isProcessing)return this.queueOp("moveDown",v);var p=this.getIndex(v);if(p>0){var m=p-1,x=this.getScene(v),E=this.getAt(m);this.scenes[p]=E,this.scenes[m]=x}return this},moveUp:function(v){if(this.isProcessing)return this.queueOp("moveUp",v);var p=this.getIndex(v);if(p<this.scenes.length-1){var m=p+1,x=this.getScene(v),E=this.getAt(m);this.scenes[p]=E,this.scenes[m]=x}return this},moveAbove:function(v,p){if(v===p)return this;if(this.isProcessing)return this.queueOp("moveAbove",v,p);var m=this.getIndex(v),x=this.getIndex(p);if(m!==-1&&x!==-1&&x<m){var E=this.getAt(x);this.scenes.splice(x,1),this.scenes.splice(m+(x>m),0,E)}return this},moveBelow:function(v,p){if(v===p)return this;if(this.isProcessing)return this.queueOp("moveBelow",v,p);var m=this.getIndex(v),x=this.getIndex(p);if(m!==-1&&x!==-1&&x>m){var E=this.getAt(x);this.scenes.splice(x,1),m===0?this.scenes.unshift(E):this.scenes.splice(m-(x<m),0,E)}return this},queueOp:function(v,p,m,x){return this._queue.push({op:v,keyA:p,keyB:m,data:x}),this},swapPosition:function(v,p){if(v===p)return this;if(this.isProcessing)return this.queueOp("swapPosition",v,p);var m=this.getIndex(v),x=this.getIndex(p);if(m!==x&&m!==-1&&x!==-1){var E=this.getAt(m);this.scenes[m]=this.scenes[x],this.scenes[x]=E}return this},dump:function(){for(var v=[],p=["pending","init","start","loading","creating","running","paused","sleeping","shutdown","destroyed"],m=0;m<this.scenes.length;m++){var x=this.scenes[m].sys,E=x.settings.visible&&(x.settings.status===y.RUNNING||x.settings.status===y.PAUSED)?"[*] ":"[-] ";E+=x.settings.key+" ("+p[x.settings.status]+")",v.push(E)}console.log(v.join(`
`))},destroy:function(){for(var v=0;v<this.scenes.length;v++){var p=this.scenes[v].sys;p.destroy()}this.systemScene.sys.destroy(),this.update=a,this.scenes=[],this._pending=[],this._start=[],this._queue=[],this.game=null,this.systemScene=null}});h.exports=d},52209:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(45319),y=e(83419),f=e(44594),l=e(95540),o=e(37277),s=new y({initialize:function(c){this.scene=c,this.systems=c.sys,this.settings=c.sys.settings,this.key=c.sys.settings.key,this.manager=c.sys.game.scene,this.transitionProgress=0,this._elapsed=0,this._target=null,this._duration=0,this._onUpdate,this._onUpdateScope,this._willSleep=!1,this._willRemove=!1,c.sys.events.once(f.BOOT,this.boot,this),c.sys.events.on(f.START,this.pluginStart,this)},boot:function(){this.systems.events.once(f.DESTROY,this.destroy,this)},pluginStart:function(){this._target=null,this.systems.events.once(f.SHUTDOWN,this.shutdown,this)},start:function(a,c){return a===void 0&&(a=this.key),this.manager.queueOp("stop",this.key),this.manager.queueOp("start",a,c),this},restart:function(a){var c=this.key;return this.manager.queueOp("stop",c),this.manager.queueOp("start",c,a),this},transition:function(a){a===void 0&&(a={});var c=l(a,"target",!1),r=this.manager.getScene(c);if(!c||!this.checkValidTransition(r))return!1;var d=l(a,"duration",1e3);this._elapsed=0,this._target=r,this._duration=d,this._willSleep=l(a,"sleep",!1),this._willRemove=l(a,"remove",!1);var v=l(a,"onUpdate",null);v&&(this._onUpdate=v,this._onUpdateScope=l(a,"onUpdateScope",this.scene));var p=l(a,"allowInput",!1);this.settings.transitionAllowInput=p;var m=r.sys.settings;m.isTransition=!0,m.transitionFrom=this.scene,m.transitionDuration=d,m.transitionAllowInput=p,l(a,"moveAbove",!1)?this.manager.moveAbove(this.key,c):l(a,"moveBelow",!1)&&this.manager.moveBelow(this.key,c),r.sys.isSleeping()?r.sys.wake(l(a,"data")):this.manager.start(c,l(a,"data"));var x=l(a,"onStart",null),E=l(a,"onStartScope",this.scene);return x&&x.call(E,this.scene,r,d),this.systems.events.emit(f.TRANSITION_OUT,r,d),!0},checkValidTransition:function(a){return!(!a||a.sys.isActive()||a.sys.isTransitioning()||a===this.scene||this.systems.isTransitioning())},step:function(a,c){this._elapsed+=c,this.transitionProgress=u(this._elapsed/this._duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.transitionProgress),this._elapsed>=this._duration&&this.transitionComplete()},transitionComplete:function(){var a=this._target.sys,c=this._target.sys.settings;a.events.emit(f.TRANSITION_COMPLETE,this.scene),c.isTransition=!1,c.transitionFrom=null,this._duration=0,this._target=null,this._onUpdate=null,this._onUpdateScope=null,this._willRemove?this.manager.remove(this.key):this._willSleep?this.systems.sleep():this.manager.stop(this.key)},add:function(a,c,r,d){return this.manager.add(a,c,r,d)},launch:function(a,c){return a&&a!==this.key&&this.manager.queueOp("start",a,c),this},run:function(a,c){return a&&a!==this.key&&this.manager.queueOp("run",a,c),this},pause:function(a,c){return a===void 0&&(a=this.key),this.manager.queueOp("pause",a,c),this},resume:function(a,c){return a===void 0&&(a=this.key),this.manager.queueOp("resume",a,c),this},sleep:function(a,c){return a===void 0&&(a=this.key),this.manager.queueOp("sleep",a,c),this},wake:function(a,c){return a===void 0&&(a=this.key),this.manager.queueOp("wake",a,c),this},switch:function(a,c){return a!==this.key&&this.manager.queueOp("switch",this.key,a,c),this},stop:function(a,c){return a===void 0&&(a=this.key),this.manager.queueOp("stop",a,c),this},setActive:function(a,c,r){c===void 0&&(c=this.key);var d=this.manager.getScene(c);return d&&d.sys.setActive(a,r),this},setVisible:function(a,c){c===void 0&&(c=this.key);var r=this.manager.getScene(c);return r&&r.sys.setVisible(a),this},isSleeping:function(a){return a===void 0&&(a=this.key),this.manager.isSleeping(a)},isActive:function(a){return a===void 0&&(a=this.key),this.manager.isActive(a)},isPaused:function(a){return a===void 0&&(a=this.key),this.manager.isPaused(a)},isVisible:function(a){return a===void 0&&(a=this.key),this.manager.isVisible(a)},swapPosition:function(a,c){return c===void 0&&(c=this.key),a!==c&&this.manager.swapPosition(a,c),this},moveAbove:function(a,c){return c===void 0&&(c=this.key),a!==c&&this.manager.moveAbove(a,c),this},moveBelow:function(a,c){return c===void 0&&(c=this.key),a!==c&&this.manager.moveBelow(a,c),this},remove:function(a){return a===void 0&&(a=this.key),this.manager.remove(a),this},moveUp:function(a){return a===void 0&&(a=this.key),this.manager.moveUp(a),this},moveDown:function(a){return a===void 0&&(a=this.key),this.manager.moveDown(a),this},bringToTop:function(a){return a===void 0&&(a=this.key),this.manager.bringToTop(a),this},sendToBack:function(a){return a===void 0&&(a=this.key),this.manager.sendToBack(a),this},get:function(a){return this.manager.getScene(a)},getStatus:function(a){var c=this.manager.getScene(a);if(c)return c.sys.getStatus()},getIndex:function(a){return a===void 0&&(a=this.key),this.manager.getIndex(a)},shutdown:function(){var a=this.systems.events;a.off(f.SHUTDOWN,this.shutdown,this),a.off(f.TRANSITION_OUT)},destroy:function(){this.shutdown(),this.scene.sys.events.off(f.START,this.start,this),this.scene=null,this.systems=null,this.settings=null,this.manager=null}});o.register("ScenePlugin",s,"scenePlugin"),h.exports=s},55681:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(89993),y=e(35154),f=e(46975),l=e(87033),o={create:function(s){return typeof s=="string"?s={key:s}:s===void 0&&(s={}),{status:u.PENDING,key:y(s,"key",""),active:y(s,"active",!1),visible:y(s,"visible",!0),isBooted:!1,isTransition:!1,transitionFrom:null,transitionDuration:0,transitionAllowInput:!0,data:{},pack:y(s,"pack",!1),cameras:y(s,"cameras",null),map:y(s,"map",f(l,y(s,"mapAdd",{}))),physics:y(s,"physics",{}),loader:y(s,"loader",{}),plugins:y(s,"plugins",!1),input:y(s,"input",{})}}};h.exports=o},2368:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(89993),f=e(42363),l=e(44594),o=e(27397),s=e(52106),a=e(29747),c=e(55681),r=new u({initialize:function(v,p){this.scene=v,this.game,this.renderer,this.config=p,this.settings=c.create(p),this.canvas,this.context,this.anims,this.cache,this.plugins,this.registry,this.scale,this.sound,this.textures,this.add,this.cameras,this.displayList,this.events,this.make,this.scenePlugin,this.updateList,this.sceneUpdate=a},init:function(d){this.settings.status=y.INIT,this.sceneUpdate=a,this.game=d,this.renderer=d.renderer,this.canvas=d.canvas,this.context=d.context;var v=d.plugins;this.plugins=v,v.addToScene(this,f.Global,[f.CoreScene,s(this),o(this)]),this.events.emit(l.BOOT,this),this.settings.isBooted=!0},step:function(d,v){var p=this.events;p.emit(l.PRE_UPDATE,d,v),p.emit(l.UPDATE,d,v),this.sceneUpdate.call(this.scene,d,v),p.emit(l.POST_UPDATE,d,v)},render:function(d){var v=this.displayList;v.depthSort(),this.events.emit(l.PRE_RENDER,d),this.cameras.render(d,v),this.events.emit(l.RENDER,d)},queueDepthSort:function(){this.displayList.queueDepthSort()},depthSort:function(){this.displayList.depthSort()},pause:function(d){var v=this.settings,p=this.getStatus();return p!==y.CREATING&&p!==y.RUNNING?console.warn("Cannot pause non-running Scene",v.key):this.settings.active&&(v.status=y.PAUSED,v.active=!1,this.events.emit(l.PAUSE,this,d)),this},resume:function(d){var v=this.events,p=this.settings;return this.settings.active||(p.status=y.RUNNING,p.active=!0,v.emit(l.RESUME,this,d)),this},sleep:function(d){var v=this.settings,p=this.getStatus();return p!==y.CREATING&&p!==y.RUNNING?console.warn("Cannot sleep non-running Scene",v.key):(v.status=y.SLEEPING,v.active=!1,v.visible=!1,this.events.emit(l.SLEEP,this,d)),this},wake:function(d){var v=this.events,p=this.settings;return p.status=y.RUNNING,p.active=!0,p.visible=!0,v.emit(l.WAKE,this,d),p.isTransition&&v.emit(l.TRANSITION_WAKE,p.transitionFrom,p.transitionDuration),this},getData:function(){return this.settings.data},getStatus:function(){return this.settings.status},canInput:function(){var d=this.settings.status;return d>y.PENDING&&d<=y.RUNNING},isSleeping:function(){return this.settings.status===y.SLEEPING},isActive:function(){return this.settings.status===y.RUNNING},isPaused:function(){return this.settings.status===y.PAUSED},isTransitioning:function(){return this.settings.isTransition||this.scenePlugin._target!==null},isTransitionOut:function(){return this.scenePlugin._target!==null&&this.scenePlugin._duration>0},isTransitionIn:function(){return this.settings.isTransition},isVisible:function(){return this.settings.visible},setVisible:function(d){return this.settings.visible=d,this},setActive:function(d,v){return d?this.resume(v):this.pause(v)},start:function(d){var v=this.events,p=this.settings;d&&(p.data=d),p.status=y.START,p.active=!0,p.visible=!0,v.emit(l.START,this),v.emit(l.READY,this,d)},shutdown:function(d){var v=this.events,p=this.settings;v.off(l.TRANSITION_INIT),v.off(l.TRANSITION_START),v.off(l.TRANSITION_COMPLETE),v.off(l.TRANSITION_OUT),p.status=y.SHUTDOWN,p.active=!1,p.visible=!1,v.emit(l.SHUTDOWN,this,d)},destroy:function(){var d=this.events,v=this.settings;v.status=y.DESTROYED,v.active=!1,v.visible=!1,d.emit(l.DESTROY,this),d.removeAllListeners();for(var p=["scene","game","anims","cache","plugins","registry","sound","textures","add","camera","displayList","events","make","scenePlugin","updateList"],m=0;m<p.length;m++)this[p[m]]=null}});h.exports=r},89993:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={PENDING:0,INIT:1,START:2,LOADING:3,CREATING:4,RUNNING:5,PAUSED:6,SLEEPING:7,SHUTDOWN:8,DESTROYED:9};h.exports=S},69830:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="addedtoscene"},7919:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="boot"},46763:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="create"},11763:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="destroy"},71555:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="pause"},36735:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="postupdate"},3809:h=>{/**
 * @author       samme
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="prerender"},90716:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="preupdate"},58262:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="ready"},91633:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="removedfromscene"},10319:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="render"},87132:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="resume"},81961:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="shutdown"},90194:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="sleep"},6265:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="start"},33178:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="transitioncomplete"},43063:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="transitioninit"},11259:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="transitionout"},61611:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="transitionstart"},45209:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="transitionwake"},22966:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="update"},21747:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="wake"},44594:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={ADDED_TO_SCENE:e(69830),BOOT:e(7919),CREATE:e(46763),DESTROY:e(11763),PAUSE:e(71555),POST_UPDATE:e(36735),PRE_RENDER:e(3809),PRE_UPDATE:e(90716),READY:e(58262),REMOVED_FROM_SCENE:e(91633),RENDER:e(10319),RESUME:e(87132),SHUTDOWN:e(81961),SLEEP:e(90194),START:e(6265),TRANSITION_COMPLETE:e(33178),TRANSITION_INIT:e(43063),TRANSITION_OUT:e(11259),TRANSITION_START:e(61611),TRANSITION_WAKE:e(45209),UPDATE:e(22966),WAKE:e(21747)}},62194:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(89993),y=e(79291),f={Events:e(44594),GetPhysicsPlugins:e(27397),GetScenePlugins:e(52106),SceneManager:e(60903),ScenePlugin:e(52209),Settings:e(55681),Systems:e(2368)};f=y(!1,f,u),h.exports=f},30341:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(50792),f=e(14463),l=e(79291),o=e(29747),s=new u({Extends:y,initialize:function(c,r,d){y.call(this),this.manager=c,this.key=r,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=this.duration||0,this.totalDuration=this.totalDuration||0,this.config={mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},this.currentConfig=this.config,this.config=l(this.config,d),this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:function(a){return!a||!a.name||typeof a.name!="string"?!1:this.markers[a.name]?(console.error("addMarker "+a.name+" already exists in Sound"),!1):(a=l(!0,{name:"",start:0,duration:this.totalDuration-(a.start||0),config:{mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0}},a),this.markers[a.name]=a,!0)},updateMarker:function(a){return!a||!a.name||typeof a.name!="string"?!1:this.markers[a.name]?(this.markers[a.name]=l(!0,this.markers[a.name],a),!0):(console.warn("Audio Marker: "+a.name+" missing in Sound: "+this.key),!1)},removeMarker:function(a){var c=this.markers[a];return c?(this.markers[a]=null,c):null},play:function(a,c){if(a===void 0&&(a=""),typeof a=="object"&&(c=a,a=""),typeof a!="string")return!1;if(!a)this.currentMarker=null,this.currentConfig=this.config,this.duration=this.totalDuration;else{if(!this.markers[a])return console.warn("Marker: "+a+" missing in Sound: "+this.key),!1;this.currentMarker=this.markers[a],this.currentConfig=this.currentMarker.config,this.duration=this.currentMarker.duration}return this.resetConfig(),this.currentConfig=l(this.currentConfig,c),this.isPlaying=!0,this.isPaused=!1,!0},pause:function(){return this.isPaused||!this.isPlaying?!1:(this.isPlaying=!1,this.isPaused=!0,!0)},resume:function(){return!this.isPaused||this.isPlaying?!1:(this.isPlaying=!0,this.isPaused=!1,!0)},stop:function(){return!this.isPaused&&!this.isPlaying?!1:(this.isPlaying=!1,this.isPaused=!1,this.resetConfig(),!0)},applyConfig:function(){this.mute=this.currentConfig.mute,this.volume=this.currentConfig.volume,this.rate=this.currentConfig.rate,this.detune=this.currentConfig.detune,this.loop=this.currentConfig.loop,this.pan=this.currentConfig.pan},resetConfig:function(){this.currentConfig.seek=0,this.currentConfig.delay=0},update:o,calculateRate:function(){var a=1.0005777895065548,c=this.currentConfig.detune+this.manager.detune,r=Math.pow(a,c);this.totalRate=this.currentConfig.rate*this.manager.rate*r},destroy:function(){this.pendingRemove||(this.stop(),this.emit(f.DESTROY,this),this.removeAllListeners(),this.pendingRemove=!0,this.manager=null,this.config=null,this.currentConfig=null,this.markers=null,this.currentMarker=null)}});h.exports=s},85034:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(41786),f=e(50792),l=e(14463),o=e(8443),s=e(46710),a=e(58731),c=e(29747),r=e(26099),d=new u({Extends:f,initialize:function(p){f.call(this),this.game=p,this.jsonCache=p.cache.json,this.sounds=[],this.mute=!1,this.volume=1,this.pauseOnBlur=!0,this._rate=1,this._detune=0,this.locked=this.locked||!1,this.unlocked=!1,this.gameLostFocus=!1,this.listenerPosition=new r;var m=p.events;m.on(o.BLUR,this.onGameBlur,this),m.on(o.FOCUS,this.onGameFocus,this),m.on(o.PRE_STEP,this.update,this),m.once(o.DESTROY,this.destroy,this)},add:c,addAudioSprite:function(v,p){p===void 0&&(p={});var m=this.add(v,p);m.spritemap=this.jsonCache.get(v).spritemap;for(var x in m.spritemap)if(m.spritemap.hasOwnProperty(x)){var E=y(p),w=m.spritemap[x];E.loop=w.hasOwnProperty("loop")?w.loop:!1,m.addMarker({name:x,start:w.start,duration:w.end-w.start,config:E})}return m},get:function(v){return a(this.sounds,"key",v)},getAll:function(v){return v?s(this.sounds,"key",v):s(this.sounds)},getAllPlaying:function(){return s(this.sounds,"isPlaying",!0)},play:function(v,p){var m=this.add(v);return m.once(l.COMPLETE,m.destroy,m),p?p.name?(m.addMarker(p),m.play(p.name)):m.play(p):m.play()},playAudioSprite:function(v,p,m){var x=this.addAudioSprite(v);return x.once(l.COMPLETE,x.destroy,x),x.play(p,m)},remove:function(v){var p=this.sounds.indexOf(v);return p!==-1?(v.destroy(),this.sounds.splice(p,1),!0):!1},removeAll:function(){this.sounds.forEach(function(v){v.destroy()}),this.sounds.length=0},removeByKey:function(v){for(var p=0,m=this.sounds.length-1;m>=0;m--){var x=this.sounds[m];x.key===v&&(x.destroy(),this.sounds.splice(m,1),p++)}return p},pauseAll:function(){this.forEachActiveSound(function(v){v.pause()}),this.emit(l.PAUSE_ALL,this)},resumeAll:function(){this.forEachActiveSound(function(v){v.resume()}),this.emit(l.RESUME_ALL,this)},setListenerPosition:c,stopAll:function(){this.forEachActiveSound(function(v){v.stop()}),this.emit(l.STOP_ALL,this)},stopByKey:function(v){var p=0;return this.getAll(v).forEach(function(m){m.stop()&&p++}),p},isPlaying:function(v){var p=this.sounds,m=p.length-1,x;if(v===void 0){for(;m>=0;m--)if(x=this.sounds[m],x.isPlaying)return!0}else for(;m>=0;m--)if(x=this.sounds[m],x.key===v&&x.isPlaying)return!0;return!1},unlock:c,onBlur:c,onFocus:c,onGameBlur:function(){this.gameLostFocus=!0,this.pauseOnBlur&&this.onBlur()},onGameFocus:function(){this.gameLostFocus=!1,this.pauseOnBlur&&this.onFocus()},update:function(v,p){this.unlocked&&(this.unlocked=!1,this.locked=!1,this.emit(l.UNLOCKED,this));for(var m=this.sounds.length-1;m>=0;m--)this.sounds[m].pendingRemove&&this.sounds.splice(m,1);this.sounds.forEach(function(x){x.update(v,p)})},destroy:function(){this.game.events.off(o.BLUR,this.onGameBlur,this),this.game.events.off(o.FOCUS,this.onGameFocus,this),this.game.events.off(o.PRE_STEP,this.update,this),this.removeAllListeners(),this.removeAll(),this.sounds.length=0,this.sounds=null,this.listenerPosition=null,this.game=null},forEachActiveSound:function(v,p){var m=this;this.sounds.forEach(function(x,E){x&&!x.pendingRemove&&v.call(p||m,x,E,m.sounds)})},setRate:function(v){return this.rate=v,this},rate:{get:function(){return this._rate},set:function(v){this._rate=v,this.forEachActiveSound(function(p){p.calculateRate()}),this.emit(l.GLOBAL_RATE,this,v)}},setDetune:function(v){return this.detune=v,this},detune:{get:function(){return this._detune},set:function(v){this._detune=v,this.forEachActiveSound(function(p){p.calculateRate()}),this.emit(l.GLOBAL_DETUNE,this,v)}}});h.exports=d},14747:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(33684),y=e(25960),f=e(57490),l={create:function(o){var s=o.config.audio,a=o.device.audio;return s.noAudio||!a.webAudio&&!a.audioData?new y(o):a.webAudio&&!s.disableWebAudio?new f(o):new u(o)}};h.exports=l},19723:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="complete"},98882:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="decodedall"},57506:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="decoded"},73146:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="destroy"},11305:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="detune"},40577:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="detune"},30333:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="mute"},20394:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="rate"},21802:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="volume"},1299:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="looped"},99190:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="loop"},97125:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="mute"},89259:h=>{/**
 * @author       pi-kei
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="pan"},79986:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="pauseall"},17586:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="pause"},19618:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="play"},42306:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="rate"},10387:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="resumeall"},48959:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="resume"},9960:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="seek"},19180:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="stopall"},98328:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="stop"},50401:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="unlocked"},52498:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="volume"},14463:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={COMPLETE:e(19723),DECODED:e(57506),DECODED_ALL:e(98882),DESTROY:e(73146),DETUNE:e(11305),GLOBAL_DETUNE:e(40577),GLOBAL_MUTE:e(30333),GLOBAL_RATE:e(20394),GLOBAL_VOLUME:e(21802),LOOP:e(99190),LOOPED:e(1299),MUTE:e(97125),PAN:e(89259),PAUSE_ALL:e(79986),PAUSE:e(17586),PLAY:e(19618),RATE:e(42306),RESUME_ALL:e(10387),RESUME:e(48959),SEEK:e(9960),STOP_ALL:e(19180),STOP:e(98328),UNLOCKED:e(50401),VOLUME:e(52498)}},64895:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(30341),y=e(83419),f=e(14463),l=e(45319),o=new y({Extends:u,initialize:function(a,c,r){if(r===void 0&&(r={}),this.tags=a.game.cache.audio.get(c),!this.tags)throw new Error('No cached audio asset with key "'+c);this.audio=null,this.startTime=0,this.previousTime=0,this.duration=this.tags[0].duration,this.totalDuration=this.tags[0].duration,u.call(this,a,c,r)},play:function(s,a){return this.manager.isLocked(this,"play",[s,a])||!u.prototype.play.call(this,s,a)||!this.pickAndPlayAudioTag()?!1:(this.emit(f.PLAY,this),!0)},pause:function(){return this.manager.isLocked(this,"pause")||this.startTime>0||!u.prototype.pause.call(this)?!1:(this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.stopAndReleaseAudioTag(),this.emit(f.PAUSE,this),!0)},resume:function(){return this.manager.isLocked(this,"resume")||this.startTime>0||!u.prototype.resume.call(this)||!this.pickAndPlayAudioTag()?!1:(this.emit(f.RESUME,this),!0)},stop:function(){return this.manager.isLocked(this,"stop")||!u.prototype.stop.call(this)?!1:(this.stopAndReleaseAudioTag(),this.emit(f.STOP,this),!0)},pickAndPlayAudioTag:function(){if(!this.pickAudioTag())return this.reset(),!1;var s=this.currentConfig.seek,a=this.currentConfig.delay,c=(this.currentMarker?this.currentMarker.start:0)+s;return this.previousTime=c,this.audio.currentTime=c,this.applyConfig(),a===0?(this.startTime=0,this.audio.paused&&this.playCatchPromise()):(this.startTime=window.performance.now()+a*1e3,this.audio.paused||this.audio.pause()),this.resetConfig(),!0},pickAudioTag:function(){if(this.audio)return!0;for(var s=0;s<this.tags.length;s++){var a=this.tags[s];if(a.dataset.used==="false")return a.dataset.used="true",this.audio=a,!0}if(!this.manager.override)return!1;var c=[];this.manager.forEachActiveSound(function(d){d.key===this.key&&d.audio&&c.push(d)},this),c.sort(function(d,v){return d.loop===v.loop?v.seek/v.duration-d.seek/d.duration:d.loop?1:-1});var r=c[0];return this.audio=r.audio,r.reset(),r.audio=null,r.startTime=0,r.previousTime=0,!0},playCatchPromise:function(){var s=this.audio.play();s&&s.catch(function(a){console.warn(a)})},stopAndReleaseAudioTag:function(){this.startTime=0,this.previousTime=0,this.audio&&(this.audio.pause(),this.audio.dataset.used="false",this.audio=null)},reset:function(){u.prototype.stop.call(this)},onBlur:function(){this.isPlaying=!1,this.isPaused=!0,this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.currentConfig.delay=Math.max(0,(this.startTime-window.performance.now())/1e3),this.stopAndReleaseAudioTag()},onFocus:function(){this.isPlaying=!0,this.isPaused=!1,this.pickAndPlayAudioTag()},update:function(s){if(this.isPlaying){if(this.startTime>0){this.startTime<s-this.manager.audioPlayDelay&&(this.audio.currentTime+=Math.max(0,s-this.startTime)/1e3,this.startTime=0,this.previousTime=this.audio.currentTime,this.playCatchPromise());return}var a=this.currentMarker?this.currentMarker.start:0,c=a+this.duration,r=this.audio.currentTime;if(this.currentConfig.loop)r>=c-this.manager.loopEndOffset?(this.audio.currentTime=a+Math.max(0,r-c),r=this.audio.currentTime):r<a&&(this.audio.currentTime+=a,r=this.audio.currentTime),r<this.previousTime&&this.emit(f.LOOPED,this);else if(r>=c){this.reset(),this.stopAndReleaseAudioTag(),this.emit(f.COMPLETE,this);return}this.previousTime=r}},destroy:function(){u.prototype.destroy.call(this),this.tags=null,this.audio&&this.stopAndReleaseAudioTag()},updateMute:function(){this.audio&&(this.audio.muted=this.currentConfig.mute||this.manager.mute)},updateVolume:function(){this.audio&&(this.audio.volume=l(this.currentConfig.volume*this.manager.volume,0,1))},calculateRate:function(){u.prototype.calculateRate.call(this),this.audio&&(this.audio.playbackRate=this.totalRate)},mute:{get:function(){return this.currentConfig.mute},set:function(s){this.currentConfig.mute=s,!this.manager.isLocked(this,"mute",s)&&(this.updateMute(),this.emit(f.MUTE,this,s))}},setMute:function(s){return this.mute=s,this},volume:{get:function(){return this.currentConfig.volume},set:function(s){this.currentConfig.volume=s,!this.manager.isLocked(this,"volume",s)&&(this.updateVolume(),this.emit(f.VOLUME,this,s))}},setVolume:function(s){return this.volume=s,this},rate:{get:function(){return this.currentConfig.rate},set:function(s){this.currentConfig.rate=s,!this.manager.isLocked(this,f.RATE,s)&&(this.calculateRate(),this.emit(f.RATE,this,s))}},setRate:function(s){return this.rate=s,this},detune:{get:function(){return this.currentConfig.detune},set:function(s){this.currentConfig.detune=s,!this.manager.isLocked(this,f.DETUNE,s)&&(this.calculateRate(),this.emit(f.DETUNE,this,s))}},setDetune:function(s){return this.detune=s,this},seek:{get:function(){return this.isPlaying?this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0):this.isPaused?this.currentConfig.seek:0},set:function(s){this.manager.isLocked(this,"seek",s)||this.startTime>0||(this.isPlaying||this.isPaused)&&(s=Math.min(Math.max(0,s),this.duration),this.isPlaying?(this.previousTime=s,this.audio.currentTime=s):this.isPaused&&(this.currentConfig.seek=s),this.emit(f.SEEK,this,s))}},setSeek:function(s){return this.seek=s,this},loop:{get:function(){return this.currentConfig.loop},set:function(s){this.currentConfig.loop=s,!this.manager.isLocked(this,"loop",s)&&(this.audio&&(this.audio.loop=s),this.emit(f.LOOP,this,s))}},setLoop:function(s){return this.loop=s,this},pan:{get:function(){return this.currentConfig.pan},set:function(s){this.currentConfig.pan=s,this.emit(f.PAN,this,s)}},setPan:function(s){return this.pan=s,this}});h.exports=o},33684:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(85034),y=e(83419),f=e(14463),l=e(64895),o=new y({Extends:u,initialize:function(a){this.override=!0,this.audioPlayDelay=.1,this.loopEndOffset=.05,this.onBlurPausedSounds=[],this.locked="ontouchstart"in window,this.lockedActionsQueue=this.locked?[]:null,this._mute=!1,this._volume=1,u.call(this,a)},add:function(s,a){var c=new l(this,s,a);return this.sounds.push(c),c},unlock:function(){this.locked=!1;var s=this;if(this.game.cache.audio.entries.each(function(d,v){for(var p=0;p<v.length;p++)if(v[p].dataset.locked==="true")return s.locked=!0,!1;return!0}),!!this.locked){var a=!1,c=function(){a=!0},r=function(){if(a){a=!1;return}document.body.removeEventListener("touchmove",c),document.body.removeEventListener("touchend",r);var d=[];if(s.game.cache.audio.entries.each(function(p,m){for(var x=0;x<m.length;x++){var E=m[x];E.dataset.locked==="true"&&d.push(E)}return!0}),d.length!==0){var v=d[d.length-1];v.oncanplaythrough=function(){v.oncanplaythrough=null,d.forEach(function(p){p.dataset.locked="false"}),s.unlocked=!0},d.forEach(function(p){p.load()})}};this.once(f.UNLOCKED,function(){for(this.forEachActiveSound(function(v){v.currentMarker===null&&v.duration===0&&(v.duration=v.tags[0].duration),v.totalDuration=v.tags[0].duration});this.lockedActionsQueue.length;){var d=this.lockedActionsQueue.shift();d.sound[d.prop].apply?d.sound[d.prop].apply(d.sound,d.value||[]):d.sound[d.prop]=d.value}},this),document.body.addEventListener("touchmove",c,!1),document.body.addEventListener("touchend",r,!1)}},onBlur:function(){this.forEachActiveSound(function(s){s.isPlaying&&(this.onBlurPausedSounds.push(s),s.onBlur())})},onFocus:function(){this.onBlurPausedSounds.forEach(function(s){s.onFocus()}),this.onBlurPausedSounds.length=0},destroy:function(){u.prototype.destroy.call(this),this.onBlurPausedSounds.length=0,this.onBlurPausedSounds=null},isLocked:function(s,a,c){return s.tags[0].dataset.locked==="true"?(this.lockedActionsQueue.push({sound:s,prop:a,value:c}),!0):!1},setMute:function(s){return this.mute=s,this},mute:{get:function(){return this._mute},set:function(s){this._mute=s,this.forEachActiveSound(function(a){a.updateMute()}),this.emit(f.GLOBAL_MUTE,this,s)}},setVolume:function(s){return this.volume=s,this},volume:{get:function(){return this._volume},set:function(s){this._volume=s,this.forEachActiveSound(function(a){a.updateVolume()}),this.emit(f.GLOBAL_VOLUME,this,s)}}});h.exports=o},23717:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={SoundManagerCreator:e(14747),Events:e(14463),BaseSound:e(30341),BaseSoundManager:e(85034),WebAudioSound:e(71741),WebAudioSoundManager:e(57490),HTML5AudioSound:e(64895),HTML5AudioSoundManager:e(33684),NoAudioSound:e(4603),NoAudioSoundManager:e(25960)}},4603:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(30341),y=e(83419),f=e(50792),l=e(79291),o=e(29747),s=function(){return!1},a=function(){return null},c=function(){return this},r=new y({Extends:f,initialize:function(v,p,m){m===void 0&&(m={}),f.call(this),this.manager=v,this.key=p,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=0,this.totalDuration=0,this.config=l({mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},m),this.currentConfig=this.config,this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.seek=0,this.loop=!1,this.pan=0,this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:s,updateMarker:s,removeMarker:a,play:s,pause:s,resume:s,stop:s,setMute:c,setVolume:c,setRate:c,setDetune:c,setSeek:c,setLoop:c,setPan:c,applyConfig:a,resetConfig:a,update:o,calculateRate:a,destroy:function(){u.prototype.destroy.call(this)}});h.exports=r},25960:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(85034),y=e(83419),f=e(50792),l=e(4603),o=e(29747),s=new y({Extends:f,initialize:function(c){f.call(this),this.game=c,this.sounds=[],this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.pauseOnBlur=!0,this.locked=!1},add:function(a,c){var r=new l(this,a,c);return this.sounds.push(r),r},addAudioSprite:function(a,c){var r=this.add(a,c);return r.spritemap={},r},get:function(a){return u.prototype.get.call(this,a)},getAll:function(a){return u.prototype.getAll.call(this,a)},play:function(a,c){return!1},playAudioSprite:function(a,c,r){return!1},remove:function(a){return u.prototype.remove.call(this,a)},removeAll:function(){return u.prototype.removeAll.call(this)},removeByKey:function(a){return u.prototype.removeByKey.call(this,a)},stopByKey:function(a){return u.prototype.stopByKey.call(this,a)},onBlur:o,onFocus:o,onGameBlur:o,onGameFocus:o,pauseAll:o,resumeAll:o,stopAll:o,update:o,setRate:o,setDetune:o,setMute:o,setVolume:o,unlock:o,forEachActiveSound:function(a,c){u.prototype.forEachActiveSound.call(this,a,c)},destroy:function(){u.prototype.destroy.call(this)}});h.exports=s},71741:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(30341),y=e(83419),f=e(14463),l=e(95540),o=new y({Extends:u,initialize:function(a,c,r){if(r===void 0&&(r={}),this.audioBuffer=a.game.cache.audio.get(c),!this.audioBuffer)throw new Error('Audio key "'+c+'" not found in cache');this.source=null,this.loopSource=null,this.muteNode=a.context.createGain(),this.volumeNode=a.context.createGain(),this.pannerNode=null,this.spatialNode=null,this.spatialSource=null,this.playTime=0,this.startTime=0,this.loopTime=0,this.rateUpdates=[],this.hasEnded=!1,this.hasLooped=!1,this.muteNode.connect(this.volumeNode),a.context.createPanner&&(this.spatialNode=a.context.createPanner(),this.volumeNode.connect(this.spatialNode)),a.context.createStereoPanner?(this.pannerNode=a.context.createStereoPanner(),a.context.createPanner?this.spatialNode.connect(this.pannerNode):this.volumeNode.connect(this.pannerNode),this.pannerNode.connect(a.destination)):a.context.createPanner?this.spatialNode.connect(a.destination):this.volumeNode.connect(a.destination),this.duration=this.audioBuffer.duration,this.totalDuration=this.audioBuffer.duration,u.call(this,a,c,r)},play:function(s,a){return u.prototype.play.call(this,s,a)?(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource(),this.emit(f.PLAY,this),!0):!1},pause:function(){return this.manager.context.currentTime<this.startTime||!u.prototype.pause.call(this)?!1:(this.currentConfig.seek=this.getCurrentTime(),this.stopAndRemoveBufferSource(),this.emit(f.PAUSE,this),!0)},resume:function(){return this.manager.context.currentTime<this.startTime||!u.prototype.resume.call(this)?!1:(this.createAndStartBufferSource(),this.emit(f.RESUME,this),!0)},stop:function(){return u.prototype.stop.call(this)?(this.stopAndRemoveBufferSource(),this.emit(f.STOP,this),!0):!1},createAndStartBufferSource:function(){var s=this.currentConfig.seek,a=this.currentConfig.delay,c=this.manager.context.currentTime+a,r=(this.currentMarker?this.currentMarker.start:0)+s,d=this.duration-s;this.playTime=c-s,this.startTime=c,this.source=this.createBufferSource(),this.applyConfig(),this.source.start(Math.max(0,c),Math.max(0,r),Math.max(0,d)),this.resetConfig()},createAndStartLoopBufferSource:function(){var s=this.getLoopTime(),a=this.currentMarker?this.currentMarker.start:0,c=this.duration;this.loopTime=s,this.loopSource=this.createBufferSource(),this.loopSource.playbackRate.setValueAtTime(this.totalRate,0),this.loopSource.start(Math.max(0,s),Math.max(0,a),Math.max(0,c))},createBufferSource:function(){var s=this,a=this.manager.context.createBufferSource();return a.buffer=this.audioBuffer,a.connect(this.muteNode),a.onended=function(c){var r=c.target;(r===s.source||r===s.loopSource)&&(s.currentConfig.loop?s.hasLooped=!0:s.hasEnded=!0)},a},stopAndRemoveBufferSource:function(){if(this.source){var s=this.source;this.source=null,s.stop(),s.disconnect()}this.playTime=0,this.startTime=0,this.hasEnded=!1,this.stopAndRemoveLoopBufferSource()},stopAndRemoveLoopBufferSource:function(){this.loopSource&&(this.loopSource.stop(),this.loopSource.disconnect(),this.loopSource=null),this.loopTime=0},applyConfig:function(){this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:1});var s=this.currentConfig.source;if(s&&this.manager.context.createPanner){var a=this.spatialNode;a.panningModel=l(s,"panningModel","equalpower"),a.distanceModel=l(s,"distanceModel","inverse"),a.orientationX.value=l(s,"orientationX",0),a.orientationY.value=l(s,"orientationY",0),a.orientationZ.value=l(s,"orientationZ",-1),a.refDistance=l(s,"refDistance",1),a.maxDistance=l(s,"maxDistance",1e4),a.rolloffFactor=l(s,"rolloffFactor",1),a.coneInnerAngle=l(s,"coneInnerAngle",360),a.coneOuterAngle=l(s,"coneOuterAngle",0),a.coneOuterGain=l(s,"coneOuterGain",0),this.spatialSource=l(s,"follow",null),this.spatialSource||(a.positionX.value=l(s,"x",0),a.positionY.value=l(s,"y",0),a.positionZ.value=l(s,"z",0))}u.prototype.applyConfig.call(this)},x:{get:function(){return this.spatialNode?this.spatialNode.positionX:0},set:function(s){this.spatialNode&&(this.spatialNode.positionX.value=s)}},y:{get:function(){return this.spatialNode?this.spatialNode.positionY:0},set:function(s){this.spatialNode&&(this.spatialNode.positionY.value=s)}},update:function(){if(this.isPlaying&&this.spatialSource){var s=l(this.spatialSource,"x",null),a=l(this.spatialSource,"y",null);s&&s!==this._spatialx&&(this._spatialx=this.spatialNode.positionX.value=s),a&&a!==this._spatialy&&(this._spatialy=this.spatialNode.positionY.value=a)}this.hasEnded?(u.prototype.stop.call(this),this.stopAndRemoveBufferSource(),this.emit(f.COMPLETE,this)):this.hasLooped&&(this.hasLooped=!1,this.source=this.loopSource,this.loopSource=null,this.playTime=this.startTime=this.loopTime,this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:this.totalRate}),this.createAndStartLoopBufferSource(),this.emit(f.LOOPED,this))},destroy:function(){this.pendingRemove||(u.prototype.destroy.call(this),this.audioBuffer=null,this.stopAndRemoveBufferSource(),this.muteNode.disconnect(),this.muteNode=null,this.volumeNode.disconnect(),this.volumeNode=null,this.pannerNode&&(this.pannerNode.disconnect(),this.pannerNode=null),this.spatialNode&&(this.spatialNode.disconnect(),this.spatialNode=null,this.spatialSource=null),this.rateUpdates.length=0,this.rateUpdates=null)},calculateRate:function(){u.prototype.calculateRate.call(this);var s=this.manager.context.currentTime;this.source&&typeof this.totalRate=="number"&&this.source.playbackRate.setValueAtTime(this.totalRate,s),this.isPlaying&&(this.rateUpdates.push({time:Math.max(this.startTime,s)-this.playTime,rate:this.totalRate}),this.loopSource&&(this.stopAndRemoveLoopBufferSource(),this.createAndStartLoopBufferSource()))},getCurrentTime:function(){for(var s=0,a=0;a<this.rateUpdates.length;a++){var c=0;a<this.rateUpdates.length-1?c=this.rateUpdates[a+1].time:c=this.manager.context.currentTime-this.playTime,s+=(c-this.rateUpdates[a].time)*this.rateUpdates[a].rate}return s},getLoopTime:function(){for(var s=0,a=0;a<this.rateUpdates.length-1;a++)s+=(this.rateUpdates[a+1].time-this.rateUpdates[a].time)*this.rateUpdates[a].rate;var c=this.rateUpdates[this.rateUpdates.length-1];return this.playTime+c.time+(this.duration-s)/c.rate},rate:{get:function(){return this.currentConfig.rate},set:function(s){this.currentConfig.rate=s,this.calculateRate(),this.emit(f.RATE,this,s)}},setRate:function(s){return this.rate=s,this},detune:{get:function(){return this.currentConfig.detune},set:function(s){this.currentConfig.detune=s,this.calculateRate(),this.emit(f.DETUNE,this,s)}},setDetune:function(s){return this.detune=s,this},mute:{get:function(){return this.muteNode.gain.value===0},set:function(s){this.currentConfig.mute=s,this.muteNode.gain.setValueAtTime(s?0:1,0),this.emit(f.MUTE,this,s)}},setMute:function(s){return this.mute=s,this},volume:{get:function(){return this.volumeNode.gain.value},set:function(s){this.currentConfig.volume=s,this.volumeNode.gain.setValueAtTime(s,0),this.emit(f.VOLUME,this,s)}},setVolume:function(s){return this.volume=s,this},seek:{get:function(){return this.isPlaying?this.manager.context.currentTime<this.startTime?this.startTime-this.playTime:this.getCurrentTime():this.isPaused?this.currentConfig.seek:0},set:function(s){this.manager.context.currentTime<this.startTime||(this.isPlaying||this.isPaused)&&(s=Math.min(Math.max(0,s),this.duration),this.currentConfig.seek=s,this.isPlaying&&(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource()),this.emit(f.SEEK,this,s))}},setSeek:function(s){return this.seek=s,this},loop:{get:function(){return this.currentConfig.loop},set:function(s){this.currentConfig.loop=s,this.isPlaying&&(this.stopAndRemoveLoopBufferSource(),s&&this.createAndStartLoopBufferSource()),this.emit(f.LOOP,this,s)}},setLoop:function(s){return this.loop=s,this},pan:{get:function(){return this.pannerNode?this.pannerNode.pan.value:0},set:function(s){this.currentConfig.pan=s,this.pannerNode&&this.pannerNode.pan.setValueAtTime(s,this.manager.context.currentTime),this.emit(f.PAN,this,s)}},setPan:function(s){return this.pan=s,this}});h.exports=o},57490:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(53134),y=e(85034),f=e(83419),l=e(14463),o=e(8443),s=e(71741),a=e(95540),c=new f({Extends:y,initialize:function(d){this.context=this.createAudioContext(d),this.masterMuteNode=this.context.createGain(),this.masterVolumeNode=this.context.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(this.context.destination),this.destination=this.masterMuteNode,this.locked=this.context.state==="suspended",y.call(this,d),this.locked&&(d.isBooted?this.unlock():d.events.once(o.BOOT,this.unlock,this)),d.events.on(o.VISIBLE,this.onGameVisible,this)},onGameVisible:function(){var r=this.context;window.setTimeout(function(){r&&(r.suspend(),r.resume())},100)},createAudioContext:function(r){var d=r.config.audio;if(d.context)return d.context.resume(),d.context;if(window.hasOwnProperty("AudioContext"))return new AudioContext;if(window.hasOwnProperty("webkitAudioContext"))return new window.webkitAudioContext},setAudioContext:function(r){return this.context&&this.context.close(),this.masterMuteNode&&this.masterMuteNode.disconnect(),this.masterVolumeNode&&this.masterVolumeNode.disconnect(),this.context=r,this.masterMuteNode=r.createGain(),this.masterVolumeNode=r.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(r.destination),this.destination=this.masterMuteNode,this},add:function(r,d){var v=new s(this,r,d);return this.sounds.push(v),v},decodeAudio:function(r,d){var v;Array.isArray(r)?v=r:v=[{key:r,data:d}];for(var p=this.game.cache.audio,m=v.length,x=0;x<v.length;x++){var E=v[x],w=E.key,C=E.data;typeof C=="string"&&(C=u(C));var P=(function(M,I){p.add(M,I),this.emit(l.DECODED,M),m--,m===0&&this.emit(l.DECODED_ALL)}).bind(this,w),R=(function(M,I){console.error("Error decoding audio: "+M+" - ",I?I.message:""),m--,m===0&&this.emit(l.DECODED_ALL)}).bind(this,w);this.context.decodeAudioData(C,P,R)}},setListenerPosition:function(r,d){return r===void 0&&(r=this.game.scale.width/2),d===void 0&&(d=this.game.scale.height/2),this.listenerPosition.set(r,d),this},unlock:function(){var r=this,d=document.body,v=function p(){if(r.context&&d){var m=d.removeEventListener.bind(d);r.context.resume().then(function(){m("touchstart",p),m("touchend",p),m("mousedown",p),m("mouseup",p),m("keydown",p),r.unlocked=!0},function(){m("touchstart",p),m("touchend",p),m("mousedown",p),m("mouseup",p),m("keydown",p)})}};d&&(d.addEventListener("touchstart",v,!1),d.addEventListener("touchend",v,!1),d.addEventListener("mousedown",v,!1),d.addEventListener("mouseup",v,!1),d.addEventListener("keydown",v,!1))},onBlur:function(){this.locked||this.context.suspend()},onFocus:function(){var r=this.context;r&&!this.locked&&(r.state==="suspended"||r.state==="interrupted")&&r.resume()},update:function(r,d){var v=this.context.listener,p=a(this.listenerPosition,"x",null),m=a(this.listenerPosition,"y",null);if(v&&v.positionX!==void 0)p&&p!==this._spatialx&&(this._spatialx=v.positionX.value=p),m&&m!==this._spatialy&&(this._spatialy=v.positionY.value=m);else if(v){p&&p!==this._spatialx&&(this._spatialx=p),m&&m!==this._spatialy&&(this._spatialy=m);var x=a(v,"z",0);v.setPosition(this._spatialx||0,this._spatialy||0,x)}y.prototype.update.call(this,r,d),this.gameLostFocus||this.onFocus()},destroy:function(){if(this.destination=null,this.masterVolumeNode.disconnect(),this.masterVolumeNode=null,this.masterMuteNode.disconnect(),this.masterMuteNode=null,this.game.config.audio.context)this.context.suspend();else{var r=this;this.context.close().then(function(){r.context=null})}this.game.events.off(o.VISIBLE,this.onGameVisible,this),y.prototype.destroy.call(this)},setMute:function(r){return this.mute=r,this},mute:{get:function(){return this.masterMuteNode.gain.value===0},set:function(r){this.masterMuteNode.gain.setValueAtTime(r?0:1,0),this.emit(l.GLOBAL_MUTE,this,r)}},setVolume:function(r){return this.volume=r,this},volume:{get:function(){return this.masterVolumeNode.gain.value},set:function(r){this.masterVolumeNode.gain.setValueAtTime(r,0),this.emit(l.GLOBAL_VOLUME,this,r)}}});h.exports=c},73162:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(37105),y=e(83419),f=e(29747),l=e(19186),o=new y({initialize:function(a){this.parent=a,this.list=[],this.position=0,this.addCallback=f,this.removeCallback=f,this._sortKey=""},add:function(s,a){return a?u.Add(this.list,s):u.Add(this.list,s,0,this.addCallback,this)},addAt:function(s,a,c){return c?u.AddAt(this.list,s,a):u.AddAt(this.list,s,a,0,this.addCallback,this)},getAt:function(s){return this.list[s]},getIndex:function(s){return this.list.indexOf(s)},sort:function(s,a){return s?(a===void 0&&(a=function(c,r){return c[s]-r[s]}),l(this.list,a),this):this},getByName:function(s){return u.GetFirst(this.list,"name",s)},getRandom:function(s,a){return u.GetRandom(this.list,s,a)},getFirst:function(s,a,c,r){return u.GetFirst(this.list,s,a,c,r)},getAll:function(s,a,c,r){return u.GetAll(this.list,s,a,c,r)},count:function(s,a){return u.CountAllMatching(this.list,s,a)},swap:function(s,a){u.Swap(this.list,s,a)},moveTo:function(s,a){return u.MoveTo(this.list,s,a)},moveAbove:function(s,a){return u.MoveAbove(this.list,s,a)},moveBelow:function(s,a){return u.MoveBelow(this.list,s,a)},remove:function(s,a){return a?u.Remove(this.list,s):u.Remove(this.list,s,this.removeCallback,this)},removeAt:function(s,a){return a?u.RemoveAt(this.list,s):u.RemoveAt(this.list,s,this.removeCallback,this)},removeBetween:function(s,a,c){return c?u.RemoveBetween(this.list,s,a):u.RemoveBetween(this.list,s,a,this.removeCallback,this)},removeAll:function(s){for(var a=this.list.length;a--;)this.remove(this.list[a],s);return this},bringToTop:function(s){return u.BringToTop(this.list,s)},sendToBack:function(s){return u.SendToBack(this.list,s)},moveUp:function(s){return u.MoveUp(this.list,s),s},moveDown:function(s){return u.MoveDown(this.list,s),s},reverse:function(){return this.list.reverse(),this},shuffle:function(){return u.Shuffle(this.list),this},replace:function(s,a){return u.Replace(this.list,s,a)},exists:function(s){return this.list.indexOf(s)>-1},setAll:function(s,a,c,r){return u.SetAll(this.list,s,a,c,r),this},each:function(s,a){for(var c=[null],r=2;r<arguments.length;r++)c.push(arguments[r]);for(r=0;r<this.list.length;r++)c[0]=this.list[r],s.apply(a,c)},shutdown:function(){this.removeAll(),this.list=[]},destroy:function(){this.removeAll(),this.parent=null,this.addCallback=null,this.removeCallback=null},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}}});h.exports=o},90330:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=new u({initialize:function(l){this.entries={},this.size=0,this.setAll(l)},setAll:function(f){if(Array.isArray(f))for(var l=0;l<f.length;l++)this.set(f[l][0],f[l][1]);return this},set:function(f,l){return this.has(f)||this.size++,this.entries[f]=l,this},get:function(f){if(this.has(f))return this.entries[f]},getArray:function(){var f=[],l=this.entries;for(var o in l)f.push(l[o]);return f},has:function(f){return this.entries.hasOwnProperty(f)},delete:function(f){return this.has(f)&&(delete this.entries[f],this.size--),this},clear:function(){return Object.keys(this.entries).forEach(function(f){delete this.entries[f]},this),this.size=0,this},keys:function(){return Object.keys(this.entries)},values:function(){var f=[],l=this.entries;for(var o in l)f.push(l[o]);return f},dump:function(){var f=this.entries;console.group("Map");for(var l in f)console.log(l,f[l]);console.groupEnd()},each:function(f){var l=this.entries;for(var o in l)if(f(o,l[o])===!1)break;return this},contains:function(f){var l=this.entries;for(var o in l)if(l[o]===f)return!0;return!1},merge:function(f,l){l===void 0&&(l=!1);var o=this.entries,s=f.entries;for(var a in s)o.hasOwnProperty(a)&&l?o[a]=s[a]:this.set(a,s[a]);return this}});h.exports=y},25774:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(50792),f=e(82348),l=new u({Extends:y,initialize:function(){y.call(this),this._pending=[],this._active=[],this._destroy=[],this._toProcess=0,this.checkQueue=!1},isActive:function(o){return this._active.indexOf(o)>-1},isPending:function(o){return this._toProcess>0&&this._pending.indexOf(o)>-1},isDestroying:function(o){return this._destroy.indexOf(o)>-1},add:function(o){return this.checkQueue&&this.isActive(o)&&!this.isDestroying(o)||this.isPending(o)||(this._pending.push(o),this._toProcess++),o},remove:function(o){if(this.isPending(o)){var s=this._pending,a=s.indexOf(o);a!==-1&&s.splice(a,1)}else this.isActive(o)&&(this._destroy.push(o),this._toProcess++);return o},removeAll:function(){for(var o=this._active,s=this._destroy,a=o.length;a--;)s.push(o[a]),this._toProcess++;return this},update:function(){if(this._toProcess===0)return this._active;var o=this._destroy,s=this._active,a,c;for(a=0;a<o.length;a++){c=o[a];var r=s.indexOf(c);r!==-1&&(s.splice(r,1),this.emit(f.PROCESS_QUEUE_REMOVE,c))}for(o.length=0,o=this._pending,a=0;a<o.length;a++)c=o[a],(!this.checkQueue||this.checkQueue&&s.indexOf(c)===-1)&&(s.push(c),this.emit(f.PROCESS_QUEUE_ADD,c));return o.length=0,this._toProcess=0,s},getActive:function(){return this._active},length:{get:function(){return this._active.length}},destroy:function(){this._toProcess=0,this._pending=[],this._active=[],this._destroy=[]}});h.exports=l},59542:(h,S,e)=>{/**
 * @author       Vladimir Agafonkin
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(43886);function y(C){if(!(this instanceof y))return new y(C);this._maxEntries=Math.max(4,C||9),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}y.prototype={all:function(){return this._all(this.data,[])},search:function(C){var P=this.data,R=[],M=this.toBBox;if(!x(C,P))return R;for(var I=[],D,L,F,O;P;){for(D=0,L=P.children.length;D<L;D++)F=P.children[D],O=P.leaf?M(F):F,x(C,O)&&(P.leaf?R.push(F):m(C,O)?this._all(F,R):I.push(F));P=I.pop()}return R},collides:function(C){var P=this.data,R=this.toBBox;if(!x(C,P))return!1;for(var M=[],I,D,L,F;P;){for(I=0,D=P.children.length;I<D;I++)if(L=P.children[I],F=P.leaf?R(L):L,x(C,F)){if(P.leaf||m(C,F))return!0;M.push(L)}P=M.pop()}return!1},load:function(C){if(!(C&&C.length))return this;if(C.length<this._minEntries){for(var P=0,R=C.length;P<R;P++)this.insert(C[P]);return this}var M=this._build(C.slice(),0,C.length-1,0);if(!this.data.children.length)this.data=M;else if(this.data.height===M.height)this._splitRoot(this.data,M);else{if(this.data.height<M.height){var I=this.data;this.data=M,M=I}this._insert(M,this.data.height-M.height-1,!0)}return this},insert:function(C){return C&&this._insert(C,this.data.height-1),this},clear:function(){return this.data=E([]),this},remove:function(C,P){if(!C)return this;for(var R=this.data,M=this.toBBox(C),I=[],D=[],L,F,O,N;R||I.length;){if(R||(R=I.pop(),F=I[I.length-1],L=D.pop(),N=!0),R.leaf&&(O=f(C,R.children,P),O!==-1))return R.children.splice(O,1),I.push(R),this._condense(I),this;!N&&!R.leaf&&m(R,M)?(I.push(R),D.push(L),L=0,F=R,R=R.children[0]):F?(L++,R=F.children[L],N=!1):R=null}return this},toBBox:function(C){return C},compareMinX:a,compareMinY:c,toJSON:function(){return this.data},fromJSON:function(C){return this.data=C,this},_all:function(C,P){for(var R=[];C;)C.leaf?P.push.apply(P,C.children):R.push.apply(R,C.children),C=R.pop();return P},_build:function(C,P,R,M){var I=R-P+1,D=this._maxEntries,L;if(I<=D)return L=E(C.slice(P,R+1)),l(L,this.toBBox),L;M||(M=Math.ceil(Math.log(I)/Math.log(D)),D=Math.ceil(I/Math.pow(D,M-1))),L=E([]),L.leaf=!1,L.height=M;var F=Math.ceil(I/D),O=F*Math.ceil(Math.sqrt(D)),N,b,V,Y;for(w(C,P,R,O,this.compareMinX),N=P;N<=R;N+=O)for(V=Math.min(N+O-1,R),w(C,N,V,F,this.compareMinY),b=N;b<=V;b+=F)Y=Math.min(b+F-1,V),L.children.push(this._build(C,b,Y,M-1));return l(L,this.toBBox),L},_chooseSubtree:function(C,P,R,M){for(var I,D,L,F,O,N,b,V;M.push(P),!(P.leaf||M.length-1===R);){for(b=V=1/0,I=0,D=P.children.length;I<D;I++)L=P.children[I],O=r(L),N=v(C,L)-O,N<V?(V=N,b=O<b?O:b,F=L):N===V&&O<b&&(b=O,F=L);P=F||P.children[0]}return P},_insert:function(C,P,R){var M=this.toBBox,I=R?C:M(C),D=[],L=this._chooseSubtree(I,this.data,P,D);for(L.children.push(C),s(L,I);P>=0&&D[P].children.length>this._maxEntries;)this._split(D,P),P--;this._adjustParentBBoxes(I,D,P)},_split:function(C,P){var R=C[P],M=R.children.length,I=this._minEntries;this._chooseSplitAxis(R,I,M);var D=this._chooseSplitIndex(R,I,M),L=E(R.children.splice(D,R.children.length-D));L.height=R.height,L.leaf=R.leaf,l(R,this.toBBox),l(L,this.toBBox),P?C[P-1].children.push(L):this._splitRoot(R,L)},_splitRoot:function(C,P){this.data=E([C,P]),this.data.height=C.height+1,this.data.leaf=!1,l(this.data,this.toBBox)},_chooseSplitIndex:function(C,P,R){var M,I,D,L,F,O,N,b;for(O=N=1/0,M=P;M<=R-P;M++)I=o(C,0,M,this.toBBox),D=o(C,M,R,this.toBBox),L=p(I,D),F=r(I)+r(D),L<O?(O=L,b=M,N=F<N?F:N):L===O&&F<N&&(N=F,b=M);return b},_chooseSplitAxis:function(C,P,R){var M=C.leaf?this.compareMinX:a,I=C.leaf?this.compareMinY:c,D=this._allDistMargin(C,P,R,M),L=this._allDistMargin(C,P,R,I);D<L&&C.children.sort(M)},_allDistMargin:function(C,P,R,M){C.children.sort(M);var I=this.toBBox,D=o(C,0,P,I),L=o(C,R-P,R,I),F=d(D)+d(L),O,N;for(O=P;O<R-P;O++)N=C.children[O],s(D,C.leaf?I(N):N),F+=d(D);for(O=R-P-1;O>=P;O--)N=C.children[O],s(L,C.leaf?I(N):N),F+=d(L);return F},_adjustParentBBoxes:function(C,P,R){for(var M=R;M>=0;M--)s(P[M],C)},_condense:function(C){for(var P=C.length-1,R;P>=0;P--)C[P].children.length===0?P>0?(R=C[P-1].children,R.splice(R.indexOf(C[P]),1)):this.clear():l(C[P],this.toBBox)},compareMinX:function(C,P){return C.left-P.left},compareMinY:function(C,P){return C.top-P.top},toBBox:function(C){return{minX:C.left,minY:C.top,maxX:C.right,maxY:C.bottom}}};function f(C,P,R){if(!R)return P.indexOf(C);for(var M=0;M<P.length;M++)if(R(C,P[M]))return M;return-1}function l(C,P){o(C,0,C.children.length,P,C)}function o(C,P,R,M,I){I||(I=E(null)),I.minX=1/0,I.minY=1/0,I.maxX=-1/0,I.maxY=-1/0;for(var D=P,L;D<R;D++)L=C.children[D],s(I,C.leaf?M(L):L);return I}function s(C,P){return C.minX=Math.min(C.minX,P.minX),C.minY=Math.min(C.minY,P.minY),C.maxX=Math.max(C.maxX,P.maxX),C.maxY=Math.max(C.maxY,P.maxY),C}function a(C,P){return C.minX-P.minX}function c(C,P){return C.minY-P.minY}function r(C){return(C.maxX-C.minX)*(C.maxY-C.minY)}function d(C){return C.maxX-C.minX+(C.maxY-C.minY)}function v(C,P){return(Math.max(P.maxX,C.maxX)-Math.min(P.minX,C.minX))*(Math.max(P.maxY,C.maxY)-Math.min(P.minY,C.minY))}function p(C,P){var R=Math.max(C.minX,P.minX),M=Math.max(C.minY,P.minY),I=Math.min(C.maxX,P.maxX),D=Math.min(C.maxY,P.maxY);return Math.max(0,I-R)*Math.max(0,D-M)}function m(C,P){return C.minX<=P.minX&&C.minY<=P.minY&&P.maxX<=C.maxX&&P.maxY<=C.maxY}function x(C,P){return P.minX<=C.maxX&&P.minY<=C.maxY&&P.maxX>=C.minX&&P.maxY>=C.minY}function E(C){return{children:C,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function w(C,P,R,M,I){for(var D=[P,R],L;D.length;)R=D.pop(),P=D.pop(),!(R-P<=M)&&(L=P+Math.ceil((R-P)/M/2)*M,u(C,L,P,R,I),D.push(P,L,L,R))}h.exports=y},35072:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=new u({initialize:function(l){if(this.entries=[],Array.isArray(l))for(var o=0;o<l.length;o++)this.set(l[o])},set:function(f){return this.entries.indexOf(f)===-1&&this.entries.push(f),this},get:function(f,l){for(var o=0;o<this.entries.length;o++){var s=this.entries[o];if(s[f]===l)return s}},getArray:function(){return this.entries.slice(0)},delete:function(f){var l=this.entries.indexOf(f);return l>-1&&this.entries.splice(l,1),this},dump:function(){console.group("Set");for(var f=0;f<this.entries.length;f++){var l=this.entries[f];console.log(l)}console.groupEnd()},each:function(f,l){var o,s=this.entries.slice(),a=s.length;if(l)for(o=0;o<a&&f.call(l,s[o],o)!==!1;o++);else for(o=0;o<a&&f(s[o],o)!==!1;o++);return this},iterate:function(f,l){var o,s=this.entries.length;if(l)for(o=0;o<s&&f.call(l,this.entries[o],o)!==!1;o++);else for(o=0;o<s&&f(this.entries[o],o)!==!1;o++);return this},iterateLocal:function(f){var l,o=[];for(l=1;l<arguments.length;l++)o.push(arguments[l]);var s=this.entries.length;for(l=0;l<s;l++){var a=this.entries[l];a[f].apply(a,o)}return this},clear:function(){return this.entries.length=0,this},contains:function(f){return this.entries.indexOf(f)>-1},union:function(f){var l=new y;return f.entries.forEach(function(o){l.set(o)}),this.entries.forEach(function(o){l.set(o)}),l},intersect:function(f){var l=new y;return this.entries.forEach(function(o){f.contains(o)&&l.set(o)}),l},difference:function(f){var l=new y;return this.entries.forEach(function(o){f.contains(o)||l.set(o)}),l},size:{get:function(){return this.entries.length},set:function(f){return f<this.entries.length?this.entries.length=f:this.entries.length}}});h.exports=y},86555:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(45319),y=e(83419),f=e(56583),l=e(26099),o=new y({initialize:function(a,c,r,d){a===void 0&&(a=0),c===void 0&&(c=a),r===void 0&&(r=0),d===void 0&&(d=null),this._width=a,this._height=c,this._parent=d,this.aspectMode=r,this.aspectRatio=c===0?1:a/c,this.minWidth=0,this.minHeight=0,this.maxWidth=Number.MAX_VALUE,this.maxHeight=Number.MAX_VALUE,this.snapTo=new l},setAspectMode:function(s){return s===void 0&&(s=0),this.aspectMode=s,this.setSize(this._width,this._height)},setSnap:function(s,a){return s===void 0&&(s=0),a===void 0&&(a=s),this.snapTo.set(s,a),this.setSize(this._width,this._height)},setParent:function(s){return this._parent=s,this.setSize(this._width,this._height)},setMin:function(s,a){return s===void 0&&(s=0),a===void 0&&(a=s),this.minWidth=u(s,0,this.maxWidth),this.minHeight=u(a,0,this.maxHeight),this.setSize(this._width,this._height)},setMax:function(s,a){return s===void 0&&(s=Number.MAX_VALUE),a===void 0&&(a=s),this.maxWidth=u(s,this.minWidth,Number.MAX_VALUE),this.maxHeight=u(a,this.minHeight,Number.MAX_VALUE),this.setSize(this._width,this._height)},setSize:function(s,a){switch(s===void 0&&(s=0),a===void 0&&(a=s),this.aspectMode){case o.NONE:this._width=this.getNewWidth(f(s,this.snapTo.x)),this._height=this.getNewHeight(f(a,this.snapTo.y)),this.aspectRatio=this._height===0?1:this._width/this._height;break;case o.WIDTH_CONTROLS_HEIGHT:this._width=this.getNewWidth(f(s,this.snapTo.x)),this._height=this.getNewHeight(this._width*(1/this.aspectRatio),!1);break;case o.HEIGHT_CONTROLS_WIDTH:this._height=this.getNewHeight(f(a,this.snapTo.y)),this._width=this.getNewWidth(this._height*this.aspectRatio,!1);break;case o.FIT:this.constrain(s,a,!0);break;case o.ENVELOP:this.constrain(s,a,!1);break}return this},setAspectRatio:function(s){return this.aspectRatio=s,this.setSize(this._width,this._height)},resize:function(s,a){return this._width=this.getNewWidth(f(s,this.snapTo.x)),this._height=this.getNewHeight(f(a,this.snapTo.y)),this.aspectRatio=this._height===0?1:this._width/this._height,this},getNewWidth:function(s,a){return a===void 0&&(a=!0),s=u(s,this.minWidth,this.maxWidth),a&&this._parent&&s>this._parent.width&&(s=Math.max(this.minWidth,this._parent.width)),s},getNewHeight:function(s,a){return a===void 0&&(a=!0),s=u(s,this.minHeight,this.maxHeight),a&&this._parent&&s>this._parent.height&&(s=Math.max(this.minHeight,this._parent.height)),s},constrain:function(s,a,c){s===void 0&&(s=0),a===void 0&&(a=s),c===void 0&&(c=!0),s=this.getNewWidth(s),a=this.getNewHeight(a);var r=this.snapTo,d=a===0?1:s/a;return c&&this.aspectRatio>d||!c&&this.aspectRatio<d?(s=f(s,r.x),a=s/this.aspectRatio,r.y>0&&(a=f(a,r.y),s=a*this.aspectRatio)):(c&&this.aspectRatio<d||!c&&this.aspectRatio>d)&&(a=f(a,r.y),s=a*this.aspectRatio,r.x>0&&(s=f(s,r.x),a=s*(1/this.aspectRatio))),this._width=s,this._height=a,this},fitTo:function(s,a){return this.constrain(s,a,!0)},envelop:function(s,a){return this.constrain(s,a,!1)},setWidth:function(s){return this.setSize(s,this._height)},setHeight:function(s){return this.setSize(this._width,s)},toString:function(){return"[{ Size (width="+this._width+" height="+this._height+" aspectRatio="+this.aspectRatio+" aspectMode="+this.aspectMode+") }]"},setCSS:function(s){s&&s.style&&(s.style.width=this._width+"px",s.style.height=this._height+"px")},copy:function(s){return s.setAspectMode(this.aspectMode),s.aspectRatio=this.aspectRatio,s.setSize(this.width,this.height)},destroy:function(){this._parent=null,this.snapTo=null},width:{get:function(){return this._width},set:function(s){this.setSize(s,this._height)}},height:{get:function(){return this._height},set:function(s){this.setSize(this._width,s)}}});o.NONE=0,o.WIDTH_CONTROLS_HEIGHT=1,o.HEIGHT_CONTROLS_WIDTH=2,o.FIT=3,o.ENVELOP=4,h.exports=o},15238:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="add"},56187:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="remove"},82348:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={PROCESS_QUEUE_ADD:e(15238),PROCESS_QUEUE_REMOVE:e(56187)}},41392:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={Events:e(82348),List:e(73162),Map:e(90330),ProcessQueue:e(25774),RTree:e(59542),Set:e(35072),Size:e(86555)}},57382:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(45319),f=e(40987),l=e(8054),o=e(50030),s=e(79237),a=new u({Extends:s,initialize:function(r,d,v,p,m){s.call(this,r,d,v,p,m),this.add("__BASE",0,0,0,p,m),this._source=this.frames.__BASE.source,this.canvas=this._source.image,this.context=this.canvas.getContext("2d",{willReadFrequently:!0}),this.width=p,this.height=m,this.imageData=this.context.getImageData(0,0,p,m),this.data=null,this.imageData&&(this.data=this.imageData.data),this.pixels=null,this.buffer,this.data&&(this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data)},update:function(){return this.imageData=this.context.getImageData(0,0,this.width,this.height),this.data=this.imageData.data,this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data,this.manager.game.config.renderType===l.WEBGL&&this.refresh(),this},draw:function(c,r,d,v){return v===void 0&&(v=!0),this.context.drawImage(d,c,r),v&&this.update(),this},drawFrame:function(c,r,d,v,p){d===void 0&&(d=0),v===void 0&&(v=0),p===void 0&&(p=!0);var m=this.manager.getFrame(c,r);if(m){var x=m.canvasData,E=m.cutWidth,w=m.cutHeight,C=m.source.resolution;this.context.drawImage(m.source.image,x.x,x.y,E,w,d,v,E/C,w/C),p&&this.update()}return this},setPixel:function(c,r,d,v,p,m){m===void 0&&(m=255),c=Math.abs(Math.floor(c)),r=Math.abs(Math.floor(r));var x=this.getIndex(c,r);if(x>-1){var E=this.context.getImageData(c,r,1,1);E.data[0]=d,E.data[1]=v,E.data[2]=p,E.data[3]=m,this.context.putImageData(E,c,r)}return this},putData:function(c,r,d,v,p,m,x){return v===void 0&&(v=0),p===void 0&&(p=0),m===void 0&&(m=c.width),x===void 0&&(x=c.height),this.context.putImageData(c,r,d,v,p,m,x),this},getData:function(c,r,d,v){c=y(Math.floor(c),0,this.width-1),r=y(Math.floor(r),0,this.height-1),d=y(d,1,this.width-c),v=y(v,1,this.height-r);var p=this.context.getImageData(c,r,d,v);return p},getPixel:function(c,r,d){d||(d=new f);var v=this.getIndex(c,r);if(v>-1){var p=this.data,m=p[v+0],x=p[v+1],E=p[v+2],w=p[v+3];d.setTo(m,x,E,w)}return d},getPixels:function(c,r,d,v){c===void 0&&(c=0),r===void 0&&(r=0),d===void 0&&(d=this.width),v===void 0&&(v=d),c=Math.abs(Math.round(c)),r=Math.abs(Math.round(r));for(var p=y(c,0,this.width),m=y(c+d,0,this.width),x=y(r,0,this.height),E=y(r+v,0,this.height),w=new f,C=[],P=x;P<E;P++){for(var R=[],M=p;M<m;M++)w=this.getPixel(M,P,w),R.push({x:M,y:P,color:w.color,alpha:w.alphaGL});C.push(R)}return C},getIndex:function(c,r){return c=Math.abs(Math.round(c)),r=Math.abs(Math.round(r)),c<this.width&&r<this.height?(c+r*this.width)*4:-1},refresh:function(){return this._source.update(),this},getCanvas:function(){return this.canvas},getContext:function(){return this.context},clear:function(c,r,d,v,p){return c===void 0&&(c=0),r===void 0&&(r=0),d===void 0&&(d=this.width),v===void 0&&(v=this.height),p===void 0&&(p=!0),this.context.clearRect(c,r,d,v),p&&this.update(),this},setSize:function(c,r){return r===void 0&&(r=c),(c!==this.width||r!==this.height)&&(this.canvas.width=c,this.canvas.height=r,this._source.width=c,this._source.height=r,this._source.isPowerOf2=o(c,r),this.frames.__BASE.setSize(c,r,0,0),this.width=c,this.height=r,this.refresh()),this},destroy:function(){s.prototype.destroy.call(this),this._source=null,this.canvas=null,this.context=null,this.imageData=null,this.data=null,this.pixels=null,this.buffer=null}});h.exports=a},81320:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(10312),y=e(38058),f=e(27919),l=e(83419),o=e(8054),s=e(4327),a=e(95540),c=e(36060),r=e(32302),d=e(79237),v=e(70554),p=new l({Extends:d,initialize:function(x,E,w,C,P){w===void 0&&(w=256),C===void 0&&(C=256),P===void 0&&(P=!0),this.type="DynamicTexture";var R=x.game.renderer,M=R&&R.type===o.CANVAS,I=M?f.create2D(this,w,C):[this];d.call(this,x,E,I,w,C),this.add("__BASE",0,0,0,w,C),this.renderer=R,this.width=-1,this.height=-1,this.isDrawing=!1,this.canvas=M?I:null,this.context=M?I.getContext("2d",{willReadFrequently:!0}):null,this.dirty=!1,this.isSpriteTexture=!0,this._eraseMode=!1,this.camera=new y(0,0,w,C).setScene(x.game.scene.systemScene,!1),this.renderTarget=M?null:new r(R,w,C,1,0,!1,!1,!0,!1),this.pipeline=M?null:R.pipelines.get(c.SINGLE_PIPELINE),this.setSize(w,C,P)},setSize:function(m,x,E){x===void 0&&(x=m),E===void 0&&(E=!0),E&&(m=Math.floor(m),x=Math.floor(x),m%2!==0&&m++,x%2!==0&&x++);var w=this.get(),C=w.source;if(m!==this.width||x!==this.height){this.canvas&&(this.canvas.width=m,this.canvas.height=x);var P=this.renderTarget;P&&(P.willResize(m,x)&&P.resize(m,x),P.texture!==C.glTexture&&this.renderer.deleteTexture(C.glTexture),this.setFromRenderTarget()),this.camera.setSize(m,x),C.width=m,C.height=x,w.setSize(m,x),this.width=m,this.height=x}else{var R=this.getSourceImage();w.cutX+m>R.width&&(m=R.width-w.cutX),w.cutY+x>R.height&&(x=R.height-w.cutY),w.setSize(m,x,w.cutX,w.cutY)}return this},setFromRenderTarget:function(){var m=this.get(),x=m.source,E=this.renderTarget;return x.isRenderTexture=!0,x.isGLTexture=!0,x.glTexture=E.texture,this},setIsSpriteTexture:function(m){return this.isSpriteTexture=m,this},fill:function(m,x,E,w,C,P){var R=this.camera,M=this.renderer;x===void 0&&(x=1),E===void 0&&(E=0),w===void 0&&(w=0),C===void 0&&(C=this.width),P===void 0&&(P=this.height);var I=m>>16&255,D=m>>8&255,L=m&255,F=this.renderTarget;if(R.preRender(),F){F.bind(!0);var O=this.pipeline.manager.set(this.pipeline),N=M.width/F.width,b=M.height/F.height,V=F.height-(w+P);O.drawFillRect(E*N,V*b,C*N,P*b,v.getTintFromFloats(L/255,D/255,I/255,1),x),F.unbind(!0)}else{var Y=this.context;M.setContext(Y),Y.globalCompositeOperation="source-over",Y.fillStyle="rgba("+I+","+D+","+L+","+x+")",Y.fillRect(E,w,C,P),M.setContext()}return this.dirty=!0,this},clear:function(m,x,E,w){if(this.dirty){var C=this.context,P=this.renderTarget;P?P.clear(m,x,E,w):C&&(m!==void 0&&x!==void 0&&E!==void 0&&w!==void 0?C.clearRect(m,x,E,w):(C.save(),C.setTransform(1,0,0,1,0,0),C.clearRect(0,0,this.width,this.height),C.restore())),this.dirty=!1}return this},stamp:function(m,x,E,w,C){E===void 0&&(E=0),w===void 0&&(w=0);var P=a(C,"alpha",1),R=a(C,"tint",16777215),M=a(C,"angle",0),I=a(C,"rotation",0),D=a(C,"scale",1),L=a(C,"scaleX",D),F=a(C,"scaleY",D),O=a(C,"originX",.5),N=a(C,"originY",.5),b=a(C,"blendMode",0),V=a(C,"erase",!1),Y=a(C,"skipBatch",!1),W=this.manager.resetStamp(P,R);return W.setAngle(0),M!==0?W.setAngle(M):I!==0&&W.setRotation(I),W.setScale(L,F),W.setTexture(m,x),W.setOrigin(O,N),W.setBlendMode(b),V&&(this._eraseMode=!0),Y?this.batchGameObject(W,E,w):this.draw(W,E,w),V&&(this._eraseMode=!1),this},erase:function(m,x,E){return this._eraseMode=!0,this.draw(m,x,E),this._eraseMode=!1,this},draw:function(m,x,E,w,C){return this.beginDraw(),this.batchDraw(m,x,E,w,C),this.endDraw(),this},drawFrame:function(m,x,E,w,C,P){return this.beginDraw(),this.batchDrawFrame(m,x,E,w,C,P),this.endDraw(),this},repeat:function(m,x,E,w,C,P,R,M,I){if(E===void 0&&(E=0),w===void 0&&(w=0),C===void 0&&(C=this.width),P===void 0&&(P=this.height),R===void 0&&(R=1),M===void 0&&(M=16777215),I===void 0&&(I=!1),m instanceof s?x=m:x=this.manager.getFrame(m,x),!x)return this;var D=this.manager.resetStamp(R,M);D.setFrame(x),D.setOrigin(0);var L=x.width,F=x.height;C=Math.floor(C),P=Math.floor(P);var O=Math.ceil(C/L),N=Math.ceil(P/F),b=O*L-C,V=N*F-P;b>0&&(b=L-b),V>0&&(V=F-V),E<0&&(O+=Math.ceil(Math.abs(E)/L)),w<0&&(N+=Math.ceil(Math.abs(w)/F));var Y=E,W=w,U=!1,z=this.manager.stampCrop.setTo(0,0,L,F);I||this.beginDraw();for(var B=0;B<N;B++){if(W+F<0){W+=F;continue}for(var X=0;X<O;X++){if(U=!1,Y+L<0){Y+=L;continue}else Y<0&&(U=!0,z.width=L+Y,z.x=L-z.width);W<0&&(U=!0,z.height=F+W,z.y=F-z.height),b>0&&X===O-1&&(U=!0,z.width=b),V>0&&B===N-1&&(U=!0,z.height=V),U&&D.setCrop(z),this.batchGameObject(D,Y,W),D.isCropped=!1,z.setTo(0,0,L,F),Y+=L}Y=E,W+=F}return I||this.endDraw(),this},beginDraw:function(){if(!this.isDrawing){var m=this.camera,x=this.renderer,E=this.renderTarget;m.preRender(),E?x.beginCapture(E.width,E.height):x.setContext(this.context),this.isDrawing=!0}return this},batchDraw:function(m,x,E,w,C){return Array.isArray(m)||(m=[m]),this.batchList(m,x,E,w,C),this},batchDrawFrame:function(m,x,E,w,C,P){E===void 0&&(E=0),w===void 0&&(w=0),C===void 0&&(C=1),P===void 0&&(P=16777215);var R=this.manager.getFrame(m,x);return R&&(this.renderTarget?this.pipeline.batchTextureFrame(R,E,w,P,C,this.camera.matrix,null):this.batchTextureFrame(R,E,w,C,P)),this},endDraw:function(m){if(m===void 0&&(m=this._eraseMode),this.isDrawing){var x=this.renderer,E=this.renderTarget;if(E){var w=x.endCapture(),C=x.pipelines.setUtility();C.blitFrame(w,E,1,!1,!1,m,this.isSpriteTexture),x.resetScissor(),x.resetViewport()}else x.setContext();this.dirty=!0,this.isDrawing=!1}return this},batchList:function(m,x,E,w,C){var P=m.length;if(P!==0)for(var R=0;R<P;R++){var M=m[R];!M||M===this||(M.renderWebGL||M.renderCanvas?this.batchGameObject(M,x,E):M.isParent||M.list?this.batchGroup(M.getChildren(),x,E):typeof M=="string"?this.batchTextureFrameKey(M,null,x,E,w,C):M instanceof s?this.batchTextureFrame(M,x,E,w,C):Array.isArray(M)&&this.batchList(M,x,E,w,C))}},batchGroup:function(m,x,E){x===void 0&&(x=0),E===void 0&&(E=0);for(var w=0;w<m.length;w++){var C=m[w];C.willRender(this.camera)&&this.batchGameObject(C,C.x+x,C.y+E)}},batchGameObject:function(m,x,E){x===void 0&&(x=m.x),E===void 0&&(E=m.y);var w=m.x,C=m.y,P=this.camera,R=this.renderer,M=this._eraseMode,I=m.mask;if(m.setPosition(x,E),this.canvas){if(M){var D=m.blendMode;m.blendMode=u.ERASE}I&&I.preRenderCanvas(R,m,P),m.renderCanvas(R,m,P,null),I&&I.postRenderCanvas(R,m,P),M&&(m.blendMode=D)}else R&&(I&&I.preRenderWebGL(R,m,P),M||R.setBlendMode(m.blendMode),m.renderWebGL(R,m,P),I&&I.postRenderWebGL(R,P,this.renderTarget));m.setPosition(w,C)},batchTextureFrameKey:function(m,x,E,w,C,P){var R=this.manager.getFrame(m,x);R&&this.batchTextureFrame(R,E,w,C,P)},batchTextureFrame:function(m,x,E,w,C){x===void 0&&(x=0),E===void 0&&(E=0),w===void 0&&(w=1),C===void 0&&(C=16777215);var P=this.camera.matrix,R=this.renderTarget;if(R)this.pipeline.batchTextureFrame(m,x,E,C,w,P,null);else{var M=this.context,I=m.canvasData,D=m.source.image;M.save(),M.globalCompositeOperation=this._eraseMode?"destination-out":"source-over",M.globalAlpha=w,P.setToContext(M),I.width>0&&I.height>0&&M.drawImage(D,I.x,I.y,I.width,I.height,x,E,I.width,I.height),M.restore()}},snapshotArea:function(m,x,E,w,C,P,R){return this.renderTarget?this.renderer.snapshotFramebuffer(this.renderTarget.framebuffer,this.width,this.height,C,!1,m,x,E,w,P,R):this.renderer.snapshotCanvas(this.canvas,C,!1,m,x,E,w,P,R),this},snapshot:function(m,x,E){return this.snapshotArea(0,0,this.width,this.height,m,x,E)},snapshotPixel:function(m,x,E){return this.snapshotArea(m,x,1,1,E,"pixel")},getWebGLTexture:function(){if(this.renderTarget)return this.renderTarget.texture},renderWebGL:function(m,x,E,w){var C=this.manager.resetStamp();C.setTexture(this),C.setOrigin(0),C.renderWebGL(m,C,E,w)},renderCanvas:function(){},destroy:function(){var m=this.manager.stamp;m&&m.texture===this&&this.manager.resetStamp(),d.prototype.destroy.call(this),f.remove(this.canvas),this.renderTarget&&this.renderTarget.destroy(),this.camera.destroy(),this.canvas=null,this.context=null,this.renderer=null}});h.exports=p},4327:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(45319),f=e(79291),l=new u({initialize:function(s,a,c,r,d,v,p){this.texture=s,this.name=a,this.source=s.source[c],this.sourceIndex=c,this.cutX,this.cutY,this.cutWidth,this.cutHeight,this.x=0,this.y=0,this.width,this.height,this.halfWidth,this.halfHeight,this.centerX,this.centerY,this.pivotX=0,this.pivotY=0,this.customPivot=!1,this.rotated=!1,this.autoRound=-1,this.customData={},this.u0=0,this.v0=0,this.u1=0,this.v1=0,this.data={cut:{x:0,y:0,w:0,h:0,r:0,b:0},trim:!1,sourceSize:{w:0,h:0},spriteSourceSize:{x:0,y:0,w:0,h:0,r:0,b:0},radius:0,drawImage:{x:0,y:0,width:0,height:0},is3Slice:!1,scale9:!1,scale9Borders:{x:0,y:0,w:0,h:0}},this.setSize(v,p,r,d)},setCutPosition:function(o,s){return o===void 0&&(o=0),s===void 0&&(s=0),this.cutX=o,this.cutY=s,this.updateUVs()},setCutSize:function(o,s){return this.cutWidth=o,this.cutHeight=s,this.updateUVs()},setSize:function(o,s,a,c){a===void 0&&(a=0),c===void 0&&(c=0),this.setCutPosition(a,c),this.setCutSize(o,s),this.width=o,this.height=s,this.halfWidth=Math.floor(o*.5),this.halfHeight=Math.floor(s*.5),this.centerX=Math.floor(o/2),this.centerY=Math.floor(s/2);var r=this.data,d=r.cut;d.x=a,d.y=c,d.w=o,d.h=s,d.r=a+o,d.b=c+s,r.sourceSize.w=o,r.sourceSize.h=s,r.spriteSourceSize.w=o,r.spriteSourceSize.h=s,r.radius=.5*Math.sqrt(o*o+s*s);var v=r.drawImage;return v.x=a,v.y=c,v.width=o,v.height=s,this.updateUVs()},setTrim:function(o,s,a,c,r,d){var v=this.data,p=v.spriteSourceSize;return v.trim=!0,v.sourceSize.w=o,v.sourceSize.h=s,p.x=a,p.y=c,p.w=r,p.h=d,p.r=a+r,p.b=c+d,this.x=a,this.y=c,this.width=r,this.height=d,this.halfWidth=r*.5,this.halfHeight=d*.5,this.centerX=Math.floor(r/2),this.centerY=Math.floor(d/2),this.updateUVs()},setScale9:function(o,s,a,c){var r=this.data;return r.scale9=!0,r.is3Slice=s===0&&c===this.height,r.scale9Borders.x=o,r.scale9Borders.y=s,r.scale9Borders.w=a,r.scale9Borders.h=c,this},setCropUVs:function(o,s,a,c,r,d,v){var p=this.cutX,m=this.cutY,x=this.cutWidth,E=this.cutHeight,w=this.realWidth,C=this.realHeight;s=y(s,0,w),a=y(a,0,C),c=y(c,0,w-s),r=y(r,0,C-a);var P=p+s,R=m+a,M=c,I=r,D=this.data;if(D.trim){var L=D.spriteSourceSize;c=y(c,0,L.x+x-s),r=y(r,0,L.y+E-a);var F=s+c,O=a+r,N=!(L.r<s||L.b<a||L.x>F||L.y>O);if(N){var b=Math.max(L.x,s),V=Math.max(L.y,a),Y=Math.min(L.r,F)-b,W=Math.min(L.b,O)-V;M=Y,I=W,d?P=p+(x-(b-L.x)-Y):P=p+(b-L.x),v?R=m+(E-(V-L.y)-W):R=m+(V-L.y),s=b,a=V,c=Y,r=W}else P=0,R=0,M=0,I=0}else d&&(P=p+(x-s-c)),v&&(R=m+(E-a-r));var U=this.source.width,z=this.source.height;return o.u0=Math.max(0,P/U),o.v0=Math.max(0,R/z),o.u1=Math.min(1,(P+M)/U),o.v1=Math.min(1,(R+I)/z),o.x=s,o.y=a,o.cx=P,o.cy=R,o.cw=M,o.ch=I,o.width=c,o.height=r,o.flipX=d,o.flipY=v,o},updateCropUVs:function(o,s,a){return this.setCropUVs(o,o.x,o.y,o.width,o.height,s,a)},setUVs:function(o,s,a,c,r,d){var v=this.data.drawImage;return v.width=o,v.height=s,this.u0=a,this.v0=c,this.u1=r,this.v1=d,this},updateUVs:function(){var o=this.cutX,s=this.cutY,a=this.cutWidth,c=this.cutHeight,r=this.data.drawImage;r.width=a,r.height=c;var d=this.source.width,v=this.source.height;return this.u0=o/d,this.v0=s/v,this.u1=(o+a)/d,this.v1=(s+c)/v,this},updateUVsInverted:function(){var o=this.source.width,s=this.source.height;return this.u0=(this.cutX+this.cutHeight)/o,this.v0=this.cutY/s,this.u1=this.cutX/o,this.v1=(this.cutY+this.cutWidth)/s,this},clone:function(){var o=new l(this.texture,this.name,this.sourceIndex);return o.cutX=this.cutX,o.cutY=this.cutY,o.cutWidth=this.cutWidth,o.cutHeight=this.cutHeight,o.x=this.x,o.y=this.y,o.width=this.width,o.height=this.height,o.halfWidth=this.halfWidth,o.halfHeight=this.halfHeight,o.centerX=this.centerX,o.centerY=this.centerY,o.rotated=this.rotated,o.data=f(!0,o.data,this.data),o.updateUVs(),o},destroy:function(){this.texture=null,this.source=null,this.customData=null,this.data=null},glTexture:{get:function(){return this.source.glTexture}},realWidth:{get:function(){return this.data.sourceSize.w}},realHeight:{get:function(){return this.data.sourceSize.h}},radius:{get:function(){return this.data.radius}},trimmed:{get:function(){return this.data.trim}},scale9:{get:function(){return this.data.scale9}},is3Slice:{get:function(){return this.data.is3Slice}},canvasData:{get:function(){return this.data.drawImage}}});h.exports=l},79237:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(4327),f=e(11876),l='Texture "%s" has no frame "%s"',o=new u({initialize:function(a,c,r,d,v){Array.isArray(r)||(r=[r]),this.manager=a,this.key=c,this.source=[],this.dataSource=[],this.frames={},this.customData={},this.firstFrame="__BASE",this.frameTotal=0;for(var p=0;p<r.length;p++)this.source.push(new f(this,r[p],d,v))},add:function(s,a,c,r,d,v){if(this.has(s))return null;var p=new y(this,s,a,c,r,d,v);return this.frames[s]=p,this.firstFrame==="__BASE"&&(this.firstFrame=s),this.frameTotal++,p},remove:function(s){if(this.has(s)){var a=this.get(s);return a.destroy(),delete this.frames[s],!0}return!1},has:function(s){return this.frames.hasOwnProperty(s)},get:function(s){s||(s=this.firstFrame);var a=this.frames[s];return a||(console.warn(l,this.key,s),a=this.frames[this.firstFrame]),a},getTextureSourceIndex:function(s){for(var a=0;a<this.source.length;a++)if(this.source[a]===s)return a;return-1},getFramesFromTextureSource:function(s,a){a===void 0&&(a=!1);var c=[];for(var r in this.frames)if(!(r==="__BASE"&&!a)){var d=this.frames[r];d.sourceIndex===s&&c.push(d)}return c},getFrameBounds:function(s){s===void 0&&(s=0);for(var a=this.getFramesFromTextureSource(s,!0),c=a[0],r=c.cutX,d=c.cutY,v=c.cutX+c.cutWidth,p=c.cutY+c.cutHeight,m=1;m<a.length;m++){var x=a[m];x.cutX<r&&(r=x.cutX),x.cutY<d&&(d=x.cutY),x.cutX+x.cutWidth>v&&(v=x.cutX+x.cutWidth),x.cutY+x.cutHeight>p&&(p=x.cutY+x.cutHeight)}return{x:r,y:d,width:v-r,height:p-d}},getFrameNames:function(s){s===void 0&&(s=!1);var a=Object.keys(this.frames);if(!s){var c=a.indexOf("__BASE");c!==-1&&a.splice(c,1)}return a},getSourceImage:function(s){(s==null||this.frameTotal===1)&&(s="__BASE");var a=this.frames[s];return a?a.source.image:(console.warn(l,this.key,s),this.frames.__BASE.source.image)},getDataSourceImage:function(s){(s==null||this.frameTotal===1)&&(s="__BASE");var a=this.frames[s],c;return a?c=a.sourceIndex:(console.warn(l,this.key,s),c=this.frames.__BASE.sourceIndex),this.dataSource[c].image},setDataSource:function(s){Array.isArray(s)||(s=[s]);for(var a=0;a<s.length;a++){var c=this.source[a];this.dataSource.push(new f(this,s[a],c.width,c.height))}},setFilter:function(s){var a;for(a=0;a<this.source.length;a++)this.source[a].setFilter(s);for(a=0;a<this.dataSource.length;a++)this.dataSource[a].setFilter(s)},destroy:function(){var s,a=this.source,c=this.dataSource;for(s=0;s<a.length;s++)a[s]&&a[s].destroy();for(s=0;s<c.length;s++)c[s]&&c[s].destroy();for(var r in this.frames){var d=this.frames[r];d&&d.destroy()}this.source=[],this.dataSource=[],this.frames={},this.manager.removeKey(this.key),this.manager=null}});h.exports=o},17130:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(27919),y=e(57382),f=e(83419),l=e(40987),o=e(8054),s=e(81320),a=e(50792),c=e(69442),r=e(4327),d=e(8443),v=e(99584),p=e(35154),m=e(88571),x=e(41212),E=e(61309),w=e(87841),C=e(79237),P=new f({Extends:a,initialize:function(M){a.call(this),this.game=M,this.name="TextureManager",this.list={},this._tempCanvas=u.create2D(this),this._tempContext=this._tempCanvas.getContext("2d",{willReadFrequently:!0}),this._pending=0,this.stamp,this.stampCrop=new w,this.silentWarnings=!1,M.events.once(d.BOOT,this.boot,this)},boot:function(){this._pending=3,this.on(c.LOAD,this.updatePending,this),this.on(c.ERROR,this.updatePending,this);var R=this.game.config;R.defaultImage!==null&&this.addBase64("__DEFAULT",R.defaultImage),R.missingImage!==null&&this.addBase64("__MISSING",R.missingImage),R.whiteImage!==null&&this.addBase64("__WHITE",R.whiteImage),this.game.renderer&&this.game.renderer.gl&&this.addUint8Array("__NORMAL",new Uint8Array([127,127,255,255]),1,1),this.game.events.once(d.DESTROY,this.destroy,this),this.game.events.once(d.SYSTEM_READY,function(M){this.stamp=new m(M).setOrigin(0)},this)},updatePending:function(){this._pending--,this._pending===0&&(this.off(c.LOAD),this.off(c.ERROR),this.emit(c.READY))},checkKey:function(R){return!R||typeof R!="string"||this.exists(R)?(this.silentWarnings||console.error("Texture key already in use: "+R),!1):!0},remove:function(R){if(typeof R=="string")if(this.exists(R))R=this.get(R);else return this.silentWarnings||console.warn("No texture found matching key: "+R),this;var M=R.key;return this.list.hasOwnProperty(M)&&(R.destroy(),this.emit(c.REMOVE,M),this.emit(c.REMOVE_KEY+M)),this},removeKey:function(R){return this.list.hasOwnProperty(R)&&delete this.list[R],this},addBase64:function(R,M){if(this.checkKey(R)){var I=this,D=new Image;D.onerror=function(){I.emit(c.ERROR,R)},D.onload=function(){var L=I.create(R,D);L&&(E.Image(L,0),I.emit(c.ADD,R,L),I.emit(c.ADD_KEY+R,L),I.emit(c.LOAD,R,L))},D.src=M}return this},getBase64:function(R,M,I,D){I===void 0&&(I="image/png"),D===void 0&&(D=.92);var L="",F=this.getFrame(R,M);if(F&&(F.source.isRenderTexture||F.source.isGLTexture))this.silentWarnings||console.warn("Cannot getBase64 from WebGL Texture");else if(F){var O=F.canvasData,N=u.create2D(this,O.width,O.height),b=N.getContext("2d",{willReadFrequently:!0});O.width>0&&O.height>0&&b.drawImage(F.source.image,O.x,O.y,O.width,O.height,0,0,O.width,O.height),L=N.toDataURL(I,D),u.remove(N)}return L},addImage:function(R,M,I){var D=null;return this.checkKey(R)&&(D=this.create(R,M),E.Image(D,0),I&&D.setDataSource(I),this.emit(c.ADD,R,D),this.emit(c.ADD_KEY+R,D)),D},addGLTexture:function(R,M){var I=null;if(this.checkKey(R)){var D=M.width,L=M.height;I=this.create(R,M,D,L),I.add("__BASE",0,0,0,D,L),this.emit(c.ADD,R,I),this.emit(c.ADD_KEY+R,I)}return I},addCompressedTexture:function(R,M,I){var D=null;if(this.checkKey(R)){if(D=this.create(R,M),D.add("__BASE",0,0,0,M.width,M.height),I){var L=function(O,N,b){Array.isArray(b.textures)||Array.isArray(b.frames)?E.JSONArray(O,N,b):E.JSONHash(O,N,b)};if(Array.isArray(I))for(var F=0;F<I.length;F++)L(D,F,I[F]);else L(D,0,I)}this.emit(c.ADD,R,D),this.emit(c.ADD_KEY+R,D)}return D},addRenderTexture:function(R,M){var I=null;return this.checkKey(R)&&(I=this.create(R,M),I.add("__BASE",0,0,0,M.width,M.height),this.emit(c.ADD,R,I),this.emit(c.ADD_KEY+R,I)),I},generate:function(R,M){if(this.checkKey(R)){var I=u.create(this,1,1);return M.canvas=I,v(M),this.addCanvas(R,I)}else return null},createCanvas:function(R,M,I){if(M===void 0&&(M=256),I===void 0&&(I=256),this.checkKey(R)){var D=u.create(this,M,I,o.CANVAS,!0);return this.addCanvas(R,D)}return null},addCanvas:function(R,M,I){I===void 0&&(I=!1);var D=null;return I?D=new y(this,R,M,M.width,M.height):this.checkKey(R)&&(D=new y(this,R,M,M.width,M.height),this.list[R]=D,this.emit(c.ADD,R,D),this.emit(c.ADD_KEY+R,D)),D},addDynamicTexture:function(R,M,I){var D=null;return typeof R=="string"&&!this.exists(R)?D=new s(this,R,M,I):(D=R,R=D.key),this.checkKey(R)?(this.list[R]=D,this.emit(c.ADD,R,D),this.emit(c.ADD_KEY+R,D)):D=null,D},addAtlas:function(R,M,I,D){return Array.isArray(I.textures)||Array.isArray(I.frames)?this.addAtlasJSONArray(R,M,I,D):this.addAtlasJSONHash(R,M,I,D)},addAtlasJSONArray:function(R,M,I,D){var L=null;if(M instanceof C?(R=M.key,L=M):this.checkKey(R)&&(L=this.create(R,M)),L){if(Array.isArray(I))for(var F=I.length===1,O=0;O<L.source.length;O++){var N=F?I[0]:I[O];E.JSONArray(L,O,N)}else E.JSONArray(L,0,I);D&&L.setDataSource(D),this.emit(c.ADD,R,L),this.emit(c.ADD_KEY+R,L)}return L},addAtlasJSONHash:function(R,M,I,D){var L=null;if(M instanceof C?(R=M.key,L=M):this.checkKey(R)&&(L=this.create(R,M)),L){if(Array.isArray(I))for(var F=0;F<I.length;F++)E.JSONHash(L,F,I[F]);else E.JSONHash(L,0,I);D&&L.setDataSource(D),this.emit(c.ADD,R,L),this.emit(c.ADD_KEY+R,L)}return L},addAtlasXML:function(R,M,I,D){var L=null;return M instanceof C?(R=M.key,L=M):this.checkKey(R)&&(L=this.create(R,M)),L&&(E.AtlasXML(L,0,I),D&&L.setDataSource(D),this.emit(c.ADD,R,L),this.emit(c.ADD_KEY+R,L)),L},addUnityAtlas:function(R,M,I,D){var L=null;return M instanceof C?(R=M.key,L=M):this.checkKey(R)&&(L=this.create(R,M)),L&&(E.UnityYAML(L,0,I),D&&L.setDataSource(D),this.emit(c.ADD,R,L),this.emit(c.ADD_KEY+R,L)),L},addSpriteSheet:function(R,M,I,D){var L=null;if(M instanceof C?(R=M.key,L=M):this.checkKey(R)&&(L=this.create(R,M)),L){var F=L.source[0].width,O=L.source[0].height;E.SpriteSheet(L,0,0,0,F,O,I),D&&L.setDataSource(D),this.emit(c.ADD,R,L),this.emit(c.ADD_KEY+R,L)}return L},addSpriteSheetFromAtlas:function(R,M){if(!this.checkKey(R))return null;var I=p(M,"atlas",null),D=p(M,"frame",null);if(!(!I||!D)){var L=this.get(I),F=L.get(D);if(F){var O=F.source.image;O||(O=F.source.glTexture);var N=this.create(R,O);return F.trimmed?E.SpriteSheetFromAtlas(N,F,M):E.SpriteSheet(N,0,F.cutX,F.cutY,F.cutWidth,F.cutHeight,M),this.emit(c.ADD,R,N),this.emit(c.ADD_KEY+R,N),N}}},addUint8Array:function(R,M,I,D){if(!this.checkKey(R)||M.length/4!==I*D)return null;var L=this.create(R,M,I,D);return L.add("__BASE",0,0,0,I,D),this.emit(c.ADD,R,L),this.emit(c.ADD_KEY+R,L),L},create:function(R,M,I,D){var L=null;return this.checkKey(R)&&(L=new C(this,R,M,I,D),this.list[R]=L),L},exists:function(R){return this.list.hasOwnProperty(R)},get:function(R){return R===void 0&&(R="__DEFAULT"),this.list[R]?this.list[R]:R instanceof C?R:R instanceof r?R.texture:this.list.__MISSING},cloneFrame:function(R,M){if(this.list[R])return this.list[R].get(M).clone()},getFrame:function(R,M){if(this.list[R])return this.list[R].get(M)},parseFrame:function(R){if(R){if(typeof R=="string")return this.getFrame(R);if(Array.isArray(R)&&R.length===2)return this.getFrame(R[0],R[1]);if(x(R))return this.getFrame(R.key,R.frame);if(R instanceof C)return R.get();if(R instanceof r)return R}else return},getTextureKeys:function(){var R=[];for(var M in this.list)M!=="__DEFAULT"&&M!=="__MISSING"&&M!=="__WHITE"&&M!=="__NORMAL"&&R.push(M);return R},getPixel:function(R,M,I,D){var L=this.getFrame(I,D);if(L){R-=L.x,M-=L.y;var F=L.data.cut;if(R+=F.x,M+=F.y,R>=F.x&&R<F.r&&M>=F.y&&M<F.b){var O=this._tempContext;O.clearRect(0,0,1,1),O.drawImage(L.source.image,R,M,1,1,0,0,1,1);var N=O.getImageData(0,0,1,1);return new l(N.data[0],N.data[1],N.data[2],N.data[3])}}return null},getPixelAlpha:function(R,M,I,D){var L=this.getFrame(I,D);if(L){R-=L.x,M-=L.y;var F=L.data.cut;if(R+=F.x,M+=F.y,R>=F.x&&R<F.r&&M>=F.y&&M<F.b){var O=this._tempContext;O.clearRect(0,0,1,1),O.drawImage(L.source.image,R,M,1,1,0,0,1,1);var N=O.getImageData(0,0,1,1);return N.data[3]}}return null},setTexture:function(R,M,I){return this.list[M]&&(R.texture=this.list[M],R.frame=R.texture.get(I)),R},renameTexture:function(R,M){var I=this.get(R);return I&&R!==M?(I.key=M,this.list[M]=I,delete this.list[R],!0):!1},each:function(R,M){for(var I=[null],D=1;D<arguments.length;D++)I.push(arguments[D]);for(var L in this.list)I[0]=this.list[L],R.apply(M,I)},resetStamp:function(R,M){R===void 0&&(R=1),M===void 0&&(M=16777215);var I=this.stamp;return I.setCrop(),I.setPosition(0),I.setAngle(0),I.setScale(1),I.setAlpha(R),I.setTint(M),I.setTexture("__WHITE"),I},destroy:function(){for(var R in this.list)this.list[R].destroy();this.list={},this.stamp.destroy(),this.game=null,this.stamp=null,u.remove(this._tempCanvas)}});h.exports=P},11876:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(27919),y=e(83419),f=e(50030),l=e(29795),o=e(82751),s=new y({initialize:function(c,r,d,v,p){p===void 0&&(p=!1);var m=c.manager.game;this.renderer=m.renderer,this.texture=c,this.source=r,this.image=r.compressed?null:r,this.compressionAlgorithm=r.compressed?r.format:null,this.resolution=1,this.width=d||r.naturalWidth||r.videoWidth||r.width||0,this.height=v||r.naturalHeight||r.videoHeight||r.height||0,this.scaleMode=l.DEFAULT,this.isCanvas=r instanceof HTMLCanvasElement,this.isVideo=window.hasOwnProperty("HTMLVideoElement")&&r instanceof HTMLVideoElement,this.isRenderTexture=r.type==="RenderTexture"||r.type==="DynamicTexture",this.isGLTexture=r instanceof o,this.isPowerOf2=f(this.width,this.height),this.glTexture=null,this.flipY=p,this.init(m)},init:function(a){var c=this.renderer;if(c){var r=this.source;if(c.gl){var d=this.image,v=this.flipY,p=this.width,m=this.height,x=this.scaleMode;this.isCanvas?this.glTexture=c.createCanvasTexture(d,!1,v):this.isVideo?this.glTexture=c.createVideoTexture(d,!1,v):this.isRenderTexture?this.glTexture=c.createTextureFromSource(null,p,m,x):this.isGLTexture?this.glTexture=r:this.compressionAlgorithm?this.glTexture=c.createTextureFromSource(r,void 0,void 0,x):r instanceof Uint8Array?this.glTexture=c.createUint8ArrayTexture(r,p,m,x):this.glTexture=c.createTextureFromSource(d,p,m,x)}else this.isRenderTexture&&(this.image=r.canvas)}a.config.antialias||this.setFilter(1)},setFilter:function(a){this.renderer&&this.renderer.gl&&this.renderer.setTextureFilter(this.glTexture,a),this.scaleMode=a},setFlipY:function(a){return a===void 0&&(a=!0),a===this.flipY?this:(this.flipY=a,this.update(),this)},update:function(){var a=this.renderer,c=this.image,r=this.flipY,d=a.gl;d&&this.isCanvas?a.updateCanvasTexture(c,this.glTexture,r):d&&this.isVideo&&a.updateVideoTexture(c,this.glTexture,r)},destroy:function(){this.glTexture&&this.renderer.deleteTexture(this.glTexture),this.isCanvas&&u.remove(this.image),this.renderer=null,this.texture=null,this.source=null,this.image=null,this.glTexture=null}});h.exports=s},19673:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={LINEAR:0,NEAREST:1};h.exports=S},44538:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="addtexture"},63486:h=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="addtexture-"},94851:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="onerror"},29099:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="onload"},8678:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="ready"},86415:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="removetexture"},30879:h=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="removetexture-"},69442:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={ADD:e(44538),ADD_KEY:e(63486),ERROR:e(94851),LOAD:e(29099),READY:e(8678),REMOVE:e(86415),REMOVE_KEY:e(30879)}},27458:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(79291),y=e(19673),f={CanvasTexture:e(57382),DynamicTexture:e(81320),Events:e(69442),FilterMode:y,Frame:e(4327),Parsers:e(61309),Texture:e(79237),TextureManager:e(17130),TextureSource:e(11876)};f=u(!1,f,y),h.exports=f},89905:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u,y){if(!y.getElementsByTagName("TextureAtlas")){console.warn("Invalid Texture Atlas XML given");return}var f=e.source[u];e.add("__BASE",u,0,0,f.width,f.height);for(var l=y.getElementsByTagName("SubTexture"),o,s=0;s<l.length;s++){var a=l[s].attributes,c=a.name.value,r=parseInt(a.x.value,10),d=parseInt(a.y.value,10),v=parseInt(a.width.value,10),p=parseInt(a.height.value,10);if(o=e.add(c,u,r,d,v,p),a.frameX){var m=Math.abs(parseInt(a.frameX.value,10)),x=Math.abs(parseInt(a.frameY.value,10)),E=parseInt(a.frameWidth.value,10),w=parseInt(a.frameHeight.value,10);o.setTrim(v,p,m,x,E,w)}}return e};h.exports=S},72893:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u){var y=e.source[u];return e.add("__BASE",u,0,0,y.width,y.height),e};h.exports=S},4832:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u){var y=e.source[u];return e.add("__BASE",u,0,0,y.width,y.height),e};h.exports=S},78566:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(41786),y=function(f,l,o){if(!o.frames&&!o.textures){console.warn("Invalid Texture Atlas JSON Array");return}var s=f.source[l];f.add("__BASE",l,0,0,s.width,s.height);for(var a=Array.isArray(o.textures)?o.textures[l].frames:o.frames,c,r=0;r<a.length;r++){var d=a[r];if(c=f.add(d.filename,l,d.frame.x,d.frame.y,d.frame.w,d.frame.h),!c){console.warn("Invalid atlas json, frame already exists: "+d.filename);continue}d.trimmed&&c.setTrim(d.sourceSize.w,d.sourceSize.h,d.spriteSourceSize.x,d.spriteSourceSize.y,d.spriteSourceSize.w,d.spriteSourceSize.h),d.rotated&&(c.rotated=!0,c.updateUVsInverted());var v=d.anchor||d.pivot;v&&(c.customPivot=!0,c.pivotX=v.x,c.pivotY=v.y),d.scale9Borders&&c.setScale9(d.scale9Borders.x,d.scale9Borders.y,d.scale9Borders.w,d.scale9Borders.h),c.customData=u(d)}for(var p in o)p!=="frames"&&(Array.isArray(o[p])?f.customData[p]=o[p].slice(0):f.customData[p]=o[p]);return f};h.exports=y},39711:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(41786),y=function(f,l,o){if(!o.frames){console.warn("Invalid Texture Atlas JSON Hash given, missing 'frames' Object");return}var s=f.source[l];f.add("__BASE",l,0,0,s.width,s.height);var a=o.frames,c;for(var r in a)if(a.hasOwnProperty(r)){var d=a[r];if(c=f.add(r,l,d.frame.x,d.frame.y,d.frame.w,d.frame.h),!c){console.warn("Invalid atlas json, frame already exists: "+r);continue}d.trimmed&&c.setTrim(d.sourceSize.w,d.sourceSize.h,d.spriteSourceSize.x,d.spriteSourceSize.y,d.spriteSourceSize.w,d.spriteSourceSize.h),d.rotated&&(c.rotated=!0,c.updateUVsInverted());var v=d.anchor||d.pivot;v&&(c.customPivot=!0,c.pivotX=v.x,c.pivotY=v.y),d.scale9Borders&&c.setScale9(d.scale9Borders.x,d.scale9Borders.y,d.scale9Borders.w,d.scale9Borders.h),c.customData=u(d)}for(var p in o)p!=="frames"&&(Array.isArray(o[p])?f.customData[p]=o[p].slice(0):f.customData[p]=o[p]);return f};h.exports=y},31403:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e){var u=[171,75,84,88,32,49,49,187,13,10,26,10],y,f=new Uint8Array(e,0,12);for(y=0;y<f.length;y++)if(f[y]!==u[y]){console.warn("KTXParser - Invalid file format");return}var l=Uint32Array.BYTES_PER_ELEMENT,o=new DataView(e,12,13*l),s=o.getUint32(0,!0)===67305985,a=o.getUint32(1*l,s);if(a!==0){console.warn("KTXParser - Only compressed formats supported");return}var c=o.getUint32(4*l,s),r=o.getUint32(6*l,s),d=o.getUint32(7*l,s),v=Math.max(1,o.getUint32(11*l,s)),p=o.getUint32(12*l,s),m=new Array(v),x=12+13*4+p,E=r,w=d;for(y=0;y<v;y++){var C=new Int32Array(e,x,1)[0];x+=4,m[y]={data:new Uint8Array(e,x,C),width:E,height:w},E=Math.max(1,E>>1),w=Math.max(1,w>>1),x+=C}return{mipmaps:m,width:r,height:d,internalFormat:c,compressed:!0,generateMipmap:!1}};h.exports=S},82038:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function S(M,I,D,L,F,O,N){return N===void 0&&(N=16),Math.floor((M+D)/F)*Math.floor((I+L)/O)*N}function e(M,I){return M=Math.max(M,16),I=Math.max(I,8),M*I/4}function u(M,I){return M=Math.max(M,8),I=Math.max(I,8),M*I/2}function y(M,I){return Math.ceil(M/4)*Math.ceil(I/4)*16}function f(M,I){return S(M,I,3,3,4,4,8)}function l(M,I){return S(M,I,3,3,4,4)}function o(M,I){return S(M,I,4,3,5,4)}function s(M,I){return S(M,I,4,4,5,5)}function a(M,I){return S(M,I,5,4,6,5)}function c(M,I){return S(M,I,5,5,6,6)}function r(M,I){return S(M,I,7,4,8,5)}function d(M,I){return S(M,I,7,5,8,6)}function v(M,I){return S(M,I,7,7,8,8)}function p(M,I){return S(M,I,9,4,10,5)}function m(M,I){return S(M,I,9,5,10,6)}function x(M,I){return S(M,I,9,7,10,8)}function E(M,I){return S(M,I,9,9,10,10)}function w(M,I){return S(M,I,11,9,12,10)}function C(M,I){return S(M,I,11,11,12,12)}var P={0:{sizeFunc:e,glFormat:[35841]},1:{sizeFunc:e,glFormat:[35843]},2:{sizeFunc:u,glFormat:[35840]},3:{sizeFunc:u,glFormat:[35842]},6:{sizeFunc:f,glFormat:[36196]},7:{sizeFunc:f,glFormat:[33776,35916]},8:{sizeFunc:l,glFormat:[33777,35917]},9:{sizeFunc:l,glFormat:[33778,35918]},11:{sizeFunc:l,glFormat:[33779,35919]},14:{sizeFunc:y,glFormat:[36494,36495]},15:{sizeFunc:y,glFormat:[36492,36493]},22:{sizeFunc:f,glFormat:[37492,37493]},23:{sizeFunc:l,glFormat:[37496,37497]},24:{sizeFunc:f,glFormat:[37494,37495]},25:{sizeFunc:f,glFormat:[37488]},26:{sizeFunc:l,glFormat:[37490]},27:{sizeFunc:l,glFormat:[37808,37840]},28:{sizeFunc:o,glFormat:[37809,37841]},29:{sizeFunc:s,glFormat:[37810,37842]},30:{sizeFunc:a,glFormat:[37811,37843]},31:{sizeFunc:c,glFormat:[37812,37844]},32:{sizeFunc:r,glFormat:[37813,37845]},33:{sizeFunc:d,glFormat:[37814,37846]},34:{sizeFunc:v,glFormat:[37815,37847]},35:{sizeFunc:p,glFormat:[37816,37848]},36:{sizeFunc:m,glFormat:[37817,37849]},37:{sizeFunc:x,glFormat:[37818,37850]},38:{sizeFunc:E,glFormat:[37819,37851]},39:{sizeFunc:w,glFormat:[37820,37852]},40:{sizeFunc:C,glFormat:[37821,37853]}},R=function(M){for(var I=new Uint32Array(M,0,13),D=I[0],L=D===55727696,F=L?I[2]:I[3],O=I[4],N=P[F].glFormat[O],b=P[F].sizeFunc,V=I[11],Y=I[7],W=I[6],U=52+I[12],z=new Uint8Array(M,U),B=new Array(V),X=0,G=Y,H=W,$=0;$<V;$++){var k=b(G,H);B[$]={data:new Uint8Array(z.buffer,z.byteOffset+X,k),width:G,height:H},G=Math.max(1,G>>1),H=Math.max(1,H>>1),X+=k}return{mipmaps:B,width:Y,height:W,internalFormat:N,compressed:!0,generateMipmap:!1}};h.exports=R},75549:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(95540),y=function(f,l,o,s,a,c,r){var d=u(r,"frameWidth",null),v=u(r,"frameHeight",d);if(d===null)throw new Error("TextureManager.SpriteSheet: Invalid frameWidth given.");var p=f.source[l];f.add("__BASE",l,0,0,p.width,p.height);var m=u(r,"startFrame",0),x=u(r,"endFrame",-1),E=u(r,"margin",0),w=u(r,"spacing",0),C=Math.floor((a-E+w)/(d+w)),P=Math.floor((c-E+w)/(v+w)),R=C*P;R===0&&console.warn("SpriteSheet frame dimensions will result in zero frames for texture:",f.key),(m>R||m<-R)&&(m=0),m<0&&(m=R+m),(x===-1||x>R||x<m)&&(x=R);for(var M=E,I=E,D=0,L=0,F=0,O=0;O<R;O++){D=0,L=0;var N=M+d,b=I+v;N>a&&(D=N-a),b>c&&(L=b-c),O>=m&&O<=x&&(f.add(F,l,o+M,s+I,d-D,v-L),F++),M+=d+w,M+d>a&&(M=E,I+=v+w)}return f};h.exports=y},47534:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(95540),y=function(f,l,o){var s=u(o,"frameWidth",null),a=u(o,"frameHeight",s);if(!s)throw new Error("TextureManager.SpriteSheetFromAtlas: Invalid frameWidth given.");var c=f.source[0];f.add("__BASE",0,0,0,c.width,c.height),u(o,"startFrame",0),u(o,"endFrame",-1);for(var r=u(o,"margin",0),d=u(o,"spacing",0),v=l.cutX,p=l.cutY,m=l.cutWidth,x=l.cutHeight,E=l.realWidth,w=l.realHeight,C=Math.floor((E-r+d)/(s+d)),P=Math.floor((w-r+d)/(a+d)),R=l.x,M=s-R,I=s-(E-m-R),D=l.y,L=a-D,F=a-(w-x-D),O,N=r,b=r,V=0,Y=0,W=0;W<P;W++){for(var U=W===0,z=W===P-1,B=0;B<C;B++){var X=B===0,G=B===C-1;if(O=f.add(V,Y,v+N,p+b,s,a),X||U||G||z){var H=X?R:0,$=U?D:0,k=0,j=0;X&&(k+=s-M),G&&(k+=s-I),U&&(j+=a-L),z&&(j+=a-F);var Q=s-k,J=a-j;O.cutWidth=Q,O.cutHeight=J,O.setTrim(s,a,H,$,Q,J)}N+=d,X?N+=M:G?N+=I:N+=s,V++}N=r,b+=d,U?b+=L:z?b+=F:b+=a}return f};h.exports=y},86147:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=0,e=function(y,f,l,o){var s=S-o.y-o.height;y.add(l,f,o.x,s,o.width,o.height)},u=function(y,f,l){var o=y.source[f];y.add("__BASE",f,0,0,o.width,o.height),S=o.height;for(var s=l.split(`
`),a=/^[ ]*(- )*(\w+)+[: ]+(.*)/,c="",r="",d={x:0,y:0,width:0,height:0},v=0;v<s.length;v++){var p=s[v].match(a);if(p){var m=p[1]==="- ",x=p[2],E=p[3];if(m&&(r!==c&&(e(y,f,r,d),c=r),d={x:0,y:0,width:0,height:0}),x==="name"){r=E;continue}switch(x){case"x":case"y":case"width":case"height":d[x]=parseInt(E,10);break}}}return r!==c&&e(y,f,r,d),y};h.exports=u},55222:(h,S,e)=>{/**
 * @author       Ben Richards <benjamindrichards@gmail.com>
 * @copyright    2024 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(50030),y=function(c){for(var r=c.mipmaps,d=1;d<r.length;d++){var v=r[d].width,p=r[d].height;if(!u(v,p))return console.warn("Mip level "+d+" is not a power-of-two size: "+v+"x"+p),!1}var m=a[c.internalFormat];return m?m(c):(console.warn("No format checker found for internal format "+c.internalFormat+". Assuming valid."),!0)};function f(c){for(var r=c.mipmaps,d=0;d<r.length;d++){var v=r[d].width,p=r[d].height;if((v<<d)%4!==0||(p<<d)%4!==0)return console.warn("BPTC, RGTC, and S3TC dimensions must be a multiple of 4 pixels, and each successive mip level must be half the size of the previous level, rounded down. Mip level "+d+" is "+v+"x"+p),!1}return!0}function l(){return!0}function o(c){var r=c.mipmaps,d=r[0];return u(d.width,d.height)?!0:(console.warn("PVRTC base dimensions must be power of two. Base level is "+d.width+"x"+d.height),!1)}function s(c){var r=c.mipmaps,d=r[0];return d.width%4!==0||d.height%4!==0?(console.warn("S3TC SRGB base dimensions must be a multiple of 4 pixels. Base level is "+d.width+"x"+d.height+" pixels"),!1):!0}var a={37488:l,37489:l,37490:l,37491:l,37492:l,37493:l,37494:l,37495:l,37496:l,37497:l,36196:l,37808:l,37809:l,37810:l,37811:l,37812:l,37813:l,37814:l,37815:l,37816:l,37817:l,37818:l,37819:l,37820:l,37821:l,37840:l,37841:l,37842:l,37843:l,37844:l,37845:l,37846:l,37847:l,37848:l,37849:l,37850:l,37851:l,37852:l,37853:l,36492:f,36493:f,36494:f,36495:f,36283:f,36284:f,36285:f,36286:f,35840:o,35841:o,35842:o,35843:o,33776:f,33777:f,33778:f,33779:f,35916:s,35917:s,35918:s,35919:s};h.exports=y},61309:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={AtlasXML:e(89905),Canvas:e(72893),Image:e(4832),JSONArray:e(78566),JSONHash:e(39711),KTXParser:e(31403),PVRParser:e(82038),SpriteSheet:e(75549),SpriteSheetFromAtlas:e(47534),UnityYAML:e(86147)}},80341:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={CSV:0,TILED_JSON:1,ARRAY_2D:2,WELTMEISTER:3}},16536:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=new u({initialize:function(l,o,s,a,c,r,d){(s===void 0||s<=0)&&(s=32),(a===void 0||a<=0)&&(a=32),c===void 0&&(c=0),r===void 0&&(r=0),this.name=l,this.firstgid=o|0,this.imageWidth=s|0,this.imageHeight=a|0,this.imageMargin=c|0,this.imageSpacing=r|0,this.properties=d||{},this.images=[],this.total=0},containsImageIndex:function(f){return f>=this.firstgid&&f<this.firstgid+this.total},addImage:function(f,l,o,s){return this.images.push({gid:f,image:l,width:o,height:s}),this.total++,this}});h.exports=y},27462:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=new u({initialize:function(l){if(this.gids=[],l!==void 0)for(var o=0;o<l.length;++o)for(var s=l[o],a=0;a<s.total;++a)this.gids[s.firstgid+a]=s;this._gids=this.gids},enabled:{get:function(){return!!this.gids},set:function(f){this.gids=f?this._gids:void 0}},getTypeIncludingTile:function(f){if(f.type!==void 0&&f.type!=="")return f.type;if(!(!this.gids||f.gid===void 0)){var l=this.gids[f.gid];if(l){var o=l.getTileData(f.gid);if(o)return o.type}}},setTextureAndFrame:function(f,l,o,s){if(l===null&&this.gids&&s.gid!==void 0){var a=this.gids[s.gid];a&&(l===null&&a.image!==void 0&&(l=a.image.key),o===null&&(o=s.gid-a.firstgid),f.scene.textures.getFrame(l,o)||(l=null,o=null))}f.setTexture(l,o)},setPropertiesFromTiledObject:function(f,l){if(this.gids!==void 0&&l.gid!==void 0){var o=this.gids[l.gid];o!==void 0&&this.setFromJSON(f,o.getTileProperties(l.gid))}this.setFromJSON(f,l.properties)},setFromJSON:function(f,l){if(l){if(Array.isArray(l)){for(var o=0;o<l.length;o++){var s=l[o];f[s.name]!==void 0?f[s.name]=s.value:f.setData(s.name,s.value)}return}for(var a in l)f[a]!==void 0?f[a]=l[a]:f.setData(a,l[a])}}});h.exports=y},31989:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(80341),y=e(87010),f=e(46177),l=e(49075),o=function(s,a,c,r,d,v,p,m){c===void 0&&(c=32),r===void 0&&(r=32),d===void 0&&(d=10),v===void 0&&(v=10),m===void 0&&(m=!1);var x=null;if(Array.isArray(p)){var E=a!==void 0?a:"map";x=f(E,u.ARRAY_2D,p,c,r,m)}else if(a!==void 0){var w=s.cache.tilemap.get(a);w?x=f(a,w.format,w.data,c,r,m):console.warn("No map data found for key "+a)}return x===null&&(x=new y({tileWidth:c,tileHeight:r,width:d,height:v})),new l(s,x)};h.exports=o},23029:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(31401),f=e(91907),l=e(62644),o=e(93232),s=new u({Mixins:[y.AlphaSingle,y.Flip,y.Visible],initialize:function(c,r,d,v,p,m,x,E){this.layer=c,this.index=r,this.x=d,this.y=v,this.width=p,this.height=m,this.right,this.bottom,this.baseWidth=x!==void 0?x:p,this.baseHeight=E!==void 0?E:m,this.pixelX=0,this.pixelY=0,this.updatePixelXY(),this.properties={},this.rotation=0,this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceLeft=!1,this.faceRight=!1,this.faceTop=!1,this.faceBottom=!1,this.collisionCallback=void 0,this.collisionCallbackContext=this,this.tint=16777215,this.tintFill=!1,this.physics={}},containsPoint:function(a,c){return!(a<this.pixelX||c<this.pixelY||a>this.right||c>this.bottom)},copy:function(a){return this.index=a.index,this.alpha=a.alpha,this.properties=l(a.properties),this.visible=a.visible,this.setFlip(a.flipX,a.flipY),this.tint=a.tint,this.rotation=a.rotation,this.collideUp=a.collideUp,this.collideDown=a.collideDown,this.collideLeft=a.collideLeft,this.collideRight=a.collideRight,this.collisionCallback=a.collisionCallback,this.collisionCallbackContext=a.collisionCallbackContext,this},getCollisionGroup:function(){return this.tileset?this.tileset.getTileCollisionGroup(this.index):null},getTileData:function(){return this.tileset?this.tileset.getTileData(this.index):null},getLeft:function(a){var c=this.tilemapLayer;if(c){var r=c.tileToWorldXY(this.x,this.y,void 0,a);return r.x}return this.x*this.baseWidth},getRight:function(a){var c=this.tilemapLayer;return c?this.getLeft(a)+this.width*c.scaleX:this.getLeft(a)+this.width},getTop:function(a){var c=this.tilemapLayer;if(c){var r=c.tileToWorldXY(this.x,this.y,void 0,a);return r.y}return this.y*this.baseWidth-(this.height-this.baseHeight)},getBottom:function(a){var c=this.tilemapLayer;return c?this.getTop(a)+this.height*c.scaleY:this.getTop(a)+this.height},getBounds:function(a,c){return c===void 0&&(c=new o),c.x=this.getLeft(a),c.y=this.getTop(a),c.width=this.getRight(a)-c.x,c.height=this.getBottom(a)-c.y,c},getCenterX:function(a){return(this.getLeft(a)+this.getRight(a))/2},getCenterY:function(a){return(this.getTop(a)+this.getBottom(a))/2},intersects:function(a,c,r,d){return!(r<=this.pixelX||d<=this.pixelY||a>=this.right||c>=this.bottom)},isInteresting:function(a,c){return a&&c?this.canCollide||this.hasInterestingFace:a?this.collides:c?this.hasInterestingFace:!1},resetCollision:function(a){if(a===void 0&&(a=!0),this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,a){var c=this.tilemapLayer;c&&this.tilemapLayer.calculateFacesAt(this.x,this.y)}return this},resetFaces:function(){return this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,this},setCollision:function(a,c,r,d,v){if(c===void 0&&(c=a),r===void 0&&(r=a),d===void 0&&(d=a),v===void 0&&(v=!0),this.collideLeft=a,this.collideRight=c,this.collideUp=r,this.collideDown=d,this.faceLeft=a,this.faceRight=c,this.faceTop=r,this.faceBottom=d,v){var p=this.tilemapLayer;p&&this.tilemapLayer.calculateFacesAt(this.x,this.y)}return this},setCollisionCallback:function(a,c){return a===null?(this.collisionCallback=void 0,this.collisionCallbackContext=void 0):(this.collisionCallback=a,this.collisionCallbackContext=c),this},setSize:function(a,c,r,d){return a!==void 0&&(this.width=a),c!==void 0&&(this.height=c),r!==void 0&&(this.baseWidth=r),d!==void 0&&(this.baseHeight=d),this.updatePixelXY(),this},updatePixelXY:function(){var a=this.layer.orientation;if(a===f.ORTHOGONAL)this.pixelX=this.x*this.baseWidth,this.pixelY=this.y*this.baseHeight;else if(a===f.ISOMETRIC)this.pixelX=(this.x-this.y)*this.baseWidth*.5,this.pixelY=(this.x+this.y)*this.baseHeight*.5;else if(a===f.STAGGERED)this.pixelX=this.x*this.baseWidth+this.y%2*(this.baseWidth/2),this.pixelY=this.y*(this.baseHeight/2);else if(a===f.HEXAGONAL){var c=this.layer.staggerAxis,r=this.layer.staggerIndex,d=this.layer.hexSideLength,v,p;c==="y"?(p=(this.baseHeight-d)/2+d,r==="odd"?this.pixelX=this.x*this.baseWidth+this.y%2*(this.baseWidth/2):this.pixelX=this.x*this.baseWidth-this.y%2*(this.baseWidth/2),this.pixelY=this.y*p):c==="x"&&(v=(this.baseWidth-d)/2+d,this.pixelX=this.x*v,r==="odd"?this.pixelY=this.y*this.baseHeight+this.x%2*(this.baseHeight/2):this.pixelY=this.y*this.baseHeight-this.x%2*(this.baseHeight/2))}return this.right=this.pixelX+this.baseWidth,this.bottom=this.pixelY+this.baseHeight,this},destroy:function(){this.collisionCallback=void 0,this.collisionCallbackContext=void 0,this.properties=void 0},canCollide:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown||this.collisionCallback!==void 0}},collides:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown}},hasInterestingFace:{get:function(){return this.faceTop||this.faceBottom||this.faceLeft||this.faceRight}},tileset:{get:function(){var a=this.layer.tilemapLayer;if(a){var c=a.gidMap[this.index];if(c)return c}return null}},tilemapLayer:{get:function(){return this.layer.tilemapLayer}},tilemap:{get:function(){var a=this.tilemapLayer;return a?a.tilemap:null}}});h.exports=s},49075:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(84101),y=e(83419),f=e(39506),l=e(80341),o=e(95540),s=e(14977),a=e(27462),c=e(91907),r=e(36305),d=e(19133),v=e(68287),p=e(23029),m=e(81086),x=e(20442),E=e(33629),w=new y({initialize:function(P,R){this.scene=P,this.tileWidth=R.tileWidth,this.tileHeight=R.tileHeight,this.width=R.width,this.height=R.height,this.orientation=R.orientation,this.renderOrder=R.renderOrder,this.format=R.format,this.version=R.version,this.properties=R.properties,this.widthInPixels=R.widthInPixels,this.heightInPixels=R.heightInPixels,this.imageCollections=R.imageCollections,this.images=R.images,this.layers=R.layers,this.tiles=R.tiles,this.tilesets=R.tilesets,this.objects=R.objects,this.currentLayerIndex=0,this.hexSideLength=R.hexSideLength;var M=this.orientation;this._convert={WorldToTileXY:m.GetWorldToTileXYFunction(M),WorldToTileX:m.GetWorldToTileXFunction(M),WorldToTileY:m.GetWorldToTileYFunction(M),TileToWorldXY:m.GetTileToWorldXYFunction(M),TileToWorldX:m.GetTileToWorldXFunction(M),TileToWorldY:m.GetTileToWorldYFunction(M),GetTileCorners:m.GetTileCornersFunction(M)}},setRenderOrder:function(C){var P=["right-down","left-down","right-up","left-up"];return typeof C=="number"&&(C=P[C]),P.indexOf(C)>-1&&(this.renderOrder=C),this},addTilesetImage:function(C,P,R,M,I,D,L,F){if(C===void 0)return null;P==null&&(P=C);var O=this.scene.sys.textures;if(!O.exists(P))return console.warn('Texture key "%s" not found',P),null;var N=O.get(P),b=this.getTilesetIndex(C);if(b===null&&this.format===l.TILED_JSON)return console.warn('Tilemap has no tileset "%s". Its tilesets are %o',C,this.tilesets),null;var V=this.tilesets[b];return V?((R||M)&&V.setTileSize(R,M),(I||D)&&V.setSpacing(I,D),V.setImage(N),V):(R===void 0&&(R=this.tileWidth),M===void 0&&(M=this.tileHeight),I===void 0&&(I=0),D===void 0&&(D=0),L===void 0&&(L=0),F===void 0&&(F={x:0,y:0}),V=new E(C,L,R,M,I,D,void 0,void 0,F),V.setImage(N),this.tilesets.push(V),this.tiles=u(this),V)},copy:function(C,P,R,M,I,D,L,F){return F=this.getLayer(F),F!==null?(m.Copy(C,P,R,M,I,D,L,F),this):null},createBlankLayer:function(C,P,R,M,I,D,L,F){R===void 0&&(R=0),M===void 0&&(M=0),I===void 0&&(I=this.width),D===void 0&&(D=this.height),L===void 0&&(L=this.tileWidth),F===void 0&&(F=this.tileHeight);var O=this.getLayerIndex(C);if(O!==null)return console.warn("Invalid Tilemap Layer ID: "+C),null;for(var N=new s({name:C,tileWidth:L,tileHeight:F,width:I,height:D,orientation:this.orientation,hexSideLength:this.hexSideLength}),b,V=0;V<D;V++){b=[];for(var Y=0;Y<I;Y++)b.push(new p(N,-1,Y,V,L,F,this.tileWidth,this.tileHeight));N.data.push(b)}this.layers.push(N),this.currentLayerIndex=this.layers.length-1;var W=new x(this.scene,this,this.currentLayerIndex,P,R,M);return W.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(W),W},createLayer:function(C,P,R,M){var I=this.getLayerIndex(C);if(I===null)return console.warn("Invalid Tilemap Layer ID: "+C),typeof C=="string"&&console.warn("Valid tilelayer names: %o",this.getTileLayerNames()),null;var D=this.layers[I];if(D.tilemapLayer)return console.warn("Tilemap Layer ID already exists:"+C),null;this.currentLayerIndex=I,R===void 0&&(R=D.x),M===void 0&&(M=D.y);var L=new x(this.scene,this,I,P,R,M);return L.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(L),L},createFromObjects:function(C,P,R){R===void 0&&(R=!0);var M=[],I=this.getObjectLayer(C);if(!I)return console.warn("createFromObjects: Invalid objectLayerName given: "+C),M;var D=new a(R?this.tilesets:void 0);Array.isArray(P)||(P=[P]);for(var L=I.objects,F=0;F<P.length;F++){var O=P[F],N=o(O,"id",null),b=o(O,"gid",null),V=o(O,"name",null),Y=o(O,"type",null);D.enabled=!o(O,"ignoreTileset",null);for(var W,U=[],z=0;z<L.length;z++)W=L[z],(N===null&&b===null&&V===null&&Y===null||N!==null&&W.id===N||b!==null&&W.gid===b||V!==null&&W.name===V||Y!==null&&D.getTypeIncludingTile(W)===Y)&&U.push(W);for(var B=o(O,"classType",v),X=o(O,"scene",this.scene),G=o(O,"container",null),H=o(O,"key",null),$=o(O,"frame",null),k=0;k<U.length;k++){W=U[k];var j=new B(X);if(j.setName(W.name),j.setPosition(W.x,W.y),D.setTextureAndFrame(j,H,$,W),W.width&&(j.displayWidth=W.width),W.height&&(j.displayHeight=W.height),this.orientation===c.ISOMETRIC){var Q=this.tileWidth/this.tileHeight,J={x:j.x-j.y,y:(j.x+j.y)/Q};j.x=J.x,j.y=J.y}var q={x:j.originX*W.width,y:(j.originY-(W.gid?1:0))*W.height};if(W.rotation){var Z=f(W.rotation);r(q,Z),j.rotation=Z}j.x+=q.x,j.y+=q.y,(W.flippedHorizontal!==void 0||W.flippedVertical!==void 0)&&j.setFlip(W.flippedHorizontal,W.flippedVertical),W.visible||(j.visible=!1),D.setPropertiesFromTiledObject(j,W),G?G.add(j):X.add.existing(j),M.push(j)}}return M},createFromTiles:function(C,P,R,M,I,D){return D=this.getLayer(D),D===null?null:m.CreateFromTiles(C,P,R,M,I,D)},fill:function(C,P,R,M,I,D,L){return D===void 0&&(D=!0),L=this.getLayer(L),L===null?null:(m.Fill(C,P,R,M,I,D,L),this)},filterObjects:function(C,P,R){if(typeof C=="string"){var M=C;if(C=this.getObjectLayer(C),!C)return console.warn("No object layer found with the name: "+M),null}return C.objects.filter(P,R)},filterTiles:function(C,P,R,M,I,D,L,F){return F=this.getLayer(F),F===null?null:m.FilterTiles(C,P,R,M,I,D,L,F)},findByIndex:function(C,P,R,M){return M=this.getLayer(M),M===null?null:m.FindByIndex(C,P,R,M)},findObject:function(C,P,R){if(typeof C=="string"){var M=C;if(C=this.getObjectLayer(C),!C)return console.warn("No object layer found with the name: "+M),null}return C.objects.find(P,R)||null},findTile:function(C,P,R,M,I,D,L,F){return F=this.getLayer(F),F===null?null:m.FindTile(C,P,R,M,I,D,L,F)},forEachTile:function(C,P,R,M,I,D,L,F){return F=this.getLayer(F),F===null?null:(m.ForEachTile(C,P,R,M,I,D,L,F),this)},getImageIndex:function(C){return this.getIndex(this.images,C)},getImageLayerNames:function(){return!this.images||!Array.isArray(this.images)?[]:this.images.map(function(C){return C.name})},getIndex:function(C,P){for(var R=0;R<C.length;R++)if(C[R].name===P)return R;return null},getLayer:function(C){var P=this.getLayerIndex(C);return P!==null?this.layers[P]:null},getObjectLayer:function(C){var P=this.getIndex(this.objects,C);return P!==null?this.objects[P]:null},getObjectLayerNames:function(){return!this.objects||!Array.isArray(this.objects)?[]:this.objects.map(function(C){return C.name})},getLayerIndex:function(C){return C===void 0?this.currentLayerIndex:typeof C=="string"?this.getLayerIndexByName(C):typeof C=="number"&&C<this.layers.length?C:C instanceof x&&C.tilemap===this?C.layerIndex:null},getLayerIndexByName:function(C){return this.getIndex(this.layers,C)},getTileAt:function(C,P,R,M){return M=this.getLayer(M),M===null?null:m.GetTileAt(C,P,R,M)},getTileAtWorldXY:function(C,P,R,M,I){return I=this.getLayer(I),I===null?null:m.GetTileAtWorldXY(C,P,R,M,I)},getTileLayerNames:function(){return!this.layers||!Array.isArray(this.layers)?[]:this.layers.map(function(C){return C.name})},getTilesWithin:function(C,P,R,M,I,D){return D=this.getLayer(D),D===null?null:m.GetTilesWithin(C,P,R,M,I,D)},getTilesWithinShape:function(C,P,R,M){return M=this.getLayer(M),M===null?null:m.GetTilesWithinShape(C,P,R,M)},getTilesWithinWorldXY:function(C,P,R,M,I,D,L){return L=this.getLayer(L),L===null?null:m.GetTilesWithinWorldXY(C,P,R,M,I,D,L)},getTileset:function(C){var P=this.getIndex(this.tilesets,C);return P!==null?this.tilesets[P]:null},getTilesetIndex:function(C){return this.getIndex(this.tilesets,C)},hasTileAt:function(C,P,R){return R=this.getLayer(R),R===null?null:m.HasTileAt(C,P,R)},hasTileAtWorldXY:function(C,P,R,M){return M=this.getLayer(M),M===null?null:m.HasTileAtWorldXY(C,P,R,M)},layer:{get:function(){return this.layers[this.currentLayerIndex]},set:function(C){this.setLayer(C)}},putTileAt:function(C,P,R,M,I){return M===void 0&&(M=!0),I=this.getLayer(I),I===null?null:m.PutTileAt(C,P,R,M,I)},putTileAtWorldXY:function(C,P,R,M,I,D){return M===void 0&&(M=!0),D=this.getLayer(D),D===null?null:m.PutTileAtWorldXY(C,P,R,M,I,D)},putTilesAt:function(C,P,R,M,I){return M===void 0&&(M=!0),I=this.getLayer(I),I===null?null:(m.PutTilesAt(C,P,R,M,I),this)},randomize:function(C,P,R,M,I,D){return D=this.getLayer(D),D===null?null:(m.Randomize(C,P,R,M,I,D),this)},calculateFacesAt:function(C,P,R){return R=this.getLayer(R),R===null?null:(m.CalculateFacesAt(C,P,R),this)},calculateFacesWithin:function(C,P,R,M,I){return I=this.getLayer(I),I===null?null:(m.CalculateFacesWithin(C,P,R,M,I),this)},removeLayer:function(C){var P=this.getLayerIndex(C);if(P!==null){d(this.layers,P);for(var R=P;R<this.layers.length;R++)this.layers[R].tilemapLayer&&this.layers[R].tilemapLayer.layerIndex--;return this.currentLayerIndex===P&&(this.currentLayerIndex=0),this}else return null},destroyLayer:function(C){var P=this.getLayerIndex(C);return P!==null?(C=this.layers[P],C.tilemapLayer.destroy(),d(this.layers,P),this.currentLayerIndex===P&&(this.currentLayerIndex=0),this):null},removeAllLayers:function(){for(var C=this.layers,P=0;P<C.length;P++)C[P].tilemapLayer&&C[P].tilemapLayer.destroy(!1);return C.length=0,this.currentLayerIndex=0,this},removeTile:function(C,P,R){P===void 0&&(P=-1),R===void 0&&(R=!0);var M=[];Array.isArray(C)||(C=[C]);for(var I=0;I<C.length;I++){var D=C[I];M.push(this.removeTileAt(D.x,D.y,!0,R,D.tilemapLayer)),P>-1&&this.putTileAt(P,D.x,D.y,R,D.tilemapLayer)}return M},removeTileAt:function(C,P,R,M,I){return R===void 0&&(R=!0),M===void 0&&(M=!0),I=this.getLayer(I),I===null?null:m.RemoveTileAt(C,P,R,M,I)},removeTileAtWorldXY:function(C,P,R,M,I,D){return R===void 0&&(R=!0),M===void 0&&(M=!0),D=this.getLayer(D),D===null?null:m.RemoveTileAtWorldXY(C,P,R,M,I,D)},renderDebug:function(C,P,R){return R=this.getLayer(R),R===null?null:(this.orientation===c.ORTHOGONAL&&m.RenderDebug(C,P,R),this)},renderDebugFull:function(C,P){for(var R=this.layers,M=0;M<R.length;M++)m.RenderDebug(C,P,R[M]);return this},replaceByIndex:function(C,P,R,M,I,D,L){return L=this.getLayer(L),L===null?null:(m.ReplaceByIndex(C,P,R,M,I,D,L),this)},setCollision:function(C,P,R,M,I){return P===void 0&&(P=!0),R===void 0&&(R=!0),I===void 0&&(I=!0),M=this.getLayer(M),M===null?null:(m.SetCollision(C,P,R,M,I),this)},setCollisionBetween:function(C,P,R,M,I){return R===void 0&&(R=!0),M===void 0&&(M=!0),I=this.getLayer(I),I===null?null:(m.SetCollisionBetween(C,P,R,M,I),this)},setCollisionByProperty:function(C,P,R,M){return P===void 0&&(P=!0),R===void 0&&(R=!0),M=this.getLayer(M),M===null?null:(m.SetCollisionByProperty(C,P,R,M),this)},setCollisionByExclusion:function(C,P,R,M){return P===void 0&&(P=!0),R===void 0&&(R=!0),M=this.getLayer(M),M===null?null:(m.SetCollisionByExclusion(C,P,R,M),this)},setCollisionFromCollisionGroup:function(C,P,R){return C===void 0&&(C=!0),P===void 0&&(P=!0),R=this.getLayer(R),R===null?null:(m.SetCollisionFromCollisionGroup(C,P,R),this)},setTileIndexCallback:function(C,P,R,M){return M=this.getLayer(M),M===null?null:(m.SetTileIndexCallback(C,P,R,M),this)},setTileLocationCallback:function(C,P,R,M,I,D,L){return L=this.getLayer(L),L===null?null:(m.SetTileLocationCallback(C,P,R,M,I,D,L),this)},setLayer:function(C){var P=this.getLayerIndex(C);return P!==null&&(this.currentLayerIndex=P),this},setBaseTileSize:function(C,P){this.tileWidth=C,this.tileHeight=P,this.widthInPixels=this.width*C,this.heightInPixels=this.height*P;for(var R=0;R<this.layers.length;R++){this.layers[R].baseTileWidth=C,this.layers[R].baseTileHeight=P;for(var M=this.layers[R].data,I=this.layers[R].width,D=this.layers[R].height,L=0;L<D;L++)for(var F=0;F<I;F++){var O=M[L][F];O!==null&&O.setSize(void 0,void 0,C,P)}}return this},setLayerTileSize:function(C,P,R){if(R=this.getLayer(R),R===null)return this;R.tileWidth=C,R.tileHeight=P;for(var M=R.data,I=R.width,D=R.height,L=0;L<D;L++)for(var F=0;F<I;F++){var O=M[L][F];O!==null&&O.setSize(C,P)}return this},shuffle:function(C,P,R,M,I){return I=this.getLayer(I),I===null?null:(m.Shuffle(C,P,R,M,I),this)},swapByIndex:function(C,P,R,M,I,D,L){return L=this.getLayer(L),L===null?null:(m.SwapByIndex(C,P,R,M,I,D,L),this)},tileToWorldX:function(C,P,R){return R=this.getLayer(R),R===null?null:this._convert.TileToWorldX(C,P,R)},tileToWorldY:function(C,P,R){return R=this.getLayer(R),R===null?null:this._convert.TileToWorldY(C,P,R)},tileToWorldXY:function(C,P,R,M,I){return I=this.getLayer(I),I===null?null:this._convert.TileToWorldXY(C,P,R,M,I)},getTileCorners:function(C,P,R,M){return M=this.getLayer(M),M===null?null:this._convert.GetTileCorners(C,P,R,M)},weightedRandomize:function(C,P,R,M,I,D){return D=this.getLayer(D),D===null?null:(m.WeightedRandomize(P,R,M,I,C,D),this)},worldToTileX:function(C,P,R,M){return M=this.getLayer(M),M===null?null:this._convert.WorldToTileX(C,P,R,M)},worldToTileY:function(C,P,R,M){return M=this.getLayer(M),M===null?null:this._convert.WorldToTileY(C,P,R,M)},worldToTileXY:function(C,P,R,M,I,D){return D=this.getLayer(D),D===null?null:this._convert.WorldToTileXY(C,P,R,M,I,D)},destroy:function(){this.removeAllLayers(),this.tiles.length=0,this.tilesets.length=0,this.objects.length=0,this.scene=null}});h.exports=w},45939:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(44603),y=e(31989);u.register("tilemap",function(f){var l=f!==void 0?f:{};return y(this.scene,l.key,l.tileWidth,l.tileHeight,l.width,l.height,l.data,l.insertNull)})},46029:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(39429),y=e(31989);u.register("tilemap",function(f,l,o,s,a,c,r){return f===null&&(f=void 0),l===null&&(l=void 0),o===null&&(o=void 0),s===null&&(s=void 0),a===null&&(a=void 0),y(this.scene,f,l,o,s,a,c,r)})},20442:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(78389),f=e(31401),l=e(95643),o=e(81086),s=e(19218),a=e(26099),c=new u({Extends:l,Mixins:[f.Alpha,f.BlendMode,f.ComputedSize,f.Depth,f.Flip,f.GetBounds,f.Mask,f.Origin,f.Pipeline,f.PostPipeline,f.Transform,f.Visible,f.ScrollFactor,y,s],initialize:function(d,v,p,m,x,E){l.call(this,d,"TilemapLayer"),this.isTilemap=!0,this.tilemap=v,this.layerIndex=p,this.layer=v.layers[p],this.layer.tilemapLayer=this,this.tileset=[],this.tilesDrawn=0,this.tilesTotal=this.layer.width*this.layer.height,this.culledTiles=[],this.skipCull=!1,this.cullPaddingX=1,this.cullPaddingY=1,this.cullCallback=o.GetCullTilesFunction(this.layer.orientation),this._renderOrder=0,this.gidMap=[],this.tempVec=new a,this.collisionCategory=1,this.collisionMask=1,this.setTilesets(m),this.setAlpha(this.layer.alpha),this.setPosition(x,E),this.setOrigin(0,0),this.setSize(v.tileWidth*this.layer.width,v.tileHeight*this.layer.height),this.initPipeline(),this.initPostPipeline(!1)},setTilesets:function(r){var d=[],v=[],p=this.tilemap;Array.isArray(r)||(r=[r]);for(var m=0;m<r.length;m++){var x=r[m];if(typeof x=="string"&&(x=p.getTileset(x)),x){v.push(x);for(var E=x.firstgid,w=0;w<x.total;w++)d[E+w]=x}}this.gidMap=d,this.tileset=v},setRenderOrder:function(r){var d=["right-down","left-down","right-up","left-up"];return typeof r=="string"&&(r=d.indexOf(r)),r>=0&&r<4&&(this._renderOrder=r),this},calculateFacesAt:function(r,d){return o.CalculateFacesAt(r,d,this.layer),this},calculateFacesWithin:function(r,d,v,p){return o.CalculateFacesWithin(r,d,v,p,this.layer),this},createFromTiles:function(r,d,v,p,m){return o.CreateFromTiles(r,d,v,p,m,this.layer)},cull:function(r){return this.cullCallback(this.layer,r,this.culledTiles,this._renderOrder)},copy:function(r,d,v,p,m,x,E){return o.Copy(r,d,v,p,m,x,E,this.layer),this},fill:function(r,d,v,p,m,x){return o.Fill(r,d,v,p,m,x,this.layer),this},filterTiles:function(r,d,v,p,m,x,E){return o.FilterTiles(r,d,v,p,m,x,E,this.layer)},findByIndex:function(r,d,v){return o.FindByIndex(r,d,v,this.layer)},findTile:function(r,d,v,p,m,x,E){return o.FindTile(r,d,v,p,m,x,E,this.layer)},forEachTile:function(r,d,v,p,m,x,E){return o.ForEachTile(r,d,v,p,m,x,E,this.layer),this},setTint:function(r,d,v,p,m,x){r===void 0&&(r=16777215);var E=function(w){w.tint=r,w.tintFill=!1};return this.forEachTile(E,this,d,v,p,m,x)},setTintFill:function(r,d,v,p,m,x){r===void 0&&(r=16777215);var E=function(w){w.tint=r,w.tintFill=!0};return this.forEachTile(E,this,d,v,p,m,x)},getTileAt:function(r,d,v){return o.GetTileAt(r,d,v,this.layer)},getTileAtWorldXY:function(r,d,v,p){return o.GetTileAtWorldXY(r,d,v,p,this.layer)},getIsoTileAtWorldXY:function(r,d,v,p,m){v===void 0&&(v=!0);var x=this.tempVec;return o.IsometricWorldToTileXY(r,d,!0,x,m,this.layer,v),this.getTileAt(x.x,x.y,p)},getTilesWithin:function(r,d,v,p,m){return o.GetTilesWithin(r,d,v,p,m,this.layer)},getTilesWithinShape:function(r,d,v){return o.GetTilesWithinShape(r,d,v,this.layer)},getTilesWithinWorldXY:function(r,d,v,p,m,x){return o.GetTilesWithinWorldXY(r,d,v,p,m,x,this.layer)},hasTileAt:function(r,d){return o.HasTileAt(r,d,this.layer)},hasTileAtWorldXY:function(r,d,v){return o.HasTileAtWorldXY(r,d,v,this.layer)},putTileAt:function(r,d,v,p){return o.PutTileAt(r,d,v,p,this.layer)},putTileAtWorldXY:function(r,d,v,p,m){return o.PutTileAtWorldXY(r,d,v,p,m,this.layer)},putTilesAt:function(r,d,v,p){return o.PutTilesAt(r,d,v,p,this.layer),this},randomize:function(r,d,v,p,m){return o.Randomize(r,d,v,p,m,this.layer),this},removeTileAt:function(r,d,v,p){return o.RemoveTileAt(r,d,v,p,this.layer)},removeTileAtWorldXY:function(r,d,v,p,m){return o.RemoveTileAtWorldXY(r,d,v,p,m,this.layer)},renderDebug:function(r,d){return o.RenderDebug(r,d,this.layer),this},replaceByIndex:function(r,d,v,p,m,x){return o.ReplaceByIndex(r,d,v,p,m,x,this.layer),this},setSkipCull:function(r){return r===void 0&&(r=!0),this.skipCull=r,this},setCullPadding:function(r,d){return r===void 0&&(r=1),d===void 0&&(d=1),this.cullPaddingX=r,this.cullPaddingY=d,this},setCollision:function(r,d,v,p){return o.SetCollision(r,d,v,this.layer,p),this},setCollisionBetween:function(r,d,v,p){return o.SetCollisionBetween(r,d,v,p,this.layer),this},setCollisionByProperty:function(r,d,v){return o.SetCollisionByProperty(r,d,v,this.layer),this},setCollisionByExclusion:function(r,d,v){return o.SetCollisionByExclusion(r,d,v,this.layer),this},setCollisionFromCollisionGroup:function(r,d){return o.SetCollisionFromCollisionGroup(r,d,this.layer),this},setTileIndexCallback:function(r,d,v){return o.SetTileIndexCallback(r,d,v,this.layer),this},setTileLocationCallback:function(r,d,v,p,m,x){return o.SetTileLocationCallback(r,d,v,p,m,x,this.layer),this},shuffle:function(r,d,v,p){return o.Shuffle(r,d,v,p,this.layer),this},swapByIndex:function(r,d,v,p,m,x){return o.SwapByIndex(r,d,v,p,m,x,this.layer),this},tileToWorldX:function(r,d){return this.tilemap.tileToWorldX(r,d,this)},tileToWorldY:function(r,d){return this.tilemap.tileToWorldY(r,d,this)},tileToWorldXY:function(r,d,v,p){return this.tilemap.tileToWorldXY(r,d,v,p,this)},getTileCorners:function(r,d,v){return this.tilemap.getTileCorners(r,d,v,this)},weightedRandomize:function(r,d,v,p,m){return o.WeightedRandomize(d,v,p,m,r,this.layer),this},worldToTileX:function(r,d,v){return this.tilemap.worldToTileX(r,d,v,this)},worldToTileY:function(r,d,v){return this.tilemap.worldToTileY(r,d,v,this)},worldToTileXY:function(r,d,v,p,m){return this.tilemap.worldToTileXY(r,d,v,p,m,this)},destroy:function(r){r===void 0&&(r=!0),this.tilemap&&(this.layer.tilemapLayer===this&&(this.layer.tilemapLayer=void 0),r&&this.tilemap.removeLayer(this),this.tilemap=void 0,this.layer=void 0,this.culledTiles.length=0,this.cullCallback=null,this.gidMap=[],this.tileset=[],l.prototype.destroy.call(this))}});h.exports=c},16153:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(61340),y=new u,f=new u,l=new u,o=function(s,a,c,r){var d=a.cull(c),v=d.length,p=c.alpha*a.alpha;if(!(v===0||p<=0)){var m=y,x=f,E=l;x.applyITRS(a.x,a.y,a.rotation,a.scaleX,a.scaleY),m.copyFrom(c.matrix);var w=s.currentContext,C=a.gidMap;w.save(),r?(m.multiplyWithOffset(r,-c.scrollX*a.scrollFactorX,-c.scrollY*a.scrollFactorY),x.e=a.x,x.f=a.y,m.multiply(x,E),E.copyToContext(w)):(x.e-=c.scrollX*a.scrollFactorX,x.f-=c.scrollY*a.scrollFactorY,x.copyToContext(w)),(!s.antialias||a.scaleX>1||a.scaleY>1)&&(w.imageSmoothingEnabled=!1);for(var P=0;P<v;P++){var R=d[P],M=C[R.index];if(M){var I=M.image.getSourceImage(),D=M.getTileTextureCoordinates(R.index),L=M.tileWidth,F=M.tileHeight;if(!(D===null||L===0||F===0)){var O=L*.5,N=F*.5;D.x+=M.tileOffset.x,D.y+=M.tileOffset.y,w.save(),w.translate(R.pixelX+O,R.pixelY+N),R.rotation!==0&&w.rotate(R.rotation),(R.flipX||R.flipY)&&w.scale(R.flipX?-1:1,R.flipY?-1:1),w.globalAlpha=p*R.alpha,w.drawImage(I,D.x,D.y,L,F,-O,-N,L,F),w.restore()}}}w.restore()}};h.exports=o},19218:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(29747),y=u,f=u;y=e(99558),f=e(16153),h.exports={renderWebGL:y,renderCanvas:f}},99558:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(70554),y=function(f,l,o){var s=l.cull(o),a=s.length,c=o.alpha*l.alpha;if(!(a===0||c<=0)){var r=l.gidMap,d=f.pipelines.set(l.pipeline,l),v=u.getTintAppendFloatAlpha,p=l.scrollFactorX,m=l.scrollFactorY,x=l.x,E=l.y,w=l.scaleX,C=l.scaleY;f.pipelines.preBatch(l);for(var P=0;P<a;P++){var R=s[P],M=r[R.index];if(M){var I=M.getTileTextureCoordinates(R.index),D=M.tileWidth,L=M.tileHeight;if(!(!I||D===0||L===0)){var F=D*.5,O=L*.5,N=M.glTexture,b=d.setTexture2D(N,l),V=D,Y=L,W=I.x,U=I.y,z=M.tileOffset.x,B=M.tileOffset.y,X=v(R.tint,c*R.alpha);d.batchTexture(l,N,N.width,N.height,x+R.pixelX*w+(F*w-z),E+R.pixelY*C+(O*C-B),D,L,w,C,R.rotation,R.flipX,R.flipY,p,m,F,O,W,U,V,Y,X,X,X,X,R.tintFill,0,0,o,null,!0,b,!0)}}}f.pipelines.postBatch(l)}};h.exports=y},33629:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(26099),f=new u({initialize:function(o,s,a,c,r,d,v,p,m){(a===void 0||a<=0)&&(a=32),(c===void 0||c<=0)&&(c=32),r===void 0&&(r=0),d===void 0&&(d=0),v===void 0&&(v={}),p===void 0&&(p={}),this.name=o,this.firstgid=s,this.tileWidth=a,this.tileHeight=c,this.tileMargin=r,this.tileSpacing=d,this.tileProperties=v,this.tileData=p,this.tileOffset=new y,m!==void 0&&this.tileOffset.set(m.x,m.y),this.image=null,this.glTexture=null,this.rows=0,this.columns=0,this.total=0,this.texCoordinates=[]},getTileProperties:function(l){return this.containsTileIndex(l)?this.tileProperties[l-this.firstgid]:null},getTileData:function(l){return this.containsTileIndex(l)?this.tileData[l-this.firstgid]:null},getTileCollisionGroup:function(l){var o=this.getTileData(l);return o&&o.objectgroup?o.objectgroup:null},containsTileIndex:function(l){return l>=this.firstgid&&l<this.firstgid+this.total},getTileTextureCoordinates:function(l){return this.containsTileIndex(l)?this.texCoordinates[l-this.firstgid]:null},setImage:function(l){this.image=l;var o=l.get(),s=l.getFrameBounds();return this.glTexture=o.source.glTexture,o.width>s.width||o.height>s.height?this.updateTileData(o.width,o.height):this.updateTileData(s.width,s.height,s.x,s.y),this},setTileSize:function(l,o){return l!==void 0&&(this.tileWidth=l),o!==void 0&&(this.tileHeight=o),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},setSpacing:function(l,o){return l!==void 0&&(this.tileMargin=l),o!==void 0&&(this.tileSpacing=o),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},updateTileData:function(l,o,s,a){s===void 0&&(s=0),a===void 0&&(a=0);var c=(o-this.tileMargin*2+this.tileSpacing)/(this.tileHeight+this.tileSpacing),r=(l-this.tileMargin*2+this.tileSpacing)/(this.tileWidth+this.tileSpacing);(c%1!==0||r%1!==0)&&console.warn("Image tile area not tile size multiple in: "+this.name),c=Math.floor(c),r=Math.floor(r),this.rows=c,this.columns=r,this.total=c*r,this.texCoordinates.length=0;for(var d=this.tileMargin+s,v=this.tileMargin+a,p=0;p<this.rows;p++){for(var m=0;m<this.columns;m++)this.texCoordinates.push({x:d,y:v}),d+=this.tileWidth+this.tileSpacing;d=this.tileMargin+s,v+=this.tileHeight+this.tileSpacing}return this}});h.exports=f},72023:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(7423),y=function(f,l,o){var s=u(f,l,!0,o),a=u(f,l-1,!0,o),c=u(f,l+1,!0,o),r=u(f-1,l,!0,o),d=u(f+1,l,!0,o),v=s&&s.collides;return v&&(s.faceTop=!0,s.faceBottom=!0,s.faceLeft=!0,s.faceRight=!0),a&&a.collides&&(v&&(s.faceTop=!1),a.faceBottom=!v),c&&c.collides&&(v&&(s.faceBottom=!1),c.faceTop=!v),r&&r.collides&&(v&&(s.faceLeft=!1),r.faceRight=!v),d&&d.collides&&(v&&(s.faceRight=!1),d.faceLeft=!v),s&&!s.collides&&s.resetFaces(),s};h.exports=y},42573:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(7423),y=e(7386),f=function(l,o,s,a,c){for(var r=null,d=null,v=null,p=null,m=y(l,o,s,a,null,c),x=0;x<m.length;x++){var E=m[x];E&&(E.collides?(r=u(E.x,E.y-1,!0,c),d=u(E.x,E.y+1,!0,c),v=u(E.x-1,E.y,!0,c),p=u(E.x+1,E.y,!0,c),E.faceTop=!(r&&r.collides),E.faceBottom=!(d&&d.collides),E.faceLeft=!(v&&v.collides),E.faceRight=!(p&&p.collides)):E.resetFaces())}};h.exports=f},33528:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(26099),y=new u,f=function(l,o,s,a){var c=s.tilemapLayer,r=c.cullPaddingX,d=c.cullPaddingY,v=c.tilemap.tileToWorldXY(l,o,y,a,c);return v.x>a.worldView.x+c.scaleX*s.tileWidth*(-r-.5)&&v.x<a.worldView.right+c.scaleX*s.tileWidth*(r-.5)&&v.y>a.worldView.y+c.scaleY*s.tileHeight*(-d-1)&&v.y<a.worldView.bottom+c.scaleY*s.tileHeight*(d-.5)};h.exports=f},1785:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(42573),y=e(7386),f=e(62991),l=e(23029),o=function(s,a,c,r,d,v,p,m){p===void 0&&(p=!0);var x=y(s,a,c,r,null,m),E=[];x.forEach(function(D){var L=new l(D.layer,D.index,D.x,D.y,D.width,D.height,D.baseWidth,D.baseHeight);L.copy(D),E.push(L)});for(var w=d-s,C=v-a,P=0;P<E.length;P++){var R=E[P],M=R.x+w,I=R.y+C;f(M,I,m)&&m.data[I][M]&&(R.x=M,R.y=I,R.updatePixelXY(),m.data[I][M]=R)}p&&u(d-1,v-1,c+2,r+2,m),x.length=0,E.length=0};h.exports=o},78419:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(62644),y=e(7386),f=e(27987),l=function(o,s,a,c,r,d){a||(a={}),Array.isArray(o)||(o=[o]);var v=d.tilemapLayer;c||(c=v.scene),r||(r=c.cameras.main);var p=d.width,m=d.height,x=y(0,0,p,m,null,d),E=[],w,C=function(I,D,L){for(var F=0;F<L.length;F++){var O=L[F];I.hasOwnProperty(O)||(I[O]=D[O])}};for(w=0;w<x.length;w++){var P=x[w],R=u(a);if(o.indexOf(P.index)!==-1){var M=v.tileToWorldXY(P.x,P.y,void 0,r,d);R.x=M.x,R.y=M.y,C(R,P,["rotation","flipX","flipY","alpha","visible","tint"]),R.hasOwnProperty("origin")||(R.x+=P.width*.5,R.y+=P.height*.5),R.hasOwnProperty("useSpriteSheet")&&(R.key=P.tileset.image,R.frame=P.index-P.tileset.firstgid),E.push(c.make.sprite(R))}}if(Array.isArray(s))for(w=0;w<o.length;w++)f(o[w],s[w],0,0,p,m,d);else if(s!==null)for(w=0;w<o.length;w++)f(o[w],s,0,0,p,m,d);return E};h.exports=l},19545:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(87841),y=e(63448),f=e(56583),l=new u,o=function(s,a){var c=s.tilemapLayer.tilemap,r=s.tilemapLayer,d=Math.floor(c.tileWidth*r.scaleX),v=Math.floor(c.tileHeight*r.scaleY),p=f(a.worldView.x-r.x,d,0,!0)-r.cullPaddingX,m=y(a.worldView.right-r.x,d,0,!0)+r.cullPaddingX,x=f(a.worldView.y-r.y,v,0,!0)-r.cullPaddingY,E=y(a.worldView.bottom-r.y,v,0,!0)+r.cullPaddingY;return l.setTo(p,x,m-p,E-x)};h.exports=o},30003:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(19545),y=e(32483),f=function(l,o,s,a){s===void 0&&(s=[]),a===void 0&&(a=0),s.length=0;var c=l.tilemapLayer,r=u(l,o);return(c.skipCull||c.scrollFactorX!==1||c.scrollFactorY!==1)&&(r.left=0,r.right=l.width,r.top=0,r.bottom=l.height),y(l,r,a,s),s};h.exports=f},35137:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(7386),y=e(42573),f=e(20576),l=function(o,s,a,c,r,d,v){for(var p=v.collideIndexes.indexOf(o)!==-1,m=u(s,a,c,r,null,v),x=0;x<m.length;x++)m[x].index=o,f(m[x],p);d&&y(s-1,a-1,c+2,r+2,v)};h.exports=l},40253:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(7386),y=function(f,l,o,s,a,c,r,d){var v=u(o,s,a,c,r,d);return v.filter(f,l)};h.exports=y},52692:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u,y,f){u===void 0&&(u=0),y===void 0&&(y=!1);var l=0,o,s,a;if(y){for(s=f.height-1;s>=0;s--)for(o=f.width-1;o>=0;o--)if(a=f.data[s][o],a&&a.index===e){if(l===u)return a;l+=1}}else for(s=0;s<f.height;s++)for(o=0;o<f.width;o++)if(a=f.data[s][o],a&&a.index===e){if(l===u)return a;l+=1}return null};h.exports=S},66151:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(7386),y=function(f,l,o,s,a,c,r,d){var v=u(o,s,a,c,r,d);return v.find(f,l)||null};h.exports=y},97560:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(7386),y=function(f,l,o,s,a,c,r,d){var v=u(o,s,a,c,r,d);v.forEach(f,l)};h.exports=y},43305:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(91907),y=e(30003),f=e(9474),l=e(14018),o=e(29747),s=e(54503),a=function(c){return c===u.ORTHOGONAL?y:c===u.HEXAGONAL?f:c===u.STAGGERED?s:c===u.ISOMETRIC?l:o};h.exports=a},7423:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(62991),y=function(f,l,o,s){if(u(f,l,s)){var a=s.data[l][f]||null;return a?a.index===-1?o?a:null:a:null}else return null};h.exports=y},60540:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(7423),y=e(26099),f=new y,l=function(o,s,a,c,r){return r.tilemapLayer.worldToTileXY(o,s,!0,f,c),u(f.x,f.y,a,r)};h.exports=l},55826:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(26099),y=function(f,l,o,s){var a=s.baseTileWidth,c=s.baseTileHeight,r=s.tilemapLayer,d=0,v=0;r&&(o||(o=r.scene.cameras.main),d=r.x+o.scrollX*(1-r.scrollFactorX),v=r.y+o.scrollY*(1-r.scrollFactorY),a*=r.scaleX,c*=r.scaleY);var p=d+f*a,m=v+l*c;return[new u(p,m),new u(p+a,m),new u(p+a,m+c),new u(p,m+c)]};h.exports=y},11758:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(91907),y=e(27229),f=e(29747),l=e(55826),o=function(s){return s===u.ORTHOGONAL?l:s===u.ISOMETRIC?f:s===u.HEXAGONAL?y:(s===u.STAGGERED,f)};h.exports=o},39167:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(91907),y=e(29747),f=e(97281),l=function(o){return o===u.ORTHOGONAL?f:y};h.exports=l},62e3:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(91907),y=e(19951),f=e(14127),l=e(29747),o=e(97202),s=e(70326),a=function(c){return c===u.ORTHOGONAL?s:c===u.ISOMETRIC?f:c===u.HEXAGONAL?y:c===u.STAGGERED?o:l};h.exports=a},5984:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(91907),y=e(29747),f=e(28054),l=e(29650),o=function(s){return s===u.ORTHOGONAL?l:s===u.STAGGERED?f:y};h.exports=o},7386:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(95540),y=function(f,l,o,s,a,c){f===void 0&&(f=0),l===void 0&&(l=0),o===void 0&&(o=c.width),s===void 0&&(s=c.height),a||(a={});var r=u(a,"isNotEmpty",!1),d=u(a,"isColliding",!1),v=u(a,"hasInterestingFace",!1);f<0&&(o+=f,f=0),l<0&&(s+=l,l=0),f+o>c.width&&(o=Math.max(c.width-f,0)),l+s>c.height&&(s=Math.max(c.height-l,0));for(var p=[],m=l;m<l+s;m++)for(var x=f;x<f+o;x++){var E=c.data[m][x];if(E!==null){if(r&&E.index===-1||d&&!E.collides||v&&!E.hasInterestingFace)continue;p.push(E)}}return p};h.exports=y},91141:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(55738),y=e(7386),f=e(91865),l=e(29747),o=e(26099),s=e(91907),a=function(p,m){return f.RectangleToTriangle(m,p)},c=new o,r=new o,d=new o,v=function(p,m,x,E){if(E.orientation!==s.ORTHOGONAL)return console.warn("GetTilesWithinShape only works with orthogonal tilemaps"),[];if(p===void 0)return[];var w=l;p instanceof u.Circle?w=f.CircleToRectangle:p instanceof u.Rectangle?w=f.RectangleToRectangle:p instanceof u.Triangle?w=a:p instanceof u.Line&&(w=f.LineToRectangle),E.tilemapLayer.worldToTileXY(p.left,p.top,!0,r,x);var C=r.x,P=r.y;E.tilemapLayer.worldToTileXY(p.right,p.bottom,!1,d,x);var R=Math.ceil(d.x),M=Math.ceil(d.y),I=Math.max(R-C,1),D=Math.max(M-P,1),L=y(C,P,I,D,m,E),F=E.tileWidth,O=E.tileHeight;E.tilemapLayer&&(F*=E.tilemapLayer.scaleX,O*=E.tilemapLayer.scaleY);for(var N=[],b=new u.Rectangle(0,0,F,O),V=0;V<L.length;V++){var Y=L[V];E.tilemapLayer.tileToWorldXY(Y.x,Y.y,c,x),b.x=c.x,b.y=c.y,w(p,b)&&N.push(Y)}return N};h.exports=v},96523:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(7386),y=e(26099),f=new y,l=new y,o=function(s,a,c,r,d,v,p){var m=p.tilemapLayer.tilemap._convert.WorldToTileXY;m(s,a,!0,f,v,p);var x=f.x,E=f.y;m(s+c,a+r,!1,l,v,p);var w=Math.ceil(l.x),C=Math.ceil(l.y);return u(x,E,w-x,C-E,d,p)};h.exports=o},96113:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(91907),y=e(20242),f=e(10095),l=function(o){return o===u.ORTHOGONAL?f:y};h.exports=l},16926:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(91907),y=e(86625),f=e(96897),l=e(29747),o=e(15108),s=e(85896),a=function(c){return c===u.ORTHOGONAL?s:c===u.ISOMETRIC?f:c===u.HEXAGONAL?y:c===u.STAGGERED?o:l};h.exports=a},55762:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(91907),y=e(20242),f=e(51900),l=e(63288),o=function(s){return s===u.ORTHOGONAL?l:s===u.STAGGERED?f:y};h.exports=o},45091:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(62991),y=function(f,l,o){if(u(f,l,o)){var s=o.data[l][f];return s!==null&&s.index>-1}else return!1};h.exports=y},24152:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(45091),y=e(26099),f=new y,l=function(o,s,a,c){c.tilemapLayer.worldToTileXY(o,s,!0,f,a);var r=f.x,d=f.y;return u(r,d,c)};h.exports=l},90454:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(63448),y=e(56583),f=function(l,o){var s=l.tilemapLayer.tilemap,a=l.tilemapLayer,c=Math.floor(s.tileWidth*a.scaleX),r=Math.floor(s.tileHeight*a.scaleY),d=l.hexSideLength,v,p,m,x;if(l.staggerAxis==="y"){var E=(r-d)/2+d;v=y(o.worldView.x-a.x,c,0,!0)-a.cullPaddingX,p=u(o.worldView.right-a.x,c,0,!0)+a.cullPaddingX,m=y(o.worldView.y-a.y,E,0,!0)-a.cullPaddingY,x=u(o.worldView.bottom-a.y,E,0,!0)+a.cullPaddingY}else{var w=(c-d)/2+d;v=y(o.worldView.x-a.x,w,0,!0)-a.cullPaddingX,p=u(o.worldView.right-a.x,w,0,!0)+a.cullPaddingX,m=y(o.worldView.y-a.y,r,0,!0)-a.cullPaddingY,x=u(o.worldView.bottom-a.y,r,0,!0)+a.cullPaddingY}return{left:v,right:p,top:m,bottom:x}};h.exports=f},9474:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(90454),y=e(32483),f=function(l,o,s,a){s===void 0&&(s=[]),a===void 0&&(a=0),s.length=0;var c=l.tilemapLayer,r=u(l,o);return c.skipCull&&c.scrollFactorX===1&&c.scrollFactorY===1&&(r.left=0,r.right=l.width,r.top=0,r.bottom=l.height),y(l,r,a,s),s};h.exports=f},27229:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(19951),y=e(26099),f=new y,l=function(o,s,a,c){var r=c.baseTileWidth,d=c.baseTileHeight,v=c.tilemapLayer;v&&(r*=v.scaleX,d*=v.scaleY);var p=u(o,s,f,a,c),m=[],x=.5773502691896257,E,w;c.staggerAxis==="y"?(E=x*r,w=d/2):(E=r/2,w=x*d);for(var C=0;C<6;C++){var P=2*Math.PI*(.5-C)/6;m.push(new y(p.x+E*Math.cos(P),p.y+w*Math.sin(P)))}return m};h.exports=l},19951:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(26099),y=function(f,l,o,s,a){o||(o=new u);var c=a.baseTileWidth,r=a.baseTileHeight,d=a.tilemapLayer,v=0,p=0;d&&(s||(s=d.scene.cameras.main),v=d.x+s.scrollX*(1-d.scrollFactorX),p=d.y+s.scrollY*(1-d.scrollFactorY),c*=d.scaleX,r*=d.scaleY);var m=c/2,x=r/2,E,w,C=a.staggerAxis,P=a.staggerIndex;return C==="y"?(E=v+c*f+c,w=p+1.5*l*x+x,l%2===0&&(P==="odd"?E-=m:E+=m)):C==="x"&&P==="odd"&&(E=v+1.5*f*m+m,w=p+r*f+r,f%2===0&&(P==="odd"?w-=x:w+=x)),o.set(E,w)};h.exports=y},86625:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(26099),y=function(f,l,o,s,a,c){s||(s=new u);var r=c.baseTileWidth,d=c.baseTileHeight,v=c.tilemapLayer;v&&(a||(a=v.scene.cameras.main),f=f-(v.x+a.scrollX*(1-v.scrollFactorX)),l=l-(v.y+a.scrollY*(1-v.scrollFactorY)),r*=v.scaleX,d*=v.scaleY);var p=.5773502691896257,m=-.3333333333333333,x=0,E=.6666666666666666,w=r/2,C=d/2,P,R,M,I,D;c.staggerAxis==="y"?(P=(f-w)/(p*r),R=(l-C)/C,M=p*P+m*R,I=x*P+E*R):(P=(f-w)/w,R=(l-C)/(p*d),M=m*P+p*R,I=E*P+x*R),D=-M-I;var L=Math.round(M),F=Math.round(I),O=Math.round(D),N=Math.abs(L-M),b=Math.abs(F-I),V=Math.abs(O-D);N>b&&N>V?L=-F-O:b>V&&(F=-L-O);var Y,W=F;return c.staggerIndex==="odd"?Y=W%2===0?F/2+L:F/2+L-.5:Y=W%2===0?F/2+L:F/2+L+.5,s.set(Y,W)};h.exports=y},62991:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u,y){return e>=0&&e<y.width&&u>=0&&u<y.height};h.exports=S},14018:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(33528),y=function(f,l,o,s){o===void 0&&(o=[]),s===void 0&&(s=0),o.length=0;var a=f.tilemapLayer,c=f.data,r=f.width,d=f.height,v=a.skipCull,p=0,m=r,x=0,E=d,w,C,P;if(s===0)for(C=x;C<E;C++)for(w=p;w<m;w++)P=c[C][w],!(!P||P.index===-1||!P.visible||P.alpha===0)&&(!v&&!u(w,C,f,l)||o.push(P));else if(s===1)for(C=x;C<E;C++)for(w=m;w>=p;w--)P=c[C][w],!(!P||P.index===-1||!P.visible||P.alpha===0)&&(!v&&!u(w,C,f,l)||o.push(P));else if(s===2)for(C=E;C>=x;C--)for(w=p;w<m;w++)P=c[C][w],!(!P||P.index===-1||!P.visible||P.alpha===0)&&(!v&&!u(w,C,f,l)||o.push(P));else if(s===3)for(C=E;C>=x;C--)for(w=m;w>=p;w--)P=c[C][w],!(!P||P.index===-1||!P.visible||P.alpha===0)&&(!v&&!u(w,C,f,l)||o.push(P));return a.tilesDrawn=o.length,a.tilesTotal=r*d,o};h.exports=y},14127:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(26099),y=function(f,l,o,s,a){o||(o=new u);var c=a.baseTileWidth,r=a.baseTileHeight,d=a.tilemapLayer,v=0,p=0;d&&(s||(s=d.scene.cameras.main),v=d.x+s.scrollX*(1-d.scrollFactorX),c*=d.scaleX,p=d.y+s.scrollY*(1-d.scrollFactorY),r*=d.scaleY);var m=v+(f-l)*(c/2),x=p+(f+l)*(r/2);return o.set(m,x)};h.exports=y},96897:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(26099),y=function(f,l,o,s,a,c,r){s||(s=new u);var d=c.baseTileWidth,v=c.baseTileHeight,p=c.tilemapLayer;p&&(a||(a=p.scene.cameras.main),l=l-(p.y+a.scrollY*(1-p.scrollFactorY)),v*=p.scaleY,f=f-(p.x+a.scrollX*(1-p.scrollFactorX)),d*=p.scaleX);var m=d/2,x=v/2;f=f-m,r||(l=l-v);var E=.5*(f/m+l/x),w=.5*(-f/m+l/x);return o&&(E=Math.floor(E),w=Math.floor(w)),s.set(E,w)};h.exports=y},71558:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(23029),y=e(62991),f=e(72023),l=e(20576),o=function(s,a,c,r,d){if(r===void 0&&(r=!0),!y(a,c,d))return null;var v,p=d.data[c][a],m=p&&p.collides;s instanceof u?(d.data[c][a]===null&&(d.data[c][a]=new u(d,s.index,a,c,d.tileWidth,d.tileHeight)),d.data[c][a].copy(s)):(v=s,d.data[c][a]===null?d.data[c][a]=new u(d,v,a,c,d.tileWidth,d.tileHeight):d.data[c][a].index=v);var x=d.data[c][a],E=d.collideIndexes.indexOf(x.index)!==-1;if(v=s instanceof u?s.index:s,v===-1)x.width=d.tileWidth,x.height=d.tileHeight;else{var w=d.tilemapLayer.tilemap,C=w.tiles,P=C[v][2],R=w.tilesets[P];x.width=R.tileWidth,x.height=R.tileHeight}return l(x,E),r&&m!==x.collides&&f(a,c,d),x};h.exports=o},26303:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(71558),y=e(26099),f=new y,l=function(o,s,a,c,r,d){return d.tilemapLayer.worldToTileXY(s,a,!0,f,r,d),u(o,f.x,f.y,c,d)};h.exports=l},14051:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(42573),y=e(71558),f=function(l,o,s,a,c){if(a===void 0&&(a=!0),!Array.isArray(l))return null;Array.isArray(l[0])||(l=[l]);for(var r=l.length,d=l[0].length,v=0;v<r;v++)for(var p=0;p<d;p++){var m=l[v][p];y(m,o+p,s+v,!1,c)}a&&u(o-1,s-1,d+2,r+2,c)};h.exports=f},77389:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(7386),y=e(26546),f=function(l,o,s,a,c,r){var d,v=u(l,o,s,a,{},r);if(!c)for(c=[],d=0;d<v.length;d++)c.indexOf(v[d].index)===-1&&c.push(v[d].index);for(d=0;d<v.length;d++)v[d].index=y(c)};h.exports=f},63557:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(23029),y=e(62991),f=e(72023),l=function(o,s,a,c,r){if(a===void 0&&(a=!0),c===void 0&&(c=!0),!y(o,s,r))return null;var d=r.data[s][o];if(d)r.data[s][o]=a?null:new u(r,-1,o,s,r.tileWidth,r.tileHeight);else return null;return c&&d&&d.collides&&f(o,s,r),d};h.exports=l},94178:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(63557),y=e(26099),f=new y,l=function(o,s,a,c,r,d){return d.tilemapLayer.worldToTileXY(o,s,!0,f,r,d),u(f.x,f.y,a,c,d)};h.exports=l},15533:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(7386),y=e(3956),f=new y(105,210,231,150),l=new y(243,134,48,200),o=new y(40,39,37,150),s=function(a,c,r){c===void 0&&(c={});var d=c.tileColor!==void 0?c.tileColor:f,v=c.collidingTileColor!==void 0?c.collidingTileColor:l,p=c.faceColor!==void 0?c.faceColor:o,m=u(0,0,r.width,r.height,null,r);a.translateCanvas(r.tilemapLayer.x,r.tilemapLayer.y),a.scaleCanvas(r.tilemapLayer.scaleX,r.tilemapLayer.scaleY);for(var x=0;x<m.length;x++){var E=m[x],w=E.tileset?E.tileset.tileOffset:{x:0,y:0},C=E.width,P=E.height,R=E.pixelX-w.x,M=E.pixelY-w.y,I=E.collides?v:d;I!==null&&(a.fillStyle(I.color,I.alpha/255),a.fillRect(R,M,C,P)),R+=1,M+=1,C-=2,P-=2,p!==null&&(a.lineStyle(1,p.color,p.alpha/255),E.faceTop&&a.lineBetween(R,M,R+C,M),E.faceRight&&a.lineBetween(R+C,M,R+C,M+P),E.faceBottom&&a.lineBetween(R,M+P,R+C,M+P),E.faceLeft&&a.lineBetween(R,M,R,M+P))}};h.exports=s},27987:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(7386),y=function(f,l,o,s,a,c,r){for(var d=u(o,s,a,c,null,r),v=0;v<d.length;v++)d[v]&&d[v].index===f&&(d[v].index=l)};h.exports=y},32483:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u,y,f){var l=e.data,o=e.width,s=e.height,a=e.tilemapLayer,c=Math.max(0,u.left),r=Math.min(o,u.right),d=Math.max(0,u.top),v=Math.min(s,u.bottom),p,m,x;if(y===0)for(m=d;m<v;m++)for(p=c;l[m]&&p<r;p++)x=l[m][p],!(!x||x.index===-1||!x.visible||x.alpha===0)&&f.push(x);else if(y===1)for(m=d;m<v;m++)for(p=r;l[m]&&p>=c;p--)x=l[m][p],!(!x||x.index===-1||!x.visible||x.alpha===0)&&f.push(x);else if(y===2)for(m=v;m>=d;m--)for(p=c;l[m]&&p<r;p++)x=l[m][p],!(!x||x.index===-1||!x.visible||x.alpha===0)&&f.push(x);else if(y===3)for(m=v;m>=d;m--)for(p=r;l[m]&&p>=c;p--)x=l[m][p],!(!x||x.index===-1||!x.visible||x.alpha===0)&&f.push(x);return a.tilesDrawn=f.length,a.tilesTotal=o*s,f};h.exports=S},57068:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(20576),y=e(42573),f=e(9589),l=function(o,s,a,c,r){s===void 0&&(s=!0),a===void 0&&(a=!0),r===void 0&&(r=!0),Array.isArray(o)||(o=[o]);for(var d=0;d<o.length;d++)f(o[d],s,c);if(r)for(var v=0;v<c.height;v++)for(var p=0;p<c.width;p++){var m=c.data[v][p];m&&o.indexOf(m.index)!==-1&&u(m,s)}a&&y(0,0,c.width,c.height,c)};h.exports=l},37266:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(20576),y=e(42573),f=e(9589),l=function(o,s,a,c,r,d){if(a===void 0&&(a=!0),c===void 0&&(c=!0),d===void 0&&(d=!0),!(o>s)){for(var v=o;v<=s;v++)f(v,a,r);if(d)for(var p=0;p<r.height;p++)for(var m=0;m<r.width;m++){var x=r.data[p][m];x&&x.index>=o&&x.index<=s&&u(x,a)}c&&y(0,0,r.width,r.height,r)}};h.exports=l},75661:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(20576),y=e(42573),f=e(9589),l=function(o,s,a,c){s===void 0&&(s=!0),a===void 0&&(a=!0),Array.isArray(o)||(o=[o]);for(var r=0;r<c.height;r++)for(var d=0;d<c.width;d++){var v=c.data[r][d];v&&o.indexOf(v.index)===-1&&(u(v,s),f(v.index,s,c))}a&&y(0,0,c.width,c.height,c)};h.exports=l},64740:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(20576),y=e(42573),f=e(97022),l=function(o,s,a,c){s===void 0&&(s=!0),a===void 0&&(a=!0);for(var r=0;r<c.height;r++)for(var d=0;d<c.width;d++){var v=c.data[r][d];if(v){for(var p in o)if(f(v.properties,p)){var m=o[p];Array.isArray(m)||(m=[m]);for(var x=0;x<m.length;x++)v.properties[p]===m[x]&&u(v,s)}}}a&&y(0,0,c.width,c.height,c)};h.exports=l},63307:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(20576),y=e(42573),f=function(l,o,s){l===void 0&&(l=!0),o===void 0&&(o=!0);for(var a=0;a<s.height;a++)for(var c=0;c<s.width;c++){var r=s.data[a][c];if(r){var d=r.getCollisionGroup();d&&d.objects&&d.objects.length>0&&u(r,l)}}o&&y(0,0,s.width,s.height,s)};h.exports=f},9589:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u,y){var f=y.collideIndexes.indexOf(e);u&&f===-1?y.collideIndexes.push(e):!u&&f!==-1&&y.collideIndexes.splice(f,1)};h.exports=S},20576:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u){u?e.setCollision(!0,!0,!0,!0,!1):e.resetCollision(!1)};h.exports=S},79583:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u,y,f){if(typeof e=="number")f.callbacks[e]=u!==null?{callback:u,callbackContext:y}:void 0;else for(var l=0,o=e.length;l<o;l++)f.callbacks[e[l]]=u!==null?{callback:u,callbackContext:y}:void 0};h.exports=S},93254:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(7386),y=function(f,l,o,s,a,c,r){for(var d=u(f,l,o,s,null,r),v=0;v<d.length;v++)d[v].setCollisionCallback(a,c)};h.exports=y},32903:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(7386),y=e(33680),f=function(l,o,s,a,c){var r=u(l,o,s,a,null,c),d=r.map(function(p){return p.index});y(d);for(var v=0;v<r.length;v++)r[v].index=d[v]};h.exports=f},61325:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(63448),y=e(56583),f=function(l,o){var s=l.tilemapLayer.tilemap,a=l.tilemapLayer,c=Math.floor(s.tileWidth*a.scaleX),r=Math.floor(s.tileHeight*a.scaleY),d=y(o.worldView.x-a.x,c,0,!0)-a.cullPaddingX,v=u(o.worldView.right-a.x,c,0,!0)+a.cullPaddingX,p=y(o.worldView.y-a.y,r/2,0,!0)-a.cullPaddingY,m=u(o.worldView.bottom-a.y,r/2,0,!0)+a.cullPaddingY;return{left:d,right:v,top:p,bottom:m}};h.exports=f},54503:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(61325),y=e(32483),f=function(l,o,s,a){s===void 0&&(s=[]),a===void 0&&(a=0),s.length=0;var c=l.tilemapLayer,r=u(l,o);return c.skipCull&&c.scrollFactorX===1&&c.scrollFactorY===1&&(r.left=0,r.right=l.width,r.top=0,r.bottom=l.height),y(l,r,a,s),s};h.exports=f},97202:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(26099),y=function(f,l,o,s,a){o||(o=new u);var c=a.baseTileWidth,r=a.baseTileHeight,d=a.tilemapLayer,v=0,p=0;d&&(s||(s=d.scene.cameras.main),v=d.x+s.scrollX*(1-d.scrollFactorX),c*=d.scaleX,p=d.y+s.scrollY*(1-d.scrollFactorY),r*=d.scaleY);var m=v+f*c+l%2*(c/2),x=p+l*(r/2);return o.set(m,x)};h.exports=y},28054:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u,y){var f=y.baseTileHeight,l=y.tilemapLayer,o=0;return l&&(u===void 0&&(u=l.scene.cameras.main),o=l.y+u.scrollY*(1-l.scrollFactorY),f*=l.scaleY),o+e*(f/2)+f};h.exports=S},15108:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(26099),y=function(f,l,o,s,a,c){s||(s=new u);var r=c.baseTileWidth,d=c.baseTileHeight,v=c.tilemapLayer;v&&(a||(a=v.scene.cameras.main),l=l-(v.y+a.scrollY*(1-v.scrollFactorY)),d*=v.scaleY,f=f-(v.x+a.scrollX*(1-v.scrollFactorX)),r*=v.scaleX);var p=o?Math.floor(l/(d/2)):l/(d/2),m=o?Math.floor((f+p%2*.5*r)/r):(f+p%2*.5*r)/r;return s.set(m,p)};h.exports=y},51900:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u,y,f){var l=f.baseTileHeight,o=f.tilemapLayer;return o&&(y||(y=o.scene.cameras.main),e=e-(o.y+y.scrollY*(1-o.scrollFactorY)),l*=o.scaleY),u?Math.floor(e/(l/2)):e/(l/2)};h.exports=S},86560:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(7386),y=function(f,l,o,s,a,c,r){for(var d=u(o,s,a,c,null,r),v=0;v<d.length;v++)d[v]&&(d[v].index===f?d[v].index=l:d[v].index===l&&(d[v].index=f))};h.exports=y},97281:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u,y){var f=y.baseTileWidth,l=y.tilemapLayer,o=0;return l&&(u||(u=l.scene.cameras.main),o=l.x+u.scrollX*(1-l.scrollFactorX),f*=l.scaleX),o+e*f};h.exports=S},70326:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(97281),y=e(29650),f=e(26099),l=function(o,s,a,c,r){return a||(a=new f(0,0)),a.x=u(o,c,r),a.y=y(s,c,r),a};h.exports=l},29650:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u,y){var f=y.baseTileHeight,l=y.tilemapLayer,o=0;return l&&(u||(u=l.scene.cameras.main),o=l.y+u.scrollY*(1-l.scrollFactorY),f*=l.scaleY),o+e*f};h.exports=S},77366:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(7386),y=e(75508),f=function(l,o,s,a,c,r){if(c){var d,v=u(l,o,s,a,null,r),p=0;for(d=0;d<c.length;d++)p+=c[d].weight;if(!(p<=0))for(d=0;d<v.length;d++){for(var m=y.RND.frac()*p,x=0,E=-1,w=0;w<c.length;w++)if(x+=c[w].weight,m<=x){var C=c[w].index;E=Array.isArray(C)?C[Math.floor(y.RND.frac()*C.length)]:C;break}v[d].index=E}}};h.exports=f},10095:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(85896),y=e(26099),f=new y,l=function(o,s,a,c){return u(o,0,s,f,a,c),f.x};h.exports=l},85896:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(26099),y=function(f,l,o,s,a,c){o===void 0&&(o=!0),s||(s=new u);var r=c.baseTileWidth,d=c.baseTileHeight,v=c.tilemapLayer;v&&(a||(a=v.scene.cameras.main),f=f-(v.x+a.scrollX*(1-v.scrollFactorX)),l=l-(v.y+a.scrollY*(1-v.scrollFactorY)),r*=v.scaleX,d*=v.scaleY);var p=f/r,m=l/d;return o&&(p=Math.floor(p),m=Math.floor(m)),s.set(p,m)};h.exports=y},63288:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(85896),y=e(26099),f=new y,l=function(o,s,a,c){return u(0,o,s,f,a,c),f.y};h.exports=l},81086:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={CalculateFacesAt:e(72023),CalculateFacesWithin:e(42573),CheckIsoBounds:e(33528),Copy:e(1785),CreateFromTiles:e(78419),CullBounds:e(19545),CullTiles:e(30003),Fill:e(35137),FilterTiles:e(40253),FindByIndex:e(52692),FindTile:e(66151),ForEachTile:e(97560),GetCullTilesFunction:e(43305),GetTileAt:e(7423),GetTileAtWorldXY:e(60540),GetTileCorners:e(55826),GetTileCornersFunction:e(11758),GetTilesWithin:e(7386),GetTilesWithinShape:e(91141),GetTilesWithinWorldXY:e(96523),GetTileToWorldXFunction:e(39167),GetTileToWorldXYFunction:e(62e3),GetTileToWorldYFunction:e(5984),GetWorldToTileXFunction:e(96113),GetWorldToTileXYFunction:e(16926),GetWorldToTileYFunction:e(55762),HasTileAt:e(45091),HasTileAtWorldXY:e(24152),HexagonalCullBounds:e(90454),HexagonalCullTiles:e(9474),HexagonalGetTileCorners:e(27229),HexagonalTileToWorldXY:e(19951),HexagonalWorldToTileXY:e(86625),IsInLayerBounds:e(62991),IsometricCullTiles:e(14018),IsometricTileToWorldXY:e(14127),IsometricWorldToTileXY:e(96897),PutTileAt:e(71558),PutTileAtWorldXY:e(26303),PutTilesAt:e(14051),Randomize:e(77389),RemoveTileAt:e(63557),RemoveTileAtWorldXY:e(94178),RenderDebug:e(15533),ReplaceByIndex:e(27987),RunCull:e(32483),SetCollision:e(57068),SetCollisionBetween:e(37266),SetCollisionByExclusion:e(75661),SetCollisionByProperty:e(64740),SetCollisionFromCollisionGroup:e(63307),SetLayerCollisionIndex:e(9589),SetTileCollision:e(20576),SetTileIndexCallback:e(79583),SetTileLocationCallback:e(93254),Shuffle:e(32903),StaggeredCullBounds:e(61325),StaggeredCullTiles:e(54503),StaggeredTileToWorldXY:e(97202),StaggeredTileToWorldY:e(28054),StaggeredWorldToTileXY:e(15108),StaggeredWorldToTileY:e(51900),SwapByIndex:e(86560),TileToWorldX:e(97281),TileToWorldXY:e(70326),TileToWorldY:e(29650),WeightedRandomize:e(77366),WorldToTileX:e(10095),WorldToTileXY:e(85896),WorldToTileY:e(63288)}},91907:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={ORTHOGONAL:0,ISOMETRIC:1,STAGGERED:2,HEXAGONAL:3}},21829:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u={ORIENTATION:e(91907)};h.exports=u},62501:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(79291),y=e(21829),f={Components:e(81086),Parsers:e(57442),Formats:e(80341),ImageCollection:e(16536),ParseToTilemap:e(31989),Tile:e(23029),Tilemap:e(49075),TilemapCreator:e(45939),TilemapFactory:e(46029),Tileset:e(33629),TilemapLayer:e(20442),Orientation:e(91907),LayerData:e(14977),MapData:e(87010),ObjectLayer:e(48700)};f=u(!1,f,y.ORIENTATION),h.exports=f},14977:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(91907),f=e(95540),l=new u({initialize:function(s){s===void 0&&(s={}),this.name=f(s,"name","layer"),this.id=f(s,"id",0),this.x=f(s,"x",0),this.y=f(s,"y",0),this.width=f(s,"width",0),this.height=f(s,"height",0),this.tileWidth=f(s,"tileWidth",0),this.tileHeight=f(s,"tileHeight",0),this.baseTileWidth=f(s,"baseTileWidth",this.tileWidth),this.baseTileHeight=f(s,"baseTileHeight",this.tileHeight),this.orientation=f(s,"orientation",y.ORTHOGONAL),this.widthInPixels=f(s,"widthInPixels",this.width*this.baseTileWidth),this.heightInPixels=f(s,"heightInPixels",this.height*this.baseTileHeight),this.alpha=f(s,"alpha",1),this.visible=f(s,"visible",!0),this.properties=f(s,"properties",[]),this.indexes=f(s,"indexes",[]),this.collideIndexes=f(s,"collideIndexes",[]),this.callbacks=f(s,"callbacks",[]),this.bodies=f(s,"bodies",[]),this.data=f(s,"data",[]),this.tilemapLayer=f(s,"tilemapLayer",null),this.hexSideLength=f(s,"hexSideLength",0),this.staggerAxis=f(s,"staggerAxis","y"),this.staggerIndex=f(s,"staggerIndex","odd")}});h.exports=l},87010:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(91907),f=e(95540),l=new u({initialize:function(s){s===void 0&&(s={}),this.name=f(s,"name","map"),this.width=f(s,"width",0),this.height=f(s,"height",0),this.infinite=f(s,"infinite",!1),this.tileWidth=f(s,"tileWidth",0),this.tileHeight=f(s,"tileHeight",0),this.widthInPixels=f(s,"widthInPixels",this.width*this.tileWidth),this.heightInPixels=f(s,"heightInPixels",this.height*this.tileHeight),this.format=f(s,"format",null),this.orientation=f(s,"orientation",y.ORTHOGONAL),this.renderOrder=f(s,"renderOrder","right-down"),this.version=f(s,"version","1"),this.properties=f(s,"properties",{}),this.layers=f(s,"layers",[]),this.images=f(s,"images",[]),this.objects=f(s,"objects",[]),Array.isArray(this.objects)||(this.objects=[]),this.collision=f(s,"collision",{}),this.tilesets=f(s,"tilesets",[]),this.imageCollections=f(s,"imageCollections",[]),this.tiles=f(s,"tiles",[]),this.hexSideLength=f(s,"hexSideLength",0),this.staggerAxis=f(s,"staggerAxis","y"),this.staggerIndex=f(s,"staggerIndex","odd")}});h.exports=l},48700:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(95540),f=new u({initialize:function(o){o===void 0&&(o={}),this.name=y(o,"name","object layer"),this.id=y(o,"id",0),this.opacity=y(o,"opacity",1),this.properties=y(o,"properties",{}),this.propertyTypes=y(o,"propertytypes",{}),this.type=y(o,"type","objectgroup"),this.visible=y(o,"visible",!0),this.objects=y(o,"objects",[]),Array.isArray(this.objects)||(this.objects=[])}});h.exports=f},6641:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(91907),y=function(f){return f=f.toLowerCase(),f==="isometric"?u.ISOMETRIC:f==="staggered"?u.STAGGERED:f==="hexagonal"?u.HEXAGONAL:u.ORTHOGONAL};h.exports=y},46177:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(80341),y=e(2342),f=e(82593),l=e(46594),o=e(87021),s=function(a,c,r,d,v,p){var m;switch(c){case u.ARRAY_2D:m=y(a,r,d,v,p);break;case u.CSV:m=f(a,r,d,v,p);break;case u.TILED_JSON:m=l(a,r,p);break;case u.WELTMEISTER:m=o(a,r,p);break;default:console.warn("Unrecognized tilemap data format: "+c),m=null}return m};h.exports=s},2342:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(80341),y=e(14977),f=e(87010),l=e(23029),o=function(s,a,c,r,d){for(var v=new y({tileWidth:c,tileHeight:r}),p=new f({name:s,tileWidth:c,tileHeight:r,format:u.ARRAY_2D,layers:[v]}),m=[],x=a.length,E=0,w=0;w<a.length;w++){m[w]=[];for(var C=a[w],P=0;P<C.length;P++){var R=parseInt(C[P],10);isNaN(R)||R===-1?m[w][P]=d?null:new l(v,-1,P,w,c,r):m[w][P]=new l(v,R,P,w,c,r)}E===0&&(E=C.length)}return p.width=v.width=E,p.height=v.height=x,p.widthInPixels=v.widthInPixels=E*c,p.heightInPixels=v.heightInPixels=x*r,v.data=m,p};h.exports=o},82593:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(80341),y=e(2342),f=function(l,o,s,a,c){var r=o.trim().split(`
`).map(function(v){return v.split(",")}),d=y(l,r,s,a,c);return d.format=u.CSV,d};h.exports=f},6656:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(14977),y=e(23029),f=function(l,o){for(var s=[],a=0;a<l.layer.length;a++){for(var c=l.layer[a],r=new u({name:c.name,width:c.width,height:c.height,tileWidth:c.tilesize,tileHeight:c.tilesize,visible:c.visible===1}),d=[],v=[],p=0;p<c.data.length;p++){for(var m=0;m<c.data[p].length;m++){var x=c.data[p][m]-1,E;x>-1?E=new y(r,x,m,p,c.tilesize,c.tilesize):E=o?null:new y(r,-1,m,p,c.tilesize,c.tilesize),d.push(E)}v.push(d),d=[]}r.data=v,s.push(r)}return s};h.exports=f},96483:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(33629),y=function(f){for(var l=[],o=[],s=0;s<f.layer.length;s++){var a=f.layer[s],c=a.tilesetName;c!==""&&o.indexOf(c)===-1&&(o.push(c),l.push(new u(c,0,a.tilesize,a.tilesize,0,0)))}return l};h.exports=y},87021:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(80341),y=e(87010),f=e(6656),l=e(96483),o=function(s,a,c){if(a.layer.length===0)return console.warn("No layers found in the Weltmeister map: "+s),null;for(var r=0,d=0,v=0;v<a.layer.length;v++)a.layer[v].width>r&&(r=a.layer[v].width),a.layer[v].height>d&&(d=a.layer[v].height);var p=new y({width:r,height:d,name:s,tileWidth:a.layer[0].tilesize,tileHeight:a.layer[0].tilesize,format:u.WELTMEISTER});return p.layers=f(a,c),p.tilesets=l(a),p};h.exports=o},52833:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={ParseTileLayers:e(6656),ParseTilesets:e(96483),ParseWeltmeister:e(87021)}},57442:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={FromOrientationString:e(6641),Parse:e(46177),Parse2DArray:e(2342),ParseCSV:e(82593),Impact:e(52833),Tiled:e(96761)}},51233:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(79291),y=function(f){for(var l,o,s,a,c,r=0;r<f.layers.length;r++){l=f.layers[r],a=null;for(var d=0;d<l.data.length;d++){c=l.data[d];for(var v=0;v<c.length;v++)o=c[v],!(o===null||o.index<0)&&(s=f.tiles[o.index][2],a=f.tilesets[s],o.width=a.tileWidth,o.height=a.tileHeight,a.tileProperties&&a.tileProperties[o.index-a.firstgid]&&(o.properties=u(o.properties,a.tileProperties[o.index-a.firstgid])))}}};h.exports=y},41868:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e){for(var u=window.atob(e),y=u.length,f=new Array(y/4),l=0;l<y;l+=4)f[l/4]=(u.charCodeAt(l)|u.charCodeAt(l+1)<<8|u.charCodeAt(l+2)<<16|u.charCodeAt(l+3)<<24)>>>0;return f};h.exports=S},84101:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(33629),y=function(f){var l,o,s=[];for(l=0;l<f.imageCollections.length;l++)for(var a=f.imageCollections[l],c=a.images,r=0;r<c.length;r++){var d=c[r],v={x:0,y:d.height-f.tileHeight};o=new u(d.image,d.gid,d.width,d.height,0,0,void 0,void 0,v),o.updateTileData(d.width,d.height),f.tilesets.push(o)}for(l=0;l<f.tilesets.length;l++){o=f.tilesets[l];for(var p=o.tileMargin,m=o.tileMargin,x=0,E=0,w=0,C=o.firstgid;C<o.firstgid+o.total&&(s[C]=[p,m,l],p+=o.tileWidth+o.tileSpacing,x++,!(x===o.total||(E++,E===o.columns&&(p=o.tileMargin,m+=o.tileHeight+o.tileSpacing,E=0,w++,w===o.rows))));C++);}return s};h.exports=y},79677:(h,S,e)=>{/**
 * @author       Seth Berrier <berriers@uwstout.edu>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(95540),y=function(f,l,o){if(!l)return{i:0,layers:f.layers,name:"",opacity:1,visible:!0,x:0,y:0};var s=l.x+u(l,"startx",0)*f.tilewidth+u(l,"offsetx",0),a=l.y+u(l,"starty",0)*f.tileheight+u(l,"offsety",0);return{i:0,layers:l.layers,name:o.name+l.name+"/",opacity:o.opacity*l.opacity,visible:o.visible&&l.visible,x:o.x+s,y:o.y+a}};h.exports=y},29920:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=2147483648,e=1073741824,u=536870912,y=function(f){var l=!!(f&S),o=!!(f&e),s=!!(f&u);f=f&~(S|e|u);var a=0,c=!1;return l&&o&&s?(a=Math.PI/2,c=!0):l&&o&&!s?(a=Math.PI,c=!1):l&&!o&&s?(a=Math.PI/2,c=!1):l&&!o&&!s?(a=0,c=!0):!l&&o&&s?(a=3*Math.PI/2,c=!1):!l&&o&&!s?(a=Math.PI,c=!0):!l&&!o&&s?(a=3*Math.PI/2,c=!0):!l&&!o&&!s&&(a=0,c=!1),{gid:f,flippedHorizontal:l,flippedVertical:o,flippedAntiDiagonal:s,rotation:a,flipped:c}};h.exports=y},12635:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(95540),y=e(79677),f=function(l){for(var o=[],s=[],a=y(l);a.i<a.layers.length||s.length>0;){if(a.i>=a.layers.length){if(s.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}a=s.pop();continue}var c=a.layers[a.i];if(a.i++,c.type!=="imagelayer"){if(c.type==="group"){var r=y(l,c,a);s.push(a),a=r}continue}var d=u(c,"offsetx",0)+u(c,"startx",0),v=u(c,"offsety",0)+u(c,"starty",0);o.push({name:a.name+c.name,image:c.image,x:a.x+d+c.x,y:a.y+v+c.y,alpha:a.opacity*c.opacity,visible:a.visible&&c.visible,properties:u(c,"properties",{})})}return o};h.exports=f},46594:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(51233),y=e(84101),f=e(91907),l=e(62644),o=e(80341),s=e(6641),a=e(87010),c=e(12635),r=e(22611),d=e(28200),v=e(24619),p=function(m,x,E){var w=l(x),C=new a({width:w.width,height:w.height,name:m,tileWidth:w.tilewidth,tileHeight:w.tileheight,orientation:s(w.orientation),format:o.TILED_JSON,version:w.version,properties:w.properties,renderOrder:w.renderorder,infinite:w.infinite});if(C.orientation===f.HEXAGONAL)if(C.hexSideLength=w.hexsidelength,C.staggerAxis=w.staggeraxis,C.staggerIndex=w.staggerindex,C.staggerAxis==="y"){var P=(C.tileHeight-C.hexSideLength)/2;C.widthInPixels=C.tileWidth*(C.width+.5),C.heightInPixels=C.height*(C.hexSideLength+P)+P}else{var R=(C.tileWidth-C.hexSideLength)/2;C.widthInPixels=C.width*(C.hexSideLength+R)+R,C.heightInPixels=C.tileHeight*(C.height+.5)}C.layers=d(w,E),C.images=c(w);var M=v(w);return C.tilesets=M.tilesets,C.imageCollections=M.imageCollections,C.objects=r(w),C.tiles=y(C),u(C),C};h.exports=p},52205:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(18254),y=e(29920),f=function(s){return{x:s.x,y:s.y}},l=["id","name","type","rotation","properties","visible","x","y","width","height"],o=function(s,a,c){a===void 0&&(a=0),c===void 0&&(c=0);var r=u(s,l);if(r.x+=a,r.y+=c,s.gid){var d=y(s.gid);r.gid=d.gid,r.flippedHorizontal=d.flippedHorizontal,r.flippedVertical=d.flippedVertical,r.flippedAntiDiagonal=d.flippedAntiDiagonal}else s.polyline?r.polyline=s.polyline.map(f):s.polygon?r.polygon=s.polygon.map(f):s.ellipse?r.ellipse=s.ellipse:s.text?r.text=s.text:s.point?r.point=!0:r.rectangle=!0;return r};h.exports=o},22611:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(95540),y=e(52205),f=e(48700),l=e(79677),o=function(s){for(var a=[],c=[],r=l(s);r.i<r.layers.length||c.length>0;){if(r.i>=r.layers.length){if(c.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}r=c.pop();continue}var d=r.layers[r.i];if(r.i++,d.opacity*=r.opacity,d.visible=r.visible&&d.visible,d.type!=="objectgroup"){if(d.type==="group"){var v=l(s,d,r);c.push(r),r=v}continue}d.name=r.name+d.name;for(var p=r.x+u(d,"startx",0)+u(d,"offsetx",0),m=r.y+u(d,"starty",0)+u(d,"offsety",0),x=[],E=0;E<d.objects.length;E++){var w=y(d.objects[E],p,m);x.push(w)}var C=new f(d);C.objects=x,a.push(C)}return a};h.exports=o},28200:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(41868),y=e(91907),f=e(79677),l=e(6641),o=e(95540),s=e(14977),a=e(29920),c=e(23029),r=function(d,v){for(var p=o(d,"infinite",!1),m=[],x=[],E=f(d);E.i<E.layers.length||x.length>0;){if(E.i>=E.layers.length){if(x.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}E=x.pop();continue}var w=E.layers[E.i];if(E.i++,w.type!=="tilelayer"){if(w.type==="group"){var C=f(d,w,E);x.push(E),E=C}continue}if(w.compression){console.warn("TilemapParser.parseTiledJSON - Layer compression is unsupported, skipping layer '"+w.name+"'");continue}else if(w.encoding&&w.encoding==="base64"){if(w.chunks)for(var P=0;P<w.chunks.length;P++)w.chunks[P].data=u(w.chunks[P].data);w.data&&(w.data=u(w.data)),delete w.encoding}var R,M,I,D,L,F,O=[],N=0;if(p){var b=o(w,"startx",0)+w.x,V=o(w,"starty",0)+w.y;R=new s({name:E.name+w.name,id:w.id,x:E.x+o(w,"offsetx",0)+b*d.tilewidth,y:E.y+o(w,"offsety",0)+V*d.tileheight,width:w.width,height:w.height,tileWidth:d.tilewidth,tileHeight:d.tileheight,alpha:E.opacity*w.opacity,visible:E.visible&&w.visible,properties:o(w,"properties",[]),orientation:l(d.orientation)}),R.orientation===y.HEXAGONAL&&(R.hexSideLength=d.hexsidelength,R.staggerAxis=d.staggeraxis,R.staggerIndex=d.staggerindex,R.staggerAxis==="y"?(L=(R.tileHeight-R.hexSideLength)/2,R.widthInPixels=R.tileWidth*(R.width+.5),R.heightInPixels=R.height*(R.hexSideLength+L)+L):(F=(R.tileWidth-R.hexSideLength)/2,R.widthInPixels=R.width*(R.hexSideLength+F)+F,R.heightInPixels=R.tileHeight*(R.height+.5)));for(var Y=0;Y<w.height;Y++){O[Y]=[null];for(var W=0;W<w.width;W++)O[Y][W]=null}for(Y=0,J=w.chunks.length;Y<J;Y++)for(var U=w.chunks[Y],z=U.x-b,B=U.y-V,X=0,G=0,H=U.data.length;G<H;G++){var $=N+z,k=X+B;M=a(U.data[G]),M.gid>0?(I=new c(R,M.gid,$,k,d.tilewidth,d.tileheight),I.rotation=M.rotation,I.flipX=M.flipped,O[k][$]=I):(D=v?null:new c(R,-1,$,k,d.tilewidth,d.tileheight),O[k][$]=D),N++,N===U.width&&(X++,N=0)}}else{R=new s({name:E.name+w.name,id:w.id,x:E.x+o(w,"offsetx",0)+w.x,y:E.y+o(w,"offsety",0)+w.y,width:w.width,height:w.height,tileWidth:d.tilewidth,tileHeight:d.tileheight,alpha:E.opacity*w.opacity,visible:E.visible&&w.visible,properties:o(w,"properties",[]),orientation:l(d.orientation)}),R.orientation===y.HEXAGONAL&&(R.hexSideLength=d.hexsidelength,R.staggerAxis=d.staggeraxis,R.staggerIndex=d.staggerindex,R.staggerAxis==="y"?(L=(R.tileHeight-R.hexSideLength)/2,R.widthInPixels=R.tileWidth*(R.width+.5),R.heightInPixels=R.height*(R.hexSideLength+L)+L):(F=(R.tileWidth-R.hexSideLength)/2,R.widthInPixels=R.width*(R.hexSideLength+F)+F,R.heightInPixels=R.tileHeight*(R.height+.5)));for(var j=[],Q=0,J=w.data.length;Q<J;Q++)M=a(w.data[Q]),M.gid>0?(I=new c(R,M.gid,N,O.length,d.tilewidth,d.tileheight),I.rotation=M.rotation,I.flipX=M.flipped,j.push(I)):(D=v?null:new c(R,-1,N,O.length,d.tilewidth,d.tileheight),j.push(D)),N++,N===w.width&&(O.push(j),N=0,j=[])}R.data=O,m.push(R)}return m};h.exports=r},24619:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(33629),y=e(16536),f=e(52205),l=e(57880),o=function(s){for(var a=[],c=[],r=null,d,v=0;v<s.tilesets.length;v++){var p=s.tilesets[v];if(p.source)console.warn("External tilesets unsupported. Use Embed Tileset and re-export");else if(p.image){var m=new u(p.name,p.firstgid,p.tilewidth,p.tileheight,p.margin,p.spacing,void 0,void 0,p.tileoffset);if(s.version>1){var x=void 0,E=void 0;if(Array.isArray(p.tiles)){x=x||{},E=E||{};for(var w=0;w<p.tiles.length;w++){var C=p.tiles[w];if(C.properties){var P={};C.properties.forEach(function(Y){P[Y.name]=Y.value}),E[C.id]=P}if(C.objectgroup&&((x[C.id]||(x[C.id]={})).objectgroup=C.objectgroup,C.objectgroup.objects)){var R=C.objectgroup.objects.map(function(Y){return f(Y)});x[C.id].objectgroup.objects=R}C.animation&&((x[C.id]||(x[C.id]={})).animation=C.animation),C.type&&((x[C.id]||(x[C.id]={})).type=C.type)}}Array.isArray(p.wangsets)&&(x=x||{},E=E||{},l(p.wangsets,x)),x&&(m.tileData=x,m.tileProperties=E)}else if(p.tileproperties&&(m.tileProperties=p.tileproperties),p.tiles){m.tileData=p.tiles;for(d in m.tileData){var M=m.tileData[d].objectgroup;if(M&&M.objects){var I=M.objects.map(function(Y){return f(Y)});m.tileData[d].objectgroup.objects=I}}}m.updateTileData(p.imagewidth,p.imageheight),a.push(m)}else{var D=new y(p.name,p.firstgid,p.tilewidth,p.tileheight,p.margin,p.spacing,p.properties),L=0;for(w=0;w<p.tiles.length;w++){C=p.tiles[w];var F=C.image,O=parseInt(C.id,10),N=p.firstgid+O,b=C.imagewidth,V=C.imageheight;D.addImage(N,F,b,V),L=Math.max(O,L)}D.maxId=L,c.push(D)}r&&(r.lastgid=p.firstgid-1),r=p}return{tilesets:a,imageCollections:c}};h.exports=o},57880:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u){for(var y=0;y<e.length;y++){var f=e[y],l=y;if(f.name&&f.name!==""&&(l=f.name),Array.isArray(f.wangtiles)&&f.wangtiles.length>0){var o={},s={},a,c,r;if(Array.isArray(f.edgecolors))for(a=0;a<f.edgecolors.length;a++)r=1+a,c=f.edgecolors[a],c.name!==""&&(o[r]=c.name);if(Array.isArray(f.cornercolors))for(a=0;a<f.cornercolors.length;a++)r=1+a,c=f.cornercolors[a],c.name!==""&&(s[r]=c.name);if(Array.isArray(f.colors))for(a=0;a<f.colors.length;a++)c=f.colors[a],r=1+a,c.name!==""&&(o[r]=s[r]=c.name);for(var d=[o,s,o,s,o,s,o,s],v=0;v<f.wangtiles.length;v++){var p=f.wangtiles[v],m=u[p.tileid]||(u[p.tileid]={});m=m.wangid||(m.wangid={});for(var x=[],E=0;E<Math.min(d.length,p.wangid.length);E++){if(c=p.wangid[E],c===0){x.push(void 0);continue}var w=d[E][c];if(w!==void 0){x.push(w);continue}x.push(c)}m[l]=x}}}};h.exports=S},96761:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={AssignTileProperties:e(51233),Base64Decode:e(41868),BuildTilesetIndex:e(84101),CreateGroupLayer:e(79677),ParseGID:e(29920),ParseImageLayers:e(12635),ParseJSONTiled:e(46594),ParseObject:e(52205),ParseObjectLayers:e(22611),ParseTileLayers:e(28200),ParseTilesets:e(24619)}},33385:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(37277),f=e(44594),l=e(94880),o=e(72905),s=new u({initialize:function(c){this.scene=c,this.systems=c.sys,this.now=0,this.startTime=0,this.timeScale=1,this.paused=!1,this._active=[],this._pendingInsertion=[],this._pendingRemoval=[],c.sys.events.once(f.BOOT,this.boot,this),c.sys.events.on(f.START,this.start,this)},boot:function(){this.now=this.systems.game.loop.time,this.systems.events.once(f.DESTROY,this.destroy,this)},start:function(){this.startTime=this.systems.game.loop.time;var a=this.systems.events;a.on(f.PRE_UPDATE,this.preUpdate,this),a.on(f.UPDATE,this.update,this),a.once(f.SHUTDOWN,this.shutdown,this)},addEvent:function(a){var c;if(a instanceof l){if(c=a,this.removeEvent(c),c.elapsed=c.startAt,c.hasDispatched=!1,c.repeatCount=c.repeat===-1||c.loop?999999999999:c.repeat,c.delay<=0&&c.repeatCount>0)throw new Error("TimerEvent infinite loop created via zero delay")}else c=new l(a);return this._pendingInsertion.push(c),c},delayedCall:function(a,c,r,d){return this.addEvent({delay:a,callback:c,args:r,callbackScope:d})},clearPendingEvents:function(){return this._pendingInsertion=[],this},removeEvent:function(a){Array.isArray(a)||(a=[a]);for(var c=0;c<a.length;c++){var r=a[c];o(this._pendingRemoval,r),o(this._pendingInsertion,r),o(this._active,r)}return this},removeAllEvents:function(){return this._pendingRemoval=this._pendingRemoval.concat(this._active),this},preUpdate:function(){var a=this._pendingRemoval.length,c=this._pendingInsertion.length;if(!(a===0&&c===0)){var r,d;for(r=0;r<a;r++){d=this._pendingRemoval[r];var v=this._active.indexOf(d);v>-1&&this._active.splice(v,1),d.destroy()}for(r=0;r<c;r++)d=this._pendingInsertion[r],this._active.push(d);this._pendingRemoval.length=0,this._pendingInsertion.length=0}},update:function(a,c){if(this.now=a,!this.paused){c*=this.timeScale;for(var r=0;r<this._active.length;r++){var d=this._active[r];if(!d.paused&&(d.elapsed+=c*d.timeScale,d.elapsed>=d.delay)){var v=d.elapsed-d.delay;if(d.elapsed=d.delay,!d.hasDispatched&&d.callback&&(d.hasDispatched=!0,d.callback.apply(d.callbackScope,d.args)),d.repeatCount>0){if(d.repeatCount--,v>=d.delay)for(;v>=d.delay&&d.repeatCount>0;)d.callback&&d.callback.apply(d.callbackScope,d.args),v-=d.delay,d.repeatCount--;d.elapsed=v,d.hasDispatched=!1}else d.hasDispatched&&this._pendingRemoval.push(d)}}}},shutdown:function(){var a;for(a=0;a<this._pendingInsertion.length;a++)this._pendingInsertion[a].destroy();for(a=0;a<this._active.length;a++)this._active[a].destroy();for(a=0;a<this._pendingRemoval.length;a++)this._pendingRemoval[a].destroy();this._active.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0;var c=this.systems.events;c.off(f.PRE_UPDATE,this.preUpdate,this),c.off(f.UPDATE,this.update,this),c.off(f.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.scene.sys.events.off(f.START,this.start,this),this.scene=null,this.systems=null}});y.register("Clock",s,"time"),h.exports=s},96120:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(50792),f=e(39429),l=e(95540),o=e(44594),s=e(89809),a=new u({Extends:y,initialize:function(r,d){y.call(this),this.scene=r,this.systems=r.sys,this.elapsed=0,this.timeScale=1,this.paused=!0,this.complete=!1,this.totalComplete=0,this.loop=0,this.iteration=0,this.events=[];var v=this.systems.events;v.on(o.PRE_UPDATE,this.preUpdate,this),v.on(o.UPDATE,this.update,this),v.once(o.SHUTDOWN,this.destroy,this),d&&this.add(d)},preUpdate:function(c,r){this.paused||(this.elapsed+=r*this.timeScale)},update:function(){if(!(this.paused||this.complete)){var c,r=this.events,d=!1,v=this.systems,p;for(c=0;c<r.length;c++){var m=r[c];if(!m.complete&&m.time<=this.elapsed){if(m.complete=!0,this.totalComplete++,p=m.target?m.target:this,m.if&&!m.if.call(p,m))continue;if(m.once&&(d=!0),m.set&&m.target)for(var x in m.set)m.target[x]=m.set[x];this.iteration&&m.repeat++,m.loop&&m.repeat&&m.loop.call(p),m.tween&&(m.tweenInstance=v.tweens.add(m.tween)),m.sound&&(typeof m.sound=="string"?v.sound.play(m.sound):v.sound.play(m.sound.key,m.sound.config)),m.event&&this.emit(m.event,p),m.run&&m.run.call(p),m.stop&&this.stop()}}if(d)for(c=0;c<r.length;c++)r[c].complete&&r[c].once&&(r.splice(c,1),c--);this.totalComplete>=r.length&&(this.loop!==0&&(this.loop===-1||this.loop>this.iteration)?(this.iteration++,this.reset(!0)):this.complete=!0),this.complete&&this.emit(s.COMPLETE,this)}},play:function(c){return c===void 0&&(c=!0),this.paused=!1,this.complete=!1,this.totalComplete=0,c&&this.reset(),this},pause:function(){this.paused=!0;for(var c=this.events,r=0;r<c.length;r++){var d=c[r];d.tweenInstance&&(d.tweenInstance.paused=!0)}return this},repeat:function(c){return(c===void 0||c===!0)&&(c=-1),c===!1&&(c=0),this.loop=c,this},resume:function(){this.paused=!1;for(var c=this.events,r=0;r<c.length;r++){var d=c[r];d.tweenInstance&&(d.tweenInstance.paused=!1)}return this},stop:function(){return this.paused=!0,this.complete=!0,this},reset:function(c){c===void 0&&(c=!1),this.elapsed=0,c||(this.iteration=0);for(var r=this.events,d=0;d<r.length;d++){var v=r[d];v.complete=!1,c||(v.repeat=0),v.tweenInstance&&v.tweenInstance.stop()}return this.play(!1)},add:function(c){Array.isArray(c)||(c=[c]);var r=this.events,d=0;r.length>0&&(d=r[r.length-1].time);for(var v=0;v<c.length;v++){var p=c[v],m=l(p,"at",0),x=l(p,"in",null);x!==null&&(m=this.elapsed+x);var E=l(p,"from",null);E!==null&&(m=d+E),r.push({complete:!1,time:m,repeat:0,if:l(p,"if",null),run:l(p,"run",null),loop:l(p,"loop",null),event:l(p,"event",null),target:l(p,"target",null),set:l(p,"set",null),tween:l(p,"tween",null),sound:l(p,"sound",null),once:l(p,"once",!1),stop:l(p,"stop",!1)}),d=m}return this.complete=!1,this},clear:function(){for(var c=this.events,r=0;r<c.length;r++){var d=c[r];d.tweenInstance&&d.tweenInstance.stop()}return c=[],this.elapsed=0,this.paused=!0,this},isPlaying:function(){return!this.paused&&!this.complete},getProgress:function(){var c=Math.min(this.totalComplete,this.events.length);return c/this.events.length},destroy:function(){var c=this.systems.events;c.off(o.PRE_UPDATE,this.preUpdate,this),c.off(o.UPDATE,this.update,this),c.off(o.SHUTDOWN,this.destroy,this),this.clear(),this.scene=null,this.systems=null}});f.register("timeline",function(c){return new a(this.scene,c)}),h.exports=a},94880:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(95540),f=new u({initialize:function(o){this.delay=0,this.repeat=0,this.repeatCount=0,this.loop=!1,this.callback,this.callbackScope,this.args,this.timeScale=1,this.startAt=0,this.elapsed=0,this.paused=!1,this.hasDispatched=!1,this.reset(o)},reset:function(l){if(this.delay=y(l,"delay",0),this.repeat=y(l,"repeat",0),this.loop=y(l,"loop",!1),this.callback=y(l,"callback",void 0),this.callbackScope=y(l,"callbackScope",this),this.args=y(l,"args",[]),this.timeScale=y(l,"timeScale",1),this.startAt=y(l,"startAt",0),this.paused=y(l,"paused",!1),this.elapsed=this.startAt,this.hasDispatched=!1,this.repeatCount=this.repeat===-1||this.loop?999999999999:this.repeat,this.delay<=0&&this.repeatCount>0)throw new Error("TimerEvent infinite loop created via zero delay");return this},getProgress:function(){return this.elapsed/this.delay},getOverallProgress:function(){if(this.repeat>0){var l=this.delay+this.delay*this.repeat,o=this.elapsed+this.delay*(this.repeat-this.repeatCount);return o/l}else return this.getProgress()},getRepeatCount:function(){return this.repeatCount},getElapsed:function(){return this.elapsed},getElapsedSeconds:function(){return this.elapsed*.001},getRemaining:function(){return this.delay-this.elapsed},getRemainingSeconds:function(){return this.getRemaining()*.001},getOverallRemaining:function(){return this.delay*(1+this.repeatCount)-this.elapsed},getOverallRemainingSeconds:function(){return this.getOverallRemaining()*.001},remove:function(l){l===void 0&&(l=!1),this.elapsed=this.delay,this.hasDispatched=!l,this.repeatCount=0},destroy:function(){this.callback=void 0,this.callbackScope=void 0,this.args=[]}});h.exports=f},35945:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="complete"},89809:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={COMPLETE:e(35945)}},90291:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={Clock:e(33385),Events:e(89809),Timeline:e(96120),TimerEvent:e(94880)}},40382:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(72905),y=e(83419),f=e(43491),l=e(88032),o=e(37277),s=e(44594),a=e(93109),c=e(86081),r=e(8357),d=e(43960),v=e(26012),p=new y({initialize:function(x){this.scene=x,this.events=x.sys.events,this.timeScale=1,this.paused=!1,this.processing=!1,this.tweens=[],this.time=0,this.startTime=0,this.nextTime=0,this.prevTime=0,this.maxLag=500,this.lagSkip=33,this.gap=1e3/240,this.events.once(s.BOOT,this.boot,this),this.events.on(s.START,this.start,this)},boot:function(){this.events.once(s.DESTROY,this.destroy,this)},start:function(){this.timeScale=1,this.paused=!1,this.startTime=Date.now(),this.prevTime=this.startTime,this.nextTime=this.gap,this.events.on(s.UPDATE,this.update,this),this.events.once(s.SHUTDOWN,this.shutdown,this)},create:function(m){Array.isArray(m)||(m=[m]);for(var x=[],E=0;E<m.length;E++){var w=m[E];w instanceof c||w instanceof d?x.push(w):Array.isArray(w.tweens)?x.push(v(this,w)):x.push(r(this,w))}return x.length===1?x[0]:x},add:function(m){var x=m,E=this.tweens;return x instanceof c||x instanceof d||(Array.isArray(x.tweens)?x=v(this,x):x=r(this,x)),E.push(x.reset()),x},addMultiple:function(m){for(var x,E=[],w=this.tweens,C=0;C<m.length;C++)x=m[C],x instanceof c||x instanceof d||(Array.isArray(x.tweens)?x=v(this,x):x=r(this,x)),w.push(x.reset()),E.push(x);return E},chain:function(m){var x=v(this,m);return this.tweens.push(x.init()),x},getChainedTweens:function(m){return m.getChainedTweens()},has:function(m){return this.tweens.indexOf(m)>-1},existing:function(m){return this.has(m)||this.tweens.push(m.reset()),this},addCounter:function(m){var x=l(this,m);return this.tweens.push(x.reset()),x},stagger:function(m,x){return a(m,x)},setLagSmooth:function(m,x){return m===void 0&&(m=1/1e-8),x===void 0&&(x=0),this.maxLag=m,this.lagSkip=Math.min(x,this.maxLag),this},setFps:function(m){return m===void 0&&(m=240),this.gap=1e3/m,this.nextTime=this.time*1e3+this.gap,this},getDelta:function(m){var x=Date.now()-this.prevTime;x>this.maxLag&&(this.startTime+=x-this.lagSkip),this.prevTime+=x;var E=this.prevTime-this.startTime,w=E-this.nextTime,C=E-this.time*1e3;return w>0||m?(E/=1e3,this.time=E,this.nextTime+=w+(w>=this.gap?4:this.gap-w)):C=0,C},tick:function(){return this.step(!0),this},update:function(){this.paused||this.step(!1)},step:function(m){m===void 0&&(m=!1);var x=this.getDelta(m);if(!(x<=0)){this.processing=!0;var E,w,C=[],P=this.tweens;for(E=0;E<P.length;E++)w=P[E],w.update(x)&&C.push(w);var R=C.length;if(R&&P.length>0){for(E=0;E<R;E++){w=C[E];var M=P.indexOf(w);M>-1&&(w.isPendingRemove()||w.isDestroyed())&&(P.splice(M,1),w.destroy())}C.length=0}this.processing=!1}},remove:function(m){return this.processing?m.setPendingRemoveState():(u(this.tweens,m),m.setRemovedState()),this},reset:function(m){return this.existing(m),m.seek(),m.setActiveState(),this},makeActive:function(m){return this.existing(m),m.setActiveState(),this},each:function(m,x){var E,w=[null];for(E=1;E<arguments.length;E++)w.push(arguments[E]);return this.tweens.forEach(function(C){w[0]=C,m.apply(x,w)}),this},getTweens:function(){return this.tweens.slice()},getTweensOf:function(m){var x=[],E=this.tweens;Array.isArray(m)?m=f(m):m=[m];for(var w=m.length,C=0;C<E.length;C++)for(var P=E[C],R=0;R<w;R++)!P.isDestroyed()&&P.hasTarget(m[R])&&x.push(P);return x},getGlobalTimeScale:function(){return this.timeScale},setGlobalTimeScale:function(m){return this.timeScale=m,this},isTweening:function(m){for(var x=this.tweens,E,w=0;w<x.length;w++)if(E=x[w],E.isPlaying()&&E.hasTarget(m))return!0;return!1},killAll:function(){for(var m=this.processing?this.getTweens():this.tweens,x=0;x<m.length;x++)m[x].destroy();return this.processing||(m.length=0),this},killTweensOf:function(m){for(var x=this.getTweensOf(m),E=0;E<x.length;E++)x[E].destroy();return this},pauseAll:function(){return this.paused=!0,this},resumeAll:function(){return this.paused=!1,this},shutdown:function(){this.killAll(),this.tweens=[],this.events.off(s.UPDATE,this.update,this),this.events.off(s.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(s.START,this.start,this),this.scene=null,this.events=null}});o.register("TweenManager",p,"tweens"),h.exports=p},57355:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u,y){return e&&e.hasOwnProperty(u)?e[u]:y};h.exports=S},6113:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(62640),y=e(35355),f=function(l,o){var s=u.Power0;if(typeof l=="string")if(u.hasOwnProperty(l))s=u[l];else{var a="";if(l.indexOf(".")){a=l.substring(l.indexOf(".")+1);var c=a.toLowerCase();c==="in"?a="easeIn":c==="out"?a="easeOut":c==="inout"&&(a="easeInOut")}l=y(l.substring(0,l.indexOf(".")+1)+a),u.hasOwnProperty(l)&&(s=u[l])}else typeof l=="function"&&(s=l);if(!o)return s;var r=o.slice(0);return r.unshift(0),function(d){return r[0]=d,s.apply(this,r)}};h.exports=f},91389:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(89318),y=e(77259),f=e(28392),l={bezier:u,catmull:y,catmullrom:y,linear:f},o=function(s){if(s===null)return null;var a=l.linear;return typeof s=="string"?l.hasOwnProperty(s)&&(a=l[s]):typeof s=="function"&&(a=s),a};h.exports=o},55292:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u,y){var f;if(e.hasOwnProperty(u)){var l=typeof e[u];l==="function"?f=function(o,s,a,c,r,d){return e[u](o,s,a,c,r,d)}:f=function(){return e[u]}}else typeof y=="function"?f=y:f=function(){return y};return f};h.exports=S},82985:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(81076),y=function(f){var l,o=[];if(f.hasOwnProperty("props"))for(l in f.props)l.substring(0,1)!=="_"&&o.push({key:l,value:f.props[l]});else for(l in f)u.indexOf(l)===-1&&l.substring(0,1)!=="_"&&o.push({key:l,value:f[l]});return o};h.exports=y},62329:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(35154),y=function(f){var l=u(f,"targets",null);return l===null||(typeof l=="function"&&(l=l.call()),Array.isArray(l)||(l=[l])),l};h.exports=y},17777:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(30976),y=e(99472);function f(c){return!!c.getActive&&typeof c.getActive=="function"}function l(c){return!!c.getStart&&typeof c.getStart=="function"}function o(c){return!!c.getEnd&&typeof c.getEnd=="function"}function s(c){return l(c)||o(c)||f(c)}var a=function(c,r){var d,v=function(Y,W,U){return U},p=function(Y,W,U){return U},m=null,x=typeof r;if(x==="number")v=function(){return r};else if(Array.isArray(r))p=function(){return r[0]},v=function(){return r[r.length-1]};else if(x==="string"){var E=r.toLowerCase(),w=E.substring(0,6)==="random",C=E.substring(0,3)==="int";if(w||C){var P=E.indexOf("("),R=E.indexOf(")"),M=E.indexOf(",");if(P&&R&&M){var I=parseFloat(E.substring(P+1,M)),D=parseFloat(E.substring(M+1,R));w?v=function(){return y(I,D)}:v=function(){return u(I,D)}}else throw new Error("invalid random() format")}else{E=E[0];var L=parseFloat(r.substr(2));switch(E){case"+":v=function(Y,W,U){return U+L};break;case"-":v=function(Y,W,U){return U-L};break;case"*":v=function(Y,W,U){return U*L};break;case"/":v=function(Y,W,U){return U/L};break;default:v=function(){return parseFloat(r)}}}}else if(x==="function")v=r;else if(x==="object")if(s(r))f(r)&&(m=r.getActive),o(r)&&(v=r.getEnd),l(r)&&(p=r.getStart);else if(r.hasOwnProperty("value"))d=a(c,r.value);else{var F=r.hasOwnProperty("to"),O=r.hasOwnProperty("from"),N=r.hasOwnProperty("start");if(F&&(O||N)){if(d=a(c,r.to),N){var b=a(c,r.start);d.getActive=b.getEnd}if(O){var V=a(c,r.from);d.getStart=V.getEnd}}}return d||(d={getActive:m,getEnd:v,getStart:p}),d};h.exports=a},88032:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(70402),y=e(69902),f=e(23568),l=e(57355),o=e(6113),s=e(95540),a=e(55292),c=e(35154),r=e(17777),d=e(269),v=e(86081),p=function(m,x,E){if(x instanceof v)return x.parent=m,x;E===void 0?E=y:E=d(y,E);var w=s(x,"from",0),C=s(x,"to",1),P=[{value:w}],R=s(x,"delay",E.delay),M=s(x,"easeParams",E.easeParams),I=s(x,"ease",E.ease),D=r("value",C),L=new v(m,P),F=L.add(0,"value",D.getEnd,D.getStart,D.getActive,o(s(x,"ease",I),s(x,"easeParams",M)),a(x,"delay",R),s(x,"duration",E.duration),l(x,"yoyo",E.yoyo),s(x,"hold",E.hold),s(x,"repeat",E.repeat),s(x,"repeatDelay",E.repeatDelay),!1,!1);F.start=w,F.current=w,L.completeDelay=f(x,"completeDelay",0),L.loop=Math.round(f(x,"loop",0)),L.loopDelay=Math.round(f(x,"loopDelay",0)),L.paused=l(x,"paused",!1),L.persist=l(x,"persist",!1),L.isNumberTween=!0,L.callbackScope=c(x,"callbackScope",L);for(var O=u.TYPES,N=0;N<O.length;N++){var b=O[N],V=c(x,b,!1);if(V){var Y=c(x,b+"Params",[]);L.setCallback(b,V,Y)}}return L};h.exports=p},93109:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(6113),y=e(35154),f=e(36383),l=function(o,s){s===void 0&&(s={});var a,c=y(s,"start",0),r=y(s,"ease",null),d=y(s,"grid",null),v=y(s,"from",0),p=v==="first",m=v==="center",x=v==="last",E=typeof v=="number",w=Array.isArray(o),C=parseFloat(w?o[0]:o),P=w?parseFloat(o[1]):0,R=Math.max(C,P);if(w&&(c+=C),d){var M=d[0],I=d[1],D=0,L=0,F=0,O=0,N=[];x?(D=M-1,L=I-1):E?(D=v%M,L=Math.floor(v/M)):m&&(D=(M-1)/2,L=(I-1)/2);for(var b=f.MIN_SAFE_INTEGER,V=0;V<I;V++){N[V]=[];for(var Y=0;Y<M;Y++){F=D-Y,O=L-V;var W=Math.sqrt(F*F+O*O);W>b&&(b=W),N[V][Y]=W}}}var U=r?u(r):null;return d?a=function(z,B,X,G){var H=0,$=G%M,k=Math.floor(G/M);$>=0&&$<M&&k>=0&&k<I&&(H=N[k][$]);var j;if(w){var Q=P-C;U?j=H/b*Q*U(H/b):j=H/b*Q}else U?j=H*C*U(H/b):j=H*C;return j+c}:a=function(z,B,X,G,H){H--;var $;p?$=G:m?$=Math.abs(H/2-G):x?$=H-G:E&&($=Math.abs(v-G));var k;if(w){var j;m?j=(P-C)/H*($*2):j=(P-C)/H*$,U?k=j*U($/H):k=j}else U?k=H*R*U($/H):k=$*C;return k+c},a};h.exports=l},8357:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(70402),y=e(69902),f=e(23568),l=e(57355),o=e(6113),s=e(95540),a=e(91389),c=e(55292),r=e(82985),d=e(62329),v=e(35154),p=e(17777),m=e(269),x=e(86081),E=function(w,C,P){if(C instanceof x)return C.parent=w,C;P===void 0?P=y:P=m(y,P);var R=d(C);!R&&P.targets&&(R=P.targets);for(var M=r(C),I=s(C,"delay",P.delay),D=s(C,"duration",P.duration),L=s(C,"easeParams",P.easeParams),F=s(C,"ease",P.ease),O=s(C,"hold",P.hold),N=s(C,"repeat",P.repeat),b=s(C,"repeatDelay",P.repeatDelay),V=l(C,"yoyo",P.yoyo),Y=l(C,"flipX",P.flipX),W=l(C,"flipY",P.flipY),U=s(C,"interpolation",P.interpolation),z=function(Z,it,rt,et){if(rt==="texture"){var ct=et,pt=void 0;Array.isArray(et)?(ct=et[0],pt=et[1]):et.hasOwnProperty("value")?(ct=et.value,Array.isArray(et.value)?(ct=et.value[0],pt=et.value[1]):typeof et.value=="string"&&(ct=et.value)):typeof et=="string"&&(ct=et),Z.addFrame(it,ct,pt,c(et,"delay",I),s(et,"duration",D),s(et,"hold",O),s(et,"repeat",N),s(et,"repeatDelay",b),l(et,"flipX",Y),l(et,"flipY",W))}else{var mt=p(rt,et),nt=a(s(et,"interpolation",U));Z.add(it,rt,mt.getEnd,mt.getStart,mt.getActive,o(s(et,"ease",F),s(et,"easeParams",L)),c(et,"delay",I),s(et,"duration",D),l(et,"yoyo",V),s(et,"hold",O),s(et,"repeat",N),s(et,"repeatDelay",b),l(et,"flipX",Y),l(et,"flipY",W),nt,nt?et:null)}},B=new x(w,R),X=0;X<M.length;X++)for(var G=M[X].key,H=M[X].value,$=0;$<R.length;$++)G==="scale"&&!R[$].hasOwnProperty("scale")?(z(B,$,"scaleX",H),z(B,$,"scaleY",H)):z(B,$,G,H);B.completeDelay=f(C,"completeDelay",0),B.loop=Math.round(f(C,"loop",0)),B.loopDelay=Math.round(f(C,"loopDelay",0)),B.paused=l(C,"paused",!1),B.persist=l(C,"persist",!1),B.callbackScope=s(C,"callbackScope",B);for(var k=u.TYPES,j=0;j<k.length;j++){var Q=k[j],J=v(C,Q,!1);if(J){var q=v(C,Q+"Params",[]);B.setCallback(Q,J,q)}}return B};h.exports=E},26012:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(70402),y=e(23568),f=e(57355),l=e(62329),o=e(35154),s=e(8357),a=e(43960),c=function(r,d){if(d instanceof a)return d.parent=r,d;var v=new a(r);v.startDelay=o(d,"delay",0),v.completeDelay=y(d,"completeDelay",0),v.loop=Math.round(y(d,"loop",o(d,"repeat",0))),v.loopDelay=Math.round(y(d,"loopDelay",o(d,"repeatDelay",0))),v.paused=f(d,"paused",!1),v.persist=f(d,"persist",!1),v.callbackScope=o(d,"callbackScope",v);var p,m=u.TYPES;for(p=0;p<m.length;p++){var x=m[p],E=o(d,x,!1);if(E){var w=o(d,x+"Params",[]);v.setCallback(x,E,w)}}var C=o(d,"tweens",null);if(Array.isArray(C)){var P=[],R=l(d),M=void 0;for(R&&(M={targets:R}),p=0;p<C.length;p++)P.push(s(v,C[p],M));v.add(P)}return v};h.exports=c},30231:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={GetBoolean:e(57355),GetEaseFunction:e(6113),GetInterpolationFunction:e(91389),GetNewValue:e(55292),GetProps:e(82985),GetTargets:e(62329),GetValueOp:e(17777),NumberTweenBuilder:e(88032),StaggerBuilder:e(93109),TweenBuilder:e(8357)}},73685:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="active"},98540:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="complete"},67233:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="loop"},2859:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="pause"},98336:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="repeat"},25764:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="resume"},32193:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="start"},84371:h=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="stop"},70766:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="update"},55659:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="yoyo"},842:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={TWEEN_ACTIVE:e(73685),TWEEN_COMPLETE:e(98540),TWEEN_LOOP:e(67233),TWEEN_PAUSE:e(2859),TWEEN_RESUME:e(25764),TWEEN_REPEAT:e(98336),TWEEN_START:e(32193),TWEEN_STOP:e(84371),TWEEN_UPDATE:e(70766),TWEEN_YOYO:e(55659)}},43066:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u={States:e(86353),Builders:e(30231),Events:e(842),TweenManager:e(40382),Tween:e(86081),TweenData:e(48177),TweenFrameData:e(42220),BaseTween:e(70402),TweenChain:e(43960)};h.exports=u},70402:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(50792),f=e(842),l=e(86353),o=new u({Extends:y,initialize:function(a){y.call(this),this.parent=a,this.data=[],this.totalData=0,this.startDelay=0,this.hasStarted=!1,this.timeScale=1,this.loop=0,this.loopDelay=0,this.loopCounter=0,this.completeDelay=0,this.countdown=0,this.state=l.PENDING,this.paused=!1,this.callbacks={onActive:null,onComplete:null,onLoop:null,onPause:null,onRepeat:null,onResume:null,onStart:null,onStop:null,onUpdate:null,onYoyo:null},this.callbackScope,this.persist=!1},setTimeScale:function(s){return this.timeScale=s,this},getTimeScale:function(){return this.timeScale},isPlaying:function(){return!this.paused&&this.isActive()},isPaused:function(){return this.paused},pause:function(){return this.paused||(this.paused=!0,this.dispatchEvent(f.TWEEN_PAUSE,"onPause")),this},resume:function(){return this.paused&&(this.paused=!1,this.dispatchEvent(f.TWEEN_RESUME,"onResume")),this},makeActive:function(){this.parent.makeActive(this),this.dispatchEvent(f.TWEEN_ACTIVE,"onActive")},onCompleteHandler:function(){this.setPendingRemoveState(),this.dispatchEvent(f.TWEEN_COMPLETE,"onComplete")},complete:function(s){return s===void 0&&(s=0),s?(this.setCompleteDelayState(),this.countdown=s):this.onCompleteHandler(),this},completeAfterLoop:function(s){return s===void 0&&(s=0),this.loopCounter>s&&(this.loopCounter=s),this},remove:function(){return this.parent&&this.parent.remove(this),this},stop:function(){return this.parent&&!this.isRemoved()&&!this.isPendingRemove()&&!this.isDestroyed()&&(this.dispatchEvent(f.TWEEN_STOP,"onStop"),this.setPendingRemoveState()),this},updateLoopCountdown:function(s){this.countdown-=s,this.countdown<=0&&(this.setActiveState(),this.dispatchEvent(f.TWEEN_LOOP,"onLoop"))},updateStartCountdown:function(s){return this.countdown-=s,this.countdown<=0&&(this.hasStarted=!0,this.setActiveState(),this.dispatchEvent(f.TWEEN_START,"onStart"),s=0),s},updateCompleteDelay:function(s){this.countdown-=s,this.countdown<=0&&this.onCompleteHandler()},setCallback:function(s,a,c){return c===void 0&&(c=[]),this.callbacks.hasOwnProperty(s)&&(this.callbacks[s]={func:a,params:c}),this},setPendingState:function(){this.state=l.PENDING},setActiveState:function(){this.state=l.ACTIVE,this.hasStarted=!1},setLoopDelayState:function(){this.state=l.LOOP_DELAY},setCompleteDelayState:function(){this.state=l.COMPLETE_DELAY},setStartDelayState:function(){this.state=l.START_DELAY,this.countdown=this.startDelay,this.hasStarted=!1},setPendingRemoveState:function(){this.state=l.PENDING_REMOVE},setRemovedState:function(){this.state=l.REMOVED},setFinishedState:function(){this.state=l.FINISHED},setDestroyedState:function(){this.state=l.DESTROYED},isPending:function(){return this.state===l.PENDING},isActive:function(){return this.state===l.ACTIVE},isLoopDelayed:function(){return this.state===l.LOOP_DELAY},isCompleteDelayed:function(){return this.state===l.COMPLETE_DELAY},isStartDelayed:function(){return this.state===l.START_DELAY},isPendingRemove:function(){return this.state===l.PENDING_REMOVE},isRemoved:function(){return this.state===l.REMOVED},isFinished:function(){return this.state===l.FINISHED},isDestroyed:function(){return this.state===l.DESTROYED},destroy:function(){this.data&&this.data.forEach(function(s){s.destroy()}),this.removeAllListeners(),this.callbacks=null,this.data=null,this.parent=null,this.setDestroyedState()}});o.TYPES=["onActive","onComplete","onLoop","onPause","onRepeat","onResume","onStart","onStop","onUpdate","onYoyo"],h.exports=o},95042:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),y=e(842),f=e(86353),l=new u({initialize:function(s,a,c,r,d,v,p,m,x,E){this.tween=s,this.targetIndex=a,this.duration=r<=0?.01:r,this.totalDuration=0,this.delay=0,this.getDelay=c,this.yoyo=d,this.hold=v,this.repeat=p,this.repeatDelay=m,this.repeatCounter=0,this.flipX=x,this.flipY=E,this.progress=0,this.elapsed=0,this.state=0,this.isCountdown=!1},getTarget:function(){return this.tween.targets[this.targetIndex]},setTargetValue:function(o){o===void 0&&(o=this.current),this.tween.targets[this.targetIndex][this.key]=o},setCreatedState:function(){this.state=f.CREATED,this.isCountdown=!1},setDelayState:function(){this.state=f.DELAY,this.isCountdown=!0},setPendingRenderState:function(){this.state=f.PENDING_RENDER,this.isCountdown=!1},setPlayingForwardState:function(){this.state=f.PLAYING_FORWARD,this.isCountdown=!1},setPlayingBackwardState:function(){this.state=f.PLAYING_BACKWARD,this.isCountdown=!1},setHoldState:function(){this.state=f.HOLD_DELAY,this.isCountdown=!0},setRepeatState:function(){this.state=f.REPEAT_DELAY,this.isCountdown=!0},setCompleteState:function(){this.state=f.COMPLETE,this.isCountdown=!1},isCreated:function(){return this.state===f.CREATED},isDelayed:function(){return this.state===f.DELAY},isPendingRender:function(){return this.state===f.PENDING_RENDER},isPlayingForward:function(){return this.state===f.PLAYING_FORWARD},isPlayingBackward:function(){return this.state===f.PLAYING_BACKWARD},isHolding:function(){return this.state===f.HOLD_DELAY},isRepeating:function(){return this.state===f.REPEAT_DELAY},isComplete:function(){return this.state===f.COMPLETE},setStateFromEnd:function(o){this.yoyo?this.onRepeat(o,!0,!0):this.repeatCounter>0?this.onRepeat(o,!0,!1):this.setCompleteState()},setStateFromStart:function(o){this.repeatCounter>0?this.onRepeat(o,!1):this.setCompleteState()},reset:function(){var o=this.tween,s=o.totalTargets,a=this.targetIndex,c=o.targets[a],r=this.key;this.progress=0,this.elapsed=0,this.delay=this.getDelay(c,r,0,a,s,o),this.repeatCounter=this.repeat===-1?f.MAX:this.repeat,this.setPendingRenderState();var d=this.duration+this.hold;this.yoyo&&(d+=this.duration);var v=d+this.repeatDelay;this.totalDuration=this.delay+d,this.repeat===-1?(this.totalDuration+=v*f.MAX,o.isInfinite=!0):this.repeat>0&&(this.totalDuration+=v*this.repeat),this.totalDuration>o.duration&&(o.duration=this.totalDuration),this.delay<o.startDelay&&(o.startDelay=this.delay),this.delay>0&&(this.elapsed=this.delay,this.setDelayState())},onRepeat:function(o,s,a){var c=this.tween,r=c.totalTargets,d=this.targetIndex,v=c.targets[d],p=this.key,m=p!=="texture";if(this.elapsed=o,this.progress=o/this.duration,this.flipX&&v.toggleFlipX(),this.flipY&&v.toggleFlipY(),m&&(s||a)&&(this.start=this.getStartValue(v,p,this.start,d,r,c)),a){this.setPlayingBackwardState(),this.dispatchEvent(y.TWEEN_YOYO,"onYoyo");return}this.repeatCounter--,m&&(this.end=this.getEndValue(v,p,this.start,d,r,c)),this.repeatDelay>0?(this.elapsed=this.repeatDelay-o,m&&(this.current=this.start,v[p]=this.current),this.setRepeatState()):(this.setPlayingForwardState(),this.dispatchEvent(y.TWEEN_REPEAT,"onRepeat"))},destroy:function(){this.tween=null,this.getDelay=null,this.setCompleteState()}});h.exports=l},69902:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={targets:null,delay:0,duration:1e3,ease:"Power0",easeParams:null,hold:0,repeat:0,repeatDelay:0,yoyo:!1,flipX:!1,flipY:!1,persist:!1,interpolation:null};h.exports=S},81076:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports=["callbackScope","completeDelay","delay","duration","ease","easeParams","flipX","flipY","hold","interpolation","loop","loopDelay","onActive","onActiveParams","onComplete","onCompleteParams","onLoop","onLoopParams","onPause","onPauseParams","onRepeat","onRepeatParams","onResume","onResumeParams","onStart","onStartParams","onStop","onStopParams","onUpdate","onUpdateParams","onYoyo","onYoyoParams","paused","persist","props","repeat","repeatDelay","targets","yoyo"]},86081:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(70402),y=e(83419),f=e(842),l=e(44603),o=e(39429),s=e(36383),a=e(86353),c=e(48177),r=e(42220),d=new y({Extends:u,initialize:function(p,m){u.call(this,p),this.targets=m,this.totalTargets=m.length,this.isSeeking=!1,this.isInfinite=!1,this.elapsed=0,this.totalElapsed=0,this.duration=0,this.progress=0,this.totalDuration=0,this.totalProgress=0,this.isNumberTween=!1},add:function(v,p,m,x,E,w,C,P,R,M,I,D,L,F,O,N){var b=new c(this,v,p,m,x,E,w,C,P,R,M,I,D,L,F,O,N);return this.totalData=this.data.push(b),b},addFrame:function(v,p,m,x,E,w,C,P,R,M){var I=new r(this,v,p,m,x,E,w,C,P,R,M);return this.totalData=this.data.push(I),I},getValue:function(v){v===void 0&&(v=0);var p=null;return this.data&&(p=this.data[v].current),p},hasTarget:function(v){return this.targets&&this.targets.indexOf(v)!==-1},updateTo:function(v,p,m){if(m===void 0&&(m=!1),v!=="texture")for(var x=0;x<this.totalData;x++){var E=this.data[x];E.key===v&&(E.isPlayingForward()||E.isPlayingBackward())&&(E.end=p,m&&(E.start=E.current))}return this},restart:function(){switch(this.state){case a.REMOVED:case a.FINISHED:this.seek(),this.parent.makeActive(this);break;case a.PENDING:case a.PENDING_REMOVE:this.parent.reset(this);break;case a.DESTROYED:console.warn("Cannot restart destroyed Tween",this);break;default:this.seek();break}return this.paused=!1,this.hasStarted=!1,this},nextState:function(){if(this.loopCounter>0)this.elapsed=0,this.progress=0,this.loopCounter--,this.initTweenData(!0),this.loopDelay>0?(this.countdown=this.loopDelay,this.setLoopDelayState()):(this.setActiveState(),this.dispatchEvent(f.TWEEN_LOOP,"onLoop"));else if(this.completeDelay>0)this.countdown=this.completeDelay,this.setCompleteDelayState();else return this.onCompleteHandler(),!0;return!1},onCompleteHandler:function(){this.progress=1,this.totalProgress=1,u.prototype.onCompleteHandler.call(this)},play:function(){return this.isDestroyed()?(console.warn("Cannot play destroyed Tween",this),this):((this.isPendingRemove()||this.isFinished())&&this.seek(),this.paused=!1,this.setActiveState(),this)},seek:function(v,p,m){if(v===void 0&&(v=0),p===void 0&&(p=16.6),m===void 0&&(m=!1),this.isDestroyed())return console.warn("Cannot seek destroyed Tween",this),this;m||(this.isSeeking=!0),this.reset(!0),this.initTweenData(!0),this.setActiveState(),this.dispatchEvent(f.TWEEN_ACTIVE,"onActive");var x=this.paused;if(this.paused=!1,v>0){for(var E=Math.floor(v/p),w=v-E*p,C=0;C<E;C++)this.update(p);w>0&&this.update(w)}return this.paused=x,this.isSeeking=!1,this},initTweenData:function(v){v===void 0&&(v=!1),this.duration=0,this.startDelay=s.MAX_SAFE_INTEGER;for(var p=this.data,m=0;m<this.totalData;m++)p[m].reset(v);this.duration=Math.max(this.duration,.01);var x=this.duration,E=this.completeDelay,w=this.loopCounter,C=this.loopDelay;w>0?this.totalDuration=x+E+(x+C)*w:this.totalDuration=x+E},reset:function(v){return v===void 0&&(v=!1),this.elapsed=0,this.totalElapsed=0,this.progress=0,this.totalProgress=0,this.loopCounter=this.loop,this.loop===-1&&(this.isInfinite=!0,this.loopCounter=a.MAX),v||(this.initTweenData(),this.setActiveState(),this.dispatchEvent(f.TWEEN_ACTIVE,"onActive")),this},update:function(v){if(this.isPendingRemove()||this.isDestroyed())return this.persist?(this.setFinishedState(),!1):!0;if(this.paused||this.isFinished())return!1;if(v*=this.timeScale*this.parent.timeScale,this.isLoopDelayed())return this.updateLoopCountdown(v),!1;if(this.isCompleteDelayed())return this.updateCompleteDelay(v),!1;this.hasStarted||(this.startDelay-=v,this.startDelay<=0&&(this.hasStarted=!0,this.dispatchEvent(f.TWEEN_START,"onStart"),v=0));var p=!1;if(this.isActive())for(var m=this.data,x=0;x<this.totalData;x++)m[x].update(v)&&(p=!0);this.elapsed+=v,this.progress=Math.min(this.elapsed/this.duration,1),this.totalElapsed+=v,this.totalProgress=Math.min(this.totalElapsed/this.totalDuration,1),p||this.nextState();var E=this.isPendingRemove();return E&&this.persist&&(this.setFinishedState(),E=!1),E},forward:function(v){return this.update(v),this},rewind:function(v){return this.update(-v),this},dispatchEvent:function(v,p){if(!this.isSeeking){if(this.emit(v,this,this.targets),!this.callbacks)return;var m=this.callbacks[p];m&&m.func.apply(this.callbackScope,[this,this.targets].concat(m.params))}},destroy:function(){u.prototype.destroy.call(this),this.targets=null}});o.register("tween",function(v){return this.scene.sys.tweens.add(v)}),l.register("tween",function(v){return this.scene.sys.tweens.create(v)}),h.exports=d},43960:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(72905),y=e(70402),f=e(83419),l=e(842),o=e(44603),s=e(39429),a=e(86353),c=new f({Extends:y,initialize:function(d){y.call(this,d),this.currentTween=null,this.currentIndex=0},init:function(){return this.loopCounter=this.loop===-1?a.MAX:this.loop,this.setCurrentTween(0),this.startDelay>0&&!this.isStartDelayed()?this.setStartDelayState():this.setActiveState(),this},add:function(r){var d=this.parent.create(r);Array.isArray(d)||(d=[d]);for(var v=this.data,p=0;p<d.length;p++){var m=d[p];m.parent=this,v.push(m.reset())}return this.totalData=v.length,this},remove:function(r){return u(this.data,r),r.setRemovedState(),r===this.currentTween&&this.nextTween(),this.totalData=this.data.length,this},hasTarget:function(r){for(var d=this.data,v=0;v<this.totalData;v++)if(d[v].hasTarget(r))return!0;return!1},restart:function(){return this.isDestroyed()?(console.warn("Cannot restart destroyed TweenChain",this),this):(this.isRemoved()&&this.parent.makeActive(this),this.resetTweens(),this.paused=!1,this.init())},reset:function(r){return r.seek(),r.setActiveState(),this},makeActive:function(r){return r.reset(),r.setActiveState(),this},nextState:function(){if(this.loopCounter>0)this.loopCounter--,this.resetTweens(),this.loopDelay>0?(this.countdown=this.loopDelay,this.setLoopDelayState()):(this.setActiveState(),this.dispatchEvent(l.TWEEN_LOOP,"onLoop"));else if(this.completeDelay>0)this.countdown=this.completeDelay,this.setCompleteDelayState();else return this.onCompleteHandler(),!0;return!1},play:function(){return this.isDestroyed()?(console.warn("Cannot play destroyed TweenChain",this),this):((this.isPendingRemove()||this.isPending())&&this.resetTweens(),this.paused=!1,this.startDelay>0&&!this.isStartDelayed()?this.setStartDelayState():this.setActiveState(),this)},resetTweens:function(){for(var r=this.data,d=this.totalData,v=0;v<d;v++)r[v].reset(!1);this.setCurrentTween(0)},update:function(r){if(this.isPendingRemove()||this.isDestroyed())return this.persist?(this.setFinishedState(),!1):!0;if(this.isFinished()||this.paused)return!1;if(r*=this.parent.timeScale,this.isLoopDelayed())return this.updateLoopCountdown(r),!1;if(this.isCompleteDelayed())return this.updateCompleteDelay(r),!1;this.hasStarted||(this.startDelay-=r,this.startDelay<=0&&(this.hasStarted=!0,this.dispatchEvent(l.TWEEN_START,"onStart"),r=0));var d=!1;return this.isActive()&&this.currentTween&&(this.currentTween.update(r)&&this.nextTween()&&this.nextState(),d=this.isPendingRemove(),d&&this.persist&&(this.setFinishedState(),d=!1)),d},nextTween:function(){return this.currentIndex++,this.currentIndex===this.totalData?!0:(this.setCurrentTween(this.currentIndex),!1)},setCurrentTween:function(r){this.currentIndex=r,this.currentTween=this.data[r],this.currentTween.setActiveState()},dispatchEvent:function(r,d){this.emit(r,this);var v=this.callbacks[d];v&&v.func.apply(this.callbackScope,[this].concat(v.params))},destroy:function(){y.prototype.destroy.call(this),this.currentTween=null}});s.register("tweenchain",function(r){return this.scene.sys.tweens.chain(r)}),o.register("tweenchain",function(r){return this.scene.sys.tweens.create(r)}),h.exports=c},48177:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(95042),y=e(45319),f=e(83419),l=e(842),o=new f({Extends:u,initialize:function(a,c,r,d,v,p,m,x,E,w,C,P,R,M,I,D,L){u.call(this,a,c,x,E,w,C,P,R,M,I),this.key=r,this.getActiveValue=p,this.getEndValue=d,this.getStartValue=v,this.ease=m,this.start=0,this.previous=0,this.current=0,this.end=0,this.interpolation=D,this.interpolationData=L},reset:function(s){u.prototype.reset.call(this);var a=this.tween.targets[this.targetIndex],c=this.key;s&&(a[c]=this.start),this.start=0,this.previous=0,this.current=0,this.end=0,this.getActiveValue&&(a[c]=this.getActiveValue(a,c,0))},update:function(s){var a=this.tween,c=a.totalTargets,r=this.targetIndex,d=a.targets[r],v=this.key;if(!d)return this.setCompleteState(),!1;if(this.isCountdown&&(this.elapsed-=s,this.elapsed<=0&&(this.elapsed=0,s=0,this.isDelayed()?this.setPendingRenderState():this.isRepeating()?(this.setPlayingForwardState(),this.dispatchEvent(l.TWEEN_REPEAT,"onRepeat")):this.isHolding()&&this.setStateFromEnd(0))),this.isPendingRender())return this.start=this.getStartValue(d,v,d[v],r,c,a),this.end=this.getEndValue(d,v,this.start,r,c,a),this.current=this.start,d[v]=this.start,this.setPlayingForwardState(),!0;var p=this.isPlayingForward(),m=this.isPlayingBackward();if(p||m){var x=this.elapsed,E=this.duration,w=0,C=!1;x+=s,x>=E?(w=x-E,x=E,C=!0):x<0&&(x=0);var P=y(x/E,0,1);this.elapsed=x,this.progress=P,this.previous=this.current,p||(P=1-P);var R=this.ease(P);this.interpolation?this.current=this.interpolation(this.interpolationData,R):this.current=this.start+(this.end-this.start)*R,d[v]=this.current,C&&(p?(a.isNumberTween&&(this.current=this.end,d[v]=this.current),this.hold>0?(this.elapsed=this.hold,this.setHoldState()):this.setStateFromEnd(w)):(a.isNumberTween&&(this.current=this.start,d[v]=this.current),this.setStateFromStart(w))),this.dispatchEvent(l.TWEEN_UPDATE,"onUpdate")}return!this.isComplete()},dispatchEvent:function(s,a){var c=this.tween;if(!c.isSeeking){var r=c.targets[this.targetIndex],d=this.key,v=this.current,p=this.previous;c.emit(s,c,d,r,v,p);var m=c.callbacks[a];m&&m.func.apply(c.callbackScope,[c,r,d,v,p].concat(m.params))}},destroy:function(){u.prototype.destroy.call(this),this.getActiveValue=null,this.getEndValue=null,this.getStartValue=null,this.ease=null}});h.exports=o},42220:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(95042),y=e(45319),f=e(83419),l=e(842),o=new f({Extends:u,initialize:function(a,c,r,d,v,p,m,x,E,w,C){u.call(this,a,c,v,p,!1,m,x,E,w,C),this.key="texture",this.startTexture=null,this.endTexture=r,this.startFrame=null,this.endFrame=d,this.yoyo=x!==0},reset:function(s){u.prototype.reset.call(this);var a=this.tween.targets[this.targetIndex];this.startTexture||(this.startTexture=a.texture.key,this.startFrame=a.frame.name),s&&a.setTexture(this.startTexture,this.startFrame)},update:function(s){var a=this.tween,c=this.targetIndex,r=a.targets[c];if(!r)return this.setCompleteState(),!1;if(this.isCountdown&&(this.elapsed-=s,this.elapsed<=0&&(this.elapsed=0,s=0,this.isDelayed()?this.setPendingRenderState():this.isRepeating()?(this.setPlayingForwardState(),this.dispatchEvent(l.TWEEN_REPEAT,"onRepeat")):this.isHolding()&&this.setStateFromEnd(0))),this.isPendingRender())return this.startTexture&&r.setTexture(this.startTexture,this.startFrame),this.setPlayingForwardState(),!0;var d=this.isPlayingForward(),v=this.isPlayingBackward();if(d||v){var p=this.elapsed,m=this.duration,x=0,E=!1;p+=s,p>=m?(x=p-m,p=m,E=!0):p<0&&(p=0);var w=y(p/m,0,1);this.elapsed=p,this.progress=w,E&&(d?(r.setTexture(this.endTexture,this.endFrame),this.hold>0?(this.elapsed=this.hold,this.setHoldState()):this.setStateFromEnd(x)):(r.setTexture(this.startTexture,this.startFrame),this.setStateFromStart(x))),this.dispatchEvent(l.TWEEN_UPDATE,"onUpdate")}return!this.isComplete()},dispatchEvent:function(s,a){var c=this.tween;if(!c.isSeeking){var r=c.targets[this.targetIndex],d=this.key;c.emit(s,c,d,r);var v=c.callbacks[a];v&&v.func.apply(c.callbackScope,[c,r,d].concat(v.params))}},destroy:function(){u.prototype.destroy.call(this),this.startTexture=null,this.endTexture=null,this.startFrame=null,this.endFrame=null}});h.exports=o},86353:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={CREATED:0,DELAY:2,PENDING_RENDER:4,PLAYING_FORWARD:5,PLAYING_BACKWARD:6,HOLD_DELAY:7,REPEAT_DELAY:8,COMPLETE:9,PENDING:20,ACTIVE:21,LOOP_DELAY:22,COMPLETE_DELAY:23,START_DELAY:24,PENDING_REMOVE:25,REMOVED:26,FINISHED:27,DESTROYED:28,MAX:999999999999};h.exports=S},83419:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function S(o){return!!o.get&&typeof o.get=="function"||!!o.set&&typeof o.set=="function"}function e(o,s,a){var c=a?o[s]:Object.getOwnPropertyDescriptor(o,s);return!a&&c.value&&typeof c.value=="object"&&(c=c.value),c&&S(c)?(typeof c.enumerable>"u"&&(c.enumerable=!0),typeof c.configurable>"u"&&(c.configurable=!0),c):!1}function u(o,s){var a=Object.getOwnPropertyDescriptor(o,s);return a?(a.value&&typeof a.value=="object"&&(a=a.value),a.configurable===!1):!1}function y(o,s,a,c){for(var r in s)if(s.hasOwnProperty(r)){var d=e(s,r,a);if(d!==!1){var v=c||o;if(u(v.prototype,r)){if(l.ignoreFinals)continue;throw new Error("cannot override final property '"+r+"', set Class.ignoreFinals = true to skip")}Object.defineProperty(o.prototype,r,d)}else o.prototype[r]=s[r]}}function f(o,s){if(s){Array.isArray(s)||(s=[s]);for(var a=0;a<s.length;a++)y(o,s[a].prototype||s[a])}}function l(o){o||(o={});var s,a;if(o.initialize){if(typeof o.initialize!="function")throw new Error("initialize must be a function");s=o.initialize,delete o.initialize}else if(o.Extends){var c=o.Extends;s=function(){c.apply(this,arguments)}}else s=function(){};o.Extends?(s.prototype=Object.create(o.Extends.prototype),s.prototype.constructor=s,a=o.Extends,delete o.Extends):s.prototype.constructor=s;var r=null;return o.Mixins&&(r=o.Mixins,delete o.Mixins),f(s,r),y(s,o,!0,a),s}l.extend=y,l.mixin=f,l.ignoreFinals=!1,h.exports=l},29747:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(){};h.exports=S},20242:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(){return null};h.exports=S},71146:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u,y,f,l){if(l===void 0&&(l=e),y>0){var o=y-e.length;if(o<=0)return null}if(!Array.isArray(u))return e.indexOf(u)===-1?(e.push(u),f&&f.call(l,u),u):null;for(var s=u.length-1;s>=0;)e.indexOf(u[s])!==-1&&u.splice(s,1),s--;if(s=u.length,s===0)return null;y>0&&s>o&&(u.splice(o),s=o);for(var a=0;a<s;a++){var c=u[a];e.push(c),f&&f.call(l,c)}return u};h.exports=S},51067:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u,y,f,l,o){if(y===void 0&&(y=0),o===void 0&&(o=e),f>0){var s=f-e.length;if(s<=0)return null}if(!Array.isArray(u))return e.indexOf(u)===-1?(e.splice(y,0,u),l&&l.call(o,u),u):null;for(var a=u.length-1;a>=0;)e.indexOf(u[a])!==-1&&u.pop(),a--;if(a=u.length,a===0)return null;f>0&&a>s&&(u.splice(s),a=s);for(var c=a-1;c>=0;c--){var r=u[c];e.splice(y,0,r),l&&l.call(o,r)}return u};h.exports=S},66905:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u){var y=e.indexOf(u);return y!==-1&&y<e.length&&(e.splice(y,1),e.push(u)),u};h.exports=S},21612:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(82011),y=function(f,l,o,s,a){s===void 0&&(s=0),a===void 0&&(a=f.length);var c=0;if(u(f,s,a))for(var r=s;r<a;r++){var d=f[r];d[l]===o&&c++}return c};h.exports=y},95428:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u,y){var f,l=[null];for(f=3;f<arguments.length;f++)l.push(arguments[f]);for(f=0;f<e.length;f++)l[0]=e[f],u.apply(y,l);return e};h.exports=S},36914:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(82011),y=function(f,l,o,s,a){if(s===void 0&&(s=0),a===void 0&&(a=f.length),u(f,s,a)){var c,r=[null];for(c=5;c<arguments.length;c++)r.push(arguments[c]);for(c=s;c<a;c++)r[0]=f[c],l.apply(o,r)}return f};h.exports=y},81957:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u,y){if(u.length){if(u.length===1)return u[0]}else return NaN;var f=1,l,o;if(y){if(e<u[0][y])return u[0];for(;u[f][y]<e;)f++}else for(;u[f]<e;)f++;return f>u.length&&(f=u.length),y?(l=u[f-1][y],o=u[f][y],o-e<=e-l?u[f]:u[f-1]):(l=u[f-1],o=u[f],o-e<=e-l?o:l)};h.exports=S},43491:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u){u===void 0&&(u=[]);for(var y=0;y<e.length;y++)Array.isArray(e[y])?S(e[y],u):u.push(e[y]);return u};h.exports=S},46710:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(82011),y=function(f,l,o,s,a){s===void 0&&(s=0),a===void 0&&(a=f.length);var c=[];if(u(f,s,a))for(var r=s;r<a;r++){var d=f[r];(!l||l&&o===void 0&&d.hasOwnProperty(l)||l&&o!==void 0&&d[l]===o)&&c.push(d)}return c};h.exports=y},58731:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(82011),y=function(f,l,o,s,a){if(s===void 0&&(s=0),a===void 0&&(a=f.length),s!==-1){if(u(f,s,a))for(var c=s;c<a;c++){var r=f[c];if(!l||l&&o===void 0&&r.hasOwnProperty(l)||l&&o!==void 0&&r[l]===o)return r}}else if(u(f,0,a))for(var c=a;c>=0;c--){var r=f[c];if(!l||l&&o===void 0&&r.hasOwnProperty(l)||l&&o!==void 0&&r[l]===o)return r}return null};h.exports=y},26546:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u,y){u===void 0&&(u=0),y===void 0&&(y=e.length);var f=u+Math.floor(Math.random()*y);return e[f]===void 0?null:e[f]};h.exports=S},85835:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u,y){if(u===y)return e;var f=e.indexOf(u),l=e.indexOf(y);if(f<0||l<0)throw new Error("Supplied items must be elements of the same array");return f>l||(e.splice(f,1),l=e.indexOf(y),e.splice(l+1,0,u)),e};h.exports=S},83371:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u,y){if(u===y)return e;var f=e.indexOf(u),l=e.indexOf(y);if(f<0||l<0)throw new Error("Supplied items must be elements of the same array");return f<l||(e.splice(f,1),l===0?e.unshift(u):e.splice(l,0,u)),e};h.exports=S},70864:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u){var y=e.indexOf(u);if(y>0){var f=e[y-1],l=e.indexOf(f);e[y]=f,e[l]=u}return e};h.exports=S},69693:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u,y){var f=e.indexOf(u);if(f===-1||y<0||y>=e.length)throw new Error("Supplied index out of bounds");return f!==y&&(e.splice(f,1),e.splice(y,0,u)),u};h.exports=S},40853:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u){var y=e.indexOf(u);if(y!==-1&&y<e.length-1){var f=e[y+1],l=e.indexOf(f);e[y]=f,e[l]=u}return e};h.exports=S},20283:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u,y,f){var l=[],o,s=!1;if((y||f)&&(s=!0,y||(y=""),f||(f="")),u<e)for(o=e;o>=u;o--)s?l.push(y+o.toString()+f):l.push(o);else for(o=e;o<=u;o++)s?l.push(y+o.toString()+f):l.push(o);return l};h.exports=S},593:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(2284),y=function(f,l,o){f===void 0&&(f=0),l===void 0&&(l=null),o===void 0&&(o=1),l===null&&(l=f,f=0);for(var s=[],a=Math.max(u((l-f)/(o||1)),0),c=0;c<a;c++)s.push(f),f+=o;return s};h.exports=y},43886:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function S(y,f,l){var o=y[f];y[f]=y[l],y[l]=o}function e(y,f){return y<f?-1:y>f?1:0}var u=function(y,f,l,o,s){for(l===void 0&&(l=0),o===void 0&&(o=y.length-1),s===void 0&&(s=e);o>l;){if(o-l>600){var a=o-l+1,c=f-l+1,r=Math.log(a),d=.5*Math.exp(2*r/3),v=.5*Math.sqrt(r*d*(a-d)/a)*(c-a/2<0?-1:1),p=Math.max(l,Math.floor(f-c*d/a+v)),m=Math.min(o,Math.floor(f+(a-c)*d/a+v));u(y,f,p,m,s)}var x=y[f],E=l,w=o;for(S(y,l,f),s(y[o],x)>0&&S(y,l,o);E<w;){for(S(y,E,w),E++,w--;s(y[E],x)<0;)E++;for(;s(y[w],x)>0;)w--}s(y[l],x)===0?S(y,l,w):(w++,S(y,w,o)),w<=f&&(l=w+1),f<=w&&(o=w-1)}};h.exports=u},88492:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(35154),y=e(33680),f=function(o,s,a){for(var c=[],r=0;r<o.length;r++)for(var d=0;d<s.length;d++)for(var v=0;v<a;v++)c.push({a:o[r],b:s[d]});return c},l=function(o,s,a){var c=u(a,"max",0),r=u(a,"qty",1),d=u(a,"random",!1),v=u(a,"randomB",!1),p=u(a,"repeat",0),m=u(a,"yoyo",!1),x=[];if(v&&y(s),p===-1)if(c===0)p=0;else{var E=o.length*s.length*r;m&&(E*=2),p=Math.ceil(c/E)}for(var w=0;w<=p;w++){var C=f(o,s,r);d&&y(C),x=x.concat(C),m&&(C.reverse(),x=x.concat(C))}return c&&x.splice(c),x};h.exports=l},72905:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(19133),y=function(f,l,o,s){s===void 0&&(s=f);var a;if(!Array.isArray(l))return a=f.indexOf(l),a!==-1?(u(f,a),o&&o.call(s,l),l):null;for(var c=l.length-1,r=[];c>=0;){var d=l[c];a=f.indexOf(d),a!==-1&&(u(f,a),r.push(d),o&&o.call(s,d)),c--}return r};h.exports=y},60248:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(19133),y=function(f,l,o,s){if(s===void 0&&(s=f),l<0||l>f.length-1)throw new Error("Index out of bounds");var a=u(f,l);return o&&o.call(s,a),a};h.exports=y},81409:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(82011),y=function(f,l,o,s,a){if(l===void 0&&(l=0),o===void 0&&(o=f.length),a===void 0&&(a=f),u(f,l,o)){var c=o-l,r=f.splice(l,c);if(s)for(var d=0;d<r.length;d++){var v=r[d];s.call(a,v)}return r}else return[]};h.exports=y},31856:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(19133),y=function(f,l,o){l===void 0&&(l=0),o===void 0&&(o=f.length);var s=l+Math.floor(Math.random()*o);return u(f,s)};h.exports=y},42169:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u,y){var f=e.indexOf(u),l=e.indexOf(y);return f!==-1&&l===-1?(e[f]=y,!0):!1};h.exports=S},86003:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u){u===void 0&&(u=1);for(var y=null,f=0;f<u;f++)y=e.shift(),e.push(y);return y};h.exports=S},49498:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u){u===void 0&&(u=1);for(var y=null,f=0;f<u;f++)y=e.pop(),e.unshift(y);return y};h.exports=S},82011:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u,y,f){var l=e.length;if(u<0||u>=l||u>=y||y>l){if(f)throw new Error("Range Error: Values outside acceptable range");return!1}else return!0};h.exports=S},89545:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u){var y=e.indexOf(u);return y!==-1&&y>0&&(e.splice(y,1),e.unshift(u)),u};h.exports=S},17810:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(82011),y=function(f,l,o,s,a){if(s===void 0&&(s=0),a===void 0&&(a=f.length),u(f,s,a))for(var c=s;c<a;c++){var r=f[c];r.hasOwnProperty(l)&&(r[l]=o)}return f};h.exports=y},33680:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e){for(var u=e.length-1;u>0;u--){var y=Math.floor(Math.random()*(u+1)),f=e[u];e[u]=e[y],e[y]=f}return e};h.exports=S},90126:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e){var u=/\D/g;return e.sort(function(y,f){return parseInt(y.replace(u,""),10)-parseInt(f.replace(u,""),10)}),e};h.exports=S},19133:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u){if(!(u>=e.length)){for(var y=e.length-1,f=e[u],l=u;l<y;l++)e[l]=e[l+1];return e.length=y,f}};h.exports=S},19186:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Angry Bytes (and contributors)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(82264);function y(s,a){return String(s).localeCompare(a)}function f(s,a){var c=s.length;if(c<=1)return s;for(var r=new Array(c),d=1;d<c;d*=2){l(s,a,d,r);var v=s;s=r,r=v}return s}function l(s,a,c,r){var d=s.length,v=0,p=c*2,m,x,E,w,C;for(m=0;m<d;m+=p)for(x=m+c,E=x+c,x>d&&(x=d),E>d&&(E=d),w=m,C=x;;)if(w<x&&C<E)a(s[w],s[C])<=0?r[v++]=s[w++]:r[v++]=s[C++];else if(w<x)r[v++]=s[w++];else if(C<E)r[v++]=s[C++];else break}var o=function(s,a){if(a===void 0&&(a=y),!s||s.length<2)return s;if(u.features.stableSort)return s.sort(a);var c=f(s,a);return c!==s&&l(c,null,s.length,s),s};h.exports=o},25630:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u,y){if(u===y)return e;var f=e.indexOf(u),l=e.indexOf(y);if(f<0||l<0)throw new Error("Supplied items must be elements of the same array");return e[f]=y,e[l]=u,e};h.exports=S},37105:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={Matrix:e(54915),Add:e(71146),AddAt:e(51067),BringToTop:e(66905),CountAllMatching:e(21612),Each:e(95428),EachInRange:e(36914),FindClosestInSorted:e(81957),Flatten:e(43491),GetAll:e(46710),GetFirst:e(58731),GetRandom:e(26546),MoveDown:e(70864),MoveTo:e(69693),MoveUp:e(40853),MoveAbove:e(85835),MoveBelow:e(83371),NumberArray:e(20283),NumberArrayStep:e(593),QuickSelect:e(43886),Range:e(88492),Remove:e(72905),RemoveAt:e(60248),RemoveBetween:e(81409),RemoveRandomElement:e(31856),Replace:e(42169),RotateLeft:e(86003),RotateRight:e(49498),SafeRange:e(82011),SendToBack:e(89545),SetAll:e(17810),Shuffle:e(33680),SortByDigits:e(90126),SpliceOne:e(19133),StableSort:e(19186),Swap:e(25630)}},86922:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e){if(!Array.isArray(e)||!Array.isArray(e[0]))return!1;for(var u=e[0].length,y=1;y<e.length;y++)if(e[y].length!==u)return!1;return!0};h.exports=S},63362:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(41836),y=e(86922),f=function(l){var o="";if(!y(l))return o;for(var s=0;s<l.length;s++){for(var a=0;a<l[s].length;a++){var c=l[s][a].toString();c!=="undefined"?o+=u(c,2):o+="?",a<l[s].length-1&&(o+=" |")}if(s<l.length-1){o+=`
`;for(var r=0;r<l[s].length;r++)o+="---",r<l[s].length-1&&(o+="+");o+=`
`}}return o};h.exports=f},92598:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e){return e.reverse()};h.exports=S},21224:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e){for(var u=0;u<e.length;u++)e[u].reverse();return e};h.exports=S},98717:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(37829),y=function(f){return u(f,180)};h.exports=y},44657:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(37829),y=function(f,l){l===void 0&&(l=1);for(var o=0;o<l;o++)f=u(f,90);return f};h.exports=y},37829:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(86922),y=e(2429),f=function(l,o){if(o===void 0&&(o=90),!u(l))return null;if(typeof o!="string"&&(o=(o%360+360)%360),o===90||o===-270||o==="rotateLeft")l=y(l),l.reverse();else if(o===-90||o===270||o==="rotateRight")l.reverse(),l=y(l);else if(Math.abs(o)===180||o==="rotate180"){for(var s=0;s<l.length;s++)l[s].reverse();l.reverse()}return l};h.exports=f},92632:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(37829),y=function(f,l){l===void 0&&(l=1);for(var o=0;o<l;o++)f=u(f,-90);return f};h.exports=y},69512:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(86003),y=e(49498),f=function(l,o,s){if(o===void 0&&(o=0),s===void 0&&(s=0),s!==0&&(s<0?u(l,Math.abs(s)):y(l,s)),o!==0)for(var a=0;a<l.length;a++){var c=l[a];o<0?u(c,Math.abs(o)):y(c,o)}return l};h.exports=f},2429:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e){for(var u=e.length,y=e[0].length,f=new Array(y),l=0;l<y;l++){f[l]=new Array(u);for(var o=u-1;o>-1;o--)f[l][o]=e[o][l]}return f};h.exports=S},54915:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={CheckMatrix:e(86922),MatrixToString:e(63362),ReverseColumns:e(92598),ReverseRows:e(21224),Rotate180:e(98717),RotateLeft:e(44657),RotateMatrix:e(37829),RotateRight:e(92632),Translate:e(69512),TransposeMatrix:e(2429)}},71334:h=>{/**
 * @author       Niklas von Hertzen (https://github.com/niklasvh/base64-arraybuffer)
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e=function(u,y){for(var f=new Uint8Array(u),l=f.length,o=y?"data:"+y+";base64,":"",s=0;s<l;s+=3)o+=S[f[s]>>2],o+=S[(f[s]&3)<<4|f[s+1]>>4],o+=S[(f[s+1]&15)<<2|f[s+2]>>6],o+=S[f[s+2]&63];return l%3===2?o=o.substring(0,o.length-1)+"=":l%3===1&&(o=o.substring(0,o.length-2)+"=="),o};h.exports=e},53134:h=>{/**
 * @author       Niklas von Hertzen (https://github.com/niklasvh/base64-arraybuffer)
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */for(var S="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e=new Uint8Array(256),u=0;u<S.length;u++)e[S.charCodeAt(u)]=u;var y=function(f){f=f.substr(f.indexOf(",")+1);var l=f.length,o=l*.75,s=0,a,c,r,d;f[l-1]==="="&&(o--,f[l-2]==="="&&o--);for(var v=new ArrayBuffer(o),p=new Uint8Array(v),m=0;m<l;m+=4)a=e[f.charCodeAt(m)],c=e[f.charCodeAt(m+1)],r=e[f.charCodeAt(m+2)],d=e[f.charCodeAt(m+3)],p[s++]=a<<2|c>>4,p[s++]=(c&15)<<4|r>>2,p[s++]=(r&3)<<6|d&63;return v};h.exports=y},65839:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={ArrayBufferToBase64:e(71334),Base64ToArrayBuffer:e(53134)}},91799:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={Array:e(37105),Base64:e(65839),Objects:e(1183),String:e(31749),NOOP:e(29747),NULL:e(20242)}},41786:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e){var u={};for(var y in e)Array.isArray(e[y])?u[y]=e[y].slice(0):u[y]=e[y];return u};h.exports=S},62644:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e){var u,y,f;if(typeof e!="object"||e===null)return e;u=Array.isArray(e)?[]:{};for(f in e)y=e[f],u[f]=S(y);return u};h.exports=S},79291:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(41212),y=function(){var f,l,o,s,a,c,r=arguments[0]||{},d=1,v=arguments.length,p=!1;for(typeof r=="boolean"&&(p=r,r=arguments[1]||{},d=2),v===d&&(r=this,--d);d<v;d++)if((f=arguments[d])!=null)for(l in f)o=r[l],s=f[l],r!==s&&(p&&s&&(u(s)||(a=Array.isArray(s)))?(a?(a=!1,c=o&&Array.isArray(o)?o:[]):c=o&&u(o)?o:{},r[l]=y(p,c,s)):s!==void 0&&(r[l]=s));return r};h.exports=y},23568:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(75508),y=e(35154),f=function(l,o,s){var a=y(l,o,null);if(a===null)return s;if(Array.isArray(a))return u.RND.pick(a);if(typeof a=="object"){if(a.hasOwnProperty("randInt"))return u.RND.integerInRange(a.randInt[0],a.randInt[1]);if(a.hasOwnProperty("randFloat"))return u.RND.realInRange(a.randFloat[0],a.randFloat[1])}else if(typeof a=="function")return a(o);return a};h.exports=f},95540:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u,y){var f=typeof e;return!e||f==="number"||f==="string"?y:e.hasOwnProperty(u)&&e[u]!==void 0?e[u]:y};h.exports=S},82840:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(35154),y=e(45319),f=function(l,o,s,a,c){c===void 0&&(c=s);var r=u(l,o,c);return y(r,s,a)};h.exports=f},35154:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u,y,f){if(!e&&!f||typeof e=="number")return y;if(e&&e.hasOwnProperty(u))return e[u];if(f&&f.hasOwnProperty(u))return f[u];if(u.indexOf(".")!==-1){for(var l=u.split("."),o=e,s=f,a=y,c=y,r=!0,d=!0,v=0;v<l.length;v++)o&&o.hasOwnProperty(l[v])?(a=o[l[v]],o=o[l[v]]):r=!1,s&&s.hasOwnProperty(l[v])?(c=s[l[v]],s=s[l[v]]):d=!1;return r?a:d?c:y}else return y};h.exports=S},69036:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u){for(var y=0;y<u.length;y++)if(!e.hasOwnProperty(u[y]))return!1;return!0};h.exports=S},1985:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u){for(var y=0;y<u.length;y++)if(e.hasOwnProperty(u[y]))return!0;return!1};h.exports=S},97022:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u){return e.hasOwnProperty(u)};h.exports=S},41212:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e){if(!e||typeof e!="object"||e.nodeType||e===e.window)return!1;try{if(e.constructor&&!{}.hasOwnProperty.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch{return!1}return!0};h.exports=S},46975:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(41786),y=function(f,l){var o=u(f);for(var s in l)o.hasOwnProperty(s)||(o[s]=l[s]);return o};h.exports=y},269:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(41786),y=function(f,l){var o=u(f);for(var s in l)o.hasOwnProperty(s)&&(o[s]=l[s]);return o};h.exports=y},18254:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(97022),y=function(f,l){for(var o={},s=0;s<l.length;s++){var a=l[s];u(f,a)&&(o[a]=f[a])}return o};h.exports=y},61622:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u,y){if(!e||typeof e=="number")return!1;if(e.hasOwnProperty(u))return e[u]=y,!0;if(u.indexOf(".")!==-1){for(var f=u.split("."),l=e,o=e,s=0;s<f.length;s++)if(l.hasOwnProperty(f[s]))o=l,l=l[f[s]];else return!1;return o[f[f.length-1]]=y,!0}return!1};h.exports=S},1183:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={Clone:e(41786),DeepCopy:e(62644),Extend:e(79291),GetAdvancedValue:e(23568),GetFastValue:e(95540),GetMinMaxValue:e(82840),GetValue:e(35154),HasAll:e(69036),HasAny:e(1985),HasValue:e(97022),IsPlainObject:e(41212),Merge:e(46975),MergeRight:e(269),Pick:e(18254),SetValue:e(61622)}},27902:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u){return e.replace(/%([0-9]+)/g,function(y,f){return u[Number(f)-1]})};h.exports=S},41836:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u,y,f){u===void 0&&(u=0),y===void 0&&(y=" "),f===void 0&&(f=3),e=e.toString();var l=0;if(u+1>=e.length)switch(f){case 1:e=new Array(u+1-e.length).join(y)+e;break;case 3:var o=Math.ceil((l=u-e.length)/2),s=l-o;e=new Array(s+1).join(y)+e+new Array(o+1).join(y);break;default:e=e+new Array(u+1-e.length).join(y);break}return e};h.exports=S},33628:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e,u){return u===0?e.slice(1):e.slice(0,u)+e.slice(u+1)};h.exports=S},27671:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e){return e.split("").reverse().join("")};h.exports=S},45650:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var u=Math.random()*16|0,y=e==="x"?u:u&3|8;return y.toString(16)})};h.exports=S},35355:h=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(e){return e&&e[0].toUpperCase()+e.slice(1)};h.exports=S},31749:(h,S,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={Format:e(27902),Pad:e(41836),RemoveAt:e(33628),Reverse:e(27671),UppercaseFirst:e(35355),UUID:e(45650)}}},g={};function T(h){var S=g[h];if(S!==void 0)return S.exports;var e=g[h]={exports:{}};return n[h](e,e.exports,T),e.exports}T.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}();var A=T(85454);return A})())})(Iw);var H6=Iw.exports;const pa=Yv(H6);function cg({createGame:i}){const t=tt.useRef(null);return tt.useEffect(()=>{if(!t.current)return;const n=i(t.current);return()=>n==null?void 0:n.destroy(!0)},[i]),K.jsx("div",{ref:t,className:"w-full h-[420px] glass overflow-hidden"})}function $6(i,t){let n=0,g=20;return new pa.Game({type:pa.AUTO,parent:i,width:720,height:420,backgroundColor:"#0f1520",scene:{create(){this.add.text(360,24,"OTP RUSH",{fontSize:24,color:"#22d3ee"}).setOrigin(.5,0);const A=this.add.text(16,16,`Score: ${n}`,{fontSize:18,color:"#fff"}),h=this.add.text(590,16,`00:${String(g).padStart(2,"0")}`,{fontSize:18,color:"#fff"}),S=()=>{const y=Math.random()<.55,f=80+Math.random()*300,l=Math.random()<.5?-50:770,o=y?`OTP: ${Math.floor(1e5+Math.random()*9e5)}`:"Share OTP? ",s=y?"#22d3ee":"#ff5a5f",a=this.add.text(l,f,o,{fontSize:22,color:s}).setInteractive({useHandCursor:!0}),c=80+Math.random()*80,r=l<0?1:-1;a.on("pointerdown",()=>{y?n+=10:n-=5,A.setText(`Score: ${n}`),a.destroy()}),this.tweens.add({targets:a,x:r>0?770:-50,duration:(720+100)/c*1e3,onComplete:()=>a.destroy()})},e=this.time.addEvent({delay:600,loop:!0,callback:S}),u=this.time.addEvent({delay:1e3,loop:!0,callback:()=>{g-=1,h.setText(`00:${String(g).padStart(2,"0")}`),g<=0&&(e.remove(),u.remove(),this.time.delayedCall(300,()=>t==null?void 0:t(n)))}})}}})}function Wv(){const{user:i}=Tn(),[t,n]=tt.useState(""),[g,T]=tt.useState(null),A=tt.useCallback(h=>$6(h,async S=>{T(S);const e=Math.max(0,S);if(i){const u=ge(re,"users",i.uid),y={xp:Gi(e)};S>=50&&(y.badges=Ul("OTP Guardian"));try{await Ze(u,y)}catch{}}n(S>=50?`W move  ${S} pts  OTP Guardian unlocked!`:`GG ${S} pts  keep grinding!`)}),[i]);return K.jsxs("div",{className:"mx-auto max-w-4xl p-6 space-y-4",children:[K.jsx("h2",{className:"text-2xl font-bold",children:"Mini-Game: OTP Rush"}),K.jsx(cg,{createGame:A}),g!=null&&K.jsxs("div",{className:"text-sm text-white/70",children:["Last score: ",K.jsx("span",{className:"text-[--color-neon2] font-semibold",children:g})]}),K.jsx(bl,{show:!!t,text:t,tone:"medium",onClose:()=>n("")})]})}console.log("Missions module loaded");const k6=i=>Math.floor(new Date().getTime()/(1e3*60*60*24)%i.length),ys=[[{type:"chat",messages:[{from:"npc",text:"Yo, your bank: urgent! Tap link to verify now "},{from:"npc",text:"Link: scam-bank.example"}],choices:[{text:"Click the link",result:{deltaXP:-20,feedback:"Bruh  that was a scam!",badge:"Careful Clicker"}},{text:"Check sender + open official app",result:{deltaXP:30,feedback:"W move  Verified like a legend.",badge:"Link Detective"}}]}],[{type:"quiz",question:"Your friend urgently needs your OTP for a payment. What's the safe move?",choices:[{text:"Share the OTP - it's my friend!",result:{deltaXP:-30,feedback:"Nah fam  OTPs are like toothbrushes - never share!",badge:"OTP Guardian"}},{text:"Call friend to verify + block number",result:{deltaXP:40,feedback:"Gigachad energy  Real friends never ask for OTPs.",badge:"Friend or Foe"}}],tip:"One-Time Passwords (OTPs) should NEVER be shared, even with friends or family. Banks will never ask for your OTP."}],[{type:"interactive",scenario:"UPI Scam Detector",description:"Spot the red flags in this UPI payment request!",image:"scam-upi-example.png",flags:[{area:"sender",hint:"Check the sender's number"},{area:"amount",hint:"Unexpected money?"},{area:"urgency",hint:"Time pressure tactic"}],choices:[{text:"Accept the money quick!",result:{deltaXP:-25,feedback:"They almost cooked you  Free money is usually a trap!",badge:"UPI Warrior"}},{text:"Report as fraud + block",result:{deltaXP:35,feedback:"Clutch  You spotted the scam pattern.",badge:"Scam Spotter"}}],tip:"Legitimate contests don't ask you to pay or share sensitive info to claim prizes."}],[{type:"dailyTip",title:"Today's Security Tip",content:"Enable 2FA on all your accounts! It's like having a bouncer for your digital life ",action:"Enable 2FA now",reward:{deltaXP:15,badge:"Security Pro"}}],[{type:"game",title:"Phishing Email Detective",description:"Spot the fake emails! Drag suspicious elements to the evidence board.",reward:{deltaXP:50,badge:"Email Inspector"}}]];function j6(){var P;const[i,t]=tt.useState(0),[n,g]=tt.useState(k6(ys)),[T,A]=tt.useState(""),[h,S]=tt.useState(!1),[e,u]=tt.useState(!0),[y,f]=tt.useState(null),[l,o]=tt.useState([]),[s,a]=tt.useState(!1),[c,r]=tt.useState(null),{user:d,profile:v}=Tn(),{success:p,fail:m}=dg();if(tt.useEffect(()=>{if(!d)return;const R=async(M=0)=>{console.log("Starting to load progress for user:",d==null?void 0:d.uid);try{f(null);const I=await ng(ge(re,"users",d.uid));if(console.log("User doc exists:",I.exists(),"Data:",I.data()),I.exists()){const D=I.data();t(D.xp||0),o(D.badges||[])}else{const D={uid:d.uid,xp:0,badges:[],createdAt:Vu()};await bv(ge(re,"users",d.uid),D),t(0),o([])}u(!1)}catch(I){console.error("Error loading progress:",I),M<3&&I.message.includes("offline")?(console.log(`Retrying... Attempt ${M+1}/3`),setTimeout(()=>R(M+1),2e3)):(f("Failed to load progress. Please check your internet connection and try again."),u(!1))}};R()},[d]),tt.useEffect(()=>{const R=I=>{try{const D=(I==null?void 0:I.message)||(I==null?void 0:I.error)&&I.error.message||String(I);console.error("Global error captured:",I),f(D)}catch{f("Unknown runtime error")}},M=I=>{var D;try{const L=((D=I==null?void 0:I.reason)==null?void 0:D.message)||JSON.stringify(I==null?void 0:I.reason)||String(I);console.error("Unhandled rejection:",I),f(`Unhandled promise rejection: ${L}`)}catch{f("Unhandled promise rejection")}};return window.addEventListener("error",R),window.addEventListener("unhandledrejection",M),()=>{window.removeEventListener("error",R),window.removeEventListener("unhandledrejection",M)}},[]),tt.useEffect(()=>{console.log("UserStore state:",{user:d,profile:v})},[d,v]),tt.useEffect(()=>{console.log("Component mounted, initializing...");try{const R=setTimeout(()=>{console.log("Setting loading to false"),u(!1)},1e3);return()=>clearTimeout(R)}catch(R){console.error("Error in init effect:",R),f(R.message)}},[]),y)return K.jsx("div",{className:"mx-auto max-w-3xl p-6",children:K.jsxs("div",{className:"bg-red-500/20 border border-red-500/50 rounded-lg p-4",children:[K.jsx("h3",{className:"text-lg font-semibold text-red-200",children:"Error Loading Missions"}),K.jsx("p",{className:"text-white/70",children:y})]})});if(tt.useEffect(()=>{console.log("All scenarios:",ys),console.log("Active index:",n)},[n]),y)return K.jsx("div",{className:"mx-auto max-w-3xl p-6",children:K.jsxs("div",{className:"bg-red-500/20 border border-red-500/50 rounded-lg p-4",children:[K.jsx("h3",{className:"text-lg font-semibold text-red-200",children:"Error Loading Missions"}),K.jsx("p",{className:"text-white/70",children:y})]})});if(e)return K.jsx("div",{className:"mx-auto max-w-3xl p-6 flex items-center justify-center",children:K.jsx("div",{className:"text-lg animate-pulse",children:"Loading missions..."})});if(!Array.isArray(ys))return console.error("allScenarios is not an array!"),K.jsx("div",{className:"text-red-500",children:"Error: Mission data is invalid"});const x=(P=ys[n])==null?void 0:P[0];if(console.log("Current mission details:",{active:n,scenarioExists:!!ys[n],type:x==null?void 0:x.type,messages:x==null?void 0:x.messages,choices:x==null?void 0:x.choices}),!x)return console.error("No mission found for index:",n),K.jsx("div",{className:"text-red-500",children:"Error: Mission not found"});const E=(x==null?void 0:x.title)||(x==null?void 0:x.scenario)||`Mission ${n+1}`,w=async(R,M)=>{var I;if(d)try{const D=ge(re,"users",d.uid),L={xp:Gi(R),lastPlayed:new Date};M&&(L.badges=Ul(M)),console.log("Updating progress for",d.uid,{deltaXP:R,newBadge:M});try{await Ze(D,L)}catch(F){console.warn("updateDoc failed, attempting setDoc merge:",(F==null?void 0:F.code)||(F==null?void 0:F.message));const N={...{uid:d.uid,name:d.displayName||((I=d.email)==null?void 0:I.split("@")[0])||"Anon",photoURL:d.photoURL||"",xp:0,badges:[],createdAt:Vu()},...L};await bv(D,N,{merge:!0})}v!=null&&v.teamId&&await Ze(ge(re,"teams",v.teamId),{xp:Gi(R),lastActive:new Date})}catch(D){console.error("Error updating progress:",D),f("Failed to save progress")}},C=async R=>{try{const M=(R==null?void 0:R.deltaXP)||0,I=(R==null?void 0:R.badge)||null;t(D=>D+M),A((R==null?void 0:R.feedback)||""),M>0&&S(!0),M>0?p():M<0&&m(),I&&(o(D=>D.includes(I)?D:[...D,I]),r(I)),d&&await w(M,I)}catch(M){console.error("Error handling result:",M),f("An error occurred while processing the result.")}};return K.jsxs("div",{className:"mx-auto max-w-3xl p-6 space-y-4",children:[K.jsxs("div",{className:"flex items-center justify-between",children:[K.jsx("h2",{className:"text-2xl font-bold",children:E}),K.jsxs("div",{className:"flex items-center gap-3",children:[K.jsxs("div",{className:"text-sm text-white/70",children:["XP: ",K.jsx("span",{className:"text-[--color-neon2] font-semibold animate-pulse",children:i})]}),K.jsx("button",{onClick:()=>a(!0),className:"p-2 hover:bg-white/10 rounded-lg transition-colors",title:"Share progress",children:""})]})]}),l.length>0&&K.jsx("div",{className:"flex gap-2 overflow-x-auto py-2",children:l.map((R,M)=>K.jsx("div",{className:"flex-shrink-0 px-3 py-1.5 bg-[--color-neon]/20 rounded-full border border-[--color-neon]/30 animate-in slide-in-from-bottom-4",style:{animationDelay:`${M*150}ms`},children:K.jsxs("span",{className:"text-sm",children:[" ",R]})},R))}),K.jsx("div",{className:"flex gap-2",children:ys.map((R,M)=>K.jsx("button",{onClick:()=>g(M),className:`px-3 py-1.5 rounded-lg text-sm ${M===n?"bg-[--color-neon]":"bg-white/10 hover:bg-white/20"}`,children:M+1},M))}),(x==null?void 0:x.type)==="chat"&&K.jsxs(K.Fragment,{children:[console.log("Rendering chat scenario with data:",x),K.jsx(z6,{scenario:x,onResult:R=>{console.log("Chat scenario result:",R),C(R)}})]}),(x==null?void 0:x.type)==="quiz"&&K.jsx("div",{className:"space-y-3",children:K.jsxs("div",{className:"glass p-4",children:[K.jsx("div",{className:"font-medium mb-2",children:x.question}),K.jsx("div",{className:"grid sm:grid-cols-2 gap-2",children:x.choices.map((R,M)=>K.jsx("button",{className:"glass px-3 py-2 text-left",onClick:()=>C(R.result),children:R.text},M))}),x.tip&&K.jsxs("div",{className:"mt-3 text-sm text-white/70",children:["Tip: ",x.tip]})]})}),(x==null?void 0:x.type)==="interactive"&&K.jsx("div",{className:"space-y-3",children:K.jsxs("div",{className:"glass p-4",children:[K.jsx("div",{className:"font-medium mb-2",children:x.description}),K.jsx("div",{className:"grid sm:grid-cols-2 gap-2",children:x.choices.map((R,M)=>K.jsx("button",{className:"glass px-3 py-2 text-left",onClick:()=>C(R.result),children:R.text},M))}),x.tip&&K.jsxs("div",{className:"mt-3 text-sm text-white/70",children:["Tip: ",x.tip]})]})}),(x==null?void 0:x.type)==="dailyTip"&&K.jsxs("div",{className:"glass p-4",children:[K.jsx("div",{className:"font-medium",children:x.title}),K.jsx("div",{className:"text-sm text-white/70 my-2",children:x.content}),K.jsxs("div",{className:"flex gap-2",children:[K.jsx("button",{className:"px-3 py-2 bg-[--color-neon] rounded-lg",onClick:()=>C(x.reward),children:"Claim Reward"}),K.jsx("button",{className:"px-3 py-2 bg-white/10 rounded-lg",onClick:()=>g(R=>(R+1)%ys.length),children:"Skip"})]})]}),(x==null?void 0:x.type)==="game"&&K.jsx("div",{children:K.jsx(Wv,{})}),!d&&K.jsx("div",{className:"text-xs text-white/60",children:"Sign in to save XP and show up on the leaderboard."}),K.jsx(bl,{show:!!T,text:T,tone:"medium",onClose:()=>A("")}),K.jsx(X6,{show:h,onDone:()=>S(!1)}),c&&K.jsx(W6,{badge:c,onClose:()=>r(null)}),s&&K.jsx(Y6,{xp:i,badges:l,onClose:()=>a(!1)})]})}function K6({users:i=[]}){return K.jsx("div",{className:"space-y-2",children:i.map((t,n)=>K.jsxs("div",{className:"glass p-3 flex items-center justify-between",children:[K.jsxs("div",{className:"flex items-center gap-3",children:[K.jsxs("div",{className:"w-8 text-center text-sm text-white/70",children:["#",n+1]}),K.jsx("div",{className:"font-medium",children:t.name||"Anon"})]}),K.jsxs("div",{className:"text-[--color-neon2] font-semibold",children:[t.xp||0," XP"]})]},t.id||n))})}function Q6(){const[i,t]=tt.useState([]);return tt.useEffect(()=>{const n=kC(Gv(re,"users"),jC("xp","desc"),AD(50)),g=_C(n,T=>{const A=T.docs.map(h=>({id:h.id,...h.data()}));t(A)});return()=>g()},[]),K.jsxs("div",{className:"mx-auto max-w-3xl p-6 space-y-4",children:[K.jsx("h2",{className:"text-2xl font-bold",children:"Leaderboard"}),K.jsx(K6,{users:i})]})}function Ja({title:i,emoji:t,desc:n}){return K.jsxs("div",{className:"glass p-4 flex items-center gap-3 hover-pop hover-glow",children:[K.jsx("div",{className:"text-2xl",children:t}),K.jsxs("div",{children:[K.jsx("div",{className:"font-semibold",children:i}),K.jsx("div",{className:"text-white/60 text-sm",children:n})]})]})}function J6(i){return`I just unlocked ${i} on ScamSlayer! Can you beat me?`}function Z6({open:i,badgeName:t,onClose:n}){if(tt.useEffect(()=>{const y=f=>f.key==="Escape"&&(n==null?void 0:n());return i&&window.addEventListener("keydown",y),()=>window.removeEventListener("keydown",y)},[i,n]),!i)return null;const g=window.location.origin,T=J6(t),A=async()=>{try{navigator.share&&(await navigator.share({title:"ScamSlayer",text:T,url:g}),n==null||n())}catch{}},h=y=>window.open(y,"_blank","noopener,noreferrer"),S=()=>h(`https://wa.me/?text=${encodeURIComponent(T+" "+g)}`),e=()=>h(`https://twitter.com/intent/tweet?text=${encodeURIComponent(T)}&url=${encodeURIComponent(g)}`),u=async()=>{try{await navigator.clipboard.writeText(g)}catch{}};return K.jsx("div",{className:"fixed inset-0 z-[120] grid place-items-center bg-black/60 p-4",children:K.jsxs("div",{className:"glass max-w-sm w-full p-4 space-y-3",children:[K.jsx("div",{className:"text-lg font-semibold",children:"Share achievement"}),K.jsx("div",{className:"text-sm text-white/70",children:t}),K.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[K.jsx("button",{className:"px-3 py-2 rounded-lg bg-[--color-neon] text-black font-semibold",onClick:S,children:"WhatsApp"}),K.jsx("button",{className:"px-3 py-2 rounded-lg bg-white/10 hover:bg-white/20",onClick:e,children:"Twitter/X"}),K.jsx("button",{className:"px-3 py-2 rounded-lg bg-white/10 hover:bg-white/20",onClick:A,children:"Web Share"}),K.jsx("button",{className:"px-3 py-2 rounded-lg bg-white/10 hover:bg-white/20",onClick:u,children:"Copy Link"})]}),K.jsx("div",{className:"text-xs text-white/60",children:"Instagram/Snapchat: use Web Share on mobile, or Copy Link and post manually. (Direct web intents are limited.)"}),K.jsx("div",{className:"flex justify-end",children:K.jsx("button",{className:"px-3 py-1.5 rounded-lg bg-white/10 hover:bg-white/20",onClick:n,children:"Close"})})]})})}function q6(){const{user:i,profile:t}=Tn(),[n,g]=tt.useState(""),T=(t==null?void 0:t.badges)||[];return K.jsxs("div",{className:"mx-auto max-w-3xl p-6 space-y-4",children:[K.jsx("h2",{className:"text-2xl font-bold",children:"Your Profile"}),!i&&K.jsx("div",{className:"glass p-4 text-sm text-white/70",children:"Sign in to view and save your progress."}),i&&K.jsxs("div",{className:"glass p-4 flex items-center gap-3",children:[t!=null&&t.photoURL?K.jsx("img",{src:t.photoURL,alt:"pfp",className:"w-12 h-12 rounded-full"}):K.jsx("div",{className:"w-12 h-12 rounded-full bg-white/10 grid place-items-center",children:((t==null?void 0:t.name)||i.email||"?")[0].toUpperCase()}),K.jsxs("div",{children:[K.jsx("div",{className:"font-semibold",children:(t==null?void 0:t.name)||i.email}),K.jsxs("div",{className:"text-white/60 text-sm",children:["XP: ",K.jsx("span",{className:"text-[--color-neon2] font-semibold",children:(t==null?void 0:t.xp)??0})]})]})]}),K.jsxs("div",{className:"grid sm:grid-cols-2 gap-3",children:[T.length===0&&K.jsx("div",{className:"text-white/60 text-sm",children:"No badges yet. Complete missions to earn some!"}),T.includes("Phish Buster")&&K.jsxs("div",{className:"space-y-2",children:[K.jsx(Ja,{title:"Phish Buster",emoji:"",desc:"Spotted suspicious links like a pro."}),K.jsx("button",{className:"px-3 py-1.5 rounded-lg bg-white/10 hover:bg-white/20 text-sm",onClick:()=>g("Phish Buster"),children:"Share"})]}),T.includes("OTP Guardian")&&K.jsxs("div",{className:"space-y-2",children:[K.jsx(Ja,{title:"OTP Guardian",emoji:"",desc:"Never shared that OTP, W fr."}),K.jsx("button",{className:"px-3 py-1.5 rounded-lg bg-white/10 hover:bg-white/20 text-sm",onClick:()=>g("OTP Guardian"),children:"Share"})]}),T.includes("Link Sniper")&&K.jsxs("div",{className:"space-y-2",children:[K.jsx(Ja,{title:"Link Sniper",emoji:"",desc:"Tapped only safe links."}),K.jsx("button",{className:"px-3 py-1.5 rounded-lg bg-white/10 hover:bg-white/20 text-sm",onClick:()=>g("Link Sniper"),children:"Share"})]}),T.includes("QR Slayer")&&K.jsxs("div",{className:"space-y-2",children:[K.jsx(Ja,{title:"QR Slayer",emoji:"",desc:"Dodged fake QR prompts."}),K.jsx("button",{className:"px-3 py-1.5 rounded-lg bg-white/10 hover:bg-white/20 text-sm",onClick:()=>g("QR Slayer"),children:"Share"})]}),T.includes("Scam Spotter")&&K.jsxs("div",{className:"space-y-2",children:[K.jsx(Ja,{title:"Scam Spotter",emoji:"",desc:"Spotted the scam in quizzes."}),K.jsx("button",{className:"px-3 py-1.5 rounded-lg bg-white/10 hover:bg-white/20 text-sm",onClick:()=>g("Scam Spotter"),children:"Share"})]})]}),K.jsx(Z6,{open:!!n,badgeName:n,onClose:()=>g("")})]})}function _6(){const{user:i,profile:t,setProfile:n}=Tn(),[g,T]=tt.useState(""),[A,h]=tt.useState(""),[S,e]=tt.useState(!1),[u,y]=tt.useState([]);tt.useEffect(()=>{const s=kC(Gv(re,"teams"),jC("xp","desc")),a=_C(s,c=>y(c.docs.map(r=>({id:r.id,...r.data()}))));return()=>a()},[]);const f=async()=>{if(!i)return alert("Sign in first");if(g.trim()){e(!0);try{const s=await ID(Gv(re,"teams"),{name:g.trim().slice(0,24),createdBy:i.uid,createdAt:Vu(),xp:0,memberCount:1});await Ze(ge(re,"users",i.uid),{teamId:s.id}),n({...t||{},teamId:s.id}),T("")}finally{e(!1)}}},l=async()=>{if(!i)return alert("Sign in first");const s=A.trim();if(s){e(!0);try{const a=ge(re,"teams",s);if(!(await ng(a)).exists())return alert("Team not found");await Ze(ge(re,"users",i.uid),{teamId:s}),await Ze(a,{memberCount:Gi(1)}),n({...t||{},teamId:s}),h("")}finally{e(!1)}}},o=async()=>{if(!(!i||!(t!=null&&t.teamId))){e(!0);try{const s=ge(re,"teams",t.teamId);await Ze(s,{memberCount:Gi(-1)}),await Ze(ge(re,"users",i.uid),{teamId:null}),n({...t||{},teamId:null})}finally{e(!1)}}};return K.jsxs("div",{className:"mx-auto max-w-4xl p-6 space-y-6",children:[K.jsx("h2",{className:"text-2xl font-bold",children:"Teams"}),!i&&K.jsx("div",{className:"glass p-3 text-sm text-white/70",children:"Sign in to create or join a team."}),i&&K.jsxs("div",{className:"glass p-4 space-y-3",children:[K.jsxs("div",{className:"text-sm text-white/70",children:["Your team: ",K.jsx("span",{className:"text-white",children:(t==null?void 0:t.teamId)||"None"})]}),K.jsxs("div",{className:"flex flex-wrap gap-2",children:[K.jsx("input",{value:g,onChange:s=>T(s.target.value),placeholder:"Team name",className:"px-3 py-2 rounded-lg bg-white/10 outline-none"}),K.jsx("button",{disabled:S,onClick:f,className:"btn-neon",children:"Create Team"}),K.jsx("input",{value:A,onChange:s=>h(s.target.value),placeholder:"Team ID",className:"px-3 py-2 rounded-lg bg-white/10 outline-none"}),K.jsx("button",{disabled:S,onClick:l,className:"px-4 py-2 rounded-lg bg-white/10 hover:bg-white/20",children:"Join"}),(t==null?void 0:t.teamId)&&K.jsx("button",{disabled:S,onClick:o,className:"px-4 py-2 rounded-lg bg-white/10 hover:bg-white/20",children:"Leave"})]})]}),K.jsxs("div",{className:"space-y-3",children:[K.jsx("h3",{className:"text-xl font-semibold",children:"Team Leaderboard"}),K.jsx("div",{className:"space-y-2",children:u.map((s,a)=>K.jsxs("div",{className:"glass p-3 flex items-center justify-between hover-pop hover-glow",children:[K.jsxs("div",{className:"flex items-center gap-3",children:[K.jsxs("div",{className:"w-8 text-center text-sm text-white/70",children:["#",a+1]}),K.jsx("div",{className:"font-medium",children:s.name}),K.jsxs("div",{className:"text-xs text-white/40",children:["ID: ",s.id]})]}),K.jsxs("div",{className:"text-[--color-neon2] font-semibold",children:[s.xp||0," XP"]})]},s.id))})]})]})}function t8(){return K.jsxs("div",{className:"mx-auto max-w-3xl p-6 space-y-4",children:[K.jsx("h2",{className:"text-2xl font-bold",children:"Mini-Games"}),K.jsxs("div",{className:"grid sm:grid-cols-2 gap-3",children:[K.jsxs(fn,{to:"/minigames/otp",className:"glass p-4 hover-pop hover-glow",children:[K.jsx("div",{className:"font-semibold",children:"OTP Rush"}),K.jsx("div",{className:"text-sm text-white/60",children:"Tap only legit OTPs. Score high to earn XP."})]}),K.jsxs(fn,{to:"/minigames/linksniper",className:"glass p-4 hover-pop hover-glow",children:[K.jsx("div",{className:"font-semibold",children:"Link Sniper"}),K.jsx("div",{className:"text-sm text-white/60",children:"Snipe safe links, dodge phishy bait."})]}),K.jsxs(fn,{to:"/minigames/qr",className:"glass p-4 hover-pop hover-glow",children:[K.jsx("div",{className:"font-semibold",children:"QR Scam Dodge"}),K.jsx("div",{className:"text-sm text-white/60",children:"Avoid fake QR prompts, collect legit ones."})]})]})]})}function e8(i,t){let n=0,g=20;const T=["upi.pay","bank.app","paytm.com","gpay.google","phonepe.com"],A=["free","prize","verify","urgent","gift"],h=()=>Math.random()<.55?{text:`https://${T[Math.floor(Math.random()*T.length)]}/${Math.floor(Math.random()*9999)}`,legit:!0}:{text:`http://scam.${A[Math.floor(Math.random()*A.length)]}.${Math.floor(Math.random()*9)}xyz`,legit:!1};return new pa.Game({type:pa.AUTO,parent:i,width:720,height:420,backgroundColor:"#0f1520",scene:{create(){this.add.text(360,24,"LINK SNIPER",{fontSize:24,color:"#22d3ee"}).setOrigin(.5,0);const e=this.add.text(16,16,`Score: ${n}`,{fontSize:18,color:"#fff"}),u=this.add.text(590,16,`00:${String(g).padStart(2,"0")}`,{fontSize:18,color:"#fff"}),y=()=>{const{text:o,legit:s}=h(),a=90+Math.random()*300,c=Math.random()<.5?-50:770,r=s?"#22d3ee":"#ff5a5f",d=this.add.text(c,a,o,{fontSize:18,color:r}).setInteractive({useHandCursor:!0}),v=90+Math.random()*90,p=c<0?1:-1;d.on("pointerdown",()=>{s?n+=10:n-=10,e.setText(`Score: ${n}`),d.destroy()}),this.tweens.add({targets:d,x:p>0?770:-50,duration:(720+100)/v*1e3,onComplete:()=>d.destroy()})},f=this.time.addEvent({delay:650,loop:!0,callback:y}),l=this.time.addEvent({delay:1e3,loop:!0,callback:()=>{g-=1,u.setText(`00:${String(g).padStart(2,"0")}`),g<=0&&(f.remove(),l.remove(),this.time.delayedCall(300,()=>t==null?void 0:t(n)))}})}}})}function i8(){const{user:i,profile:t}=Tn(),[n,g]=tt.useState(""),[T,A]=tt.useState(null),h=tt.useCallback(S=>e8(S,async e=>{A(e);const u=Math.max(0,e);if(i){const y=ge(re,"users",i.uid),f={xp:Gi(u)};e>=50&&(f.badges=Ul("Link Sniper"));try{await Ze(y,f)}catch{}if(t!=null&&t.teamId)try{await Ze(ge(re,"teams",t.teamId),{xp:Gi(u)})}catch{}}g(e>=50?`Sharp! ${e} pts  Link Sniper unlocked!`:`Score ${e}  keep grinding!`)}),[i,t]);return K.jsxs("div",{className:"mx-auto max-w-4xl p-6 space-y-4",children:[K.jsx("h2",{className:"text-2xl font-bold",children:"Mini-Game: Link Sniper"}),K.jsx(cg,{createGame:h}),T!=null&&K.jsxs("div",{className:"text-sm text-white/70",children:["Last score: ",K.jsx("span",{className:"text-[--color-neon2] font-semibold",children:T})]}),K.jsx(bl,{show:!!n,text:n,tone:"medium",onClose:()=>g("")})]})}function n8(i,t){let n=0,g=20;return new pa.Game({type:pa.AUTO,parent:i,width:720,height:420,backgroundColor:"#0f1520",scene:{create(){this.add.text(360,24,"QR SCAM DODGE",{fontSize:24,color:"#22d3ee"}).setOrigin(.5,0);const A=this.add.text(16,16,`Score: ${n}`,{fontSize:18,color:"#fff"}),h=this.add.text(590,16,`00:${String(g).padStart(2,"0")}`,{fontSize:18,color:"#fff"}),S=()=>{const y=Math.random()<.55,f=28+Math.random()*10,l=90+Math.random()*300,o=Math.random()<.5?-50:770,s=this.add.text(o,l,y?" QR":" QR",{fontSize:f,color:"#fff"}).setInteractive({useHandCursor:!0}),a=80+Math.random()*90,c=o<0?1:-1;s.on("pointerdown",()=>{y?n+=10:n-=10,A.setText(`Score: ${n}`),s.destroy()}),this.tweens.add({targets:s,x:c>0?770:-50,duration:(720+100)/a*1e3,onComplete:()=>s.destroy()})},e=this.time.addEvent({delay:650,loop:!0,callback:S}),u=this.time.addEvent({delay:1e3,loop:!0,callback:()=>{g-=1,h.setText(`00:${String(g).padStart(2,"0")}`),g<=0&&(e.remove(),u.remove(),this.time.delayedCall(300,()=>t==null?void 0:t(n)))}})}}})}function s8(){const{user:i,profile:t}=Tn(),[n,g]=tt.useState(""),[T,A]=tt.useState(null),h=tt.useCallback(S=>n8(S,async e=>{A(e);const u=Math.max(0,e);if(i){const y=ge(re,"users",i.uid),f={xp:Gi(u)};e>=50&&(f.badges=Ul("QR Slayer"));try{await Ze(y,f)}catch{}if(t!=null&&t.teamId)try{await Ze(ge(re,"teams",t.teamId),{xp:Gi(u)})}catch{}}g(e>=50?`Nice! ${e} pts  QR Slayer unlocked!`:`Score ${e}  try for 50+!`)}),[i,t]);return K.jsxs("div",{className:"mx-auto max-w-4xl p-6 space-y-4",children:[K.jsx("h2",{className:"text-2xl font-bold",children:"Mini-Game: QR Scam Dodge"}),K.jsx(cg,{createGame:h}),T!=null&&K.jsxs("div",{className:"text-sm text-white/70",children:["Last score: ",K.jsx("span",{className:"text-[--color-neon2] font-semibold",children:T})]}),K.jsx(bl,{show:!!n,text:n,tone:"medium",onClose:()=>g("")})]})}const _d=[{prompt:"A friend DM's: 'Send me the OTP asap, it's urgent.'",options:["Share OTP to help","Call to verify identity and never share OTP"],correct:1,explain:"Never share OTP. Verify via call if unsure."},{prompt:"You get a UPI request 'Claim 5000 prize now'",options:["Accept quickly","Decline and check official app/balance"],correct:1,explain:"Pull requests take money from you. Verify in your app."},{prompt:"Bank alert link: bank-verify-login.com",options:["Click link to login","Open bank app or type official URL"],correct:1,explain:"Avoid links. Use official app/URL."}];function r8(){const{user:i,profile:t}=Tn(),[n,g]=tt.useState(0),[T,A]=tt.useState(0),[h,S]=tt.useState(""),e=_d[n],u=async y=>{const f=y===e.correct;A(o=>o+(f?10:0)),S(f?"W move ":"Nope ");const l=n+1;if(l<_d.length)setTimeout(()=>{g(l),S("")},700);else{const o=f?T+10:T,s=o;if(i){const a=ge(re,"users",i.uid),c={xp:Gi(s)};o>=20&&(c.badges=Ul("Scam Spotter"));try{await Ze(a,c)}catch{}if(t!=null&&t.teamId)try{await Ze(ge(re,"teams",t.teamId),{xp:Gi(s)})}catch{}}setTimeout(()=>S(`Score ${o}  ${o>=20?"Scam Spotter unlocked!":"keep training!"}`),400)}};return K.jsxs("div",{className:"mx-auto max-w-3xl p-6 space-y-4",children:[K.jsx("h2",{className:"text-2xl font-bold",children:"Quiz: Spot the Scam"}),K.jsxs("div",{className:"glass p-4 space-y-3",children:[K.jsxs("div",{className:"text-sm text-white/60",children:["Question ",n+1," / ",_d.length]}),K.jsx("div",{className:"text-base",children:e.prompt}),K.jsx("div",{className:"grid gap-2",children:e.options.map((y,f)=>K.jsx("button",{className:"glass px-3 py-2 text-left hover-pop hover:bg-white/20",onClick:()=>u(f),children:y},f))}),K.jsxs("div",{className:"text-sm text-white/70",children:["Score: ",K.jsx("span",{className:"text-[--color-neon2] font-semibold",children:T})]}),!i&&K.jsx("div",{className:"text-xs text-white/60",children:"Sign in to save XP and earn badges."})]}),K.jsx(bl,{show:!!h,text:h,tone:"medium",onClose:()=>S("")})]})}function a8(){const i=Ta();return K.jsxs("div",{className:"min-h-screen",children:[K.jsx(b6,{}),K.jsx("main",{className:"mx-auto max-w-6xl px-4 py-6",children:K.jsx("div",{className:"animate-fade-in",children:K.jsxs(K3,{location:i,children:[K.jsx(vi,{path:"/",element:K.jsx(V6,{})}),K.jsx(vi,{path:"/missions",element:K.jsx(j6,{})}),K.jsx(vi,{path:"/minigame",element:K.jsx(Wv,{})}),K.jsx(vi,{path:"/minigames",element:K.jsx(t8,{})}),K.jsx(vi,{path:"/minigames/otp",element:K.jsx(Wv,{})}),K.jsx(vi,{path:"/minigames/linksniper",element:K.jsx(i8,{})}),K.jsx(vi,{path:"/minigames/qr",element:K.jsx(s8,{})}),K.jsx(vi,{path:"/leaderboard",element:K.jsx(Q6,{})}),K.jsx(vi,{path:"/teams",element:K.jsx(_6,{})}),K.jsx(vi,{path:"/quiz",element:K.jsx(r8,{})}),K.jsx(vi,{path:"/profile",element:K.jsx(q6,{})})]})},i.pathname)})]})}kT(document.getElementById("root")).render(K.jsx(tt.StrictMode,{children:K.jsx(i4,{children:K.jsx(a8,{})})}));
